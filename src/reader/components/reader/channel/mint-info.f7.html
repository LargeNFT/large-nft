<template>

  <div class="card card-header-divider">
    <div class="card-header">Mint NFTs</div>
    <div class="card-content card-content-padding">

      ${mintingViewModel ? $h`
        <p>
          <strong>Total Minted:</strong> ${mintingViewModel.totalMinted} of ${mintingViewModel.totalSupply}
        </p>

        <a href="${link('mint.html')}" class="link">Mint NFTs</a>

      ` : $h`
        Minting information unavailable. 
        <p>Note: Use a web browser with wallet support to see NFT information.</p>
      `}


    </div>
  </div>

</template>


<style>
</style>

<script>

  export default (props, { $, $on, $f7, $update }) => {

    let hasProvider = false
    let mintingViewModel

    let baseURL = props.baseurl 

    const link = (href) => {
        return `${baseURL + href}`
    } 

    app.on('minting-view-model-updated', function (m) {
      mintingViewModel = m
      $update()
    })



    return $render
  }

</script>