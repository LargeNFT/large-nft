/*! For license information please see sync-library.js.LICENSE.txt */
import*as __WEBPACK_EXTERNAL_MODULE_sequelize_typescript_17df3cd9__ from"sequelize-typescript";import{createRequire as __WEBPACK_EXTERNAL_createRequire}from"module";var __webpack_modules__={72167:(e,t)=>{function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=r({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.find=function(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}},t.freeze=r,t.MIME_TYPE=n,t.NAMESPACE=i},86129:(e,t,r)=>{var n=r(72167),i=r(41146),a=r(31045),o=r(76925),s=i.DOMImplementation,l=n.NAMESPACE,c=o.ParseError,u=o.XMLReader;function h(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function f(){this.cdata=!1}function p(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function b(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var r=this.options,n=new u,i=r.domBuilder||new f,o=r.errorHandler,s=r.locator,c=r.xmlns||{},d=/\/x?html?$/.test(t),p=d?a.HTML_ENTITIES:a.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=function(e,t,r){if(!e){if(t instanceof f)return t;e=t}var n={},i=e instanceof Function;function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(r){e(t,r)}:e),n[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+g(r))}||function(){}}return r=r||{},a("warning"),a("error"),a("fatalError"),n}(o,i,s),n.domBuilder=r.domBuilder||i,d&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var m=r.normalizeLineEndings||h;return e&&"string"==typeof e?n.parse(m(e),c,p):n.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),o=n.length;b(this,a),this.currentElement=a,this.locator&&p(this.locator,a);for(var s=0;s<o;s++){e=n.getURI(s);var l=n.getValue(s),c=(r=n.getQName(s),i.createAttributeNS(e,r));this.locator&&p(n.getLocator(s),c),c.value=c.nodeValue=l,a.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&p(this.locator,r),b(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=m.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&p(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=m.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&p(this.locator,n),b(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&p(this.locator,i),b(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,g(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,g(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){f.prototype[e]=function(){return null}})),t.DOMParser=d},41146:(e,t,r)=>{var n=r(72167),i=n.find,a=n.NAMESPACE;function o(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function u(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,c(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var h={},d=h.ELEMENT_NODE=1,f=h.ATTRIBUTE_NODE=2,p=h.TEXT_NODE=3,g=h.CDATA_SECTION_NODE=4,m=h.ENTITY_REFERENCE_NODE=5,b=h.ENTITY_NODE=6,y=h.PROCESSING_INSTRUCTION_NODE=7,v=h.COMMENT_NODE=8,w=h.DOCUMENT_NODE=9,_=h.DOCUMENT_TYPE_NODE=10,A=h.DOCUMENT_FRAGMENT_NODE=11,E=h.NOTATION_NODE=12,x={},S={},k=(x.INDEX_SIZE_ERR=(S[1]="Index size error",1),x.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),x.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),R=(x.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),x.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),x.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),x.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),x.NOT_FOUND_ERR=(S[8]="Not found",8)),I=(x.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),x.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));function T(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,T);return r.code=e,t&&(this.message=this.message+": "+t),r}function M(){}function P(e,t){this._node=e,this._refresh=t,C(this)}function C(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ye(e,"length",r.length),c(r,e),e._inc=t}}function O(){}function L(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function N(e,t,r,n){if(n?t[L(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&q(i,e,n),function(e,t,r){e&&e._inc++,r.namespaceURI===a.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(i,e,r))}}function B(e,t,r){var n=L(t,r);if(!(n>=0))throw new T(R,new Error(e.tagName+"@"+r));for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(q(a,e,r),r.ownerElement=null)}}function D(){}function U(){}function V(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function j(){this.ownerDocument=this}function q(e,t,r,n){e&&e._inc++,r.namespaceURI===a.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function z(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function $(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,z(e.ownerDocument,e),t}function H(e){return e&&e.nodeType===U.DOCUMENT_TYPE_NODE}function G(e){return e&&e.nodeType===U.ELEMENT_NODE}function W(e){return e&&e.nodeType===U.TEXT_NODE}function J(e,t){var r=e.childNodes||[];if(i(r,G)||H(t))return!1;var n=i(r,H);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function Q(e,t){var r=e.childNodes||[];if(i(r,(function(e){return G(e)&&e!==t})))return!1;var n=i(r,H);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function K(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var o=a.filter(G);if(o.length>1||i(a,W))throw new T(k,"More than one element or text in fragment");if(1===o.length&&!J(e,r))throw new T(k,"Element in fragment can not be inserted before doctype")}if(G(t)&&!J(e,r))throw new T(k,"Only one element can be added and only after doctype");if(H(t)){if(i(n,H))throw new T(k,"Only one doctype is allowed");var s=i(n,G);if(r&&n.indexOf(s)<n.indexOf(r))throw new T(k,"Doctype can only be inserted before an element");if(!r&&s)throw new T(k,"Doctype can not be appended since element is present")}}function Y(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var o=a.filter(G);if(o.length>1||i(a,W))throw new T(k,"More than one element or text in fragment");if(1===o.length&&!Q(e,r))throw new T(k,"Element in fragment can not be inserted before doctype")}if(G(t)&&!Q(e,r))throw new T(k,"Only one element can be added and only after doctype");if(H(t)){if(i(n,(function(e){return H(e)&&e!==r})))throw new T(k,"Only one doctype is allowed");var s=i(n,G);if(r&&n.indexOf(s)<n.indexOf(r))throw new T(k,"Doctype can only be inserted before an element")}}function Z(e,t,r,n){(function(e,t,r){if(!function(e){return e&&(e.nodeType===U.DOCUMENT_NODE||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.ELEMENT_NODE)}(e))throw new T(k,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new T(R,"child not in parent");if(!function(e){return e&&(G(e)||W(e)||H(e)||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.COMMENT_NODE||e.nodeType===U.PROCESSING_INSTRUCTION_NODE)}(t)||H(t)&&e.nodeType!==U.DOCUMENT_NODE)throw new T(k,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,r),e.nodeType===U.DOCUMENT_NODE&&(n||K)(e,t,r);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===A){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var s=r?r.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=r,s?s.nextSibling=a:e.firstChild=a,null==r?e.lastChild=o:r.previousSibling=o;do{a.parentNode=e}while(a!==o&&(a=a.nextSibling));return z(e.ownerDocument||e,e),t.nodeType==A&&(t.firstChild=t.lastChild=null),t}function X(){this._nsMap={}}function ee(){}function te(){}function re(){}function ne(){}function ie(){}function ae(){}function oe(){}function se(){}function le(){}function ce(){}function ue(){}function he(){}function de(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&null==i&&null==(i=n.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ge(this,r,e,t,o),r.join("")}function fe(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===n&&i===a.XML||i===a.XMLNS)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix===n)return s.namespace!==i}return!0}function pe(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,V),'"')}function ge(e,t,r,n,i){if(i||(i=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var o=e.attributes,s=o.length,l=e.firstChild,c=e.tagName,u=c;if(!(r=a.isHTML(e.namespaceURI)||r)&&!e.prefix&&e.namespaceURI){for(var h,b=0;b<o.length;b++)if("xmlns"===o.item(b).name){h=o.item(b).value;break}if(!h)for(var E=i.length-1;E>=0;E--)if(""===(x=i[E]).prefix&&x.namespace===e.namespaceURI){h=x.namespace;break}if(h!==e.namespaceURI)for(E=i.length-1;E>=0;E--){var x;if((x=i[E]).namespace===e.namespaceURI){x.prefix&&(u=x.prefix+":"+c);break}}}t.push("<",u);for(var S=0;S<s;S++)"xmlns"==(k=o.item(S)).prefix?i.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&i.push({prefix:"",namespace:k.value});for(S=0;S<s;S++){var k,R,I;fe(k=o.item(S),0,i)&&(pe(t,(R=k.prefix||"")?"xmlns:"+R:"xmlns",I=k.namespaceURI),i.push({prefix:R,namespace:I})),ge(k,t,r,n,i)}if(c===u&&fe(e,0,i)&&(pe(t,(R=e.prefix||"")?"xmlns:"+R:"xmlns",I=e.namespaceURI),i.push({prefix:R,namespace:I})),l||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):ge(l,t,r,n,i.slice()),l=l.nextSibling;else for(;l;)ge(l,t,r,n,i.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case w:case A:for(l=e.firstChild;l;)ge(l,t,r,n,i.slice()),l=l.nextSibling;return;case f:return pe(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&>]/g,V));case g:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case _:var T=e.publicId,M=e.systemId;if(t.push("<!DOCTYPE ",e.name),T)t.push(" PUBLIC ",T),M&&"."!=M&&t.push(" ",M),t.push(">");else if(M&&"."!=M)t.push(" SYSTEM ",M,">");else{var P=e.internalSubset;P&&t.push(" [",P,"]"),t.push(">")}return;case y:return t.push("<?",e.target," ",e.data,"?>");case m:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function me(e,t,r){var n;switch(t.nodeType){case d:(n=t.cloneNode(!1)).ownerDocument=e;case A:break;case f:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(me(e,i,r)),i=i.nextSibling;return n}function be(e,t,r){var n=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];"object"!=typeof a&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new M),n.ownerDocument=e,n.nodeType){case d:var o=t.attributes,s=n.attributes=new O,l=o.length;s._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(be(e,o.item(c),!0));break;case f:r=!0}if(r)for(var u=t.firstChild;u;)n.appendChild(be(e,u,r)),u=u.nextSibling;return n}function ye(e,t,r){e[t]=r}x.INVALID_STATE_ERR=(S[11]="Invalid state",11),x.SYNTAX_ERR=(S[12]="Syntax error",12),x.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),x.NAMESPACE_ERR=(S[14]="Invalid namespace",14),x.INVALID_ACCESS_ERR=(S[15]="Invalid access",15),T.prototype=Error.prototype,c(x,T),M.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ge(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},P.prototype.item=function(e){return C(this),this[e]},u(P,M),O.prototype={length:0,item:M.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new T(I);var r=this.getNamedItem(e.nodeName);return N(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new T(I);return t=this.getNamedItemNS(e.namespaceURI,e.localName),N(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return B(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return B(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},D.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new j;if(n.implementation=this,n.childNodes=new M,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new ae;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Z(this,e,t)},replaceChild:function(e,t){Z(this,e,t,Y),t&&this.removeChild(t)},removeChild:function(e){return $(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return be(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n;t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(h,U),c(h,U.prototype),j.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==A){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return Z(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),$(this,e)},replaceChild:function(e,t){Z(this,e,t,Y),e.ownerDocument=this,t&&this.removeChild(t),G(e)&&(this.documentElement=e)},importNode:function(e,t){return me(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,(function(r){if(r.nodeType==d&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){var t=l(e);return new P(this,(function(r){var n=[];return t.length>0&&F(r.documentElement,(function(i){if(i!==r&&i.nodeType===d){var a=i.getAttribute("class");if(a){var o=e===a;if(!o){var s=l(a);o=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}o&&n.push(i)}}var c})),n}))},createElement:function(e){var t=new X;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new M,(t.attributes=new O)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new M,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ue;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new X,n=t.split(":"),i=r.attributes=new O;return r.childNodes=new M,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new ee,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},u(j,U),X.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===A?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,z(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,(function(t){var r=[];return F(t,(function(n){n===t||n.nodeType!=d||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new P(this,(function(r){var n=[];return F(r,(function(i){i===r||i.nodeType!==d||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)})),n}))}},j.prototype.getElementsByTagName=X.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=X.prototype.getElementsByTagNameNS,u(X,U),ee.prototype.nodeType=f,u(ee,U),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[k])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},u(te,U),re.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(re,te),ne.prototype={nodeName:"#comment",nodeType:v},u(ne,te),ie.prototype={nodeName:"#cdata-section",nodeType:g},u(ie,te),ae.prototype.nodeType=_,u(ae,U),oe.prototype.nodeType=E,u(oe,U),se.prototype.nodeType=b,u(se,U),le.prototype.nodeType=m,u(le,U),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=A,u(ce,U),ue.prototype.nodeType=y,u(ue,U),he.prototype.serializeToString=function(e,t,r){return de.call(e,t,r)},U.prototype.toString=de;try{if(Object.defineProperty){function ve(e){switch(e.nodeType){case d:case A:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ve(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return C(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return ve(this)},set:function(e){switch(this.nodeType){case d:case A:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ye=function(e,t,r){e["$$"+t]=r}}}catch(we){}t.DocumentType=ae,t.DOMException=T,t.DOMImplementation=D,t.Element=X,t.Node=U,t.NodeList=M,t.XMLSerializer=he},31045:(e,t,r)=>{var n=r(72167).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES},3969:(e,t,r)=>{var n=r(41146);n.DOMImplementation,t.B=n.XMLSerializer,t.DOMParser=r(86129).DOMParser},76925:(e,t,r)=>{var n=r(72167).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,r,i,a,o){function s(e,t,n){r.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),n)}for(var l,c=++t,u=0;;){var h=e.charAt(c);switch(h){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(h,t))>0))throw new Error("attribute value no end '"+h+"' match");s(l,d=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(l,d=e.slice(t,c),t),o.warning('attribute "'+l+'" missed start quot('+h+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:r.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&r.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:r.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,c)).slice(-1)&&(r.closed=!0,d=d.slice(0,-1));case 2:2===u&&(d=l),4==u?(o.warning('attribute "'+d+'" missed quot(")!'),s(l,d,t)):(n.isHTML(i[""])&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":h=" ";default:if(h<=" ")switch(u){case 0:r.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var d=e.slice(t,c);o.warning('attribute "'+d+'" missed quot(")!!'),s(l,d,t);case 5:u=6}else switch(u){case 2:r.tagName,n.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,u=1;break;case 5:o.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function h(e,t,r){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],l=s.qName,c=s.value;if((f=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,f),h=l.slice(f+1),d="xmlns"===u&&h;else h=l,u=null,d="xmlns"===l&&"";s.localName=h,!1!==d&&(null==a&&(a={},p(r,r={})),r[d]=a[d]=c,s.uri=n.XMLNS,t.startPrefixMapping(d,c))}for(o=e.length;o--;)(u=(s=e[o]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=r[u||""]));var f;(f=i.indexOf(":"))>0?(u=e.prefix=i.slice(0,f),h=e.localName=i.slice(f+1)):(u=null,h=e.localName=i);var g=e.uri=r[u||""];if(t.startElement(g,h,i,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(t.endElement(g,h,i),a)for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&t.endPrefixMapping(u)}function d(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),a)}return t+1}function f(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function p(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function g(e,t,r,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var a=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],l=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var u=a[o-1];return r.startDTD(s,l,c),r.endDTD(),u.index+u[0].length}return-1}function m(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function b(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),p(t,t={}),function(e,t,r,i,a){function o(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function l(t){if(t>x){var r=e.substring(x,t).replace(/&#?\w+;/g,o);_&&p(x),i.characters(r,0,t-x),x=t}}function p(t,r){for(;t>=v&&(r=w.exec(e));)y=r.index,v=y+r[0].length,_.lineNumber++;_.columnNumber=t-y+1}for(var y=0,v=0,w=/.*(?:\r\n?|\n)|.*$/g,_=i.locator,A=[{currentNSMap:t}],E={},x=0;;){try{var S=e.indexOf("<",x);if(S<0){if(!e.substr(x).match(/^\s*$/)){var k=i.doc,R=k.createTextNode(e.substr(x));k.appendChild(R),i.currentElement=R}return}switch(S>x&&l(S),e.charAt(S+1)){case"/":var I=e.indexOf(">",S+3),T=e.substring(S+2,I).replace(/[ \t\n\r]+$/g,""),M=A.pop();I<0?(T=e.substring(S+2).replace(/[\s<].*/,""),a.error("end tag name: "+T+" is not complete:"+M.tagName),I=S+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),a.error("end tag name: "+T+" maybe not complete"),I=S+1+T.length);var P=M.localNSMap,C=M.tagName==T;if(C||M.tagName&&M.tagName.toLowerCase()==T.toLowerCase()){if(i.endElement(M.uri,M.localName,T),P)for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&i.endPrefixMapping(O);C||a.fatalError("end tag name: "+T+" is not match the current start tagName:"+M.tagName)}else A.push(M);I++;break;case"?":_&&p(S),I=m(e,S,i);break;case"!":_&&p(S),I=g(e,S,i,a);break;default:_&&p(S);var L=new b,N=A[A.length-1].currentNSMap,B=(I=u(e,S,L,N,o,a),L.length);if(!L.closed&&f(e,I,L.tagName,E)&&(L.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),_&&B){for(var D=c(_,{}),U=0;U<B;U++){var V=L[U];p(V.offset),V.locator=c(_,{})}i.locator=D,h(L,i,N)&&A.push(L),i.locator=_}else h(L,i,N)&&A.push(L);n.isHTML(L.uri)&&!L.closed?I=d(e,I,L.tagName,o,i):I++}}catch(e){if(e instanceof s)throw e;a.error("element parse error: "+e),I=-1}I>x?x=I:l(Math.max(S,x)+1)}}(e,t,r,i,this.errorHandler),i.endDocument()}},b.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},40964:(e,t,r)=>{var n=r(82661);function i(e,t){var r=new n(e,t);return function(e){return r.convert(e)}}i.BIN="01",i.OCT="01234567",i.DEC="0123456789",i.HEX="0123456789abcdef",e.exports=i},82661:e=>{function t(e,t){if(!(e&&t&&e.length&&t.length))throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}t.prototype.convert=function(e){var t,r,n,i={},a=this.srcAlphabet.length,o=this.dstAlphabet.length,s=e.length,l="string"==typeof e?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<s;t++)i[t]=this.srcAlphabet.indexOf(e[t]);do{for(r=0,n=0,t=0;t<s;t++)(r=r*a+i[t])>=o?(i[n++]=parseInt(r/o,10),r%=o):n>0&&(i[n++]=0);s=n,l=this.dstAlphabet.slice(r,r+1).concat(l)}while(0!==n);return l},t.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(-1===this.srcAlphabet.indexOf(e[t]))return!1;return!0},e.exports=t},86021:e=>{const t=Symbol("arg flag");class r extends Error{constructor(e,t){super(e),this.name="ArgError",this.code=t,Object.setPrototypeOf(this,r.prototype)}}function n(e,{argv:n=process.argv.slice(2),permissive:i=!1,stopAtPositional:a=!1}={}){if(!e)throw new r("argument specification object is required","ARG_CONFIG_NO_SPEC");const o={_:[]},s={},l={};for(const n of Object.keys(e)){if(!n)throw new r("argument key cannot be an empty string","ARG_CONFIG_EMPTY_KEY");if("-"!==n[0])throw new r(`argument key must start with '-' but found: '${n}'`,"ARG_CONFIG_NONOPT_KEY");if(1===n.length)throw new r(`argument key must have a name; singular '-' keys are not allowed: ${n}`,"ARG_CONFIG_NONAME_KEY");if("string"==typeof e[n]){s[n]=e[n];continue}let i=e[n],a=!1;if(Array.isArray(i)&&1===i.length&&"function"==typeof i[0]){const[e]=i;i=(t,r,n=[])=>(n.push(e(t,r,n[n.length-1])),n),a=e===Boolean||!0===e[t]}else{if("function"!=typeof i)throw new r(`type missing or not a function or valid array type: ${n}`,"ARG_CONFIG_VAD_TYPE");a=i===Boolean||!0===i[t]}if("-"!==n[1]&&n.length>2)throw new r(`short argument keys (with a single hyphen) must have only one character: ${n}`,"ARG_CONFIG_SHORTOPT_TOOLONG");l[n]=[i,a]}for(let e=0,t=n.length;e<t;e++){const t=n[e];if(a&&o._.length>0){o._=o._.concat(n.slice(e));break}if("--"===t){o._=o._.concat(n.slice(e+1));break}if(t.length>1&&"-"===t[0]){const a="-"===t[1]||2===t.length?[t]:t.slice(1).split("").map((e=>`-${e}`));for(let t=0;t<a.length;t++){const c=a[t],[u,h]="-"===c[1]?c.split(/=(.*)/,2):[c,void 0];let d=u;for(;d in s;)d=s[d];if(!(d in l)){if(i){o._.push(c);continue}throw new r(`unknown or unexpected option: ${u}`,"ARG_UNKNOWN_OPTION")}const[f,p]=l[d];if(!p&&t+1<a.length)throw new r(`option requires argument (but was followed by another short argument): ${u}`,"ARG_MISSING_REQUIRED_SHORTARG");if(p)o[d]=f(!0,d,o[d]);else if(void 0===h){if(n.length<e+2||n[e+1].length>1&&"-"===n[e+1][0]&&(!n[e+1].match(/^-?\d*(\.(?=\d))?\d*$/)||f!==Number&&("undefined"==typeof BigInt||f!==BigInt)))throw new r(`option requires argument: ${u}${u===d?"":` (alias for ${d})`}`,"ARG_MISSING_REQUIRED_LONGARG");o[d]=f(n[e+1],d,o[d]),++e}else o[d]=f(h,d,o[d])}}else o._.push(t)}return o}n.flag=e=>(e[t]=!0,e),n.COUNT=n.flag(((e,t,r)=>(r||0)+1)),n.ArgError=r,e.exports=n},70784:(e,t,r)=>{var n=r(98232),i=r(36871);e.exports={encode:n,decode:i}},36871:e=>{function t(e,t){if(this.pos=0,this.buffer=e,this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}t.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},t.prototype.parseRGBA=function(){var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Buffer(t),this[e]()},t.prototype.bit1=function(){var e=Math.ceil(this.width/8),t=e%4,r=this.height>=0?this.height-1:-this.height;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.buffer.readUInt8(this.pos++),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=0,this.data[o+4*s+1]=l.blue,this.data[o+4*s+2]=l.green,this.data[o+4*s+3]=l.red}0!=t&&(this.pos+=4-t)}},t.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var e=0,t=this.bottom_up?this.height-1:0,r=!1;e<this.data.length;){var n=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==n){if(0==i){this.bottom_up?t--:t++,e=t*this.width*4,r=!1;continue}if(1==i)break;if(2==i){var a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?t-=o:t+=o,e+=o*this.width*4+4*a}else{for(var s=this.buffer.readUInt8(this.pos++),l=0;l<i;l++)r?c.call(this,15&s):c.call(this,(240&s)>>4),1&l&&l+1<i&&(s=this.buffer.readUInt8(this.pos++)),r=!r;1==(i+1>>1&1)&&this.pos++}}else for(l=0;l<n;l++)r?c.call(this,15&i):c.call(this,(240&i)>>4),r=!r}function c(t){var r=this.palette[t];this.data[e]=0,this.data[e+1]=r.blue,this.data[e+2]=r.green,this.data[e+3]=r.red,e+=4}}else{var u=Math.ceil(this.width/2),h=u%4;for(o=this.height-1;o>=0;o--){var d=this.bottom_up?o:this.height-1-o;for(a=0;a<u;a++){i=this.buffer.readUInt8(this.pos++),e=d*this.width*4+2*a*4;var f=i>>4,p=15&i,g=this.palette[f];if(this.data[e]=0,this.data[e+1]=g.blue,this.data[e+2]=g.green,this.data[e+3]=g.red,2*a+1>=this.width)break;g=this.palette[p],this.data[e+4]=0,this.data[e+4+1]=g.blue,this.data[e+4+2]=g.green,this.data[e+4+3]=g.red}0!=h&&(this.pos+=4-h)}}},t.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var e=0,t=this.bottom_up?this.height-1:0;e<this.data.length;){var r=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(0==r){if(0==n){this.bottom_up?t--:t++,e=t*this.width*4;continue}if(1==n)break;if(2==n){var i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?t-=a:t+=a,e+=a*this.width*4+4*i}else{for(var o=0;o<n;o++){var s=this.buffer.readUInt8(this.pos++);l.call(this,s)}!0&n&&this.pos++}}else for(o=0;o<r;o++)l.call(this,n)}function l(t){var r=this.palette[t];this.data[e]=0,this.data[e+1]=r.blue,this.data[e+2]=r.green,this.data[e+3]=r.red,e+=4}}else{var c=this.width%4;for(a=this.height-1;a>=0;a--){var u=this.bottom_up?a:this.height-1-a;for(i=0;i<this.width;i++)if(n=this.buffer.readUInt8(this.pos++),e=u*this.width*4+4*i,n<this.palette.length){var h=this.palette[n];this.data[e]=0,this.data[e+1]=h.blue,this.data[e+2]=h.green,this.data[e+3]=h.red}else this.data[e]=0,this.data[e+1]=255,this.data[e+2]=255,this.data[e+3]=255;0!=c&&(this.pos+=4-c)}}},t.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=l}this.pos+=e}},t.prototype.bit16=function(){var e=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var t=[0,0,0],r=0;r<16;r++)this.maskRed>>r&1&&t[0]++,this.maskGreen>>r&1&&t[1]++,this.maskBlue>>r&1&&t[2]++;t[1]+=t[0],t[2]+=t[1],t[0]=8-t[0],t[1]-=8,t[2]-=8;for(var n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(o&this.maskBlue)<<t[0],l=(o&this.maskGreen)>>t[1],c=(o&this.maskRed)>>t[2],u=i*this.width*4+4*a;this.data[u]=0,this.data[u+1]=s,this.data[u+2]=l,this.data[u+3]=c}this.pos+=e}},t.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=t*this.width*4+4*r;this.data[o]=0,this.data[o+1]=n,this.data[o+2]=i,this.data[o+3]=a}this.pos+=this.width%4}},t.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=t*this.width*4+4*r;this.data[s]=n,this.data[s+1]=i,this.data[s+2]=a,this.data[s+3]=o}}else for(e=this.height-1;e>=0;e--)for(t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++)i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),s=t*this.width*4+4*r,this.data[s]=n,this.data[s+1]=i,this.data[s+2]=a,this.data[s+3]=o},t.prototype.getData=function(){return this.data},e.exports=function(e){return new t(e)}},98232:e=>{function t(e){this.buffer=e.data,this.width=e.width,this.height=e.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}t.prototype.encode=function(){var e=new Buffer(this.offset+this.rgbSize);this.pos=0,e.write(this.flag,this.pos,2),this.pos+=2,e.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,e.writeUInt32LE(this.reserved,this.pos),this.pos+=4,e.writeUInt32LE(this.offset,this.pos),this.pos+=4,e.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,e.writeUInt32LE(this.width,this.pos),this.pos+=4,e.writeInt32LE(-this.height,this.pos),this.pos+=4,e.writeUInt16LE(this.planes,this.pos),this.pos+=2,e.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,e.writeUInt32LE(this.compress,this.pos),this.pos+=4,e.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,e.writeUInt32LE(this.hr,this.pos),this.pos+=4,e.writeUInt32LE(this.vr,this.pos),this.pos+=4,e.writeUInt32LE(this.colors,this.pos),this.pos+=4,e.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var t=0,r=3*this.width+this.extraBytes,n=0;n<this.height;n++){for(var i=0;i<this.width;i++){var a=this.pos+n*r+3*i;t++,e[a]=this.buffer[t++],e[a+1]=this.buffer[t++],e[a+2]=this.buffer[t++]}if(this.extraBytes>0){var o=this.pos+n*r+3*this.width;e.fill(0,o,o+this.extraBytes)}}return e},e.exports=function(e,r){return void 0===r&&(r=100),{data:new t(e).encode(),width:e.width,height:e.height}}},92369:(e,t,r)=>{var n=r(14300).Buffer;e.exports=function(e,t){if(n.isBuffer(e)&&n.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}},19662:(e,t,r)=>{var n=r(60614),i=r(66330),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a function")}},39483:(e,t,r)=>{var n=r(4411),i=r(66330),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a constructor")}},96077:(e,t,r)=>{var n=r(60614),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},51223:(e,t,r)=>{var n=r(5112),i=r(70030),a=r(3070).f,o=n("unscopables"),s=Array.prototype;null==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},31530:(e,t,r)=>{var n=r(28710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},25787:(e,t,r)=>{var n=r(47976),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},19670:(e,t,r)=>{var n=r(70111),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not an object")}},23013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:(e,t,r)=>{var n=r(47293);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},90260:(e,t,r)=>{var n,i,a,o=r(23013),s=r(19781),l=r(17854),c=r(60614),u=r(70111),h=r(92597),d=r(70648),f=r(66330),p=r(68880),g=r(98052),m=r(47045),b=r(47976),y=r(79518),v=r(27674),w=r(5112),_=r(69711),A=r(29909),E=A.enforce,x=A.get,S=l.Int8Array,k=S&&S.prototype,R=l.Uint8ClampedArray,I=R&&R.prototype,T=S&&y(S),M=k&&y(k),P=Object.prototype,C=l.TypeError,O=w("toStringTag"),L=_("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",B=o&&!!v&&"Opera"!==d(l.opera),D=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=y(e);if(u(t)){var r=x(t);return r&&h(r,N)?r[N]:F(t)}},j=function(e){if(!u(e))return!1;var t=d(e);return h(U,t)||h(V,t)};for(n in U)(a=(i=l[n])&&i.prototype)?E(a)[N]=i:B=!1;for(n in V)(a=(i=l[n])&&i.prototype)&&(E(a)[N]=i);if((!B||!c(T)||T===Function.prototype)&&(T=function(){throw C("Incorrect invocation")},B))for(n in U)l[n]&&v(l[n],T);if((!B||!M||M===P)&&(M=T.prototype,B))for(n in U)l[n]&&v(l[n].prototype,M);if(B&&y(I)!==M&&v(I,M),s&&!h(M,O))for(n in D=!0,m(M,O,{configurable:!0,get:function(){return u(this)?this[L]:void 0}}),U)l[n]&&p(l[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:D&&L,aTypedArray:function(e){if(j(e))return e;throw C("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!v||b(T,e)))return e;throw C(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in U){var a=l[i];if(a&&h(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}M[e]&&!r||g(M,e,r?t:B&&k[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(v){if(r)for(n in U)if((i=l[n])&&h(i,e))try{delete i[e]}catch(e){}if(T[e]&&!r)return;try{return g(T,e,r?t:B&&T[e]||t)}catch(e){}}for(n in U)!(i=l[n])||i[e]&&!r||g(i,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||h(U,t)||h(V,t)},isTypedArray:j,TypedArray:T,TypedArrayPrototype:M}},13331:(e,t,r)=>{var n=r(17854),i=r(1702),a=r(19781),o=r(23013),s=r(76530),l=r(68880),c=r(47045),u=r(89190),h=r(47293),d=r(25787),f=r(19303),p=r(17466),g=r(57067),m=r(11179),b=r(79518),y=r(27674),v=r(8006).f,w=r(21285),_=r(41589),A=r(58003),E=r(29909),x=s.PROPER,S=s.CONFIGURABLE,k="ArrayBuffer",R="DataView",I="prototype",T="Wrong index",M=E.getterFor(k),P=E.getterFor(R),C=E.set,O=n[k],L=O,N=L&&L[I],B=n[R],D=B&&B[I],U=Object.prototype,V=n.Array,F=n.RangeError,j=i(w),q=i([].reverse),z=m.pack,$=m.unpack,H=function(e){return[255&e]},G=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},J=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return z(e,23,4)},K=function(e){return z(e,52,8)},Y=function(e,t,r){c(e[I],t,{configurable:!0,get:function(){return r(this)[t]}})},Z=function(e,t,r,n){var i=g(r),a=P(e);if(i+t>a.byteLength)throw F(T);var o=a.bytes,s=i+a.byteOffset,l=_(o,s,s+t);return n?l:q(l)},X=function(e,t,r,n,i,a){var o=g(r),s=P(e);if(o+t>s.byteLength)throw F(T);for(var l=s.bytes,c=o+s.byteOffset,u=n(+i),h=0;h<t;h++)l[c+h]=u[a?h:t-h-1]};if(o){var ee=x&&O.name!==k;if(h((function(){O(1)}))&&h((function(){new O(-1)}))&&!h((function(){return new O,new O(1.5),new O(NaN),1!=O.length||ee&&!S})))ee&&S&&l(O,"name",k);else{(L=function(e){return d(this,N),new O(g(e))})[I]=N;for(var te,re=v(O),ne=0;re.length>ne;)(te=re[ne++])in L||l(L,te,O[te]);N.constructor=L}y&&b(D)!==U&&y(D,U);var ie=new B(new L(2)),ae=i(D.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||u(D,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else N=(L=function(e){d(this,N);var t=g(e);C(this,{type:k,bytes:j(V(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[I],D=(B=function(e,t,r){d(this,D),d(e,N);var n=M(e),i=n.byteLength,o=f(t);if(o<0||o>i)throw F("Wrong offset");if(o+(r=void 0===r?i-o:p(r))>i)throw F("Wrong length");C(this,{type:R,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=o)})[I],a&&(Y(L,"byteLength",M),Y(B,"buffer",P),Y(B,"byteLength",P),Y(B,"byteOffset",P)),u(D,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return J(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return J(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return $(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return $(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,H,t)},setUint8:function(e,t){X(this,1,e,H,t)},setInt16:function(e,t){X(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,K,t,arguments.length>2?arguments[2]:void 0)}});A(L,k),A(B,R),e.exports={ArrayBuffer:L,DataView:B}},1048:(e,t,r)=>{var n=r(47908),i=r(51400),a=r(26244),o=r(85117),s=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),l=a(r),c=i(e,l),u=i(t,l),h=arguments.length>2?arguments[2]:void 0,d=s((void 0===h?l:i(h,l))-u,l-c),f=1;for(u<c&&c<u+d&&(f=-1,u+=d-1,c+=d-1);d-- >0;)u in r?r[c]=r[u]:o(r,c),c+=f,u+=f;return r}},21285:(e,t,r)=>{var n=r(47908),i=r(51400),a=r(26244);e.exports=function(e){for(var t=n(this),r=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},18533:(e,t,r)=>{var n=r(42092).forEach,i=r(9341)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},97745:(e,t,r)=>{var n=r(26244);e.exports=function(e,t){for(var r=0,i=n(t),a=new e(i);i>r;)a[r]=t[r++];return a}},48457:(e,t,r)=>{var n=r(49974),i=r(46916),a=r(47908),o=r(53411),s=r(97659),l=r(4411),c=r(26244),u=r(86135),h=r(18554),d=r(71246),f=Array;e.exports=function(e){var t=a(e),r=l(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=n(g,p>2?arguments[2]:void 0));var b,y,v,w,_,A,E=d(t),x=0;if(!E||this===f&&s(E))for(b=c(t),y=r?new this(b):f(b);b>x;x++)A=m?g(t[x],x):t[x],u(y,x,A);else for(_=(w=h(t,E)).next,y=r?new this:[];!(v=i(_,w)).done;x++)A=m?o(w,g,[v.value,x],!0):v.value,u(y,x,A);return y.length=x,y}},41318:(e,t,r)=>{var n=r(45656),i=r(51400),a=r(26244),o=function(e){return function(t,r,o){var s,l=n(t),c=a(l),u=i(o,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9671:(e,t,r)=>{var n=r(49974),i=r(68361),a=r(47908),o=r(26244),s=function(e){var t=1==e;return function(r,s,l){for(var c,u=a(r),h=i(u),d=n(s,l),f=o(h);f-- >0;)if(d(c=h[f],f,u))switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},42092:(e,t,r)=>{var n=r(49974),i=r(1702),a=r(68361),o=r(47908),s=r(26244),l=r(65417),c=i([].push),u=function(e){var t=1==e,r=2==e,i=3==e,u=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,g,m,b){for(var y,v,w=o(p),_=a(w),A=n(g,m),E=s(_),x=0,S=b||l,k=t?S(p,E):r||d?S(p,0):void 0;E>x;x++)if((f||x in _)&&(v=A(y=_[x],x,w),e))if(t)k[x]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:c(k,y)}else switch(e){case 4:return!1;case 7:c(k,y)}return h?-1:i||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},86583:(e,t,r)=>{var n=r(22104),i=r(45656),a=r(19303),o=r(26244),s=r(9341),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),d=u||!h;e.exports=d?function(e){if(u)return n(c,this,arguments)||0;var t=i(this),r=o(t),s=r-1;for(arguments.length>1&&(s=l(s,a(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},81194:(e,t,r)=>{var n=r(47293),i=r(5112),a=r(7392),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,r)=>{var n=r(47293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},53671:(e,t,r)=>{var n=r(19662),i=r(47908),a=r(68361),o=r(26244),s=TypeError,l=function(e){return function(t,r,l,c){n(r);var u=i(t),h=a(u),d=o(u),f=e?d-1:0,p=e?-1:1;if(l<2)for(;;){if(f in h){c=h[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw s("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in h&&(c=r(c,h[f],f,u));return c}};e.exports={left:l(!1),right:l(!0)}},83658:(e,t,r)=>{var n=r(19781),i=r(43157),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},41589:(e,t,r)=>{var n=r(51400),i=r(26244),a=r(86135),o=Array,s=Math.max;e.exports=function(e,t,r){for(var l=i(e),c=n(t,l),u=n(void 0===r?l:r,l),h=o(s(u-c,0)),d=0;c<u;c++,d++)a(h,d,e[c]);return h.length=d,h}},50206:(e,t,r)=>{var n=r(1702);e.exports=n([].slice)},94362:(e,t,r)=>{var n=r(41589),i=Math.floor,a=function(e,t){var r=e.length,l=i(r/2);return r<8?o(e,t):s(e,a(n(e,0,l),t),a(n(e,l),t),t)},o=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};e.exports=a},77475:(e,t,r)=>{var n=r(43157),i=r(4411),a=r(70111),o=r(5112)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===s||n(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},65417:(e,t,r)=>{var n=r(77475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},21843:(e,t,r)=>{var n=r(26244);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},11572:(e,t,r)=>{var n=r(26244),i=r(19303),a=RangeError;e.exports=function(e,t,r,o){var s=n(e),l=i(r),c=l<0?s+l:l;if(c>=s||c<0)throw a("Incorrect index");for(var u=new t(s),h=0;h<s;h++)u[h]=h===c?o:e[h];return u}},14170:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={},n=0;n<66;n++)r[t.charAt(n)]=n;e.exports={itoc:t,ctoi:r}},53411:(e,t,r)=>{var n=r(19670),i=r(99212);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},17072:(e,t,r)=>{var n=r(5112)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},84326:(e,t,r)=>{var n=r(1702),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},70648:(e,t,r)=>{var n=r(51694),i=r(60614),a=r(84326),o=r(5112)("toStringTag"),s=Object,l="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:l?a(t):"Object"==(n=a(t))&&i(t.callee)?"Arguments":n}},95631:(e,t,r)=>{var n=r(70030),i=r(47045),a=r(89190),o=r(49974),s=r(25787),l=r(68554),c=r(20408),u=r(51656),h=r(76178),d=r(96340),f=r(19781),p=r(62423).fastKey,g=r(29909),m=g.set,b=g.getterFor;e.exports={getConstructor:function(e,t,r,u){var h=e((function(e,i){s(e,d),m(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),f||(e.size=0),l(i)||c(i,e[u],{that:e,AS_ENTRIES:r})})),d=h.prototype,g=b(t),y=function(e,t,r){var n,i,a=g(e),o=v(e,t);return o?o.value=r:(a.last=o={index:i=p(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},v=function(e,t){var r,n=g(e),i=p(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return a(d,{clear:function(){for(var e=g(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,r=g(t),n=v(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),f?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=g(this),n=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),a(d,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&i(d,"size",{configurable:!0,get:function(){return g(this).size}}),h},setStrong:function(e,t,r){var n=t+" Iterator",i=b(t),a=b(n);u(e,t,(function(e,t){m(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?h("keys"==t?r.key:"values"==t?r.value:[r.key,r.value],!1):(e.target=void 0,h(void 0,!0))}),r?"entries":"values",!r,!0),d(t)}}},29320:(e,t,r)=>{var n=r(1702),i=r(89190),a=r(62423).getWeakData,o=r(25787),s=r(19670),l=r(68554),c=r(70111),u=r(20408),h=r(42092),d=r(92597),f=r(29909),p=f.set,g=f.getterFor,m=h.find,b=h.findIndex,y=n([].splice),v=0,w=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},A=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=A(this,e);if(t)return t[1]},has:function(e){return!!A(this,e)},set:function(e,t){var r=A(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=b(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var h=e((function(e,i){o(e,f),p(e,{type:t,id:v++,frozen:void 0}),l(i)||u(i,e[n],{that:e,AS_ENTRIES:r})})),f=h.prototype,m=g(t),b=function(e,t,r){var n=m(e),i=a(s(t),!0);return!0===i?w(n).set(t,r):i[n.id]=r,e};return i(f,{delete:function(e){var t=m(this);if(!c(e))return!1;var r=a(e);return!0===r?w(t).delete(e):r&&d(r,t.id)&&delete r[t.id]},has:function(e){var t=m(this);if(!c(e))return!1;var r=a(e);return!0===r?w(t).has(e):r&&d(r,t.id)}}),i(f,r?{get:function(e){var t=m(this);if(c(e)){var r=a(e);return!0===r?w(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return b(this,e,t)}}:{add:function(e){return b(this,e,!0)}}),h}}},77710:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(1702),o=r(54705),s=r(98052),l=r(62423),c=r(20408),u=r(25787),h=r(60614),d=r(68554),f=r(70111),p=r(47293),g=r(17072),m=r(58003),b=r(79587);e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),w=y?"set":"add",_=i[e],A=_&&_.prototype,E=_,x={},S=function(e){var t=a(A[e]);s(A,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return v&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!f(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(o(e,!h(_)||!(v||A.forEach&&!p((function(){(new _).entries().next()})))))E=r.getConstructor(t,e,y,w),l.enable();else if(o(e,!0)){var k=new E,R=k[w](v?{}:-0,1)!=k,I=p((function(){k.has(1)})),T=g((function(e){new _(e)})),M=!v&&p((function(){for(var e=new _,t=5;t--;)e[w](t,t);return!e.has(-0)}));T||((E=t((function(e,t){u(e,A);var r=b(new _,e,E);return d(t)||c(t,r[w],{that:r,AS_ENTRIES:y}),r}))).prototype=A,A.constructor=E),(I||M)&&(S("delete"),S("has"),y&&S("get")),(M||R)&&S(w),v&&A.clear&&delete A.clear}return x[e]=E,n({global:!0,constructor:!0,forced:E!=_},x),m(E,e),v||r.setStrong(E,e,y),E}},99920:(e,t,r)=>{var n=r(92597),i=r(53887),a=r(31236),o=r(3070);e.exports=function(e,t,r){for(var s=i(t),l=o.f,c=a.f,u=0;u<s.length;u++){var h=s[u];n(e,h)||r&&n(r,h)||l(e,h,c(t,h))}}},84964:(e,t,r)=>{var n=r(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},49920:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},14230:(e,t,r)=>{var n=r(1702),i=r(84488),a=r(41340),o=/"/g,s=n("".replace);e.exports=function(e,t,r,n){var l=a(i(e)),c="<"+t;return""!==r&&(c+=" "+r+'="'+s(a(n),o,"&quot;")+'"'),c+">"+l+"</"+t+">"}},76178:e=>{e.exports=function(e,t){return{value:e,done:t}}},68880:(e,t,r)=>{var n=r(19781),i=r(3070),a=r(79114);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:(e,t,r)=>{var n=r(34948),i=r(3070),a=r(79114);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},85573:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(76650).start,o=RangeError,s=isFinite,l=Math.abs,c=Date.prototype,u=c.toISOString,h=n(c.getTime),d=n(c.getUTCDate),f=n(c.getUTCFullYear),p=n(c.getUTCHours),g=n(c.getUTCMilliseconds),m=n(c.getUTCMinutes),b=n(c.getUTCMonth),y=n(c.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!s(h(this)))throw o("Invalid time value");var e=this,t=f(e),r=g(e),n=t<0?"-":t>9999?"+":"";return n+a(l(t),n?6:4,0)+"-"+a(b(e)+1,2,0)+"-"+a(d(e),2,0)+"T"+a(p(e),2,0)+":"+a(m(e),2,0)+":"+a(y(e),2,0)+"."+a(r,3,0)+"Z"}:u},38709:(e,t,r)=>{var n=r(19670),i=r(92140),a=TypeError;e.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw a("Incorrect hint");return i(this,e)}},47045:(e,t,r)=>{var n=r(56339),i=r(3070);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},98052:(e,t,r)=>{var n=r(60614),i=r(3070),a=r(56339),o=r(13072);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&a(r,c,s),s.global)l?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},89190:(e,t,r)=>{var n=r(98052);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},13072:(e,t,r)=>{var n=r(17854),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},85117:(e,t,r)=>{var n=r(66330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},19781:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},80317:(e,t,r)=>{var n=r(17854),i=r(70111),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},93678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},48324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(e,t,r)=>{var n=r(80317)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},68886:(e,t,r)=>{var n=r(88113).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},7871:(e,t,r)=>{var n=r(83823),i=r(35268);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},89363:e=>{e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},83823:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},30256:(e,t,r)=>{var n=r(88113);e.exports=/MSIE|Trident/.test(n)},71528:(e,t,r)=>{var n=r(88113);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},6833:(e,t,r)=>{var n=r(88113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},35268:(e,t,r)=>{var n=r(84326);e.exports="undefined"!=typeof process&&"process"==n(process)},71036:(e,t,r)=>{var n=r(88113);e.exports=/web0s(?!.*chrome)/i.test(n)},88113:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(e,t,r)=>{var n,i,a=r(17854),o=r(88113),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},98008:(e,t,r)=>{var n=r(88113).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},98770:(e,t,r)=>{var n=r(17854);e.exports=function(e){return n[e].prototype}},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},11060:(e,t,r)=>{var n=r(1702),i=Error,a=n("".replace),o=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},5392:(e,t,r)=>{var n=r(68880),i=r(11060),a=r(22914),o=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(o?o(e,t):n(e,"stack",i(r,s)))}},22914:(e,t,r)=>{var n=r(47293),i=r(79114);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7762:(e,t,r)=>{var n=r(19781),i=r(47293),a=r(19670),o=r(70030),s=r(56277),l=Error.prototype.toString,c=i((function(){if(n){var e=o(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==l.call(e))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));e.exports=c?function(){var e=a(this),t=s(e.name,"Error"),r=s(e.message);return t?r?t+": "+r:t:r}:l},82109:(e,t,r)=>{var n=r(17854),i=r(31236).f,a=r(68880),o=r(98052),s=r(13072),l=r(99920),c=r(54705);e.exports=function(e,t){var r,u,h,d,f,p=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[p]||s(p,{}):(n[p]||{}).prototype)for(u in t){if(d=t[u],h=e.dontCallGetSet?(f=i(r,u))&&f.value:r[u],!c(g?u:p+(m?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&a(d,"sham",!0),o(r,u,d,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},27007:(e,t,r)=>{r(74916);var n=r(21470),i=r(98052),a=r(22261),o=r(47293),s=r(5112),l=r(68880),c=s("species"),u=RegExp.prototype;e.exports=function(e,t,r,h){var d=s(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!p||r){var g=n(/./[d]),m=t(d,""[e],(function(e,t,r,i,o){var s=n(e),l=t.exec;return l===a||l===u.exec?f&&!o?{done:!0,value:g(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(u,d,m[1])}h&&l(u[d],"sham",!0)}},6790:(e,t,r)=>{var n=r(43157),i=r(26244),a=r(7207),o=r(49974),s=function(e,t,r,l,c,u,h,d){for(var f,p,g=c,m=0,b=!!h&&o(h,d);m<l;)m in r&&(f=b?b(r[m],m,t):r[m],u>0&&n(f)?(p=i(f),g=s(e,t,f,p,g,u-1)-1):(a(g+1),e[g]=f),g++),m++;return g};e.exports=s},76677:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},22104:(e,t,r)=>{var n=r(34374),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},49974:(e,t,r)=>{var n=r(21470),i=r(19662),a=r(34374),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},34374:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},27065:(e,t,r)=>{var n=r(1702),i=r(19662),a=r(70111),o=r(92597),s=r(50206),l=r(34374),c=Function,u=n([].concat),h=n([].join),d={};e.exports=l?c.bind:function(e){var t=i(this),r=t.prototype,n=s(arguments,1),l=function(){var r=u(n,s(arguments));return this instanceof l?function(e,t,r){if(!o(d,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";d[t]=c("C,a","return new C("+h(n,",")+")")}return d[t](e,r)}(t,r.length,r):t.apply(e,r)};return a(r)&&(l.prototype=r),l}},46916:(e,t,r)=>{var n=r(34374),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},76530:(e,t,r)=>{var n=r(19781),i=r(92597),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},75668:(e,t,r)=>{var n=r(1702),i=r(19662);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},21470:(e,t,r)=>{var n=r(84326),i=r(1702);e.exports=function(e){if("Function"===n(e))return i(e)}},1702:(e,t,r)=>{var n=r(34374),i=Function.prototype,a=i.call,o=n&&i.bind.bind(a,a);e.exports=n?o:function(e){return function(){return a.apply(e,arguments)}}},35005:(e,t,r)=>{var n=r(17854),i=r(60614);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},71246:(e,t,r)=>{var n=r(70648),i=r(58173),a=r(68554),o=r(97497),s=r(5112)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},18554:(e,t,r)=>{var n=r(46916),i=r(19662),a=r(19670),o=r(66330),s=r(71246),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw l(o(e)+" is not iterable")}},88044:(e,t,r)=>{var n=r(1702),i=r(43157),a=r(60614),o=r(84326),s=r(41340),l=n([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?l(r,c):"number"!=typeof c&&"Number"!=o(c)&&"String"!=o(c)||l(r,s(c))}var u=r.length,h=!0;return function(e,t){if(h)return h=!1,t;if(i(this))return t;for(var n=0;n<u;n++)if(r[n]===e)return t}}}},58173:(e,t,r)=>{var n=r(19662),i=r(68554);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},10647:(e,t,r)=>{var n=r(1702),i=r(47908),a=Math.floor,o=n("".charAt),s=n("".replace),l=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,h,d){var f=r+e.length,p=n.length,g=u;return void 0!==h&&(h=i(h),g=c),s(d,g,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,r);case"'":return l(t,f);case"<":c=h[l(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>p){var d=a(u/10);return 0===d?i:d<=p?void 0===n[d-1]?o(s,1):n[d-1]+o(s,1):i}c=n[u-1]}return void 0===c?"":c}))}},17854:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},92597:(e,t,r)=>{var n=r(1702),i=r(47908),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:e=>{e.exports={}},842:e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},60490:(e,t,r)=>{var n=r(35005);e.exports=n("document","documentElement")},64664:(e,t,r)=>{var n=r(19781),i=r(47293),a=r(80317);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},11179:e=>{var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,l){var c,u,h,d=t(l),f=8*l-s-1,p=(1<<f)-1,g=p>>1,m=23===s?n(2,-24)-n(2,-77):0,b=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,c=p):(c=i(a(e)/o),e*(h=n(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?m/h:m*n(2,1-g))*h>=2&&(c++,h/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*h-1)*n(2,s),c+=g):(u=e*n(2,g-1)*n(2,s),c=0));s>=8;)d[y++]=255&u,u/=256,s-=8;for(c=c<<s|u,f+=s;f>0;)d[y++]=255&c,c/=256,f-=8;return d[--y]|=128*b,d},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,l=a-7,c=i-1,u=e[c--],h=127&u;for(u>>=7;l>0;)h=256*h+e[c--],l-=8;for(r=h&(1<<-l)-1,h>>=-l,l+=t;l>0;)r=256*r+e[c--],l-=8;if(0===h)h=1-s;else{if(h===o)return r?NaN:u?-1/0:1/0;r+=n(2,t),h-=s}return(u?-1:1)*r*n(2,h-t)}}},68361:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(84326),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},79587:(e,t,r)=>{var n=r(60614),i=r(70111),a=r(27674);e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},42788:(e,t,r)=>{var n=r(1702),i=r(60614),a=r(5465),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},58340:(e,t,r)=>{var n=r(70111),i=r(68880);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},62423:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(3501),o=r(70111),s=r(92597),l=r(3070).f,c=r(8006),u=r(1156),h=r(52050),d=r(69711),f=r(76677),p=!1,g=d("meta"),m=0,b=function(e){l(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=c.f,t=i([].splice),r={};r[g]=1,e(r).length&&(c.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===g){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!h(e))return"F";if(!t)return"E";b(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!h(e))return!0;if(!t)return!1;b(e)}return e[g].weakData},onFreeze:function(e){return f&&p&&h(e)&&!s(e,g)&&b(e),e}};a[g]=!0},29909:(e,t,r)=>{var n,i,a,o=r(94811),s=r(17854),l=r(70111),c=r(68880),u=r(92597),h=r(5465),d=r(6200),f=r(3501),p="Object already initialized",g=s.TypeError,m=s.WeakMap;if(o||h.state){var b=h.state||(h.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,n=function(e,t){if(b.has(e))throw g(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},a=function(e){return b.has(e)}}else{var y=d("state");f[y]=!0,n=function(e,t){if(u(e,y))throw g(p);return t.facade=e,c(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},97659:(e,t,r)=>{var n=r(5112),i=r(97497),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},43157:(e,t,r)=>{var n=r(84326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},44067:(e,t,r)=>{var n=r(70648);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},60614:(e,t,r)=>{var n=r(4154),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4411:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(60614),o=r(70648),s=r(35005),l=r(42788),c=function(){},u=[],h=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=n(d.exec),p=!d.exec(c),g=function(e){if(!a(e))return!1;try{return h(c,u,e),!0}catch(e){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!h||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},45032:(e,t,r)=>{var n=r(92597);e.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},54705:(e,t,r)=>{var n=r(47293),i=r(60614),a=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r==u||r!=c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},55988:(e,t,r)=>{var n=r(70111),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},68554:e=>{e.exports=function(e){return null==e}},70111:(e,t,r)=>{var n=r(60614),i=r(4154),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},31913:e=>{e.exports=!1},47850:(e,t,r)=>{var n=r(70111),i=r(84326),a=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},52190:(e,t,r)=>{var n=r(35005),i=r(60614),a=r(47976),o=r(43307),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},20408:(e,t,r)=>{var n=r(49974),i=r(46916),a=r(19670),o=r(66330),s=r(97659),l=r(26244),c=r(47976),u=r(18554),h=r(71246),d=r(99212),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,r){var m,b,y,v,w,_,A,E=r&&r.that,x=!(!r||!r.AS_ENTRIES),S=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),R=!(!r||!r.INTERRUPTED),I=n(t,E),T=function(e){return m&&d(m,"normal",e),new p(!0,e)},M=function(e){return x?(a(e),R?I(e[0],e[1],T):I(e[0],e[1])):R?I(e,T):I(e)};if(S)m=e.iterator;else if(k)m=e;else{if(!(b=h(e)))throw f(o(e)+" is not iterable");if(s(b)){for(y=0,v=l(e);v>y;y++)if((w=M(e[y]))&&c(g,w))return w;return new p(!1)}m=u(e,b)}for(_=S?e.next:m.next;!(A=i(_,m)).done;){try{w=M(A.value)}catch(e){d(m,"throw",e)}if("object"==typeof w&&w&&c(g,w))return w}return new p(!1)}},99212:(e,t,r)=>{var n=r(46916),i=r(19670),a=r(58173);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},63061:(e,t,r)=>{var n=r(13383).IteratorPrototype,i=r(70030),a=r(79114),o=r(58003),s=r(97497),l=function(){return this};e.exports=function(e,t,r,c){var u=t+" Iterator";return e.prototype=i(n,{next:a(+!c,r)}),o(e,u,!1,!0),s[u]=l,e}},51656:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(31913),o=r(76530),s=r(60614),l=r(63061),c=r(79518),u=r(27674),h=r(58003),d=r(68880),f=r(98052),p=r(5112),g=r(97497),m=r(13383),b=o.PROPER,y=o.CONFIGURABLE,v=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,_=p("iterator"),A="keys",E="values",x="entries",S=function(){return this};e.exports=function(e,t,r,o,p,m,k){l(r,t,o);var R,I,T,M=function(e){if(e===p&&N)return N;if(!w&&e in O)return O[e];switch(e){case A:case E:case x:return function(){return new r(this,e)}}return function(){return new r(this)}},P=t+" Iterator",C=!1,O=e.prototype,L=O[_]||O["@@iterator"]||p&&O[p],N=!w&&L||M(p),B="Array"==t&&O.entries||L;if(B&&(R=c(B.call(new e)))!==Object.prototype&&R.next&&(a||c(R)===v||(u?u(R,v):s(R[_])||f(R,_,S)),h(R,P,!0,!0),a&&(g[P]=S)),b&&p==E&&L&&L.name!==E&&(!a&&y?d(O,"name",E):(C=!0,N=function(){return i(L,this)})),p)if(I={values:M(E),keys:m?N:M(A),entries:M(x)},k)for(T in I)(w||C||!(T in O))&&f(O,T,I[T]);else n({target:t,proto:!0,forced:w||C},I);return a&&!k||O[_]===N||f(O,_,N,{name:p}),g[t]=N,I}},13383:(e,t,r)=>{var n,i,a,o=r(47293),s=r(60614),l=r(70111),c=r(70030),u=r(79518),h=r(98052),d=r(5112),f=r(31913),p=d("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=u(u(a)))!==Object.prototype&&(n=i):g=!0),!l(n)||o((function(){var e={};return n[p].call(e)!==e}))?n={}:f&&(n=c(n)),s(n[p])||h(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},97497:e=>{e.exports={}},26244:(e,t,r)=>{var n=r(17466);e.exports=function(e){return n(e.length)}},56339:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(60614),o=r(92597),s=r(19781),l=r(76530).CONFIGURABLE,c=r(42788),u=r(29909),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,g=n("".slice),m=n("".replace),b=n([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),v=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&o(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=h(e);return o(n,"source")||(n.source=b(v,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return a(this)&&d(this).source||c(this)}),"toString")},75706:(e,t,r)=>{var n=r(1702),i=Map.prototype;e.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},66736:e=>{var t=Math.expm1,r=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:t},26130:(e,t,r)=>{var n=r(64310),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),l=a(2,127)*(2-s),c=a(2,-126);e.exports=Math.fround||function(e){var t,r,a=+e,u=i(a),h=n(a);return u<c?h*function(e){return e+1/o-1/o}(u/c/s)*c*s:(r=(t=(1+s/o)*u)-(t-u))>l||r!=r?h*(1/0):h*r}},20403:e=>{var t=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*r}},26513:e=>{var t=Math.log;e.exports=Math.log1p||function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:t(1+r)}},64310:e=>{e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},74758:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},95948:(e,t,r)=>{var n,i,a,o,s,l=r(17854),c=r(49974),u=r(31236).f,h=r(20261).set,d=r(18572),f=r(6833),p=r(71528),g=r(71036),m=r(35268),b=l.MutationObserver||l.WebKitMutationObserver,y=l.document,v=l.process,w=l.Promise,_=u(l,"queueMicrotask"),A=_&&_.value;if(!A){var E=new d,x=function(){var e,t;for(m&&(e=v.domain)&&e.exit();t=E.get();)try{t()}catch(e){throw E.head&&n(),e}e&&e.enter()};f||m||g||!b||!y?!p&&w&&w.resolve?((o=w.resolve(void 0)).constructor=w,s=c(o.then,o),n=function(){s(x)}):m?n=function(){v.nextTick(x)}:(h=c(h,l),n=function(){h(x)}):(i=!0,a=y.createTextNode(""),new b(x).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),A=function(e){E.head||n(),E.add(e)}}e.exports=A},78523:(e,t,r)=>{var n=r(19662),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},56277:(e,t,r)=>{var n=r(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},3929:(e,t,r)=>{var n=r(47850),i=TypeError;e.exports=function(e){if(n(e))throw i("The method doesn't accept regular expressions");return e}},77023:(e,t,r)=>{var n=r(17854).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},2814:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(1702),o=r(41340),s=r(53111).trim,l=r(81361),c=a("".charAt),u=n.parseFloat,h=n.Symbol,d=h&&h.iterator,f=1/u(l+"-0")!=-1/0||d&&!i((function(){u(Object(d))}));e.exports=f?function(e){var t=s(o(e)),r=u(t);return 0===r&&"-"==c(t,0)?-0:r}:u},83009:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(1702),o=r(41340),s=r(53111).trim,l=r(81361),c=n.parseInt,u=n.Symbol,h=u&&u.iterator,d=/^[+-]?0x/i,f=a(d.exec),p=8!==c(l+"08")||22!==c(l+"0x16")||h&&!i((function(){c(Object(h))}));e.exports=p?function(e,t){var r=s(o(e));return c(r,t>>>0||(f(d,r)?16:10))}:c},21574:(e,t,r)=>{var n=r(19781),i=r(1702),a=r(46916),o=r(47293),s=r(81956),l=r(25181),c=r(55296),u=r(47908),h=r(68361),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||o((function(){if(n&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[r]||s(d({},t)).join("")!=i}))?function(e,t){for(var r=u(e),i=arguments.length,o=1,d=l.f,f=c.f;i>o;)for(var g,m=h(arguments[o++]),b=d?p(s(m),d(m)):s(m),y=b.length,v=0;y>v;)g=b[v++],n&&!a(f,m,g)||(r[g]=m[g]);return r}:d},70030:(e,t,r)=>{var n,i=r(19670),a=r(36048),o=r(80748),s=r(3501),l=r(60490),c=r(80317),u=r(6200),h="prototype",d="script",f=u("IE_PROTO"),p=function(){},g=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;b="undefined"!=typeof document?document.domain&&n?m(n):(t=c("iframe"),r="java"+d+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(n);for(var i=o.length;i--;)delete b[h][o[i]];return b()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p[h]=i(e),r=new p,p[h]=null,r[f]=e):r=b(),void 0===t?r:a.f(r,t)}},36048:(e,t,r)=>{var n=r(19781),i=r(3353),a=r(3070),o=r(19670),s=r(45656),l=r(81956);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=l(t),c=i.length,u=0;c>u;)a.f(e,r=i[u++],n[r]);return e}},3070:(e,t,r)=>{var n=r(19781),i=r(64664),a=r(3353),o=r(19670),s=r(34948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var n=u(e,t);n&&n[f]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:h in r?r[h]:n[h],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},31236:(e,t,r)=>{var n=r(19781),i=r(46916),a=r(55296),o=r(79114),s=r(45656),l=r(34948),c=r(92597),u=r(64664),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=s(e),t=l(t),u)try{return h(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},1156:(e,t,r)=>{var n=r(84326),i=r(45656),a=r(8006).f,o=r(41589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return a(e)}catch(e){return o(s)}}(e):a(i(e))}},8006:(e,t,r)=>{var n=r(16324),i=r(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},79518:(e,t,r)=>{var n=r(92597),i=r(60614),a=r(47908),o=r(6200),s=r(49920),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},52050:(e,t,r)=>{var n=r(47293),i=r(70111),a=r(84326),o=r(7556),s=Object.isExtensible,l=n((function(){s(1)}));e.exports=l||o?function(e){return!!i(e)&&(!o||"ArrayBuffer"!=a(e))&&(!s||s(e))}:s},47976:(e,t,r)=>{var n=r(1702);e.exports=n({}.isPrototypeOf)},16324:(e,t,r)=>{var n=r(1702),i=r(92597),a=r(45656),o=r(41318).indexOf,s=r(3501),l=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&l(u,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(u,r)||l(u,r));return u}},81956:(e,t,r)=>{var n=r(16324),i=r(80748);e.exports=Object.keys||function(e){return n(e,i)}},55296:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},69026:(e,t,r)=>{var n=r(31913),i=r(17854),a=r(47293),o=r(98008);e.exports=n||!a((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},27674:(e,t,r)=>{var n=r(75668),i=r(19670),a=r(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},44699:(e,t,r)=>{var n=r(19781),i=r(1702),a=r(81956),o=r(45656),s=i(r(55296).f),l=i([].push),c=function(e){return function(t){for(var r,i=o(t),c=a(i),u=c.length,h=0,d=[];u>h;)r=c[h++],n&&!s(i,r)||l(d,e?[r,i[r]]:i[r]);return d}};e.exports={entries:c(!0),values:c(!1)}},90288:(e,t,r)=>{var n=r(51694),i=r(70648);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},92140:(e,t,r)=>{var n=r(46916),i=r(60614),a=r(70111),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw o("Can't convert object to primitive value")}},53887:(e,t,r)=>{var n=r(35005),i=r(1702),a=r(8006),o=r(25181),s=r(19670),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?l(t,r(e)):t}},40857:(e,t,r)=>{var n=r(17854);e.exports=n},12534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},63702:(e,t,r)=>{var n=r(17854),i=r(2492),a=r(60614),o=r(54705),s=r(42788),l=r(5112),c=r(7871),u=r(83823),h=r(31913),d=r(7392),f=i&&i.prototype,p=l("species"),g=!1,m=a(n.PromiseRejectionEvent),b=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(h&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[p]=n,!(g=r.then((function(){}))instanceof n))return!0}return!t&&(c||u)&&!m}));e.exports={CONSTRUCTOR:b,REJECTION_EVENT:m,SUBCLASSING:g}},2492:(e,t,r)=>{var n=r(17854);e.exports=n.Promise},69478:(e,t,r)=>{var n=r(19670),i=r(70111),a=r(78523);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},80612:(e,t,r)=>{var n=r(2492),i=r(17072),a=r(63702).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},2626:(e,t,r)=>{var n=r(3070).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},18572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},97651:(e,t,r)=>{var n=r(46916),i=r(19670),a=r(60614),o=r(84326),s=r(22261),l=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var c=n(r,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return n(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},22261:(e,t,r)=>{var n,i,a=r(46916),o=r(1702),s=r(41340),l=r(67066),c=r(52999),u=r(72309),h=r(70030),d=r(29909).get,f=r(9441),p=r(38173),g=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,b=m,y=o("".charAt),v=o("".indexOf),w=o("".replace),_=o("".slice),A=(i=/b*/g,a(m,n=/a/,"a"),a(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),E=c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(A||x||E||f||p)&&(b=function(e){var t,r,n,i,o,c,u,f=this,p=d(f),S=s(e),k=p.raw;if(k)return k.lastIndex=f.lastIndex,t=a(b,k,S),f.lastIndex=k.lastIndex,t;var R=p.groups,I=E&&f.sticky,T=a(l,f),M=f.source,P=0,C=S;if(I&&(T=w(T,"y",""),-1===v(T,"g")&&(T+="g"),C=_(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(S,f.lastIndex-1))&&(M="(?: "+M+")",C=" "+C,P++),r=new RegExp("^(?:"+M+")",T)),x&&(r=new RegExp("^"+M+"$(?!\\s)",T)),A&&(n=f.lastIndex),i=a(m,I?r:f,C),I?i?(i.input=_(i.input,P),i[0]=_(i[0],P),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:A&&i&&(f.lastIndex=f.global?i.index+i[0].length:n),x&&i&&i.length>1&&a(g,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&R)for(i.groups=c=h(null),o=0;o<R.length;o++)c[(u=R[o])[0]]=i[u[1]];return i}),e.exports=b},67066:(e,t,r)=>{var n=r(19670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},34706:(e,t,r)=>{var n=r(46916),i=r(92597),a=r(47976),o=r(67066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:n(o,e)}},52999:(e,t,r)=>{var n=r(47293),i=r(17854).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:(e,t,r)=>{var n=r(47293),i=r(17854).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:(e,t,r)=>{var n=r(47293),i=r(17854).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},84488:(e,t,r)=>{var n=r(68554),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},81150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},17152:(e,t,r)=>{var n,i=r(17854),a=r(22104),o=r(60614),s=r(89363),l=r(88113),c=r(50206),u=r(48053),h=i.Function,d=/MSIE .\./.test(l)||s&&((n=i.Bun.version.split(".")).length<3||0==n[0]&&(n[1]<3||3==n[1]&&0==n[2]));e.exports=function(e,t){var r=t?2:1;return d?function(n,i){var s=u(arguments.length,1)>r,l=o(n)?n:h(n),d=s?c(arguments,r):[],f=s?function(){a(l,this,d)}:l;return t?e(f,i):e(f)}:e}},79405:(e,t,r)=>{var n=r(1702),i=Set.prototype;e.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},96340:(e,t,r)=>{var n=r(35005),i=r(47045),a=r(5112),o=r(19781),s=a("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},58003:(e,t,r)=>{var n=r(3070).f,i=r(92597),a=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},6200:(e,t,r)=>{var n=r(72309),i=r(69711),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:(e,t,r)=>{var n=r(17854),i=r(13072),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},72309:(e,t,r)=>{var n=r(31913),i=r(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:(e,t,r)=>{var n=r(19670),i=r(39483),a=r(68554),o=r(5112)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},43429:(e,t,r)=>{var n=r(47293);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},28710:(e,t,r)=>{var n=r(1702),i=r(19303),a=r(41340),o=r(84488),s=n("".charAt),l=n("".charCodeAt),c=n("".slice),u=function(e){return function(t,r){var n,u,h=a(o(t)),d=i(r),f=h.length;return d<0||d>=f?e?"":void 0:(n=l(h,d))<55296||n>56319||d+1===f||(u=l(h,d+1))<56320||u>57343?e?s(h,d):n:e?c(h,d,d+2):u-56320+(n-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},54986:(e,t,r)=>{var n=r(88113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},76650:(e,t,r)=>{var n=r(1702),i=r(17466),a=r(41340),o=r(38415),s=r(84488),l=n(o),c=n("".slice),u=Math.ceil,h=function(e){return function(t,r,n){var o,h,d=a(s(t)),f=i(r),p=d.length,g=void 0===n?" ":a(n);return f<=p||""==g?d:((h=l(g,u((o=f-p)/g.length))).length>o&&(h=c(h,0,o)),e?d+h:h+d)}};e.exports={start:h(!1),end:h(!0)}},33197:(e,t,r)=>{var n=r(1702),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,c=n(o.exec),u=Math.floor,h=String.fromCharCode,d=n("".charCodeAt),f=n([].join),p=n([].push),g=n("".replace),m=n("".split),b=n("".toLowerCase),y=function(e){return e+22+75*(e<26)},v=function(e,t,r){var n=0;for(e=r?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),n+=36;return u(n+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=d(e,r++);if(i>=55296&&i<=56319&&r<n){var a=d(e,r++);56320==(64512&a)?p(t,((1023&i)<<10)+(1023&a)+65536):(p(t,i),r--)}else p(t,i)}return t}(e);var r,n,a=e.length,o=128,c=0,g=72;for(r=0;r<e.length;r++)(n=e[r])<128&&p(t,h(n));var m=t.length,b=m;for(m&&p(t,"-");b<a;){var w=i;for(r=0;r<e.length;r++)(n=e[r])>=o&&n<w&&(w=n);var _=b+1;if(w-o>u((i-c)/_))throw l(s);for(c+=(w-o)*_,o=w,r=0;r<e.length;r++){if((n=e[r])<o&&++c>i)throw l(s);if(n==o){for(var A=c,E=36;;){var x=E<=g?1:E>=g+26?26:E-g;if(A<x)break;var S=A-x,k=36-x;p(t,h(y(x+S%k))),A=u(S/k),E+=36}p(t,h(y(A))),g=v(c,_,b==m),c=0,b++}}c++,o++}return f(t,"")};e.exports=function(e){var t,r,n=[],i=m(g(b(e),o,"."),".");for(t=0;t<i.length;t++)r=i[t],p(n,c(a,r)?"xn--"+w(r):r);return f(n,".")}},38415:(e,t,r)=>{var n=r(19303),i=r(41340),a=r(84488),o=RangeError;e.exports=function(e){var t=i(a(this)),r="",s=n(e);if(s<0||s==1/0)throw o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},10365:(e,t,r)=>{var n=r(53111).end,i=r(76091);e.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},76091:(e,t,r)=>{var n=r(76530).PROPER,i=r(47293),a=r(81361);e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||n&&a[e].name!==e}))}},33217:(e,t,r)=>{var n=r(53111).start,i=r(76091);e.exports=i("trimStart")?function(){return n(this)}:"".trimStart},53111:(e,t,r)=>{var n=r(1702),i=r(84488),a=r(41340),o=r(81361),s=n("".replace),l=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),u=function(e){return function(t){var r=a(i(t));return 1&e&&(r=s(r,l,"")),2&e&&(r=s(r,c,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},64124:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(7392),o=r(7871),s=r(83823),l=r(35268),c=n.structuredClone;e.exports=!!c&&!i((function(){if(s&&a>92||l&&a>94||o&&a>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}))},36293:(e,t,r)=>{var n=r(7392),i=r(47293),a=r(17854).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},56532:(e,t,r)=>{var n=r(46916),i=r(35005),a=r(5112),o=r(98052);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return n(r,this)}),{arity:1})}},2015:(e,t,r)=>{var n=r(36293);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},20261:(e,t,r)=>{var n,i,a,o,s=r(17854),l=r(22104),c=r(49974),u=r(60614),h=r(92597),d=r(47293),f=r(60490),p=r(50206),g=r(80317),m=r(48053),b=r(6833),y=r(35268),v=s.setImmediate,w=s.clearImmediate,_=s.process,A=s.Dispatch,E=s.Function,x=s.MessageChannel,S=s.String,k=0,R={},I="onreadystatechange";d((function(){n=s.location}));var T=function(e){if(h(R,e)){var t=R[e];delete R[e],t()}},M=function(e){return function(){T(e)}},P=function(e){T(e.data)},C=function(e){s.postMessage(S(e),n.protocol+"//"+n.host)};v&&w||(v=function(e){m(arguments.length,1);var t=u(e)?e:E(e),r=p(arguments,1);return R[++k]=function(){l(t,void 0,r)},i(k),k},w=function(e){delete R[e]},y?i=function(e){_.nextTick(M(e))}:A&&A.now?i=function(e){A.now(M(e))}:x&&!b?(o=(a=new x).port2,a.port1.onmessage=P,i=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!d(C)?(i=C,s.addEventListener("message",P,!1)):i=I in g("script")?function(e){f.appendChild(g("script"))[I]=function(){f.removeChild(this),T(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:v,clear:w}},50863:(e,t,r)=>{var n=r(1702);e.exports=n(1..valueOf)},51400:(e,t,r)=>{var n=r(19303),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},64599:(e,t,r)=>{var n=r(57593),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},57067:(e,t,r)=>{var n=r(19303),i=r(17466),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw a("Wrong length or index");return r}},45656:(e,t,r)=>{var n=r(68361),i=r(84488);e.exports=function(e){return n(i(e))}},19303:(e,t,r)=>{var n=r(74758);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},17466:(e,t,r)=>{var n=r(19303),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},47908:(e,t,r)=>{var n=r(84488),i=Object;e.exports=function(e){return i(n(e))}},84590:(e,t,r)=>{var n=r(73002),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},73002:(e,t,r)=>{var n=r(19303),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},57593:(e,t,r)=>{var n=r(46916),i=r(70111),a=r(52190),o=r(58173),s=r(92140),l=r(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,l=o(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||a(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},34948:(e,t,r)=>{var n=r(57593),i=r(52190);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},51694:(e,t,r)=>{var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},41340:(e,t,r)=>{var n=r(70648),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},44038:(e,t,r)=>{var n=r(35268);e.exports=function(e){try{if(n)return Function('return require("'+e+'")')()}catch(e){}}},66330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},19843:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(46916),o=r(19781),s=r(63832),l=r(90260),c=r(13331),u=r(25787),h=r(79114),d=r(68880),f=r(55988),p=r(17466),g=r(57067),m=r(84590),b=r(34948),y=r(92597),v=r(70648),w=r(70111),_=r(52190),A=r(70030),E=r(47976),x=r(27674),S=r(8006).f,k=r(97321),R=r(42092).forEach,I=r(96340),T=r(47045),M=r(3070),P=r(31236),C=r(29909),O=r(79587),L=C.get,N=C.set,B=C.enforce,D=M.f,U=P.f,V=Math.round,F=i.RangeError,j=c.ArrayBuffer,q=j.prototype,z=c.DataView,$=l.NATIVE_ARRAY_BUFFER_VIEWS,H=l.TYPED_ARRAY_TAG,G=l.TypedArray,W=l.TypedArrayPrototype,J=l.aTypedArrayConstructor,Q=l.isTypedArray,K="BYTES_PER_ELEMENT",Y="Wrong length",Z=function(e,t){J(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},X=function(e,t){T(e,t,{configurable:!0,get:function(){return L(this)[t]}})},ee=function(e){var t;return E(q,e)||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},te=function(e,t){return Q(e)&&!_(t)&&t in e&&f(+t)&&t>=0},re=function(e,t){return t=b(t),te(e,t)?h(2,e[t]):U(e,t)},ne=function(e,t,r){return t=b(t),!(te(e,t)&&w(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?D(e,t,r):(e[t]=r.value,e)};o?($||(P.f=re,M.f=ne,X(W,"buffer"),X(W,"byteOffset"),X(W,"byteLength"),X(W,"length")),n({target:"Object",stat:!0,forced:!$},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var o=e.match(/\d+/)[0]/8,l=e+(r?"Clamped":"")+"Array",c="get"+e,h="set"+e,f=i[l],b=f,y=b&&b.prototype,v={},_=function(e,t){D(e,t,{get:function(){return function(e,t){var r=L(e);return r.view[c](t*o+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=L(e);r&&(n=(n=V(n))<0?0:n>255?255:255&n),i.view[h](t*o+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};$?s&&(b=t((function(e,t,r,n){return u(e,y),O(w(t)?ee(t)?void 0!==n?new f(t,m(r,o),n):void 0!==r?new f(t,m(r,o)):new f(t):Q(t)?Z(b,t):a(k,b,t):new f(g(t)),e,b)})),x&&x(b,G),R(S(f),(function(e){e in b||d(b,e,f[e])})),b.prototype=y):(b=t((function(e,t,r,n){u(e,y);var i,s,l,c=0,h=0;if(w(t)){if(!ee(t))return Q(t)?Z(b,t):a(k,b,t);i=t,h=m(r,o);var d=t.byteLength;if(void 0===n){if(d%o)throw F(Y);if((s=d-h)<0)throw F(Y)}else if((s=p(n)*o)+h>d)throw F(Y);l=s/o}else l=g(t),i=new j(s=l*o);for(N(e,{buffer:i,byteOffset:h,byteLength:s,length:l,view:new z(i)});c<l;)_(e,c++)})),x&&x(b,G),y=b.prototype=A(W)),y.constructor!==b&&d(y,"constructor",b),B(y).TypedArrayConstructor=b,H&&d(y,H,l);var E=b!=f;v[l]=b,n({global:!0,constructor:!0,forced:E,sham:!$},v),K in b||d(b,K,o),K in y||d(y,K,o),I(l)}):e.exports=function(){}},63832:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(17072),o=r(90260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},43074:(e,t,r)=>{var n=r(97745),i=r(66304);e.exports=function(e,t){return n(i(e),t)}},97321:(e,t,r)=>{var n=r(49974),i=r(46916),a=r(39483),o=r(47908),s=r(26244),l=r(18554),c=r(71246),u=r(97659),h=r(44067),d=r(90260).aTypedArrayConstructor,f=r(64599);e.exports=function(e){var t,r,p,g,m,b,y,v,w=a(this),_=o(e),A=arguments.length,E=A>1?arguments[1]:void 0,x=void 0!==E,S=c(_);if(S&&!u(S))for(v=(y=l(_,S)).next,_=[];!(b=i(v,y)).done;)_.push(b.value);for(x&&A>2&&(E=n(E,arguments[2])),r=s(_),p=new(d(w))(r),g=h(p),t=0;r>t;t++)m=x?E(_[t],t):_[t],p[t]=g?f(m):+m;return p}},66304:(e,t,r)=>{var n=r(90260),i=r(36707),a=n.aTypedArrayConstructor,o=n.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},69711:(e,t,r)=>{var n=r(1702),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},85143:(e,t,r)=>{var n=r(47293),i=r(5112),a=r(19781),o=r(31913),s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},43307:(e,t,r)=>{var n=r(36293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,r)=>{var n=r(19781),i=r(47293);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48053:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},94811:(e,t,r)=>{var n=r(17854),i=r(60614),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},26800:(e,t,r)=>{var n=r(40857),i=r(92597),a=r(6061),o=r(3070).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},6061:(e,t,r)=>{var n=r(5112);t.f=n},5112:(e,t,r)=>{var n=r(17854),i=r(72309),a=r(92597),o=r(69711),s=r(36293),l=r(43307),c=n.Symbol,u=i("wks"),h=l?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)||(u[e]=s&&a(c,e)?c[e]:h("Symbol."+e)),u[e]}},81361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},89191:(e,t,r)=>{var n=r(35005),i=r(92597),a=r(68880),o=r(47976),s=r(27674),l=r(99920),c=r(2626),u=r(79587),h=r(56277),d=r(58340),f=r(5392),p=r(19781),g=r(31913);e.exports=function(e,t,r,m){var b="stackTraceLimit",y=m?2:1,v=e.split("."),w=v[v.length-1],_=n.apply(null,v);if(_){var A=_.prototype;if(!g&&i(A,"cause")&&delete A.cause,!r)return _;var E=n("Error"),x=t((function(e,t){var r=h(m?t:e,void 0),n=m?new _(e):new _;return void 0!==r&&a(n,"message",r),f(n,x,n.stack,2),this&&o(A,this)&&u(n,this,x),arguments.length>y&&d(n,arguments[y]),n}));if(x.prototype=A,"Error"!==w?s?s(x,E):l(x,E,{name:!0}):p&&b in _&&(c(x,_,b),c(x,_,"prepareStackTrace")),l(x,_),!g)try{A.name!==w&&a(A,"name",w),A.constructor=x}catch(e){}return x}}},32120:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(22104),o=r(47293),s=r(89191),l="AggregateError",c=i(l),u=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],l,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(l,(function(e){return function(t,r){return a(e,this,arguments)}}),u,!0)})},56967:(e,t,r)=>{var n=r(82109),i=r(47976),a=r(79518),o=r(27674),s=r(99920),l=r(70030),c=r(68880),u=r(79114),h=r(58340),d=r(5392),f=r(20408),p=r(56277),g=r(5112)("toStringTag"),m=Error,b=[].push,y=function(e,t){var r,n=i(v,this);o?r=o(m(),n?a(this):v):(r=n?this:l(v),c(r,g,"Error")),void 0!==t&&c(r,"message",p(t)),d(r,y,r.stack,1),arguments.length>2&&h(r,arguments[2]);var s=[];return f(e,b,{that:s}),c(r,"errors",s),r};o?o(y,m):s(y,m,{name:!0});var v=y.prototype=l(m.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:y})},9170:(e,t,r)=>{r(56967)},18264:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(13331),o=r(96340),s="ArrayBuffer",l=a[s];n({global:!0,constructor:!0,forced:i[s]!==l},{ArrayBuffer:l}),o(s)},76938:(e,t,r)=>{var n=r(82109),i=r(90260);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},39575:(e,t,r)=>{var n=r(82109),i=r(21470),a=r(47293),o=r(13331),s=r(19670),l=r(51400),c=r(17466),u=r(36707),h=o.ArrayBuffer,d=o.DataView,f=d.prototype,p=i(h.prototype.slice),g=i(f.getUint8),m=i(f.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);for(var r=s(this).byteLength,n=l(e,r),i=l(void 0===t?r:t,r),a=new(u(this,h))(c(i-n)),o=new d(this),f=new d(a),b=0;n<i;)m(f,b++,g(o,n++));return a}})},52262:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(26244),o=r(19303),s=r(51223);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},92222:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(43157),o=r(70111),s=r(47908),l=r(26244),c=r(7207),u=r(86135),h=r(65417),d=r(81194),f=r(5112),p=r(7392),g=f("isConcatSpreadable"),m=p>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),b=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,arity:1,forced:!m||!d("concat")},{concat:function(e){var t,r,n,i,a,o=s(this),d=h(o,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(b(a=-1===t?o:arguments[t]))for(i=l(a),c(f+i),r=0;r<i;r++,f++)r in a&&u(d,f,a[r]);else c(f+1),u(d,f++,a);return d.length=f,d}})},50545:(e,t,r)=>{var n=r(82109),i=r(1048),a=r(51223);n({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},26541:(e,t,r)=>{var n=r(82109),i=r(42092).every;n({target:"Array",proto:!0,forced:!r(9341)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},43290:(e,t,r)=>{var n=r(82109),i=r(21285),a=r(51223);n({target:"Array",proto:!0},{fill:i}),a("fill")},57327:(e,t,r)=>{var n=r(82109),i=r(42092).filter;n({target:"Array",proto:!0,forced:!r(81194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},34553:(e,t,r)=>{var n=r(82109),i=r(42092).findIndex,a=r(51223),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},77287:(e,t,r)=>{var n=r(82109),i=r(9671).findLastIndex,a=r(51223);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},67635:(e,t,r)=>{var n=r(82109),i=r(9671).findLast,a=r(51223);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},69826:(e,t,r)=>{var n=r(82109),i=r(42092).find,a=r(51223),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},86535:(e,t,r)=>{var n=r(82109),i=r(6790),a=r(19662),o=r(47908),s=r(26244),l=r(65417);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),n=s(r);return a(e),(t=l(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},84944:(e,t,r)=>{var n=r(82109),i=r(6790),a=r(47908),o=r(26244),s=r(19303),l=r(65417);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t),n=l(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},89554:(e,t,r)=>{var n=r(82109),i=r(18533);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},91038:(e,t,r)=>{var n=r(82109),i=r(48457);n({target:"Array",stat:!0,forced:!r(17072)((function(e){Array.from(e)}))},{from:i})},26699:(e,t,r)=>{var n=r(82109),i=r(41318).includes,a=r(47293),o=r(51223);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},82772:(e,t,r)=>{var n=r(82109),i=r(21470),a=r(41318).indexOf,o=r(9341),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:l||!o("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:a(this,e,t)}})},79753:(e,t,r)=>{r(82109)({target:"Array",stat:!0},{isArray:r(43157)})},66992:(e,t,r)=>{var n=r(45656),i=r(51223),a=r(97497),o=r(29909),s=r(3070).f,l=r(51656),c=r(76178),u=r(31913),h=r(19781),d="Array Iterator",f=o.set,p=o.getterFor(d);e.exports=l(Array,"Array",(function(e,t){f(this,{type:d,target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var g=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!u&&h&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(e){}},69600:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(68361),o=r(45656),s=r(9341),l=i([].join);n({target:"Array",proto:!0,forced:a!=Object||!s("join",",")},{join:function(e){return l(o(this),void 0===e?",":e)}})},94986:(e,t,r)=>{var n=r(82109),i=r(86583);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},21249:(e,t,r)=>{var n=r(82109),i=r(42092).map;n({target:"Array",proto:!0,forced:!r(81194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},26572:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(4411),o=r(86135),s=Array;n({target:"Array",stat:!0,forced:i((function(){function e(){}return!(s.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new(a(this)?this:s)(t);t>e;)o(r,e,arguments[e++]);return r.length=t,r}})},57658:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(26244),o=r(83658),s=r(7207);n({target:"Array",proto:!0,arity:1,forced:r(47293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;s(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return o(t,r),r}})},96644:(e,t,r)=>{var n=r(82109),i=r(53671).right,a=r(9341),o=r(7392);n({target:"Array",proto:!0,forced:!r(35268)&&o>79&&o<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:(e,t,r)=>{var n=r(82109),i=r(53671).left,a=r(9341),o=r(7392);n({target:"Array",proto:!0,forced:!r(35268)&&o>79&&o<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},65069:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(43157),o=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},47042:(e,t,r)=>{var n=r(82109),i=r(43157),a=r(4411),o=r(70111),s=r(51400),l=r(26244),c=r(45656),u=r(86135),h=r(5112),d=r(81194),f=r(50206),p=d("slice"),g=h("species"),m=Array,b=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,h,d=c(this),p=l(d),y=s(e,p),v=s(void 0===t?p:t,p);if(i(d)&&(r=d.constructor,(a(r)&&(r===m||i(r.prototype))||o(r)&&null===(r=r[g]))&&(r=void 0),r===m||void 0===r))return f(d,y,v);for(n=new(void 0===r?m:r)(b(v-y,0)),h=0;y<v;y++,h++)y in d&&u(n,h,d[y]);return n.length=h,n}})},5212:(e,t,r)=>{var n=r(82109),i=r(42092).some;n({target:"Array",proto:!0,forced:!r(9341)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19662),o=r(47908),s=r(26244),l=r(85117),c=r(41340),u=r(47293),h=r(94362),d=r(9341),f=r(68886),p=r(30256),g=r(7392),m=r(98008),b=[],y=i(b.sort),v=i(b.push),w=u((function(){b.sort(void 0)})),_=u((function(){b.sort(null)})),A=d("sort"),E=!u((function(){if(g)return g<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)b.push({k:t+n,v:r})}for(b.sort((function(e,t){return t.v-e.v})),n=0;n<b.length;n++)t=b[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:w||!_||!A||!E},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(E)return void 0===e?y(t):y(t,e);var r,n,i=[],u=s(t);for(n=0;n<u;n++)n in t&&v(i,t[n]);for(h(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e)),r=s(i),n=0;n<r;)t[n]=i[n++];for(;n<u;)l(t,n++);return t}})},38706:(e,t,r)=>{r(96340)("Array")},40561:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(51400),o=r(19303),s=r(26244),l=r(83658),c=r(7207),u=r(65417),h=r(86135),d=r(85117),f=r(81194)("splice"),p=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,n,f,m,b,y,v=i(this),w=s(v),_=a(e,w),A=arguments.length;for(0===A?r=n=0:1===A?(r=0,n=w-_):(r=A-2,n=g(p(o(t),0),w-_)),c(w+r-n),f=u(v,n),m=0;m<n;m++)(b=_+m)in v&&h(f,m,v[b]);if(f.length=n,r<n){for(m=_;m<w-n;m++)y=m+r,(b=m+n)in v?v[y]=v[b]:d(v,y);for(m=w;m>w-n+r;m--)d(v,m-1)}else if(r>n)for(m=w-n;m>_;m--)y=m+r-1,(b=m+n-1)in v?v[y]=v[b]:d(v,y);for(m=0;m<r;m++)v[m+_]=arguments[m+2];return l(v,w-n+r),f}})},90476:(e,t,r)=>{var n=r(82109),i=r(21843),a=r(45656),o=r(51223),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),s)}}),o("toReversed")},76459:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19662),o=r(45656),s=r(97745),l=r(98770),c=r(51223),u=Array,h=i(l("Array").sort);n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=o(this),r=s(u,t);return h(r,e)}}),c("toSorted")},99892:(e,t,r)=>{var n=r(82109),i=r(51223),a=r(7207),o=r(26244),s=r(51400),l=r(45656),c=r(19303),u=Array,h=Math.max,d=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,f,p=l(this),g=o(p),m=s(e,g),b=arguments.length,y=0;for(0===b?r=n=0:1===b?(r=0,n=g-m):(r=b-2,n=d(h(c(t),0),g-m)),i=a(g+r-n),f=u(i);y<m;y++)f[y]=p[y];for(;y<m+r;y++)f[y]=arguments[y-m+2];for(;y<i;y++)f[y]=p[y+n-r];return f}}),i("toSpliced")},99244:(e,t,r)=>{r(51223)("flatMap")},33792:(e,t,r)=>{r(51223)("flat")},30541:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(26244),o=r(83658),s=r(85117),l=r(7207);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){l(r+n);for(var c=r;c--;){var u=c+n;c in t?t[u]=t[c]:s(t,u)}for(var h=0;h<n;h++)t[h]=arguments[h]}return o(t,r+n)}})},35581:(e,t,r)=>{var n=r(82109),i=r(11572),a=r(45656),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),o,e,t)}})},3690:(e,t,r)=>{var n=r(82109),i=r(13331);n({global:!0,constructor:!0,forced:!r(23013)},{DataView:i.DataView})},16716:(e,t,r)=>{r(3690)},43016:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(47293)((function(){return 120!==new Date(16e11).getYear()})),o=i(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:a},{getYear:function(){return o(this)-1900}})},3843:(e,t,r)=>{var n=r(82109),i=r(1702),a=Date,o=i(a.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return o(new a)}})},81801:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19303),o=Date.prototype,s=i(o.getTime),l=i(o.setFullYear);n({target:"Date",proto:!0},{setYear:function(e){s(this);var t=a(e);return l(this,0<=t&&t<=99?t+1900:t)}})},9550:(e,t,r)=>{r(82109)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},28733:(e,t,r)=>{var n=r(82109),i=r(85573);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},5735:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(47908),o=r(57593);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),r=o(t,"number");return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},96078:(e,t,r)=>{var n=r(92597),i=r(98052),a=r(38709),o=r(5112)("toPrimitive"),s=Date.prototype;n(s,o)||i(s,o,a)},83710:(e,t,r)=>{var n=r(1702),i=r(98052),a=Date.prototype,o="Invalid Date",s="toString",l=n(a[s]),c=n(a.getTime);String(new Date(NaN))!=o&&i(a,s,(function(){var e=c(this);return e==e?l(this):o}))},21703:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(22104),o=r(89191),s="WebAssembly",l=i[s],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},h=function(e,t){if(l&&l[e]){var r={};r[e]=o(s+"."+e,t,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},96647:(e,t,r)=>{var n=r(98052),i=r(7762),a=Error.prototype;a.toString!==i&&n(a,"toString",i)},62130:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(41340),o=i("".charAt),s=i("".charCodeAt),l=i(/./.exec),c=i(1..toString),u=i("".toUpperCase),h=/[\w*+\-./@]/,d=function(e,t){for(var r=c(e,16);r.length<t;)r="0"+r;return r};n({global:!0},{escape:function(e){for(var t,r,n=a(e),i="",c=n.length,f=0;f<c;)t=o(n,f++),l(h,t)?i+=t:i+=(r=s(t,0))<256?"%"+d(r,2):"%u"+u(d(r,4));return i}})},24812:(e,t,r)=>{var n=r(82109),i=r(27065);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},4855:(e,t,r)=>{var n=r(60614),i=r(70111),a=r(3070),o=r(79518),s=r(5112),l=r(56339),c=s("hasInstance"),u=Function.prototype;c in u||a.f(u,c,{value:l((function(e){if(!n(this)||!i(e))return!1;var t=this.prototype;if(!i(t))return e instanceof this;for(;e=o(e);)if(t===e)return!0;return!1}),c)})},68309:(e,t,r)=>{var n=r(19781),i=r(76530).EXISTS,a=r(1702),o=r(47045),s=Function.prototype,l=a(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(c.exec);n&&!i&&o(s,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},35837:(e,t,r)=>{var n=r(82109),i=r(17854);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},38862:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(22104),o=r(46916),s=r(1702),l=r(47293),c=r(60614),u=r(52190),h=r(50206),d=r(88044),f=r(36293),p=String,g=i("JSON","stringify"),m=s(/./.exec),b=s("".charAt),y=s("".charCodeAt),v=s("".replace),w=s(1..toString),_=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,x=!f||l((function(){var e=i("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),S=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),k=function(e,t){var r=h(arguments),n=d(t);if(c(n)||void 0!==e&&!u(e))return r[1]=function(e,t){if(c(n)&&(t=o(n,this,p(e),t)),!u(t))return t},a(g,null,r)},R=function(e,t,r){var n=b(r,t-1),i=b(r,t+1);return m(A,e)&&!m(E,i)||m(E,e)&&!m(A,n)?"\\u"+w(y(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:x||S},{stringify:function(e,t,r){var n=h(arguments),i=a(x?k:g,null,n);return S&&"string"==typeof i?v(i,_,R):i}})},73706:(e,t,r)=>{var n=r(17854);r(58003)(n.JSON,"JSON",!0)},69098:(e,t,r)=>{r(77710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(95631))},51532:(e,t,r)=>{r(69098)},99752:(e,t,r)=>{var n=r(82109),i=r(26513),a=Math.acosh,o=Math.log,s=Math.sqrt,l=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?o(t)+l:i(t-1+s(t-1)*s(t+1))}})},82376:(e,t,r)=>{var n=r(82109),i=Math.asinh,a=Math.log,o=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var r=+t;return isFinite(r)&&0!=r?r<0?-e(-r):a(r+o(r*r+1)):r}})},73181:(e,t,r)=>{var n=r(82109),i=Math.atanh,a=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:a((1+t)/(1-t))/2}})},23484:(e,t,r)=>{var n=r(82109),i=r(64310),a=Math.abs,o=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*o(a(t),1/3)}})},2388:(e,t,r)=>{var n=r(82109),i=Math.floor,a=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*o):32}})},88621:(e,t,r)=>{var n=r(82109),i=r(66736),a=Math.cosh,o=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},60403:(e,t,r)=>{var n=r(82109),i=r(66736);n({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},84755:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{fround:r(26130)})},25438:(e,t,r)=>{var n=r(82109),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,s=0,l=arguments.length,c=0;s<l;)c<(r=a(arguments[s++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},90332:(e,t,r)=>{var n=r(82109),i=r(47293),a=Math.imul;n({target:"Math",stat:!0,forced:i((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(e,t){var r=65535,n=+e,i=+t,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)}})},40658:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{log10:r(20403)})},40197:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{log1p:r(26513)})},44914:(e,t,r)=>{var n=r(82109),i=Math.log,a=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},52420:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{sign:r(64310)})},60160:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(66736),o=Math.abs,s=Math.exp,l=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return o(t)<1?(a(t)-a(-t))/2:(s(t-1)-s(-t-1))*(l/2)}})},60970:(e,t,r)=>{var n=r(82109),i=r(66736),a=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=+e,r=i(t),n=i(-t);return r==1/0?1:n==1/0?-1:(r-n)/(a(t)+a(-t))}})},10408:(e,t,r)=>{r(58003)(Math,"Math",!0)},73689:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{trunc:r(74758)})},9653:(e,t,r)=>{var n=r(82109),i=r(31913),a=r(19781),o=r(17854),s=r(40857),l=r(1702),c=r(54705),u=r(92597),h=r(79587),d=r(47976),f=r(52190),p=r(57593),g=r(47293),m=r(8006).f,b=r(31236).f,y=r(3070).f,v=r(50863),w=r(53111).trim,_="Number",A=o[_],E=s[_],x=A.prototype,S=o.TypeError,k=l("".slice),R=l("".charCodeAt),I=c(_,!A(" 0o1")||!A("0b1")||A("+0x1")),T=function(e){var t,r=arguments.length<1?0:A(function(e){var t=p(e,"number");return"bigint"==typeof t?t:function(e){var t,r,n,i,a,o,s,l,c=p(e,"number");if(f(c))throw S("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(t=R(c,0))||45===t){if(88===(r=R(c,2))||120===r)return NaN}else if(48===t){switch(R(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(o=(a=k(c,2)).length,s=0;s<o;s++)if((l=R(a,s))<48||l>i)return NaN;return parseInt(a,n)}return+c}(t)}(e));return d(x,t=this)&&g((function(){v(t)}))?h(Object(r),this,T):r};T.prototype=x,I&&!i&&(x.constructor=T),n({global:!0,constructor:!0,wrap:!0,forced:I},{Number:T});var M=function(e,t){for(var r,n=a?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)u(t,r=n[i])&&!u(e,r)&&y(e,r,b(t,r))};i&&E&&M(s[_],E),(I||i)&&M(s[_],A)},93299:(e,t,r)=>{r(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},35192:(e,t,r)=>{r(82109)({target:"Number",stat:!0},{isFinite:r(77023)})},33161:(e,t,r)=>{r(82109)({target:"Number",stat:!0},{isInteger:r(55988)})},44048:(e,t,r)=>{r(82109)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},78285:(e,t,r)=>{var n=r(82109),i=r(55988),a=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},44363:(e,t,r)=>{r(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},55994:(e,t,r)=>{r(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},61874:(e,t,r)=>{var n=r(82109),i=r(2814);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:(e,t,r)=>{var n=r(82109),i=r(83009);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},31354:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19303),o=r(50863),s=r(38415),l=r(20403),c=r(47293),u=RangeError,h=String,d=isFinite,f=Math.abs,p=Math.floor,g=Math.pow,m=Math.round,b=i(1..toExponential),y=i(s),v=i("".slice),w="-6.9000e-11"===b(-69e-12,4)&&"1.25e+0"===b(1.255,2)&&"1.235e+4"===b(12345,3)&&"3e+1"===b(25,0);n({target:"Number",proto:!0,forced:!w||!(c((function(){b(1,1/0)}))&&c((function(){b(1,-1/0)})))||!!c((function(){b(1/0,1/0),b(NaN,1/0)}))},{toExponential:function(e){var t=o(this);if(void 0===e)return b(t);var r=a(e);if(!d(t))return String(t);if(r<0||r>20)throw u("Incorrect fraction digits");if(w)return b(t,r);var n="",i="",s=0,c="",_="";if(t<0&&(n="-",t=-t),0===t)s=0,i=y("0",r+1);else{var A=l(t);s=p(A);var E=0,x=g(10,s-r);2*t>=(2*(E=m(t/x))+1)*x&&(E+=1),E>=g(10,r+1)&&(E/=10,s+=1),i=h(E)}return 0!==r&&(i=v(i,0,1)+"."+v(i,1)),0===s?(c="+",_="0"):(c=s>0?"+":"-",_=h(f(s))),n+(i+"e")+c+_}})},56977:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19303),o=r(50863),s=r(38415),l=r(47293),c=RangeError,u=String,h=Math.floor,d=i(s),f=i("".slice),p=i(1..toFixed),g=function(e,t,r){return 0===t?r:t%2==1?g(e,t-1,r*e):g(e*e,t/2,r)},m=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=h(i/1e7)},b=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=h(n/t),n=n%t*1e7},y=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=u(e[t]);r=""===r?n:r+d("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:l((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!l((function(){p({})}))},{toFixed:function(e){var t,r,n,i,s=o(this),l=a(e),h=[0,0,0,0,0,0],p="",v="0";if(l<0||l>20)throw c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(p="-",s=-s),s>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(s*g(2,69,1))-69)<0?s*g(2,-t,1):s/g(2,t,1),r*=4503599627370496,(t=52-t)>0){for(m(h,0,r),n=l;n>=7;)m(h,1e7,0),n-=7;for(m(h,g(10,n,1),0),n=t-1;n>=23;)b(h,1<<23),n-=23;b(h,1<<n),m(h,1,1),b(h,2),v=y(h)}else m(h,0,r),m(h,1<<-t,0),v=y(h)+d("0",l);return l>0?p+((i=v.length)<=l?"0."+d("0",l-i)+v:f(v,0,i-l)+"."+f(v,i-l)):p+v}})},55147:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(47293),o=r(50863),s=i(1..toPrecision);n({target:"Number",proto:!0,forced:a((function(){return"1"!==s(1,void 0)}))||!a((function(){s({})}))},{toPrecision:function(e){return void 0===e?s(o(this)):s(o(this),e)}})},19601:(e,t,r)=>{var n=r(82109),i=r(21574);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},78011:(e,t,r)=>{r(82109)({target:"Object",stat:!0,sham:!r(19781)},{create:r(70030)})},59595:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(19662),s=r(47908),l=r(3070);i&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){l.f(s(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},33321:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(36048).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},69070:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(3070).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},35500:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(19662),s=r(47908),l=r(3070);i&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){l.f(s(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},69720:(e,t,r)=>{var n=r(82109),i=r(44699).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},43371:(e,t,r)=>{var n=r(82109),i=r(76677),a=r(47293),o=r(70111),s=r(62423).onFreeze,l=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!i},{freeze:function(e){return l&&o(e)?l(s(e)):e}})},38559:(e,t,r)=>{var n=r(82109),i=r(20408),a=r(86135);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},38880:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(45656),o=r(31236).f,s=r(19781);n({target:"Object",stat:!0,forced:!s||i((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},49337:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(53887),o=r(45656),s=r(31236),l=r(86135);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),i=s.f,c=a(n),u={},h=0;c.length>h;)void 0!==(r=i(n,t=c[h++]))&&l(u,t,r);return u}})},36210:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(1156).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},29660:(e,t,r)=>{var n=r(82109),i=r(36293),a=r(47293),o=r(25181),s=r(47908);n({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},30489:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(47908),o=r(79518),s=r(49920);n({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},46314:(e,t,r)=>{r(82109)({target:"Object",stat:!0},{hasOwn:r(92597)})},41825:(e,t,r)=>{var n=r(82109),i=r(52050);n({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},98410:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(70111),o=r(84326),s=r(7556),l=Object.isFrozen;n({target:"Object",stat:!0,forced:s||i((function(){l(1)}))},{isFrozen:function(e){return!a(e)||!(!s||"ArrayBuffer"!=o(e))||!!l&&l(e)}})},72200:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(70111),o=r(84326),s=r(7556),l=Object.isSealed;n({target:"Object",stat:!0,forced:s||i((function(){l(1)}))},{isSealed:function(e){return!a(e)||!(!s||"ArrayBuffer"!=o(e))||!!l&&l(e)}})},43304:(e,t,r)=>{r(82109)({target:"Object",stat:!0},{is:r(81150)})},47941:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(81956);n({target:"Object",stat:!0,forced:r(47293)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},94869:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(47908),s=r(34948),l=r(79518),c=r(31236).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=o(this),n=s(e);do{if(t=c(r,n))return t.get}while(r=l(r))}})},33952:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(47908),s=r(34948),l=r(79518),c=r(31236).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=o(this),n=s(e);do{if(t=c(r,n))return t.set}while(r=l(r))}})},57227:(e,t,r)=>{var n=r(82109),i=r(70111),a=r(62423).onFreeze,o=r(76677),s=r(47293),l=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!o},{preventExtensions:function(e){return l&&i(e)?l(a(e)):e}})},67987:(e,t,r)=>{var n=r(19781),i=r(47045),a=r(70111),o=r(47908),s=r(84488),l=Object.getPrototypeOf,c=Object.setPrototypeOf,u=Object.prototype,h="__proto__";if(n&&l&&c&&!(h in u))try{i(u,h,{configurable:!0,get:function(){return l(o(this))},set:function(e){var t=s(this);(a(e)||null===e)&&a(t)&&c(t,e)}})}catch(e){}},60514:(e,t,r)=>{var n=r(82109),i=r(70111),a=r(62423).onFreeze,o=r(76677),s=r(47293),l=Object.seal;n({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!o},{seal:function(e){return l&&i(e)?l(a(e)):e}})},68304:(e,t,r)=>{r(82109)({target:"Object",stat:!0},{setPrototypeOf:r(27674)})},41539:(e,t,r)=>{var n=r(51694),i=r(98052),a=r(90288);n||i(Object.prototype,"toString",a,{unsafe:!0})},26833:(e,t,r)=>{var n=r(82109),i=r(44699).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},54678:(e,t,r)=>{var n=r(82109),i=r(2814);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},91058:(e,t,r)=>{var n=r(82109),i=r(83009);n({global:!0,forced:parseInt!=i},{parseInt:i})},17922:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(78523),s=r(12534),l=r(20408);n({target:"Promise",stat:!0,forced:r(80612)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,i(r,t,e).then((function(e){l||(l=!0,o[a]={status:"fulfilled",value:e},--c||n(o))}),(function(e){l||(l=!0,o[a]={status:"rejected",reason:e},--c||n(o))}))})),--c||n(o)}));return u.error&&c(u.value),r.promise}})},70821:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(78523),s=r(12534),l=r(20408);n({target:"Promise",stat:!0,forced:r(80612)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,i(r,t,e).then((function(e){l||(l=!0,o[a]=e,--u||n(o))}),c)})),--u||n(o)}));return u.error&&c(u.value),r.promise}})},34668:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(35005),s=r(78523),l=r(12534),c=r(20408),u=r(80612),h="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),u=n.resolve,d=n.reject,f=l((function(){var n=a(t.resolve),o=[],s=0,l=1,f=!1;c(e,(function(e){var a=s++,c=!1;l++,i(n,t,e).then((function(e){c||f||(f=!0,u(e))}),(function(e){c||f||(c=!0,o[a]=e,--l||d(new r(o,h)))}))})),--l||d(new r(o,h))}));return f.error&&d(f.value),n.promise}})},94164:(e,t,r)=>{var n=r(82109),i=r(31913),a=r(63702).CONSTRUCTOR,o=r(2492),s=r(35005),l=r(60614),c=r(98052),u=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(o)){var h=s("Promise").prototype.catch;u.catch!==h&&c(u,"catch",h,{unsafe:!0})}},43401:(e,t,r)=>{var n,i,a,o=r(82109),s=r(31913),l=r(35268),c=r(17854),u=r(46916),h=r(98052),d=r(27674),f=r(58003),p=r(96340),g=r(19662),m=r(60614),b=r(70111),y=r(25787),v=r(36707),w=r(20261).set,_=r(95948),A=r(842),E=r(12534),x=r(18572),S=r(29909),k=r(2492),R=r(63702),I=r(78523),T="Promise",M=R.CONSTRUCTOR,P=R.REJECTION_EVENT,C=R.SUBCLASSING,O=S.getterFor(T),L=S.set,N=k&&k.prototype,B=k,D=N,U=c.TypeError,V=c.document,F=c.process,j=I.f,q=j,z=!!(V&&V.createEvent&&c.dispatchEvent),$="unhandledrejection",H=function(e){var t;return!(!b(e)||!m(t=e.then))&&t},G=function(e,t){var r,n,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,h=e.domain;try{s?(o||(2===t.rejection&&Y(t),t.rejection=1),!0===s?r=a:(h&&h.enter(),r=s(a),h&&(h.exit(),i=!0)),r===e.promise?c(U("Promise-chain cycle")):(n=H(r))?u(n,r,l,c):l(r)):c(a)}catch(e){h&&!i&&h.exit(),c(e)}},W=function(e,t){e.notified||(e.notified=!0,_((function(){for(var r,n=e.reactions;r=n.get();)G(r,e);e.notified=!1,t&&!e.rejection&&Q(e)})))},J=function(e,t,r){var n,i;z?((n=V.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!P&&(i=c["on"+e])?i(n):e===$&&A("Unhandled promise rejection",r)},Q=function(e){u(w,c,(function(){var t,r=e.facade,n=e.value;if(K(e)&&(t=E((function(){l?F.emit("unhandledRejection",n,r):J($,r,n)})),e.rejection=l||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){u(w,c,(function(){var t=e.facade;l?F.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(n){e(t,n,r)}},X=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,W(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw U("Promise can't be resolved itself");var n=H(t);n?_((function(){var r={done:!1};try{u(n,t,Z(ee,r,e),Z(X,r,e))}catch(t){X(r,t,e)}})):(e.value=t,e.state=1,W(e,!1))}catch(t){X({done:!1},t,e)}}};if(M&&(D=(B=function(e){y(this,D),g(e),u(n,this);var t=O(this);try{e(Z(ee,t),Z(X,t))}catch(e){X(t,e)}}).prototype,(n=function(e){L(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(e,t){var r=O(this),n=j(v(this,B));return r.parent=!0,n.ok=!m(e)||e,n.fail=m(t)&&t,n.domain=l?F.domain:void 0,0==r.state?r.reactions.add(n):_((function(){G(n,r)})),n.promise})),i=function(){var e=new n,t=O(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(X,t)},I.f=j=function(e){return e===B||void 0===e?new i(e):q(e)},!s&&m(k)&&N!==Object.prototype)){a=N.then,C||h(N,"then",(function(e,t){var r=this;return new B((function(e,t){u(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}d&&d(N,D)}o({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:B}),f(B,T,!1,!0),p(T)},17727:(e,t,r)=>{var n=r(82109),i=r(31913),a=r(2492),o=r(47293),s=r(35005),l=r(60614),c=r(36707),u=r(69478),h=r(98052),d=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=l(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&l(a)){var f=s("Promise").prototype.finally;d.finally!==f&&h(d,"finally",f,{unsafe:!0})}},88674:(e,t,r)=>{r(43401),r(70821),r(94164),r(6027),r(60683),r(96294)},6027:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(78523),s=r(12534),l=r(20408);n({target:"Promise",stat:!0,forced:r(80612)},{race:function(e){var t=this,r=o.f(t),n=r.reject,c=s((function(){var o=a(t.resolve);l(e,(function(e){i(o,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},60683:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(78523);n({target:"Promise",stat:!0,forced:r(63702).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},96294:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(31913),o=r(2492),s=r(63702).CONSTRUCTOR,l=r(69478),c=i("Promise"),u=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},36535:(e,t,r)=>{var n=r(82109),i=r(22104),a=r(19662),o=r(19670);n({target:"Reflect",stat:!0,forced:!r(47293)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,r){return i(a(e),t,o(r))}})},12419:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(22104),o=r(27065),s=r(39483),l=r(19670),c=r(70111),u=r(70030),h=r(47293),d=i("Reflect","construct"),f=Object.prototype,p=[].push,g=h((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!h((function(){d((function(){}))})),b=g||m;n({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){s(e),l(t);var r=arguments.length<3?e:s(arguments[2]);if(m&&!g)return d(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return a(p,n,t),new(a(o,e,n))}var i=r.prototype,h=u(c(i)?i:f),b=a(e,h,t);return c(b)?b:h}})},69596:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(19670),o=r(34948),s=r(3070);n({target:"Reflect",stat:!0,forced:r(47293)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,r){a(e);var n=o(t);a(r);try{return s.f(e,n,r),!0}catch(e){return!1}}})},52586:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(31236).f;n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},95683:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(19670),o=r(31236);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o.f(a(e),t)}})},39361:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(79518);n({target:"Reflect",stat:!0,sham:!r(49920)},{getPrototypeOf:function(e){return a(i(e))}})},74819:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(70111),o=r(19670),s=r(45032),l=r(31236),c=r(79518);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,u,h=arguments.length<3?t:arguments[2];return o(t)===h?t[r]:(n=l.f(t,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,h):a(u=c(t))?e(u,r,h):void 0}})},51037:(e,t,r)=>{r(82109)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},5898:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(52050);n({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),a(e)}})},67556:(e,t,r)=>{r(82109)({target:"Reflect",stat:!0},{ownKeys:r(53887)})},14361:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(19670);n({target:"Reflect",stat:!0,sham:!r(76677)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},39532:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(96077),o=r(27674);o&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return o(e,t),!0}catch(e){return!1}}})},83593:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19670),o=r(70111),s=r(45032),l=r(47293),c=r(3070),u=r(31236),h=r(79518),d=r(79114);n({target:"Reflect",stat:!0,forced:l((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,r,n){var l,f,p,g=arguments.length<4?t:arguments[3],m=u.f(a(t),r);if(!m){if(o(f=h(t)))return e(f,r,n,g);m=d(0)}if(s(m)){if(!1===m.writable||!o(g))return!1;if(l=u.f(g,r)){if(l.get||l.set||!1===l.writable)return!1;l.value=n,c.f(g,r,l)}else c.f(g,r,d(0,n))}else{if(void 0===(p=m.set))return!1;i(p,g,n)}return!0}})},81299:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(58003);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},24603:(e,t,r)=>{var n=r(19781),i=r(17854),a=r(1702),o=r(54705),s=r(79587),l=r(68880),c=r(8006).f,u=r(47976),h=r(47850),d=r(41340),f=r(34706),p=r(52999),g=r(2626),m=r(98052),b=r(47293),y=r(92597),v=r(29909).enforce,w=r(96340),_=r(5112),A=r(9441),E=r(38173),x=_("match"),S=i.RegExp,k=S.prototype,R=i.SyntaxError,I=a(k.exec),T=a("".charAt),M=a("".replace),P=a("".indexOf),C=a("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,N=/a/g,B=new S(L)!==L,D=p.MISSED_STICKY,U=p.UNSUPPORTED_Y;if(o("RegExp",n&&(!B||D||A||E||b((function(){return N[x]=!1,S(L)!=L||S(N)==N||"/a/i"!=S(L,"i")}))))){for(var V=function(e,t){var r,n,i,a,o,c,p=u(k,this),g=h(e),m=void 0===t,b=[],w=e;if(!p&&g&&m&&e.constructor===V)return e;if((g||u(k,e))&&(e=e.source,m&&(t=f(w))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),w=e,A&&"dotAll"in L&&(n=!!t&&P(t,"s")>-1)&&(t=M(t,/s/g,"")),r=t,D&&"sticky"in L&&(i=!!t&&P(t,"y")>-1)&&U&&(t=M(t,/y/g,"")),E&&(a=function(e){for(var t,r=e.length,n=0,i="",a=[],o={},s=!1,l=!1,c=0,u="";n<=r;n++){if("\\"===(t=T(e,n)))t+=T(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:I(O,C(e,n+1))&&(n+=2,l=!0),i+=t,c++;continue;case">"===t&&l:if(""===u||y(o,u))throw new R("Invalid capture group name");o[u]=!0,a[a.length]=[u,c],l=!1,u="";continue}l?u+=t:i+=t}return[i,a]}(e),e=a[0],b=a[1]),o=s(S(e,t),p?this:k,V),(n||i||b.length)&&(c=v(o),n&&(c.dotAll=!0,c.raw=V(function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(t=T(e,n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+T(e,++n);return i}(e),r)),i&&(c.sticky=!0),b.length&&(c.groups=b)),e!==w)try{l(o,"source",""===w?"(?:)":w)}catch(e){}return o},F=c(S),j=0;F.length>j;)g(V,S,F[j++]);k.constructor=V,V.prototype=k,m(i,"RegExp",V,{constructor:!0})}w("RegExp")},28450:(e,t,r)=>{var n=r(19781),i=r(9441),a=r(84326),o=r(47045),s=r(29909).get,l=RegExp.prototype,c=TypeError;n&&i&&o(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!s(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},74916:(e,t,r)=>{var n=r(82109),i=r(22261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},92087:(e,t,r)=>{var n=r(17854),i=r(19781),a=r(47045),o=r(67066),s=r(47293),l=n.RegExp,c=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||r!==n}))&&a(c,"flags",{configurable:!0,get:o})},88386:(e,t,r)=>{var n=r(19781),i=r(52999).MISSED_STICKY,a=r(84326),o=r(47045),s=r(29909).get,l=RegExp.prototype,c=TypeError;n&&i&&o(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!s(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},77601:(e,t,r)=>{r(74916);var n,i,a=r(82109),o=r(46916),s=r(60614),l=r(19670),c=r(41340),u=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),h=/./.test;a({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=l(this),r=c(e),n=t.exec;if(!s(n))return o(h,t,r);var i=o(n,t,r);return null!==i&&(l(i),!0)}})},39714:(e,t,r)=>{var n=r(76530).PROPER,i=r(98052),a=r(19670),o=r(41340),s=r(47293),l=r(34706),c="toString",u=RegExp.prototype[c],h=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=n&&u.name!=c;(h||d)&&i(RegExp.prototype,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(l(e))}),{unsafe:!0})},37227:(e,t,r)=>{r(77710)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(95631))},70189:(e,t,r)=>{r(37227)},15218:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},24506:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(84488),o=r(19303),s=r(41340),l=r(47293),c=i("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),r=t.length,n=o(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(t,i)}})},74475:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("big")},{big:function(){return i(this,"big","","")}})},57929:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("blink")},{blink:function(){return i(this,"blink","","")}})},50915:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("bold")},{bold:function(){return i(this,"b","","")}})},79841:(e,t,r)=>{var n=r(82109),i=r(28710).codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},27852:(e,t,r)=>{var n,i=r(82109),a=r(21470),o=r(31236).f,s=r(17466),l=r(41340),c=r(3929),u=r(84488),h=r(84964),d=r(31913),f=a("".endsWith),p=a("".slice),g=Math.min,m=h("endsWith");i({target:"String",proto:!0,forced:!(!d&&!m&&(n=o(String.prototype,"endsWith"),n&&!n.writable)||m)},{endsWith:function(e){var t=l(u(this));c(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:g(s(r),n),a=l(e);return f?f(t,a,i):p(t,i-a.length,i)===a}})},29253:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("fixed")},{fixed:function(){return i(this,"tt","","")}})},42125:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},78830:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},94953:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(51400),o=RangeError,s=String.fromCharCode,l=String.fromCodePoint,c=i([].join);n({target:"String",stat:!0,arity:1,forced:!!l&&1!=l.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw o(t+" is not a valid code point");r[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return c(r,"")}})},32023:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(3929),o=r(84488),s=r(41340),l=r(84964),c=i("".indexOf);n({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},58734:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("italics")},{italics:function(){return i(this,"i","","")}})},78783:(e,t,r)=>{var n=r(28710).charAt,i=r(41340),a=r(29909),o=r(51656),s=r(76178),l="String Iterator",c=a.set,u=a.getterFor(l);o(String,"String",(function(e){c(this,{type:l,string:i(e),index:0})}),(function(){var e,t=u(this),r=t.string,i=t.index;return i>=r.length?s(void 0,!0):(e=n(r,i),t.index+=e.length,s(e,!1))}))},29254:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("link")},{link:function(e){return i(this,"a","href",e)}})},76373:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(21470),o=r(63061),s=r(76178),l=r(84488),c=r(17466),u=r(41340),h=r(19670),d=r(68554),f=r(84326),p=r(47850),g=r(34706),m=r(58173),b=r(98052),y=r(47293),v=r(5112),w=r(36707),_=r(31530),A=r(97651),E=r(29909),x=r(31913),S=v("matchAll"),k="RegExp String",R=k+" Iterator",I=E.set,T=E.getterFor(R),M=RegExp.prototype,P=TypeError,C=a("".indexOf),O=a("".matchAll),L=!!O&&!y((function(){O("a",/./)})),N=o((function(e,t,r,n){I(this,{type:R,regexp:e,string:t,global:r,unicode:n,done:!1})}),k,(function(){var e=T(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,n=A(t,r);return null===n?(e.done=!0,s(void 0,!0)):e.global?(""===u(n[0])&&(t.lastIndex=_(r,c(t.lastIndex),e.unicode)),s(n,!1)):(e.done=!0,s(n,!1))})),B=function(e){var t,r,n,i=h(this),a=u(e),o=w(i,RegExp),s=u(g(i));return t=new o(o===RegExp?i.source:i,s),r=!!~C(s,"g"),n=!!~C(s,"u"),t.lastIndex=c(i.lastIndex),new N(t,a,r,n)};n({target:"String",proto:!0,forced:L},{matchAll:function(e){var t,r,n,a,o=l(this);if(d(e)){if(L)return O(o,e)}else{if(p(e)&&(t=u(l(g(e))),!~C(t,"g")))throw P("`.matchAll` does not allow non-global regexes");if(L)return O(o,e);if(void 0===(n=m(e,S))&&x&&"RegExp"==f(e)&&(n=B),n)return i(n,e,o)}return r=u(o),a=new RegExp(e,"g"),x?i(B,a,r):a[S](r)}}),x||S in M||b(M,S,B)},4723:(e,t,r)=>{var n=r(46916),i=r(27007),a=r(19670),o=r(68554),s=r(17466),l=r(41340),c=r(84488),u=r(58173),h=r(31530),d=r(97651);i("match",(function(e,t,r){return[function(t){var r=c(this),i=o(t)?void 0:u(t,e);return i?n(i,t,r):new RegExp(t)[e](l(r))},function(e){var n=a(this),i=l(e),o=r(t,n,i);if(o.done)return o.value;if(!n.global)return d(n,i);var c=n.unicode;n.lastIndex=0;for(var u,f=[],p=0;null!==(u=d(n,i));){var g=l(u[0]);f[p]=g,""===g&&(n.lastIndex=h(i,s(n.lastIndex),c)),p++}return 0===p?null:f}]}))},66528:(e,t,r)=>{var n=r(82109),i=r(76650).end;n({target:"String",proto:!0,forced:r(54986)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},83112:(e,t,r)=>{var n=r(82109),i=r(76650).start;n({target:"String",proto:!0,forced:r(54986)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},38992:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(45656),o=r(47908),s=r(41340),l=r(26244),c=i([].push),u=i([].join);n({target:"String",stat:!0},{raw:function(e){var t=a(o(e).raw),r=l(t);if(!r)return"";for(var n=arguments.length,i=[],h=0;;){if(c(i,s(t[h++])),h===r)return u(i,"");h<n&&c(i,s(arguments[h]))}}})},82481:(e,t,r)=>{r(82109)({target:"String",proto:!0},{repeat:r(38415)})},68757:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(1702),o=r(84488),s=r(60614),l=r(68554),c=r(47850),u=r(41340),h=r(58173),d=r(34706),f=r(10647),p=r(5112),g=r(31913),m=p("replace"),b=TypeError,y=a("".indexOf),v=a("".replace),w=a("".slice),_=Math.max,A=function(e,t,r){return r>e.length?-1:""===t?r:y(e,t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,a,p,E,x,S,k,R,I=o(this),T=0,M=0,P="";if(!l(e)){if((r=c(e))&&(n=u(o(d(e))),!~y(n,"g")))throw b("`.replaceAll` does not allow non-global regexes");if(a=h(e,m))return i(a,e,I,t);if(g&&r)return v(u(I),e,t)}for(p=u(I),E=u(e),(x=s(t))||(t=u(t)),S=E.length,k=_(1,S),T=A(p,E,0);-1!==T;)R=x?u(t(E,T,p)):f(E,p,T,[],void 0,t),P+=w(p,M,T)+R,M=T+S,T=A(p,E,T+k);return M<p.length&&(P+=w(p,M)),P}})},15306:(e,t,r)=>{var n=r(22104),i=r(46916),a=r(1702),o=r(27007),s=r(47293),l=r(19670),c=r(60614),u=r(68554),h=r(19303),d=r(17466),f=r(41340),p=r(84488),g=r(31530),m=r(58173),b=r(10647),y=r(97651),v=r(5112)("replace"),w=Math.max,_=Math.min,A=a([].concat),E=a([].push),x=a("".indexOf),S=a("".slice),k="$0"==="a".replace(/./,"$0"),R=!!/./[v]&&""===/./[v]("a","$0");o("replace",(function(e,t,r){var a=R?"$":"$0";return[function(e,r){var n=p(this),a=u(e)?void 0:m(e,v);return a?i(a,e,n,r):i(t,f(n),e,r)},function(e,i){var o=l(this),s=f(e);if("string"==typeof i&&-1===x(i,a)&&-1===x(i,"$<")){var u=r(t,o,s,i);if(u.done)return u.value}var p=c(i);p||(i=f(i));var m=o.global;if(m){var v=o.unicode;o.lastIndex=0}for(var k=[];;){var R=y(o,s);if(null===R)break;if(E(k,R),!m)break;""===f(R[0])&&(o.lastIndex=g(s,d(o.lastIndex),v))}for(var I,T="",M=0,P=0;P<k.length;P++){for(var C=f((R=k[P])[0]),O=w(_(h(R.index),s.length),0),L=[],N=1;N<R.length;N++)E(L,void 0===(I=R[N])?I:String(I));var B=R.groups;if(p){var D=A([C],L,O,s);void 0!==B&&E(D,B);var U=f(n(i,void 0,D))}else U=b(C,s,O,L,B,i);O>=M&&(T+=S(s,M,O)+U,M=O+C.length)}return T+S(s,M)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||R)},64765:(e,t,r)=>{var n=r(46916),i=r(27007),a=r(19670),o=r(68554),s=r(84488),l=r(81150),c=r(41340),u=r(58173),h=r(97651);i("search",(function(e,t,r){return[function(t){var r=s(this),i=o(t)?void 0:u(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n=a(this),i=c(e),o=r(t,n,i);if(o.done)return o.value;var s=n.lastIndex;l(s,0)||(n.lastIndex=0);var u=h(n,i);return l(n.lastIndex,s)||(n.lastIndex=s),null===u?-1:u.index}]}))},37268:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("small")},{small:function(){return i(this,"small","","")}})},23123:(e,t,r)=>{var n=r(22104),i=r(46916),a=r(1702),o=r(27007),s=r(19670),l=r(68554),c=r(47850),u=r(84488),h=r(36707),d=r(31530),f=r(17466),p=r(41340),g=r(58173),m=r(41589),b=r(97651),y=r(22261),v=r(52999),w=r(47293),_=v.UNSUPPORTED_Y,A=4294967295,E=Math.min,x=[].push,S=a(/./.exec),k=a(x),R=a("".slice);o("split",(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=p(u(this)),o=void 0===r?A:r>>>0;if(0===o)return[];if(void 0===e)return[a];if(!c(e))return i(t,a,e,o);for(var s,l,h,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,b=new RegExp(e.source,f+"g");(s=i(y,b,a))&&!((l=b.lastIndex)>g&&(k(d,R(a,g,s.index)),s.length>1&&s.index<a.length&&n(x,d,m(s,1)),h=s[0].length,g=l,d.length>=o));)b.lastIndex===s.index&&b.lastIndex++;return g===a.length?!h&&S(b,"")||k(d,""):k(d,R(a,g)),d.length>o?m(d,0,o):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var n=u(this),o=l(t)?void 0:g(t,e);return o?i(o,t,n,r):i(a,p(n),t,r)},function(e,n){var i=s(this),o=p(e),l=r(a,i,o,n,a!==t);if(l.done)return l.value;var c=h(i,RegExp),u=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(_?"g":"y"),m=new c(_?"^(?:"+i.source+")":i,g),y=void 0===n?A:n>>>0;if(0===y)return[];if(0===o.length)return null===b(m,o)?[o]:[];for(var v=0,w=0,x=[];w<o.length;){m.lastIndex=_?0:w;var S,I=b(m,_?R(o,w):o);if(null===I||(S=E(f(m.lastIndex+(_?w:0)),o.length))===v)w=d(o,w,u);else{if(k(x,R(o,v,w)),x.length===y)return x;for(var T=1;T<=I.length-1;T++)if(k(x,I[T]),x.length===y)return x;w=v=S}}return k(x,R(o,v)),x}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),_)},23157:(e,t,r)=>{var n,i=r(82109),a=r(21470),o=r(31236).f,s=r(17466),l=r(41340),c=r(3929),u=r(84488),h=r(84964),d=r(31913),f=a("".startsWith),p=a("".slice),g=Math.min,m=h("startsWith");i({target:"String",proto:!0,forced:!(!d&&!m&&(n=o(String.prototype,"startsWith"),n&&!n.writable)||m)},{startsWith:function(e){var t=l(u(this));c(e);var r=s(g(arguments.length>1?arguments[1]:void 0,t.length)),n=l(e);return f?f(t,n,r):p(t,r,r+n.length)===n}})},7397:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("strike")},{strike:function(){return i(this,"strike","","")}})},60086:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("sub")},{sub:function(){return i(this,"sub","","")}})},83650:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(84488),o=r(19303),s=r(41340),l=i("".slice),c=Math.max,u=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var r,n,i=s(a(this)),h=i.length,d=o(e);return d===1/0&&(d=0),d<0&&(d=c(h+d,0)),(r=void 0===t?h:o(t))<=0||r===1/0||d>=(n=u(d+r,h))?"":l(i,d,n)}})},80623:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("sup")},{sup:function(){return i(this,"sup","","")}})},48702:(e,t,r)=>{r(83462);var n=r(82109),i=r(10365);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},99967:(e,t,r)=>{var n=r(82109),i=r(33217);n({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},83462:(e,t,r)=>{var n=r(82109),i=r(10365);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},55674:(e,t,r)=>{r(99967);var n=r(82109),i=r(33217);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},73210:(e,t,r)=>{var n=r(82109),i=r(53111).trim;n({target:"String",proto:!0,forced:r(76091)("trim")},{trim:function(){return i(this)}})},72443:(e,t,r)=>{r(26800)("asyncIterator")},4032:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(46916),o=r(1702),s=r(31913),l=r(19781),c=r(36293),u=r(47293),h=r(92597),d=r(47976),f=r(19670),p=r(45656),g=r(34948),m=r(41340),b=r(79114),y=r(70030),v=r(81956),w=r(8006),_=r(1156),A=r(25181),E=r(31236),x=r(3070),S=r(36048),k=r(55296),R=r(98052),I=r(47045),T=r(72309),M=r(6200),P=r(3501),C=r(69711),O=r(5112),L=r(6061),N=r(26800),B=r(56532),D=r(58003),U=r(29909),V=r(42092).forEach,F=M("hidden"),j="Symbol",q="prototype",z=U.set,$=U.getterFor(j),H=Object[q],G=i.Symbol,W=G&&G[q],J=i.TypeError,Q=i.QObject,K=E.f,Y=x.f,Z=_.f,X=k.f,ee=o([].push),te=T("symbols"),re=T("op-symbols"),ne=T("wks"),ie=!Q||!Q[q]||!Q[q].findChild,ae=l&&u((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=K(H,t);n&&delete H[t],Y(e,t,r),n&&e!==H&&Y(H,t,n)}:Y,oe=function(e,t){var r=te[e]=y(W);return z(r,{type:j,tag:e,description:t}),l||(r.description=t),r},se=function(e,t,r){e===H&&se(re,t,r),f(e);var n=g(t);return f(r),h(te,n)?(r.enumerable?(h(e,F)&&e[F][n]&&(e[F][n]=!1),r=y(r,{enumerable:b(0,!1)})):(h(e,F)||Y(e,F,b(1,{})),e[F][n]=!0),ae(e,n,r)):Y(e,n,r)},le=function(e,t){f(e);var r=p(t),n=v(r).concat(de(r));return V(n,(function(t){l&&!a(ce,r,t)||se(e,t,r[t])})),e},ce=function(e){var t=g(e),r=a(X,this,t);return!(this===H&&h(te,t)&&!h(re,t))&&(!(r||!h(this,t)||!h(te,t)||h(this,F)&&this[F][t])||r)},ue=function(e,t){var r=p(e),n=g(t);if(r!==H||!h(te,n)||h(re,n)){var i=K(r,n);return!i||!h(te,n)||h(r,F)&&r[F][n]||(i.enumerable=!0),i}},he=function(e){var t=Z(p(e)),r=[];return V(t,(function(e){h(te,e)||h(P,e)||ee(r,e)})),r},de=function(e){var t=e===H,r=Z(t?re:p(e)),n=[];return V(r,(function(e){!h(te,e)||t&&!h(H,e)||ee(n,te[e])})),n};c||(R(W=(G=function(){if(d(W,this))throw J("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=C(e),r=function(e){this===H&&a(r,re,e),h(this,F)&&h(this[F],t)&&(this[F][t]=!1),ae(this,t,b(1,e))};return l&&ie&&ae(H,t,{configurable:!0,set:r}),oe(t,e)})[q],"toString",(function(){return $(this).tag})),R(G,"withoutSetter",(function(e){return oe(C(e),e)})),k.f=ce,x.f=se,S.f=le,E.f=ue,w.f=_.f=he,A.f=de,L.f=function(e){return oe(O(e),e)},l&&(I(W,"description",{configurable:!0,get:function(){return $(this).description}}),s||R(H,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),V(v(ne),(function(e){N(e)})),n({target:j,stat:!0,forced:!c},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he}),B(),D(G,j),P[F]=!0},41817:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(17854),o=r(1702),s=r(92597),l=r(60614),c=r(47976),u=r(41340),h=r(47045),d=r(99920),f=a.Symbol,p=f&&f.prototype;if(i&&l(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};d(m,f),m.prototype=p,p.constructor=m;var b="Symbol(test)"==String(f("test")),y=o(p.valueOf),v=o(p.toString),w=/^Symbol\((.*)\)[^)]+$/,_=o("".replace),A=o("".slice);h(p,"description",{configurable:!0,get:function(){var e=y(this);if(s(g,e))return"";var t=v(e),r=b?A(t,7,-1):_(t,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},40763:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(92597),o=r(41340),s=r(72309),l=r(2015),c=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=o(e);if(a(c,t))return c[t];var r=i("Symbol")(t);return c[t]=r,u[r]=t,r}})},92401:(e,t,r)=>{r(26800)("hasInstance")},8722:(e,t,r)=>{r(26800)("isConcatSpreadable")},32165:(e,t,r)=>{r(26800)("iterator")},82526:(e,t,r)=>{r(4032),r(40763),r(26620),r(38862),r(29660)},26620:(e,t,r)=>{var n=r(82109),i=r(92597),a=r(52190),o=r(66330),s=r(72309),l=r(2015),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},16066:(e,t,r)=>{r(26800)("matchAll")},69007:(e,t,r)=>{r(26800)("match")},83510:(e,t,r)=>{r(26800)("replace")},41840:(e,t,r)=>{r(26800)("search")},6982:(e,t,r)=>{r(26800)("species")},32159:(e,t,r)=>{r(26800)("split")},96649:(e,t,r)=>{var n=r(26800),i=r(56532);n("toPrimitive"),i()},39341:(e,t,r)=>{var n=r(35005),i=r(26800),a=r(58003);i("toStringTag"),a(n("Symbol"),"Symbol")},60543:(e,t,r)=>{r(26800)("unscopables")},48675:(e,t,r)=>{var n=r(90260),i=r(26244),a=r(19303),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},92990:(e,t,r)=>{var n=r(1702),i=r(90260),a=n(r(1048)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},18927:(e,t,r)=>{var n=r(90260),i=r(42092).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33105:(e,t,r)=>{var n=r(90260),i=r(21285),a=r(64599),o=r(70648),s=r(46916),l=r(1702),c=r(47293),u=n.aTypedArray,h=n.exportTypedArrayMethod,d=l("".slice);h("fill",(function(e){var t=arguments.length;u(this);var r="Big"===d(o(this),0,3)?a(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},35035:(e,t,r)=>{var n=r(90260),i=r(42092).filter,a=r(43074),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,r)=>{var n=r(90260),i=r(42092).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},14590:(e,t,r)=>{var n=r(90260),i=r(9671).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},63408:(e,t,r)=>{var n=r(90260),i=r(9671).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},74345:(e,t,r)=>{var n=r(90260),i=r(42092).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},44197:(e,t,r)=>{r(19843)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},76495:(e,t,r)=>{r(19843)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},32846:(e,t,r)=>{var n=r(90260),i=r(42092).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},98145:(e,t,r)=>{var n=r(63832);(0,r(90260).exportTypedArrayStaticMethod)("from",r(97321),n)},44731:(e,t,r)=>{var n=r(90260),i=r(41318).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},77209:(e,t,r)=>{var n=r(90260),i=r(41318).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},35109:(e,t,r)=>{r(19843)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},65125:(e,t,r)=>{r(19843)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},87145:(e,t,r)=>{r(19843)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},96319:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(1702),o=r(90260),s=r(66992),l=r(5112)("iterator"),c=n.Uint8Array,u=a(s.values),h=a(s.keys),d=a(s.entries),f=o.aTypedArray,p=o.exportTypedArrayMethod,g=c&&c.prototype,m=!i((function(){g[l].call([1])})),b=!!g&&g.values&&g[l]===g.values&&"values"===g.values.name,y=function(){return u(f(this))};p("entries",(function(){return d(f(this))}),m),p("keys",(function(){return h(f(this))}),m),p("values",y,m||!b,{name:"values"}),p(l,y,m||!b,{name:"values"})},58867:(e,t,r)=>{var n=r(90260),i=r(1702),a=n.aTypedArray,o=n.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},37789:(e,t,r)=>{var n=r(90260),i=r(22104),a=r(86583),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},33739:(e,t,r)=>{var n=r(90260),i=r(42092).map,a=r(66304),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},95206:(e,t,r)=>{var n=r(90260),i=r(63832),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},14483:(e,t,r)=>{var n=r(90260),i=r(53671).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},29368:(e,t,r)=>{var n=r(90260),i=r(53671).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},12056:(e,t,r)=>{var n=r(90260),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,r=i(t).length,n=o(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t}))},3462:(e,t,r)=>{var n=r(17854),i=r(46916),a=r(90260),o=r(26244),s=r(84590),l=r(47908),c=r(47293),u=n.RangeError,h=n.Int8Array,d=h&&h.prototype,f=d&&d.set,p=a.aTypedArray,g=a.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),b=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(m)return i(f,this,r,t);var n=this.length,a=o(r),c=0;if(a+t>n)throw u("Wrong length");for(;c<a;)this[t+c]=r[c++]}),!m||b)},30678:(e,t,r)=>{var n=r(90260),i=r(66304),a=r(47293),o=r(50206),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(e,t){for(var r=o(s(this),e,t),n=i(this),a=0,l=r.length,c=new n(l);l>a;)c[a]=r[a++];return c}),a((function(){new Int8Array(1).slice()})))},27462:(e,t,r)=>{var n=r(90260),i=r(42092).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33824:(e,t,r)=>{var n=r(17854),i=r(21470),a=r(47293),o=r(19662),s=r(94362),l=r(90260),c=r(68886),u=r(30256),h=r(7392),d=r(98008),f=l.aTypedArray,p=l.exportTypedArrayMethod,g=n.Uint16Array,m=g&&i(g.prototype.sort),b=!(!m||a((function(){m(new g(2),null)}))&&a((function(){m(new g(2),{})}))),y=!!m&&!a((function(){if(h)return h<74;if(c)return c<67;if(u)return!0;if(d)return d<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(m(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));p("sort",(function(e){return void 0!==e&&o(e),y?m(this,e):s(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||b)},55021:(e,t,r)=>{var n=r(90260),i=r(17466),a=r(51400),o=r(66304),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length,l=a(e,n);return new(o(r))(r.buffer,r.byteOffset+l*r.BYTES_PER_ELEMENT,i((void 0===t?n:a(t,n))-l))}))},12974:(e,t,r)=>{var n=r(17854),i=r(22104),a=r(90260),o=r(47293),s=r(50206),l=n.Int8Array,c=a.aTypedArray,u=a.exportTypedArrayMethod,h=[].toLocaleString,d=!!l&&o((function(){h.call(new l(1))}));u("toLocaleString",(function(){return i(h,d?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!o((function(){l.prototype.toLocaleString.call([1,2])})))},1439:(e,t,r)=>{var n=r(21843),i=r(90260),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return n(a(this),s(this))}))},87585:(e,t,r)=>{var n=r(90260),i=r(1702),a=r(19662),o=r(97745),s=n.aTypedArray,l=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=o(l(t),t);return u(r,e)}))},15016:(e,t,r)=>{var n=r(90260).exportTypedArrayMethod,i=r(47293),a=r(17854),o=r(1702),s=a.Uint8Array,l=s&&s.prototype||{},c=[].toString,u=o([].join);i((function(){c.call({})}))&&(c=function(){return u(this)});var h=l.toString!=c;n("toString",c,h)},8255:(e,t,r)=>{r(19843)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},29135:(e,t,r)=>{r(19843)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},82472:(e,t,r)=>{r(19843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},49743:(e,t,r)=>{r(19843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},55315:(e,t,r)=>{var n=r(11572),i=r(90260),a=r(44067),o=r(19303),s=r(64599),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=l(this),i=o(e),u=a(r)?s(t):+t;return n(r,c(r),i,u)}}.with,!h)},78221:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(41340),o=String.fromCharCode,s=i("".charAt),l=i(/./.exec),c=i("".slice),u=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(e){for(var t,r,n=a(e),i="",d=n.length,f=0;f<d;){if("%"===(t=s(n,f++)))if("u"===s(n,f)){if(r=c(n,f+1,f+5),l(h,r)){i+=o(parseInt(r,16)),f+=5;continue}}else if(r=c(n,f,f+2),l(u,r)){i+=o(parseInt(r,16)),f+=2;continue}i+=t}return i}})},41202:(e,t,r)=>{var n,i=r(76677),a=r(17854),o=r(1702),s=r(89190),l=r(62423),c=r(77710),u=r(29320),h=r(70111),d=r(29909).enforce,f=r(47293),p=r(94811),g=Object,m=Array.isArray,b=g.isExtensible,y=g.isFrozen,v=g.isSealed,w=g.freeze,_=g.seal,A={},E={},x=!a.ActiveXObject&&"ActiveXObject"in a,S=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},k=c("WeakMap",S,u),R=k.prototype,I=o(R.set);if(p)if(x){n=u.getConstructor(S,"WeakMap",!0),l.enable();var T=o(R.delete),M=o(R.has),P=o(R.get);s(R,{delete:function(e){if(h(e)&&!b(e)){var t=d(this);return t.frozen||(t.frozen=new n),T(this,e)||t.frozen.delete(e)}return T(this,e)},has:function(e){if(h(e)&&!b(e)){var t=d(this);return t.frozen||(t.frozen=new n),M(this,e)||t.frozen.has(e)}return M(this,e)},get:function(e){if(h(e)&&!b(e)){var t=d(this);return t.frozen||(t.frozen=new n),M(this,e)?P(this,e):t.frozen.get(e)}return P(this,e)},set:function(e,t){if(h(e)&&!b(e)){var r=d(this);r.frozen||(r.frozen=new n),M(this,e)?I(this,e,t):r.frozen.set(e,t)}else I(this,e,t);return this}})}else i&&f((function(){var e=w([]);return I(new k,e,1),!y(e)}))&&s(R,{set:function(e,t){var r;return m(e)&&(y(e)?r=A:v(e)&&(r=E)),I(this,e,t),r==A&&w(e),r==E&&_(e),this}})},4129:(e,t,r)=>{r(41202)},72098:(e,t,r)=>{r(77710)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(29320))},38478:(e,t,r)=>{r(72098)},75505:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(35005),o=r(1702),s=r(46916),l=r(47293),c=r(41340),u=r(92597),h=r(48053),d=r(14170).ctoi,f=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,g=/[=]{1,2}$/,m=a("atob"),b=String.fromCharCode,y=o("".charAt),v=o("".replace),w=o(f.exec),_=l((function(){return""!==m(" ")})),A=!l((function(){m("a")})),E=!_&&!A&&!l((function(){m()})),x=!_&&!A&&1!==m.length;n({global:!0,bind:!0,enumerable:!0,forced:_||A||E||x},{atob:function(e){if(h(arguments.length,1),E||x)return s(m,i,e);var t,r,n=v(c(e),p,""),o="",l=0,_=0;if(n.length%4==0&&(n=v(n,g,"")),n.length%4==1||w(f,n))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;t=y(n,l++);)u(d,t)&&(r=_%4?64*r+d[t]:d[t],_++%4&&(o+=b(255&r>>(-2*_&6))));return o}})},27479:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(35005),o=r(1702),s=r(46916),l=r(47293),c=r(41340),u=r(48053),h=r(14170).itoc,d=a("btoa"),f=o("".charAt),p=o("".charCodeAt),g=!!d&&!l((function(){d()})),m=!!d&&l((function(){return"bnVsbA=="!==d(null)})),b=!!d&&1!==d.length;n({global:!0,bind:!0,enumerable:!0,forced:g||m||b},{btoa:function(e){if(u(arguments.length,1),g||m||b)return s(d,i,c(e));for(var t,r,n=c(e),o="",l=0,y=h;f(n,l)||(y="=",l%1);){if((r=p(n,l+=3/4))>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=f(y,63&(t=t<<8|r)>>8-l%1*8)}return o}})},11091:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(20261).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},54747:(e,t,r)=>{var n=r(17854),i=r(48324),a=r(98509),o=r(18533),s=r(68880),l=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&l(n[c]&&n[c].prototype);l(a)},33948:(e,t,r)=>{var n=r(17854),i=r(48324),a=r(98509),o=r(66992),s=r(68880),l=r(5112),c=l("iterator"),u=l("toStringTag"),h=o.values,d=function(e,t){if(e){if(e[c]!==h)try{s(e,c,h)}catch(t){e[c]=h}if(e[u]||s(e,u,t),i[t])for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(t){e[r]=o[r]}}};for(var f in i)d(n[f]&&n[f].prototype,f);d(a,"DOMTokenList")},87714:(e,t,r)=>{var n=r(82109),i=r(44038),a=r(35005),o=r(47293),s=r(70030),l=r(79114),c=r(3070).f,u=r(98052),h=r(47045),d=r(92597),f=r(25787),p=r(19670),g=r(7762),m=r(56277),b=r(93678),y=r(11060),v=r(29909),w=r(19781),_=r(31913),A="DOMException",E="DATA_CLONE_ERR",x=a("Error"),S=a(A)||function(){try{(new(a("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==E&&25==e.code)return e.constructor}}(),k=S&&S.prototype,R=x.prototype,I=v.set,T=v.getterFor(A),M="stack"in x(A),P=function(e){return d(b,e)&&b[e].m?b[e].c:0},C=function(){f(this,O);var e=arguments.length,t=m(e<1?void 0:arguments[0]),r=m(e<2?void 0:arguments[1],"Error"),n=P(r);if(I(this,{type:A,name:r,message:t,code:n}),w||(this.name=r,this.message=t,this.code=n),M){var i=x(t);i.name=A,c(this,"stack",l(1,y(i.stack,1)))}},O=C.prototype=s(R),L=function(e){return{enumerable:!0,configurable:!0,get:e}},N=function(e){return L((function(){return T(this)[e]}))};w&&(h(O,"code",N("code")),h(O,"message",N("message")),h(O,"name",N("name"))),c(O,"constructor",l(1,C));var B=o((function(){return!(new S instanceof x)})),D=B||o((function(){return R.toString!==g||"2: 1"!==String(new S(1,2))})),U=B||o((function(){return 25!==new S(1,"DataCloneError").code})),V=B||25!==S[E]||25!==k[E],F=_?D||U||V:B;n({global:!0,constructor:!0,forced:F},{DOMException:F?C:S});var j=a(A),q=j.prototype;for(var z in D&&(_||S===j)&&u(q,"toString",g),U&&w&&S===j&&h(q,"code",L((function(){return P(p(this).name)}))),b)if(d(b,z)){var $=b[z],H=$.s,G=l(6,$.c);d(j,H)||c(j,H,G),d(q,H)||c(q,H,G)}},82801:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(35005),o=r(79114),s=r(3070).f,l=r(92597),c=r(25787),u=r(79587),h=r(56277),d=r(93678),f=r(11060),p=r(19781),g=r(31913),m="DOMException",b=a("Error"),y=a(m),v=function(){c(this,w);var e=arguments.length,t=h(e<1?void 0:arguments[0]),r=h(e<2?void 0:arguments[1],"Error"),n=new y(t,r),i=b(t);return i.name=m,s(n,"stack",o(1,f(i.stack,1))),u(n,this,v),n},w=v.prototype=y.prototype,_="stack"in b(m),A="stack"in new y(1,2),E=y&&p&&Object.getOwnPropertyDescriptor(i,m),x=!(!E||E.writable&&E.configurable),S=_&&!x&&!A;n({global:!0,constructor:!0,forced:g||S},{DOMException:S?v:y});var k=a(m),R=k.prototype;if(R.constructor!==k)for(var I in g||s(R,"constructor",o(1,k)),d)if(l(d,I)){var T=d[I],M=T.s;l(k,M)||s(k,M,o(6,T.c))}},1174:(e,t,r)=>{var n=r(35005),i="DOMException";r(58003)(n(i),i)},84633:(e,t,r)=>{r(11091),r(12986)},85844:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(95948),o=r(19662),s=r(48053),l=r(35268),c=i.process;n({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),o(e);var t=l&&c.domain;a(t?t.bind(e):e)}})},71550:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(47045),o=r(19781),s=TypeError,l=Object.defineProperty,c=i.self!==i;try{if(o){var u=Object.getOwnPropertyDescriptor(i,"self");!c&&u&&u.get&&u.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw s("Illegal invocation");l(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:c},{self:i})}catch(e){}},12986:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(20261).set,o=r(17152),s=i.setImmediate?o(a,!1):a;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},96815:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(17152)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},88417:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(17152)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},61295:(e,t,r)=>{var n,i=r(31913),a=r(82109),o=r(17854),s=r(35005),l=r(1702),c=r(47293),u=r(69711),h=r(60614),d=r(4411),f=r(68554),p=r(70111),g=r(52190),m=r(20408),b=r(19670),y=r(70648),v=r(92597),w=r(86135),_=r(68880),A=r(26244),E=r(48053),x=r(34706),S=r(75706),k=r(79405),R=r(22914),I=r(64124),T=o.Object,M=o.Array,P=o.Date,C=o.Error,O=o.EvalError,L=o.RangeError,N=o.ReferenceError,B=o.SyntaxError,D=o.TypeError,U=o.URIError,V=o.PerformanceMark,F=o.WebAssembly,j=F&&F.CompileError||C,q=F&&F.LinkError||C,z=F&&F.RuntimeError||C,$=s("DOMException"),H=S.Map,G=S.has,W=S.get,J=S.set,Q=k.Set,K=k.add,Y=s("Object","keys"),Z=l([].push),X=l((!0).valueOf),ee=l(1..valueOf),te=l("".valueOf),re=l(P.prototype.getTime),ne=u("structuredClone"),ie="DataCloneError",ae="Transferring",oe=function(e){return!c((function(){var t=new o.Set([7]),r=e(t),n=e(T(7));return r==t||!r.has(7)||"object"!=typeof n||7!=n}))&&e},se=function(e,t){return!c((function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)}))},le=o.structuredClone,ce=i||!se(le,C)||!se(le,$)||(n=le,!!c((function(){var e=n(new o.AggregateError([1],ne,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=ne||3!=e.cause}))),ue=!le&&oe((function(e){return new V(ne,{detail:e}).detail})),he=oe(le)||ue,de=function(e){throw new $("Uncloneable type: "+e,ie)},fe=function(e,t){throw new $((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ie)},pe=function(e,t){return he||fe(t),he(e)},ge=function(e,t){if(g(e)&&de("Symbol"),!p(e))return e;if(t){if(G(t,e))return W(t,e)}else t=new H;var r,n,i,a,l,c,u,d,f,m,b,E=y(e),S=!1;switch(E){case"Array":i=M(A(e)),S=!0;break;case"Object":i={},S=!0;break;case"Map":i=new H,S=!0;break;case"Set":i=new Q,S=!0;break;case"RegExp":i=new RegExp(e.source,x(e));break;case"Error":switch(n=e.name){case"AggregateError":i=s("AggregateError")([]);break;case"EvalError":i=O();break;case"RangeError":i=L();break;case"ReferenceError":i=N();break;case"SyntaxError":i=B();break;case"TypeError":i=D();break;case"URIError":i=U();break;case"CompileError":i=j();break;case"LinkError":i=q();break;case"RuntimeError":i=z();break;default:i=C()}S=!0;break;case"DOMException":i=new $(e.message,e.name),S=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r=o[E],p(r)||fe(E),i=new r(ge(e.buffer,t),e.byteOffset,"DataView"===E?e.byteLength:e.length);break;case"DOMQuad":try{i=new DOMQuad(ge(e.p1,t),ge(e.p2,t),ge(e.p3,t),ge(e.p4,t))}catch(t){i=pe(e,E)}break;case"File":if(he)try{i=he(e),y(i)!==E&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||fe(E);break;case"FileList":if(a=function(){var e;try{e=new o.DataTransfer}catch(t){try{e=new o.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(l=0,c=A(e);l<c;l++)a.items.add(ge(e[l],t));i=a.files}else i=pe(e,E);break;case"ImageData":try{i=new ImageData(ge(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=pe(e,E)}break;default:if(he)i=he(e);else switch(E){case"BigInt":i=T(e.valueOf());break;case"Boolean":i=T(X(e));break;case"Number":i=T(ee(e));break;case"String":i=T(te(e));break;case"Date":i=new P(re(e));break;case"ArrayBuffer":(r=o.DataView)||"function"==typeof e.slice||fe(E);try{if("function"!=typeof e.slice||e.resizable){c=e.byteLength,b="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(c,b),f=new r(e),m=new r(i);for(l=0;l<c;l++)m.setUint8(l,f.getUint8(l))}else i=e.slice(0)}catch(e){throw new $("ArrayBuffer is detached",ie)}break;case"SharedArrayBuffer":i=e;break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){fe(E)}break;case"DOMPoint":case"DOMPointReadOnly":r=o[E];try{i=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(e){fe(E)}break;case"DOMRect":case"DOMRectReadOnly":r=o[E];try{i=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(e){fe(E)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=o[E];try{i=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(e){fe(E)}break;case"AudioData":case"VideoFrame":h(e.clone)||fe(E);try{i=e.clone()}catch(e){de(E)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fe(E);default:de(E)}}if(J(t,e,i),S)switch(E){case"Array":case"Object":for(u=Y(e),l=0,c=A(u);l<c;l++)d=u[l],w(i,d,ge(e[d],t));break;case"Map":e.forEach((function(e,r){J(i,ge(r,t),ge(e,t))}));break;case"Set":e.forEach((function(e){K(i,ge(e,t))}));break;case"Error":_(i,"message",ge(e.message,t)),v(e,"cause")&&_(i,"cause",ge(e.cause,t)),"AggregateError"==n&&(i.errors=ge(e.errors,t));case"DOMException":R&&_(i,"stack",ge(e.stack,t))}return i};a({global:!0,enumerable:!0,sham:!I,forced:ce},{structuredClone:function(e){var t,r=E(arguments.length,1)>1&&!f(arguments[1])?b(arguments[1]):void 0,n=r?r.transfer:void 0;return void 0!==n&&function(e,t){if(!p(e))throw D("Transfer option cannot be converted to a sequence");var r=[];m(e,(function(e){Z(r,b(e))}));var n,i,a,s,l,c,u=0,f=A(r);if(I)for(s=le(r,{transfer:r});u<f;)J(t,r[u],s[u++]);else for(;u<f;){if(n=r[u++],G(t,n))throw new $("Duplicate transferable",ie);switch(i=y(n)){case"ImageBitmap":a=o.OffscreenCanvas,d(a)||fe(i,ae);try{(c=new a(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),l=c.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":h(n.clone)&&h(n.close)||fe(i,ae);try{l=n.clone(),n.close()}catch(e){}break;case"ArrayBuffer":h(n.transfer)||fe(i,ae),l=n.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fe(i,ae)}if(void 0===l)throw new $("This object cannot be transferred: "+i,ie);J(t,n,l)}}(n,t=new H),ge(e,t)}})},32564:(e,t,r)=>{r(96815),r(88417)},65556:(e,t,r)=>{r(66992);var n=r(82109),i=r(17854),a=r(46916),o=r(1702),s=r(19781),l=r(85143),c=r(98052),u=r(47045),h=r(89190),d=r(58003),f=r(63061),p=r(29909),g=r(25787),m=r(60614),b=r(92597),y=r(49974),v=r(70648),w=r(19670),_=r(70111),A=r(41340),E=r(70030),x=r(79114),S=r(18554),k=r(71246),R=r(48053),I=r(5112),T=r(94362),M=I("iterator"),P="URLSearchParams",C=P+"Iterator",O=p.set,L=p.getterFor(P),N=p.getterFor(C),B=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return i[e];var t=B(i,e);return t&&t.value},U=D("fetch"),V=D("Request"),F=D("Headers"),j=V&&V.prototype,q=F&&F.prototype,z=i.RegExp,$=i.TypeError,H=i.decodeURIComponent,G=i.encodeURIComponent,W=o("".charAt),J=o([].join),Q=o([].push),K=o("".replace),Y=o([].shift),Z=o([].splice),X=o("".split),ee=o("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return H(e)}catch(t){return e}},ae=function(e){var t=K(e,te," "),r=4;try{return H(t)}catch(e){for(;r;)t=K(t,ne(r--),ie);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},le=function(e){return se[e]},ce=function(e){return K(G(e),oe,le)},ue=f((function(e,t){O(this,{type:C,iterator:S(L(e).entries),kind:t})}),"Iterator",(function(){var e=N(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(_(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?ee(e,1):e:A(e)))};he.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,s,l,c=k(e);if(c)for(r=(t=S(e,c)).next;!(n=a(r,t)).done;){if(o=(i=S(w(n.value))).next,(s=a(o,i)).done||(l=a(o,i)).done||!a(o,i).done)throw $("Expected sequence with length 2");Q(this.entries,{key:A(s.value),value:A(l.value)})}else for(var u in e)b(e,u)&&Q(this.entries,{key:u,value:A(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=X(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=X(t,"="),Q(this.entries,{key:ae(Y(r)),value:ae(J(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],Q(r,ce(e.key)+"="+ce(e.value));return J(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){g(this,fe);var e=O(this,new he(arguments.length>0?arguments[0]:void 0));s||(this.length=e.entries.length)},fe=de.prototype;if(h(fe,{append:function(e,t){R(arguments.length,2);var r=L(this);Q(r.entries,{key:A(e),value:A(t)}),s||this.length++,r.updateURL()},delete:function(e){R(arguments.length,1);for(var t=L(this),r=t.entries,n=A(e),i=0;i<r.length;)r[i].key===n?Z(r,i,1):i++;s||(this.length=r.length),t.updateURL()},get:function(e){R(arguments.length,1);for(var t=L(this).entries,r=A(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){R(arguments.length,1);for(var t=L(this).entries,r=A(e),n=[],i=0;i<t.length;i++)t[i].key===r&&Q(n,t[i].value);return n},has:function(e){R(arguments.length,1);for(var t=L(this).entries,r=A(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){R(arguments.length,1);for(var r,n=L(this),i=n.entries,a=!1,o=A(e),l=A(t),c=0;c<i.length;c++)(r=i[c]).key===o&&(a?Z(i,c--,1):(a=!0,r.value=l));a||Q(i,{key:o,value:l}),s||(this.length=i.length),n.updateURL()},sort:function(){var e=L(this);T(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=L(this).entries,n=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),c(fe,M,fe.entries,{name:"entries"}),c(fe,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),s&&u(fe,"size",{get:function(){return L(this).entries.length},configurable:!0,enumerable:!0}),d(de,P),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:de}),!l&&m(F)){var pe=o(q.has),ge=o(q.set),me=function(e){if(_(e)){var t,r=e.body;if(v(r)===P)return t=e.headers?new F(e.headers):new F,pe(t,"content-type")||ge(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:x(0,A(r)),headers:x(0,t)})}return e};if(m(U)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?me(arguments[1]):{})}}),m(V)){var be=function(e){return g(this,j),new V(e,arguments.length>1?me(arguments[1]):{})};j.constructor=be,be.prototype=j,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:be})}}e.exports={URLSearchParams:de,getState:L}},41637:(e,t,r)=>{r(65556)},62062:(e,t,r)=>{var n=r(19781),i=r(1702),a=r(47045),o=URLSearchParams.prototype,s=i(o.forEach);n&&!("size"in o)&&a(o,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7994:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(47293),o=r(48053),s=r(41340),l=r(85143),c=i("URL");n({target:"URL",stat:!0,forced:!(l&&a((function(){c.canParse()})))},{canParse:function(e){var t=o(arguments.length,1),r=s(e),n=t<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return!!new c(r,n)}catch(e){return!1}}})},68789:(e,t,r)=>{r(78783);var n,i=r(82109),a=r(19781),o=r(85143),s=r(17854),l=r(49974),c=r(1702),u=r(98052),h=r(47045),d=r(25787),f=r(92597),p=r(21574),g=r(48457),m=r(41589),b=r(28710).codeAt,y=r(33197),v=r(41340),w=r(58003),_=r(48053),A=r(65556),E=r(29909),x=E.set,S=E.getterFor("URL"),k=A.URLSearchParams,R=A.getState,I=s.URL,T=s.TypeError,M=s.parseInt,P=Math.floor,C=Math.pow,O=c("".charAt),L=c(/./.exec),N=c([].join),B=c(1..toString),D=c([].pop),U=c([].push),V=c("".replace),F=c([].shift),j=c("".split),q=c("".slice),z=c("".toLowerCase),$=c([].unshift),H="Invalid scheme",G="Invalid host",W="Invalid port",J=/[a-z]/i,Q=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,Z=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)$(t,e%256),e=P(e/256);return N(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=B(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},se={},le=p({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=p({},le,{"#":1,"?":1,"{":1,"}":1}),ue=p({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),he=function(e,t){var r=b(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var r;return 2==e.length&&L(J,O(e,0))&&(":"==(r=O(e,1))||!t&&"|"==r)},pe=function(e){var t;return e.length>1&&fe(q(e,0,2))&&(2==e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},ge=function(e){return"."===e||"%2e"===z(e)},me={},be={},ye={},ve={},we={},_e={},Ae={},Ee={},xe={},Se={},ke={},Re={},Ie={},Te={},Me={},Pe={},Ce={},Oe={},Le={},Ne={},Be={},De=function(e,t,r){var n,i,a,o=v(e);if(t){if(i=this.parse(o))throw T(i);this.searchParams=null}else{if(void 0!==r&&(n=new De(r,!0)),i=this.parse(o,null,n))throw T(i);(a=R(new k)).bindURL(this),this.searchParams=a}};De.prototype={type:"URL",parse:function(e,t,r){var i,a,o,s,l,c=this,u=t||me,h=0,d="",p=!1,b=!1,y=!1;for(e=v(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=V(e,ne,""),e=V(e,ie,"$1")),e=V(e,ae,""),i=g(e);h<=i.length;){switch(a=i[h],u){case me:if(!a||!L(J,a)){if(t)return H;u=ye;continue}d+=z(a),u=be;break;case be:if(a&&(L(Q,a)||"+"==a||"-"==a||"."==a))d+=z(a);else{if(":"!=a){if(t)return H;d="",u=ye,h=0;continue}if(t&&(c.isSpecial()!=f(de,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&de[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=Te:c.isSpecial()&&r&&r.scheme==c.scheme?u=ve:c.isSpecial()?u=Ee:"/"==i[h+1]?(u=we,h++):(c.cannotBeABaseURL=!0,U(c.path,""),u=Le)}break;case ye:if(!r||r.cannotBeABaseURL&&"#"!=a)return H;if(r.cannotBeABaseURL&&"#"==a){c.scheme=r.scheme,c.path=m(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,u=Be;break}u="file"==r.scheme?Te:_e;continue;case ve:if("/"!=a||"/"!=i[h+1]){u=_e;continue}u=xe,h++;break;case we:if("/"==a){u=Se;break}u=Oe;continue;case _e:if(c.scheme=r.scheme,a==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query=r.query;else if("/"==a||"\\"==a&&c.isSpecial())u=Ae;else if("?"==a)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query="",u=Ne;else{if("#"!=a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.path.length--,u=Oe;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query=r.query,c.fragment="",u=Be}break;case Ae:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,u=Oe;continue}u=Se}else u=xe;break;case Ee:if(u=xe,"/"!=a||"/"!=O(d,h+1))continue;h++;break;case xe:if("/"!=a&&"\\"!=a){u=Se;continue}break;case Se:if("@"==a){p&&(d="%40"+d),p=!0,o=g(d);for(var w=0;w<o.length;w++){var _=o[w];if(":"!=_||y){var A=he(_,ue);y?c.password+=A:c.username+=A}else y=!0}d=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(p&&""==d)return"Invalid authority";h-=g(d).length+1,d="",u=ke}else d+=a;break;case ke:case Re:if(t&&"file"==c.scheme){u=Pe;continue}if(":"!=a||b){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==d)return G;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",u=Ce,t)return;continue}"["==a?b=!0:"]"==a&&(b=!1),d+=a}else{if(""==d)return G;if(s=c.parseHost(d))return s;if(d="",u=Ie,t==Re)return}break;case Ie:if(!L(K,a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=d){var E=M(d,10);if(E>65535)return W;c.port=c.isSpecial()&&E===de[c.scheme]?null:E,d=""}if(t)return;u=Ce;continue}return W}d+=a;break;case Te:if(c.scheme="file","/"==a||"\\"==a)u=Me;else{if(!r||"file"!=r.scheme){u=Oe;continue}if(a==n)c.host=r.host,c.path=m(r.path),c.query=r.query;else if("?"==a)c.host=r.host,c.path=m(r.path),c.query="",u=Ne;else{if("#"!=a){pe(N(m(i,h),""))||(c.host=r.host,c.path=m(r.path),c.shortenPath()),u=Oe;continue}c.host=r.host,c.path=m(r.path),c.query=r.query,c.fragment="",u=Be}}break;case Me:if("/"==a||"\\"==a){u=Pe;break}r&&"file"==r.scheme&&!pe(N(m(i,h),""))&&(fe(r.path[0],!0)?U(c.path,r.path[0]):c.host=r.host),u=Oe;continue;case Pe:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&fe(d))u=Oe;else if(""==d){if(c.host="",t)return;u=Ce}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),t)return;d="",u=Ce}continue}d+=a;break;case Ce:if(c.isSpecial()){if(u=Oe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=n&&(u=Oe,"/"!=a))continue}else c.fragment="",u=Be;else c.query="",u=Ne;break;case Oe:if(a==n||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(l=z(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||U(c.path,"")):ge(d)?"/"==a||"\\"==a&&c.isSpecial()||U(c.path,""):("file"==c.scheme&&!c.path.length&&fe(d)&&(c.host&&(c.host=""),d=O(d,0)+":"),U(c.path,d)),d="","file"==c.scheme&&(a==n||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)F(c.path);"?"==a?(c.query="",u=Ne):"#"==a&&(c.fragment="",u=Be)}else d+=he(a,ce);break;case Le:"?"==a?(c.query="",u=Ne):"#"==a?(c.fragment="",u=Be):a!=n&&(c.path[0]+=he(a,se));break;case Ne:t||"#"!=a?a!=n&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":he(a,se)):(c.fragment="",u=Be);break;case Be:a!=n&&(c.fragment+=he(a,le))}h++}},parseHost:function(e){var t,r,n;if("["==O(e,0)){if("]"!=O(e,e.length-1))return G;if(t=function(e){var t,r,n,i,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return O(e,h)};if(":"==d()){if(":"!=O(e,1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&L(ee,d());)t=16*t+M(d(),16),h++,r++;if("."==d()){if(0==r)return;if(h-=r,c>6)return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;h++}if(!L(K,d()))return;for(;L(K,d());){if(a=M(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}l[c]=256*l[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l}(q(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),L(te,e))return G;if(t=function(e){var t,r,n,i,a,o,s,l=j(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(a=10,i.length>1&&"0"==O(i,0)&&(a=L(Y,i)?16:8,i=q(i,8==a?1:2)),""===i)o=0;else{if(!L(10==a?X:8==a?Z:ee,i))return e;o=M(i,a)}U(r,o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=C(256,5-t))return null}else if(o>255)return null;for(s=D(r),n=0;n<r.length;n++)s+=r[n]*C(256,3-n);return s}(e),null===t)return G;this.host=t}else{if(L(re,e))return G;for(t="",r=g(e),n=0;n<r.length;n++)t+=he(r[n],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=oe(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+N(o,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ue(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=he(t[r],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=he(t[r],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=v(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ce))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=v(e))?this.query=null:("?"==O(e,0)&&(e=q(e,1)),this.query="",this.parse(e,Ne)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=v(e))?("#"==O(e,0)&&(e=q(e,1)),this.fragment="",this.parse(e,Be)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ue=function(e){var t=d(this,Ve),r=_(arguments.length,1)>1?arguments[1]:void 0,n=x(t,new De(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ve=Ue.prototype,Fe=function(e,t){return{get:function(){return S(this)[e]()},set:t&&function(e){return S(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(h(Ve,"href",Fe("serialize","setHref")),h(Ve,"origin",Fe("getOrigin")),h(Ve,"protocol",Fe("getProtocol","setProtocol")),h(Ve,"username",Fe("getUsername","setUsername")),h(Ve,"password",Fe("getPassword","setPassword")),h(Ve,"host",Fe("getHost","setHost")),h(Ve,"hostname",Fe("getHostname","setHostname")),h(Ve,"port",Fe("getPort","setPort")),h(Ve,"pathname",Fe("getPathname","setPathname")),h(Ve,"search",Fe("getSearch","setSearch")),h(Ve,"searchParams",Fe("getSearchParams")),h(Ve,"hash",Fe("getHash","setHash"))),u(Ve,"toJSON",(function(){return S(this).serialize()}),{enumerable:!0}),u(Ve,"toString",(function(){return S(this).serialize()}),{enumerable:!0}),I){var je=I.createObjectURL,qe=I.revokeObjectURL;je&&u(Ue,"createObjectURL",l(je,I)),qe&&u(Ue,"revokeObjectURL",l(qe,I))}w(Ue,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Ue})},60285:(e,t,r)=>{r(68789)},83753:(e,t,r)=>{var n=r(82109),i=r(46916);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},28594:(e,t,r)=>{r(82526),r(41817),r(72443),r(92401),r(8722),r(32165),r(69007),r(16066),r(83510),r(41840),r(6982),r(32159),r(96649),r(39341),r(60543),r(21703),r(96647),r(9170),r(32120),r(52262),r(92222),r(50545),r(26541),r(43290),r(57327),r(69826),r(34553),r(67635),r(77287),r(84944),r(86535),r(89554),r(91038),r(26699),r(82772),r(79753),r(66992),r(69600),r(94986),r(21249),r(26572),r(57658),r(85827),r(96644),r(65069),r(47042),r(5212),r(2707),r(38706),r(40561),r(90476),r(76459),r(99892),r(33792),r(99244),r(30541),r(35581),r(18264),r(76938),r(39575),r(16716),r(43016),r(3843),r(81801),r(9550),r(28733),r(5735),r(96078),r(83710),r(62130),r(24812),r(4855),r(68309),r(35837),r(38862),r(73706),r(51532),r(99752),r(82376),r(73181),r(23484),r(2388),r(88621),r(60403),r(84755),r(25438),r(90332),r(40658),r(40197),r(44914),r(52420),r(60160),r(60970),r(10408),r(73689),r(9653),r(93299),r(35192),r(33161),r(44048),r(78285),r(44363),r(55994),r(61874),r(9494),r(31354),r(56977),r(55147),r(19601),r(78011),r(59595),r(33321),r(69070),r(35500),r(69720),r(43371),r(38559),r(38880),r(49337),r(36210),r(30489),r(46314),r(43304),r(41825),r(98410),r(72200),r(47941),r(94869),r(33952),r(57227),r(67987),r(60514),r(68304),r(41539),r(26833),r(54678),r(91058),r(88674),r(17922),r(34668),r(17727),r(36535),r(12419),r(69596),r(52586),r(74819),r(95683),r(39361),r(51037),r(5898),r(67556),r(14361),r(83593),r(39532),r(81299),r(24603),r(28450),r(74916),r(92087),r(88386),r(77601),r(39714),r(70189),r(24506),r(79841),r(27852),r(94953),r(32023),r(78783),r(4723),r(76373),r(66528),r(83112),r(38992),r(82481),r(15306),r(68757),r(64765),r(23123),r(23157),r(83650),r(73210),r(48702),r(55674),r(15218),r(74475),r(57929),r(50915),r(29253),r(42125),r(78830),r(58734),r(29254),r(37268),r(7397),r(60086),r(80623),r(44197),r(76495),r(87145),r(35109),r(65125),r(82472),r(49743),r(8255),r(29135),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(63408),r(14590),r(32846),r(98145),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(95206),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(1439),r(87585),r(15016),r(55315),r(78221),r(4129),r(38478),r(75505),r(27479),r(54747),r(33948),r(87714),r(82801),r(1174),r(84633),r(85844),r(71550),r(61295),r(32564),r(60285),r(7994),r(83753),r(41637),r(62062),r(40857)},72594:(e,t,r)=>{var n=r(63518);e.exports={create:function(e,t){if(e instanceof(t=t||(0,eval)("this")).ArrayBuffer){var i=r(59565);return new n(new i(e,0,e.byteLength,!0,t))}var a=r(11618);return new n(new a(e,0,e.length,!0))}}},11618:e=>{function t(e,t,r,n){this.buffer=e,this.offset=t||0,r="number"==typeof r?r:e.length,this.endPosition=this.offset+r,this.setBigEndian(n)}t.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new t(e.buffer,r,e.endPosition-r,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,r){return r="number"==typeof r?r:this.endPosition-(this.offset+e),new t(this.buffer,this.offset+e,r,this.bigEndian)}},e.exports=t},70292:e=>{function t(e){return parseInt(e,10)}function r(e,r){e=e.map(t),r=r.map(t);var n=e[0],i=e[1]-1,a=e[2],o=r[0],s=r[1],l=r[2];return Date.UTC(n,i,a,o,s,l,0)/1e3}function n(e){var n=e.substr(0,10).split("-"),i=e.substr(11,8).split(":"),a=e.substr(19,6).split(":").map(t),o=3600*a[0]+60*a[1],s=r(n,i);if("number"==typeof(s-=o)&&!isNaN(s))return s}function i(e){var t=e.split(" "),n=r(t[0].split(":"),t[1].split(":"));if("number"==typeof n&&!isNaN(n))return n}e.exports={parseDateWithSpecFormat:i,parseDateWithTimezoneFormat:n,parseExifDate:function(e){var t=19===e.length&&":"===e.charAt(4);return 25===e.length&&"T"===e.charAt(10)?n(e):t?i(e):void 0}}},59565:e=>{function t(e,t,r,n,i,a){this.global=i,t=t||0,r=r||e.byteLength-t,this.arrayBuffer=e.slice(t,t+r),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(n),this.offset=0,this.parentOffset=(a||0)+t}t.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new t(e.arrayBuffer,r,e.arrayBuffer.byteLength-r,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,r){return r="number"==typeof r?r:this.arrayBuffer.byteLength-(this.offset+e),new t(this.arrayBuffer,this.offset+e,r,!this.littleEndian,this.global,this.parentOffset)}},e.exports=t},22108:e=>{e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},57315:e=>{function t(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function r(e,r){var n,i,a=r.nextUInt16(),o=r.nextUInt16(),s=function(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(o),l=r.nextUInt32(),c=s*l;if(c>4&&(r=e.openWithOffset(r.nextUInt32())),2===o){var u=(n=r.nextString(l)).indexOf("\0");-1!==u&&(n=n.substr(0,u))}else if(7===o)n=r.nextBuffer(l);else if(0!==o)for(n=[],i=0;i<l;++i)n.push(t(o,r));return c<4&&r.skip(4-c),[a,n,o]}function n(e,t,n){var i,a,o=t.nextUInt16();for(a=0;a<o;++a)n((i=r(e,t))[0],i[1],i[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var r,i,a,o;try{r=function(e){if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var t=e.mark(),r=e.nextUInt16();if(18761===r)e.setBigEndian(!1);else{if(19789!==r)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return t}(e)}catch(e){return!1}var s=r.openWithOffset(e.nextUInt32()),l=this.IFD0;n(r,s,(function(e,r,n){switch(e){case 34853:a=r[0];break;case 34665:i=r[0];break;default:t(l,e,r,n)}}));var c=s.nextUInt32();if(0!==c){var u=r.openWithOffset(c);n(r,u,t.bind(null,this.IFD1))}if(a){var h=r.openWithOffset(a);n(r,h,t.bind(null,this.GPSIFD))}if(i){var d=r.openWithOffset(i),f=this.InteropIFD;n(r,d,(function(e,r,n){40965===e?o=r[0]:t(f,e,r,n)}))}if(o){var p=r.openWithOffset(o);n(r,p,t.bind(null,this.InteropIFD))}return!0}}},10329:e=>{e.exports={parseSections:function(e,t){var r,n;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==n;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");r=(n=e.nextUInt8())>=208&&n<=217||218===n?0:e.nextUInt16()-2,t(n,e.branch(0,r)),e.skip(r)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,r;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",r=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",r=e-192):e>=208&&e<=215&&(t="RST",r=e-208)}var n={name:t};return"number"==typeof r&&(n.index=r),n}}},63518:(e,t,r)=>{var n=r(10329),i=r(57315),a=r(42410);function o(e,t,r,n,i,a,o){this.startMarker=e,this.tags=t,this.imageSize=r,this.thumbnailOffset=n,this.thumbnailLength=i,this.thumbnailType=a,this.app1Offset=o}function s(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength||"string"==typeof e&&("image/jpeg"===e.toLowerCase().trim()?6!==this.thumbnailType:"image/tiff"!==e.toLowerCase().trim()||1!==this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return n.parseSections(t,(function(t,r){"SOF"===n.getSectionName(t).name&&(e=n.getSizeFromSOFSection(r))})),e}},s.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,s,l,c,u,h,d,f,p=this.stream.mark(),g=p.openWithOffset(0),m=this.flags;return m.resolveTagNames&&(h=r(22108)),m.resolveTagNames?(e={},d=function(t){return e[t.name]},f=function(t,r){e[t.name]=r}):(e=[],d=function(t){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return e.value},f=function(t,r){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return void(e.value=r)}),n.parseSections(g,(function(r,o){var d=o.offsetFrom(p);225===r?i.parseTags(o,(function(t,r,n,o){if(m.readBinaryTags||7!==o){if(513===r){if(s=n[0],m.hidePointers)return}else if(514===r){if(l=n[0],m.hidePointers)return}else if(259===r&&(c=n[0],m.hidePointers))return;if(m.returnTags)if(m.simplifyValues&&(n=a.simplifyValue(n,o)),m.resolveTagNames){var u=(t===i.GPSIFD?h.gps:h.exif)[r];u||(u=h.exif[r]),e.hasOwnProperty(u)||(e[u]=n)}else e.push({section:t,type:r,value:n})}}))&&(u=d):m.imageSize&&"SOF"===n.getSectionName(r).name&&(t=n.getSizeFromSOFSection(o))})),m.simplifyValues&&(a.castDegreeValues(d,f),a.castDateValues(d,f)),new o(p,e,t,s,l,c,u)}},e.exports=s},42410:(e,t,r)=>{var n=r(57315),i=r(70292),a=[{section:n.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:n.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],o=[{section:n.SubIFD,type:306,name:"ModifyDate"},{section:n.SubIFD,type:36867,name:"DateTimeOriginal"},{section:n.SubIFD,type:36868,name:"CreateDate"},{section:n.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(e,t){a.forEach((function(r){var n=e(r);if(n){var i=e({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1,a=(n[0]+n[1]/60+n[2]/3600)*i;t(r,a)}}))},castDateValues:function(e,t){o.forEach((function(r){var n=e(r);if(n){var a=i.parseExifDate(n);void 0!==a&&t(r,a)}}))},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map((function(e){return 10===t||5===t?e[0]/e[1]:e}))).length&&(e=e[0]),e}}},40001:(module,__unused_webpack_exports,__webpack_require__)=>{const Token=__webpack_require__(83416),strtok3=__webpack_require__(35849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(76188),supported=__webpack_require__(49898),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(t&&t.length>1)return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const r=(e,r)=>_check(t,e,r),n=(e,t)=>r(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:12,mayBeLess:!0}),r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(r([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await e.ignore(6);const l=await e.readToken(uint32SyncSafeToken);return e.position+l>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(l),fromTokenizer(e))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(r([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const c={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(c.filename=await e.readToken(new Token.StringType(c.filenameLength,"utf-8")),await e.ignore(c.extraFieldLength),"META-INF/mozilla.rsa"===c.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(c.filename.endsWith(".rels")||c.filename.endsWith(".xml"))switch(c.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(c.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(c.filename.startsWith("3D/")&&c.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===c.filename&&c.compressedSize===c.uncompressedSize)switch(await e.readToken(new Token.StringType(c.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===c.compressedSize){let u=-1;for(;u<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),u=t.indexOf("504B0304",0,"hex"),await e.ignore(u>=0?u:t.length)}else await e.ignore(c.compressedSize)}}catch(h){if(!(h instanceof strtok3.EndOfStreamError))throw h}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await e.ignore(28);const d=Buffer.alloc(8);return await e.readBuffer(d),_check(d,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(d,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(d,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(d,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(d,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(d,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(r([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&0!=(96&t[8])){const f=t.toString("binary",8,12).replace("\0"," ").trim();switch(f){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return f.startsWith("3g")?f.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([212,195,178,161])||r([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await e.ignore(1350);const p=10485760,g=Buffer.alloc(Math.min(p,e.fileInfo.size));return await e.readBuffer(g,{mayBeLess:!0}),g.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:r([28,0,254,0],{offset:8})||r([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:r([8,0,0,0],{offset:4})&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(r([26,69,223,163])){async function i(){const t=await e.peekNumber(Token.UINT8);let r=128,n=0;for(;0==(t&r)&&0!==r;)++n,r>>=1;const i=Buffer.alloc(n+1);return await e.readBuffer(i),i}async function a(){const e=await i(),t=await i();t[0]^=128>>t.length-1;const r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}const m=await a();switch(await async function(t,r){for(;r>0;){const t=await a();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--r}}(0,m.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(r([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(r([0,0,1,186])){if(r([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(r([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>"))return await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(r([137,80,78,71,13,10,26,10])){async function o(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const b=await o();if(b.length<0)return;switch(b.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(b.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(r([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(r([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(n("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(r([48,38,178,117,142,102,207,17,166,217])){async function s(){const t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const y=await s();let v=y.size-24;if(_check(y.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const w=Buffer.alloc(16);if(v-=await e.readBuffer(w),_check(w,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(w,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(v)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(r([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(r([255,10])||r([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),n("BEGIN:")){if(n("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(n("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(r([4,0,0,0])&&t.length>=16){const _=t.readUInt32LE(12);if(_>12&&t.length>=_+16)try{const A=t.slice(16,_+16).toString();if(JSON.parse(A).files)return{ext:"asar",mime:"application/x-asar"}}catch(E){}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&r([255,224],{offset:0,mask:[255,224]})){if(r([16],{offset:1,mask:[22]}))return r([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(r([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const e=new stream.PassThrough;let t;t=stream.pipeline?stream.pipeline(readableStream,e,(()=>{})):readableStream.pipe(e);const r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const t=await fromBuffer(r);e.fileType=t}catch(e){reject(e)}resolve(t)}))})),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},97769:(e,t,r)=>{const n=r(26597),i=r(40001),a={fromFile:async function(e){const t=await n.fromFile(e);try{return await i.fromTokenizer(t)}finally{await t.close()}}};Object.assign(a,i),Object.defineProperty(a,"extensions",{get:()=>i.extensions}),Object.defineProperty(a,"mimeTypes",{get:()=>i.mimeTypes}),e.exports=a},49898:e=>{e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},76188:(e,t)=>{t.stringToBytes=e=>[...e].map((e=>e.charCodeAt(0))),t.tarHeaderChecksumMatches=(e,t=0)=>{const r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let n=256;for(let r=t;r<t+148;r++)n+=e[r];for(let r=t+156;r<t+512;r++)n+=e[r];return r===n},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},71915:e=>{class t{constructor(...e){if(0===e.length)throw new Error("constructor requires parameters");const r=e[0];if(null!==r&&"object"==typeof r)if(r instanceof t){const e=r.bitmap;this.bitmap={width:e.width,height:e.height,data:new Buffer(e.width*e.height*4)},e.data.copy(this.bitmap.data)}else{if(!(r.width&&r.height&&r.data))throw new Error("unrecognized constructor parameters");this.bitmap=r}else{if("number"!=typeof r||"number"!=typeof e[1])throw new Error("unrecognized constructor parameters");{const t=r,n=e[1],i=e[2];this.bitmap={width:t,height:n},Buffer.isBuffer(i)?this.bitmap.data=i:(this.bitmap.data=new Buffer(t*n*4),"number"==typeof i&&this.fillRGBA(i))}}}blit(e,t,r,n,i,a,o){if(n+a>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(t+a>e.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(i+o>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(r+o>e.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const s=this.bitmap.data,l=e.bitmap.data,c=4*this.bitmap.width,u=4*e.bitmap.width,h=4*a;let d=i*c+4*n,f=r*u+4*t;for(;--o>=0;)s.copy(l,f,d,d+h),d+=c,f+=u;return this}fillRGBA(e){const t=this.bitmap.data,r=4*this.bitmap.height;let n=0;for(;n<r;)t.writeUInt32BE(e,n),n+=4;for(;n<t.length;)t.copy(t,n,0,r),n+=r;return this}getRGBA(e,t){const r=4*(t*this.bitmap.width+e);return this.bitmap.data.readUInt32BE(r)}getRGBASet(){const e=new Set,t=this.bitmap.data;for(let r=0;r<t.length;r+=4)e.add(t.readUInt32BE(r,!0));return e}greyscale(){const e=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,((t,r,n)=>{const i=Math.round(.299*e[n]+.587*e[n+1]+.114*e[n+2]);e[n]=i,e[n+1]=i,e[n+2]=i})),this}reframe(e,r,n,i,a){const o=e<0?0:e,s=r<0?0:r,l=n+o>this.bitmap.width?this.bitmap.width-o:n,c=i+s>this.bitmap.height?this.bitmap.height-s:i,u=e<0?-e:0,h=r<0?-r:0;let d;if(void 0===a){if(o!==e||s!=r||l!==n||c!==i)throw new GifError("fillRGBA required for this reframing");d=new t(n,i)}else d=new t(n,i,a);return this.blit(d,u,h,o,s,l,c),this.bitmap=d.bitmap,this}scale(e){if(1===e)return;if(!Number.isInteger(e)||e<1)throw new Error("the scale must be an integer >= 1");const t=this.bitmap.width,r=this.bitmap.height,n=t*e*4,i=this.bitmap.data,a=new Buffer(r*n*e);let o,s=0,l=0;for(let c=0;c<r;++c){o=l;for(let r=0;r<t;++r){const t=i.readUInt32BE(s,!0);for(let r=0;r<e;++r)a.writeUInt32BE(t,l),l+=4;s+=4}for(let t=1;t<e;++t)a.copy(a,l,o,l),l+=n,o+=n}return this.bitmap={width:t*e,height:r*e,data:a},this}scanAllCoords(e){const t=this.bitmap.width,r=this.bitmap.data.length;let n=0,i=0;for(let a=0;a<r;a+=4)e(n,i,a),++n===t&&(n=0,++i)}scanAllIndexes(e){const t=this.bitmap.data.length;for(let r=0;r<t;r+=4)e(r)}}e.exports=t},28932:(e,t)=>{class r{constructor(e,t,r){this.width=r.width,this.height=r.height,this.loops=r.loops,this.usesTransparency=r.usesTransparency,this.colorScope=r.colorScope,this.frames=t,this.buffer=e}}r.GlobalColorsPreferred=0,r.GlobalColorsOnly=1,r.LocalColorsOnly=2;class n extends Error{constructor(e){super(e),e instanceof Error&&(this.stack="Gif"+e.stack)}}t.Gif=r,t.GifError=n},52527:(e,t,r)=>{const n=r(11494),{Gif:i,GifError:a}=r(28932);function o(){const e=r(68305);return o=function(){return e},e}const{GifFrame:s}=r(93573);function l(e,t){const r=e.indexOf(t);return-1===r?null:r}function c(e,t){for(var r,n=0,i=e.length-1;n<=i;)if(e[r=Math.floor((n+i)/2)]>t)i=r-1;else{if(!(e[r]<t))return r;n=r+1}return null}function u(e){const t=e.colors;e.usesTransparency&&t.push(0);const r=t.length;let n=2;for(;r>n;)n<<=1;t.length=n,t.fill(0,r)}function h(e,t){let r=e.bitmap.width*e.bitmap.height;return r=Math.ceil(r*t/8),r+=Math.ceil(r/255),100+r+768}function d(e){let t=e.indexCount,r=0;for(--t;t;)++r,t>>=1;return r>0?r:1}function f(e,t,r,n,i){if(r.interlaced)throw new a("writing interlaced GIFs is not supported");const o=function(e,t,r){const n=r.colors,i=n.length<=8?l:c,o=t.bitmap.data,s=new Buffer(o.length/4);let u=n.length,h=0,d=0;for(;h<o.length;){if(0!==o[h+3]){const e=o.readUInt32BE(h,!0)>>8&16777215;s[d]=i(n,e)}else s[d]=u;h+=4,++d}if(r.usesTransparency){if(256===u)throw new a(`Frame ${e} already has 256 colorsand so can't use transparency`)}else u=null;return{buffer:s,transparentIndex:u}}(t,r,n),s={delay:r.delayCentisecs,disposal:r.disposalMethod,transparent:o.transparentIndex};i&&(u(n),s.palette=n.colors);try{let t,n=e.getOutputBuffer(),i=e.getOutputBufferPosition(),a=!0;for(;a;)if(t=e.addFrame(r.xOffset,r.yOffset,r.bitmap.width,r.bitmap.height,o.buffer,s),a=!1,t>=n.length-1){const t=new Buffer(1.5*n.length);n.copy(t),e.setOutputBuffer(t),e.setOutputBufferPosition(i),n=t,a=!0}return n}catch(e){throw new a(e)}}t.GifCodec=class{constructor(e={}){this._transparentRGB=null,"number"==typeof e.transparentRGB&&0!==e.transparentRGB&&(this._transparentRGBA=256*e.transparentRGB),this._testInitialBufferSize=0}decodeGif(e){try{let t;try{t=new n.GifReader(e)}catch(e){throw new a(e)}const r=t.numFrames(),o=[],s={width:t.width,height:t.height,loops:t.loopCount(),usesTransparency:!1};for(let e=0;e<r;++e){const r=this._decodeFrame(t,e,s.usesTransparency);o.push(r.frame),r.usesTransparency&&(s.usesTransparency=!0)}return Promise.resolve(new i(e,o,s))}catch(e){return Promise.reject(e)}}encodeGif(e,t={}){try{if(null===e||0===e.length)throw new a("there are no frames");const r=o().getMaxDimensions(e);return(t=Object.assign({},t)).width=r.maxWidth,t.height=r.maxHeight,void 0===t.loops&&(t.loops=0),t.colorScope=t.colorScope||i.GlobalColorsPreferred,Promise.resolve(this._encodeGif(e,t))}catch(e){return Promise.reject(e)}}_decodeFrame(e,t,r){let n,i;try{if(n=e.frameInfo(t),i=new Buffer(e.width*e.height*4),e.decodeAndBlitFrameRGBA(t,i),n.width!==e.width||n.height!==e.height){if(n.y&&(i=i.slice(n.y*e.width*4)),e.width>n.width)for(let t=0;t<n.height;++t)i.copy(i,t*n.width*4,4*(n.x+t*e.width),4*(n.x+t*e.width)+4*n.width);i=i.slice(0,n.width*n.height*4)}}catch(e){throw new a(e)}let o=!1;if(null===this._transparentRGBA){if(!r)for(let e=3;e<i.length;e+=4)0===i[e]&&(o=!0,e=i.length)}else for(let e=3;e<i.length;e+=4)0===i[e]&&(i.writeUInt32BE(this._transparentRGBA,e-3),o=!0);return{frame:new s(n.width,n.height,i,{xOffset:n.x,yOffset:n.y,disposalMethod:n.disposal,interlaced:n.interlaced,delayCentisecs:n.delay}),usesTransparency:o}}_encodeGif(e,t){let r;if(t.colorScope===i.LocalColorsOnly)r=o().getColorInfo(e,0);else if(r=o().getColorInfo(e,256),!r.colors){if(t.colorScope===i.GlobalColorsOnly)throw new a("Too many color indexes for global color table");t.colorScope=i.LocalColorsOnly}t.usesTransparency=r.usesTransparency;const s=r.palettes;return t.colorScope===i.LocalColorsOnly?function(e,t,r,o){const s={loop:t.loops};let l,c=new Buffer(2e3);try{l=new n.GifWriter(c,t.width,t.height,s)}catch(e){throw new a(e)}for(let t=0;t<e.length;++t)c=f(l,t,e[t],o[t],!0);return new i(c.slice(0,l.end()),e,t)}(e,t,0,s):function(e,t,r,o){const s={colors:o.colors.slice(),usesTransparency:o.usesTransparency};u(s);const l={palette:s.colors,loop:t.loops};let c,h=new Buffer(2e3);try{c=new n.GifWriter(h,t.width,t.height,l)}catch(e){throw new a(e)}for(let t=0;t<e.length;++t)h=f(c,t,e[t],o,!1);return new i(h.slice(0,c.end()),e,t)}(e,t,0,r)}_getSizeEstimateGlobal(e,t){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=968;const n=d(e);return t.forEach((e=>{r+=h(e,n)})),r}_getSizeEstimateLocal(e,t){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=200;for(let n=0;n<t.length;++n){const i=d(e[n]);r+=h(t[n],i)}return r}}},93573:(e,t,r)=>{const n=r(71915),{GifError:i}=r(28932);class a extends n{constructor(...e){if(super(...e),e[0]instanceof a){const t=e[0];this.xOffset=t.xOffset,this.yOffset=t.yOffset,this.disposalMethod=t.disposalMethod,this.delayCentisecs=t.delayCentisecs,this.interlaced=t.interlaced}else{const t=e[e.length-1];let r={};"object"!=typeof t||t instanceof n||(r=t),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=void 0!==r.disposalMethod?r.disposalMethod:a.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){const e=new Set,t=this.bitmap.data;let r=0,n=!1;for(;r<t.length;){if(0===t[r+3])n=!0;else{const n=t.readUInt32BE(r,!0)>>8&16777215;e.add(n)}r+=4}const i=new Array(e.size),a=e.values();for(r=0;r<i.length;++r)i[r]=a.next().value;i.sort(((e,t)=>e-t));let o=i.length;return n&&++o,{colors:i,usesTransparency:n,indexCount:o}}}a.DisposeToAnything=0,a.DisposeNothing=1,a.DisposeToBackgroundColor=2,a.DisposeToPrevious=3,t.GifFrame=a},68305:(e,t,r)=>{const n=r(57147),i=r(19160),a=r(71915),{GifFrame:o}=r(93573),{GifError:s}=r(28932),{GifCodec:l}=r(52527),c=[".jpg",".jpeg",".png",".bmp"],u=new l;function h(e,t,r,n,a){const o=Array.isArray(e)?e:[e];if(a){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(a.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${a.ditherAlgorithm}'`);void 0===a.serpentine&&(a.serpentine=!0),void 0===a.minimumColorDistanceToDither&&(a.minimumColorDistanceToDither=0),void 0===a.calculateErrorLikeGIMP&&(a.calculateErrorLikeGIMP=!1)}const s=new i.distance.Euclidean,l=new i.palette[t](s,r,n);let c;c=a?new i.image.ErrorDiffusionArray(s,i.image.ErrorDiffusionArrayKernel[a.ditherAlgorithm],a.serpentine,a.minimumColorDistanceToDither,a.calculateErrorLikeGIMP):new i.image.NearestColor(s);const u=[];o.forEach((e=>{const t=e.bitmap.data,r=new ArrayBuffer(t.length),n=new Uint32Array(r);for(let e=0,r=0;e<t.length;e+=4,++r)n[r]=t.readUInt32LE(e,!0);const a=i.utils.PointContainer.fromUint32Array(n,e.bitmap.width,e.bitmap.height);l.sample(a),u.push(a)}));const h=l.quantizeSync();for(let e=0;e<o.length;++e){const t=o[e].bitmap.data,r=c.quantizeSync(u[e],h).toUint32Array();for(let e=0,n=0;e<t.length;e+=4,++n)t.writeUInt32LE(r[n],e)}}t.cloneFrames=function(e){let t=[];return e.forEach((e=>{t.push(new o(e))})),t},t.getColorInfo=function(e,t){let r=!1;const n=[];for(let t=0;t<e.length;++t){let i=e[t].getPalette();if(i.usesTransparency&&(r=!0),i.indexCount>256)throw new s(`Frame ${t} uses more than 256 color indexes`);n.push(i)}if(0===t)return{usesTransparency:r,palettes:n};const i=new Set;n.forEach((e=>{e.colors.forEach((e=>{i.add(e)}))}));let a=i.size;if(r&&++a,t&&a>t)return{usesTransparency:r,palettes:n};const o=new Array(i.size),l=i.values();for(let e=0;e<o.length;++e)o[e]=l.next().value;return o.sort(((e,t)=>e-t)),{colors:o,indexCount:a,usesTransparency:r,palettes:n}},t.copyAsJimp=function(e,r){return t.shareAsJimp(e,new a(r))},t.getMaxDimensions=function(e){let t=0,r=0;return e.forEach((e=>{const n=e.xOffset+e.bitmap.width;n>t&&(t=n);const i=e.yOffset+e.bitmap.height;i>r&&(r=i)})),{maxWidth:t,maxHeight:r}},t.quantizeDekker=function(e,t,r){h(e,"NeuQuantFloat",t=t||256,0,r)},t.quantizeSorokin=function(e,t,r,n){let i;switch(t=t||256,r=r||"min-pop"){case"min-pop":i=2;break;case"top-pop":i=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${r}'`)}h(e,"RGBQuant",t,i,n)},t.quantizeWu=function(e,t,r,n){if(t=t||256,(r=r||5)<1||r>8)throw new Error("Invalid quantization quality");h(e,"WuQuant",t,r,n)},t.read=function(e,t){return t=t||u,Buffer.isBuffer(e)?t.decodeGif(e):(r=e,new Promise(((e,t)=>{n.readFile(r,((r,n)=>r?t(r):e(n)))}))).then((e=>t.decodeGif(e)));var r},t.shareAsJimp=function(e,t){const r=new e(t.bitmap.width,t.bitmap.height,0);return r.bitmap.data=t.bitmap.data,r},t.write=function(e,t,r,i){i=i||u;const a=e.match(/\.[a-zA-Z]+$/);if(null!==a&&c.includes(a[0].toLowerCase()))throw new Error(`GIF '${e}' has an unexpected suffix`);return i.encodeGif(t,r).then((t=>function(e,t){return new Promise(((r,i)=>{n.writeFile(e,t,(e=>e?i(e):r()))}))}(e,t.buffer).then((()=>t))))}},31702:(e,t,r)=>{const n=r(71915),{Gif:i,GifError:a}=r(28932),{GifCodec:o}=r(52527),{GifFrame:s}=r(93573),l=r(68305);e.exports={BitmapImage:n,Gif:i,GifCodec:o,GifFrame:s,GifUtil:l,GifError:a}},58908:(e,t,r)=>{var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},86492:function(e,t,r){var n;e=r.nmd(e),function(i){var a=(e&&e.exports,"object"==typeof r.g&&r.g);a.global!==a&&a.window;var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[\x01-\x7F]/g,l=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,u={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon",ˆ:"circ",ˇ:"caron","°":"deg","©":"copy","®":"reg","℗":"copysr",℘:"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78",𝒶:"ascr",𝕒:"aopf",𝔞:"afr",𝔸:"Aopf",𝔄:"Afr",𝒜:"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig",𝒷:"bscr",𝕓:"bopf",𝔟:"bfr",𝔹:"Bopf",ℬ:"Bscr",𝔅:"Bfr",𝔠:"cfr",𝒸:"cscr",𝕔:"copf",ℭ:"Cfr",𝒞:"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare",𝔡:"dfr",ⅆ:"dd",𝕕:"dopf",𝒹:"dscr",𝒟:"Dscr",𝔇:"Dfr",ⅅ:"DD",𝔻:"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH",ⅇ:"ee",ℯ:"escr",𝔢:"efr",𝕖:"eopf",ℰ:"Escr",𝔈:"Efr",𝔼:"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr",𝔣:"ffr",𝕗:"fopf",𝒻:"fscr",𝔉:"Ffr",𝔽:"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr",𝕘:"gopf",𝔤:"gfr",𝒢:"Gscr",𝔾:"Gopf",𝔊:"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil",𝔥:"hfr",ℎ:"planckh",𝒽:"hscr",𝕙:"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok",𝕚:"iopf",𝔦:"ifr",𝒾:"iscr",ⅈ:"ii",𝕀:"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath",𝒿:"jscr",𝕛:"jopf",𝔧:"jfr",𝒥:"Jscr",𝔍:"Jfr",𝕁:"Jopf",ĵ:"jcirc",Ĵ:"Jcirc",ȷ:"jmath",𝕜:"kopf",𝓀:"kscr",𝔨:"kfr",𝒦:"Kscr",𝕂:"Kopf",𝔎:"Kfr",ķ:"kcedil",Ķ:"Kcedil",𝔩:"lfr",𝓁:"lscr",ℓ:"ell",𝕝:"lopf",ℒ:"Lscr",𝔏:"Lfr",𝕃:"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot",𝔪:"mfr",𝕞:"mopf",𝓂:"mscr",𝔐:"Mfr",𝕄:"Mopf",ℳ:"Mscr",𝔫:"nfr",𝕟:"nopf",𝓃:"nscr",ℕ:"Nopf",𝒩:"Nscr",𝔑:"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG",𝕠:"oopf",𝔬:"ofr",ℴ:"oscr",𝒪:"Oscr",𝔒:"Ofr",𝕆:"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig",𝔭:"pfr",𝓅:"pscr",𝕡:"popf",ℙ:"Popf",𝔓:"Pfr",𝒫:"Pscr",𝕢:"qopf",𝔮:"qfr",𝓆:"qscr",𝒬:"Qscr",𝔔:"Qfr",ℚ:"Qopf",ĸ:"kgreen",𝔯:"rfr",𝕣:"ropf",𝓇:"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil",𝕤:"sopf",𝓈:"sscr",𝔰:"sfr",𝕊:"Sopf",𝔖:"Sfr",𝒮:"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig",𝔱:"tfr",𝓉:"tscr",𝕥:"topf",𝒯:"Tscr",𝔗:"Tfr",𝕋:"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok",𝓊:"uscr",𝕦:"uopf",𝔲:"ufr",𝕌:"Uopf",𝔘:"Ufr",𝒰:"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr",𝔳:"vfr",𝕧:"vopf",𝓋:"vscr",𝔙:"Vfr",𝕍:"Vopf",𝒱:"Vscr",𝕨:"wopf",𝓌:"wscr",𝔴:"wfr",𝒲:"Wscr",𝕎:"Wopf",𝔚:"Wfr",ŵ:"wcirc",Ŵ:"Wcirc",𝔵:"xfr",𝓍:"xscr",𝕩:"xopf",𝕏:"Xopf",𝔛:"Xfr",𝒳:"Xscr",𝔶:"yfr",𝓎:"yscr",𝕪:"yopf",𝒴:"Yscr",𝔜:"Yfr",𝕐:"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml",𝓏:"zscr",𝔷:"zfr",𝕫:"zopf",ℨ:"Zfr",ℤ:"Zopf",𝒵:"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi",ϵ:"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},h=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},f=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,p=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,m={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},b={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},y={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},v=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],w=String.fromCharCode,_={}.hasOwnProperty,A=function(e,t){return _.call(e,t)},E=function(e,t){if(!e)return t;var r,n={};for(r in t)n[r]=A(e,r)?e[r]:t[r];return n},x=function(e,t){var r="";return e>=55296&&e<=57343||e>1114111?(t&&R("character reference outside the permissible Unicode range"),"�"):A(y,e)?(t&&R("disallowed character reference"),y[e]):(t&&function(e,t){for(var r=-1,n=e.length;++r<n;)if(e[r]==t)return!0;return!1}(v,e)&&R("disallowed character reference"),e>65535&&(r+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=w(e))},S=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},k=function(e){return"&#"+e+";"},R=function(e){throw Error("Parse error: "+e)},I=function(e,t){(t=E(t,I.options)).strict&&p.test(e)&&R("forbidden code point");var r=t.encodeEverything,n=t.useNamedReferences,i=t.allowUnsafeSymbols,a=t.decimal?k:S,d=function(e){return a(e.charCodeAt(0))};return r?(e=e.replace(s,(function(e){return n&&A(u,e)?"&"+u[e]+";":d(e)})),n&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),n&&(e=e.replace(c,(function(e){return"&"+u[e]+";"})))):n?(i||(e=e.replace(h,(function(e){return"&"+u[e]+";"}))),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(c,(function(e){return"&"+u[e]+";"}))):i||(e=e.replace(h,d)),e.replace(o,(function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return a(1024*(t-55296)+r-56320+65536)})).replace(l,d)};I.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var T=function(e,t){var r=(t=E(t,T.options)).strict;return r&&f.test(e)&&R("malformed character reference"),e.replace(g,(function(e,n,i,a,o,s,l,c,u){var h,d,f,p,g,y;return n?m[g=n]:i?(g=i,(y=a)&&t.isAttributeValue?(r&&"="==y&&R("`&` did not start a character reference"),e):(r&&R("named character reference was not terminated by a semicolon"),b[g]+(y||""))):o?(f=o,d=s,r&&!d&&R("character reference was not terminated by a semicolon"),h=parseInt(f,10),x(h,r)):l?(p=l,d=c,r&&!d&&R("character reference was not terminated by a semicolon"),h=parseInt(p,16),x(h,r)):(r&&R("named character reference was not terminated by a semicolon"),e)}))};T.options={isAttributeValue:!1,strict:!1};var M={version:"1.2.0",encode:I,decode:T,escape:function(e){return e.replace(h,(function(e){return d[e]}))},unescape:T};void 0===(n=function(){return M}.call(t,r,t,e))||(e.exports=n)}()},80645:(e,t)=>{t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=c}return(f?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*g}},27376:e=>{e.exports=function(e){if(!e)return!1;var r=t.call(e);return"[object Function]"===r||"function"==typeof e&&"[object RegExp]"!==r||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},94301:(e,t,r)=>{r(87702),e.exports=self.fetch.bind(self)},87870:(e,t,r)=>{var n=r(587),i=r(90914);e.exports={encode:n,decode:i}},90914:e=>{var t=function(){var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,n=3406,i=2276,a=1567,o=3784,s=5793,l=2896;function c(){}function u(e,t){for(var r,n,i=0,a=[],o=16;o>0&&!e[o-1];)o--;a.push({children:[],index:0});var s,l=a[0];for(r=0;r<o;r++){for(n=0;n<e[r];n++){for((l=a.pop()).children[l.index]=t[i];l.index>0;){if(0===a.length)throw new Error("Could not recreate Huffman Table");l=a.pop()}for(l.index++,a.push(l);a.length<=r;)a.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;i++}r+1<o&&(a.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return a[0].children}function h(t,r,n,i,a,o,s,l,c,u){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,d=n.progressive,f=(n.maxH,n.maxV,r),p=0,g=0;function m(){if(g>0)return g--,p>>g&1;if(255==(p=t[r++])){var e=t[r++];if(e)throw new Error("unexpected marker: "+(p<<8|e).toString(16))}return g=7,p>>>7}function b(e){for(var t,r=e;null!==(t=m());){if("number"==typeof(r=r[t]))return r;if("object"!=typeof r)throw new Error("invalid huffman sequence")}return null}function y(e){for(var t=0;e>0;){var r=m();if(null===r)return;t=t<<1|r,e--}return t}function v(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var w,_=0,A=0;function E(e,t,r,n,i){var a=r%h,o=(r/h|0)*e.v+n,s=a*e.h+i;void 0===e.blocks[o]&&u.tolerantDecoding||t(e,e.blocks[o][s])}function x(e,t,r){var n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;void 0===e.blocks[n]&&u.tolerantDecoding||t(e,e.blocks[n][i])}var S,k,R,I,T,M,P=i.length;M=d?0===o?0===l?function(e,t){var r=b(e.huffmanTableDC),n=0===r?0:v(r)<<c;t[0]=e.pred+=n}:function(e,t){t[0]|=m()<<c}:0===l?function(t,r){if(_>0)_--;else for(var n=o,i=s;n<=i;){var a=b(t.huffmanTableAC),l=15&a,u=a>>4;if(0!==l)r[e[n+=u]]=v(l)*(1<<c),n++;else{if(u<15){_=y(u)+(1<<u)-1;break}n+=16}}}:function(t,r){for(var n=o,i=s,a=0;n<=i;){var l=e[n],u=r[l]<0?-1:1;switch(A){case 0:var h=b(t.huffmanTableAC),d=15&h;if(a=h>>4,0===d)a<15?(_=y(a)+(1<<a),A=4):(a=16,A=1);else{if(1!==d)throw new Error("invalid ACn encoding");w=v(d),A=a?2:3}continue;case 1:case 2:r[l]?r[l]+=(m()<<c)*u:0==--a&&(A=2==A?3:0);break;case 3:r[l]?r[l]+=(m()<<c)*u:(r[l]=w<<c,A=0);break;case 4:r[l]&&(r[l]+=(m()<<c)*u)}n++}4===A&&0==--_&&(A=0)}:function(t,r){var n=b(t.huffmanTableDC),i=0===n?0:v(n);r[0]=t.pred+=i;for(var a=1;a<64;){var o=b(t.huffmanTableAC),s=15&o,l=o>>4;if(0!==s)r[e[a+=l]]=v(s),a++;else{if(l<15)break;a+=16}}};var C,O,L,N,B=0;for(O=1==P?i[0].blocksPerLine*i[0].blocksPerColumn:h*n.mcusPerColumn,a||(a=O);B<O;){for(k=0;k<P;k++)i[k].pred=0;if(_=0,1==P)for(S=i[0],T=0;T<a;T++)x(S,M,B),B++;else for(T=0;T<a;T++){for(k=0;k<P;k++)for(L=(S=i[k]).h,N=S.v,R=0;R<N;R++)for(I=0;I<L;I++)E(S,M,B,R,I);if(++B===O)break}if(B===O)do{if(255===t[r]&&0!==t[r+1])break;r+=1}while(r<t.length-2);if(g=0,(C=t[r]<<8|t[r+1])<65280)throw new Error("marker was not found");if(!(C>=65488&&C<=65495))break;r+=2}return r-f}function d(e,c){var u,h,d=[],f=c.blocksPerLine,p=c.blocksPerColumn,g=f<<3,b=new Int32Array(64),y=new Uint8Array(64);function v(e,u,h){var d,f,p,g,m,b,y,v,w,_,A=c.quantizationTable,E=h;for(_=0;_<64;_++)E[_]=e[_]*A[_];for(_=0;_<8;++_){var x=8*_;0!=E[1+x]||0!=E[2+x]||0!=E[3+x]||0!=E[4+x]||0!=E[5+x]||0!=E[6+x]||0!=E[7+x]?(d=s*E[0+x]+128>>8,f=s*E[4+x]+128>>8,p=E[2+x],g=E[6+x],m=l*(E[1+x]-E[7+x])+128>>8,v=l*(E[1+x]+E[7+x])+128>>8,b=E[3+x]<<4,y=E[5+x]<<4,w=d-f+1>>1,d=d+f+1>>1,f=w,w=p*o+g*a+128>>8,p=p*a-g*o+128>>8,g=w,w=m-y+1>>1,m=m+y+1>>1,y=w,w=v+b+1>>1,b=v-b+1>>1,v=w,w=d-g+1>>1,d=d+g+1>>1,g=w,w=f-p+1>>1,f=f+p+1>>1,p=w,w=m*i+v*n+2048>>12,m=m*n-v*i+2048>>12,v=w,w=b*r+y*t+2048>>12,b=b*t-y*r+2048>>12,y=w,E[0+x]=d+v,E[7+x]=d-v,E[1+x]=f+y,E[6+x]=f-y,E[2+x]=p+b,E[5+x]=p-b,E[3+x]=g+m,E[4+x]=g-m):(w=s*E[0+x]+512>>10,E[0+x]=w,E[1+x]=w,E[2+x]=w,E[3+x]=w,E[4+x]=w,E[5+x]=w,E[6+x]=w,E[7+x]=w)}for(_=0;_<8;++_){var S=_;0!=E[8+S]||0!=E[16+S]||0!=E[24+S]||0!=E[32+S]||0!=E[40+S]||0!=E[48+S]||0!=E[56+S]?(d=s*E[0+S]+2048>>12,f=s*E[32+S]+2048>>12,p=E[16+S],g=E[48+S],m=l*(E[8+S]-E[56+S])+2048>>12,v=l*(E[8+S]+E[56+S])+2048>>12,b=E[24+S],y=E[40+S],w=d-f+1>>1,d=d+f+1>>1,f=w,w=p*o+g*a+2048>>12,p=p*a-g*o+2048>>12,g=w,w=m-y+1>>1,m=m+y+1>>1,y=w,w=v+b+1>>1,b=v-b+1>>1,v=w,w=d-g+1>>1,d=d+g+1>>1,g=w,w=f-p+1>>1,f=f+p+1>>1,p=w,w=m*i+v*n+2048>>12,m=m*n-v*i+2048>>12,v=w,w=b*r+y*t+2048>>12,b=b*t-y*r+2048>>12,y=w,E[0+S]=d+v,E[56+S]=d-v,E[8+S]=f+y,E[48+S]=f-y,E[16+S]=p+b,E[40+S]=p-b,E[24+S]=g+m,E[32+S]=g-m):(w=s*h[_+0]+8192>>14,E[0+S]=w,E[8+S]=w,E[16+S]=w,E[24+S]=w,E[32+S]=w,E[40+S]=w,E[48+S]=w,E[56+S]=w)}for(_=0;_<64;++_){var k=128+(E[_]+8>>4);u[_]=k<0?0:k>255?255:k}}m(g*p*8);for(var w=0;w<p;w++){var _=w<<3;for(u=0;u<8;u++)d.push(new Uint8Array(g));for(var A=0;A<f;A++){v(c.blocks[w][A],y,b);var E=0,x=A<<3;for(h=0;h<8;h++){var S=d[_+h];for(u=0;u<8;u++)S[x+u]=y[E++]}}}return d}function f(e){return e<0?0:e>255?255:e}c.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var r=1e3*this.opts.maxResolutionInMP*1e3,n=0;function i(){var e=t[n]<<8|t[n+1];return n+=2,e}function a(e){var t,r,n=1,i=1;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),i<t.v&&(i=t.v));var a=Math.ceil(e.samplesPerLine/8/n),o=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),c=a*t.h,u=o*t.v,h=[];m(u*c*256);for(var d=0;d<u;d++){for(var f=[],p=0;p<c;p++)f.push(new Int32Array(64));h.push(f)}t.blocksPerLine=s,t.blocksPerColumn=l,t.blocks=h}e.maxH=n,e.maxV=i,e.mcusPerLine=a,e.mcusPerColumn=o}t.length;var o,s,l,c,f=null,p=null,g=[],b=[],y=[],v=[],w=i(),_=-1;if(this.comments=[],65496!=w)throw new Error("SOI not found");for(w=i();65497!=w;){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var A=(l=void 0,c=void 0,l=i(),c=t.subarray(n,n+l-2),n+=c.length,c);if(65534===w){var E=String.fromCharCode.apply(null,A);this.comments.push(E)}65504===w&&74===A[0]&&70===A[1]&&73===A[2]&&70===A[3]&&0===A[4]&&(f={version:{major:A[5],minor:A[6]},densityUnits:A[7],xDensity:A[8]<<8|A[9],yDensity:A[10]<<8|A[11],thumbWidth:A[12],thumbHeight:A[13],thumbData:A.subarray(14,14+3*A[12]*A[13])}),65505===w&&69===A[0]&&120===A[1]&&105===A[2]&&102===A[3]&&0===A[4]&&(this.exifBuffer=A.subarray(5,A.length)),65518===w&&65===A[0]&&100===A[1]&&111===A[2]&&98===A[3]&&101===A[4]&&0===A[5]&&(p={version:A[6],flags0:A[7]<<8|A[8],flags1:A[9]<<8|A[10],transformCode:A[11]});break;case 65499:for(var x=i()+n-2;n<x;){var S=t[n++];m(256);var k=new Int32Array(64);if(S>>4==0)for(J=0;J<64;J++)k[e[J]]=t[n++];else{if(S>>4!=1)throw new Error("DQT: invalid table spec");for(J=0;J<64;J++)k[e[J]]=i()}g[15&S]=k}break;case 65472:case 65473:case 65474:i(),(o={}).extended=65473===w,o.progressive=65474===w,o.precision=t[n++],o.scanLines=i(),o.samplesPerLine=i(),o.components={},o.componentsOrder=[];var R=o.scanLines*o.samplesPerLine;if(R>r){var I=Math.ceil((R-r)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${I}MP`)}var T,M=t[n++];for(G=0;G<M;G++){T=t[n];var P=t[n+1]>>4,C=15&t[n+1],O=t[n+2];if(P<=0||C<=0)throw new Error("Invalid sampling factor, expected values above 0");o.componentsOrder.push(T),o.components[T]={h:P,v:C,quantizationIdx:O},n+=3}a(o),b.push(o);break;case 65476:var L=i();for(G=2;G<L;){var N=t[n++],B=new Uint8Array(16),D=0;for(J=0;J<16;J++,n++)D+=B[J]=t[n];m(16+D);var U=new Uint8Array(D);for(J=0;J<D;J++,n++)U[J]=t[n];G+=17+D,(N>>4==0?v:y)[15&N]=u(B,U)}break;case 65501:i(),s=i();break;case 65500:i(),i();break;case 65498:i();var V=t[n++],F=[];for(G=0;G<V;G++){Q=o.components[t[n++]];var j=t[n++];Q.huffmanTableDC=v[j>>4],Q.huffmanTableAC=y[15&j],F.push(Q)}var q=t[n++],z=t[n++],$=t[n++],H=h(t,n,o,F,s,q,z,$>>4,15&$,this.opts);n+=H;break;case 65535:255!==t[n]&&n--;break;default:if(255==t[n-3]&&t[n-2]>=192&&t[n-2]<=254){n-=3;break}if(224===w||225==w){if(-1!==_)throw new Error(`first unknown JPEG marker at offset ${_.toString(16)}, second unknown JPEG marker ${w.toString(16)} at offset ${(n-1).toString(16)}`);_=n-1;const e=i();if(255===t[n+e-2]){n+=e-2;break}}throw new Error("unknown JPEG marker "+w.toString(16))}w=i()}if(1!=b.length)throw new Error("only single frame JPEGs supported");for(var G=0;G<b.length;G++){var W=b[G].components;for(var J in W)W[J].quantizationTable=g[W[J].quantizationIdx],delete W[J].quantizationIdx}for(this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=f,this.adobe=p,this.components=[],G=0;G<o.componentsOrder.length;G++){var Q=o.components[o.componentsOrder[G]];this.components.push({lines:d(0,Q),scaleX:Q.h/o.maxH,scaleY:Q.v/o.maxV})}},getData:function(e,t){var r,n,i,a,o,s,l,c,u,h,d,p,g,b,y,v,w,_,A,E,x,S=this.width/e,k=this.height/t,R=0,I=e*t*this.components.length;m(I);var T=new Uint8Array(I);switch(this.components.length){case 1:for(r=this.components[0],h=0;h<t;h++)for(o=r.lines[0|h*r.scaleY*k],u=0;u<e;u++)d=o[0|u*r.scaleX*S],T[R++]=d;break;case 2:for(r=this.components[0],n=this.components[1],h=0;h<t;h++)for(o=r.lines[0|h*r.scaleY*k],s=n.lines[0|h*n.scaleY*k],u=0;u<e;u++)d=o[0|u*r.scaleX*S],T[R++]=d,d=s[0|u*n.scaleX*S],T[R++]=d;break;case 3:for(x=!0,this.adobe&&this.adobe.transformCode?x=!0:void 0!==this.opts.colorTransform&&(x=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],h=0;h<t;h++)for(o=r.lines[0|h*r.scaleY*k],s=n.lines[0|h*n.scaleY*k],l=i.lines[0|h*i.scaleY*k],u=0;u<e;u++)x?(d=o[0|u*r.scaleX*S],p=s[0|u*n.scaleX*S],_=f(d+1.402*((g=l[0|u*i.scaleX*S])-128)),A=f(d-.3441363*(p-128)-.71413636*(g-128)),E=f(d+1.772*(p-128))):(_=o[0|u*r.scaleX*S],A=s[0|u*n.scaleX*S],E=l[0|u*i.scaleX*S]),T[R++]=_,T[R++]=A,T[R++]=E;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(x=!1,this.adobe&&this.adobe.transformCode?x=!0:void 0!==this.opts.colorTransform&&(x=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],a=this.components[3],h=0;h<t;h++)for(o=r.lines[0|h*r.scaleY*k],s=n.lines[0|h*n.scaleY*k],l=i.lines[0|h*i.scaleY*k],c=a.lines[0|h*a.scaleY*k],u=0;u<e;u++)x?(d=o[0|u*r.scaleX*S],p=s[0|u*n.scaleX*S],g=l[0|u*i.scaleX*S],b=c[0|u*a.scaleX*S],y=255-f(d+1.402*(g-128)),v=255-f(d-.3441363*(p-128)-.71413636*(g-128)),w=255-f(d+1.772*(p-128))):(y=o[0|u*r.scaleX*S],v=s[0|u*n.scaleX*S],w=l[0|u*i.scaleX*S],b=c[0|u*a.scaleX*S]),T[R++]=255-y,T[R++]=255-v,T[R++]=255-w,T[R++]=255-b;break;default:throw new Error("Unsupported color mode")}return T},copyToImageData:function(e,t){var r,n,i,a,o,s,l,c,u,h=e.width,d=e.height,p=e.data,g=this.getData(h,d),m=0,b=0;switch(this.components.length){case 1:for(n=0;n<d;n++)for(r=0;r<h;r++)i=g[m++],p[b++]=i,p[b++]=i,p[b++]=i,t&&(p[b++]=255);break;case 3:for(n=0;n<d;n++)for(r=0;r<h;r++)l=g[m++],c=g[m++],u=g[m++],p[b++]=l,p[b++]=c,p[b++]=u,t&&(p[b++]=255);break;case 4:for(n=0;n<d;n++)for(r=0;r<h;r++)o=g[m++],s=g[m++],i=g[m++],l=255-f(o*(1-(a=g[m++])/255)+a),c=255-f(s*(1-a/255)+a),u=255-f(i*(1-a/255)+a),p[b++]=l,p[b++]=c,p[b++]=u,t&&(p[b++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,g=0;function m(e=0){var t=p+e;if(t>g){var r=Math.ceil((t-g)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=t}return c.resetMaxMemoryUsage=function(e){p=0,g=e},c.getBytesAllocated=function(){return p},c.requestMemoryAllocation=m,c}();e.exports=function(e,r={}){var n={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},i=new Uint8Array(e),a=new t;a.opts=n,t.resetMaxMemoryUsage(1024*n.maxMemoryUsageInMB*1024),a.parse(i);var o=n.formatAsRGBA?4:3,s=a.width*a.height*o;try{t.requestMemoryAllocation(s);var l={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:n.useTArray?new Uint8Array(s):Buffer.alloc(s)};a.comments.length>0&&(l.comments=a.comments)}catch(e){if(e instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+s);if(e instanceof ReferenceError&&"Buffer is not defined"===e.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw e}return a.copyToImageData(l,n.formatAsRGBA),l}},587:e=>{function t(e){Math.round;var t,r,n,i,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,b=7,y=new Array(64),v=new Array(64),w=new Array(64),_=new Array(256),A=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function C(e,t){for(var r=0,n=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=a,n++,r++;r*=2}return i}function O(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(m|=1<<b),r--,--b<0&&(255==m?(L(255),L(0)):L(m),b=7,m=0)}function L(e){g.push(e)}function N(e){L(e>>8&255),L(255&e)}function B(e,t,r,n,i){for(var a,o=i[0],s=i[240],l=function(e,t){var r,n,i,a,o,s,l,c,u,h,d=0;for(u=0;u<8;++u){r=e[d],n=e[d+1],i=e[d+2],a=e[d+3],o=e[d+4],s=e[d+5],l=e[d+6];var p=r+(c=e[d+7]),g=r-c,m=n+l,b=n-l,y=i+s,v=i-s,w=a+o,_=a-o,A=p+w,E=p-w,x=m+y,S=m-y;e[d]=A+x,e[d+4]=A-x;var k=.707106781*(S+E);e[d+2]=E+k,e[d+6]=E-k;var R=.382683433*((A=_+v)-(S=b+g)),I=.5411961*A+R,T=1.306562965*S+R,M=.707106781*(x=v+b),P=g+M,C=g-M;e[d+5]=C+I,e[d+3]=C-I,e[d+1]=P+T,e[d+7]=P-T,d+=8}for(d=0,u=0;u<8;++u){r=e[d],n=e[d+8],i=e[d+16],a=e[d+24],o=e[d+32],s=e[d+40],l=e[d+48];var O=r+(c=e[d+56]),L=r-c,N=n+l,B=n-l,D=i+s,U=i-s,V=a+o,F=a-o,j=O+V,q=O-V,z=N+D,$=N-D;e[d]=j+z,e[d+32]=j-z;var H=.707106781*($+q);e[d+16]=q+H,e[d+48]=q-H;var G=.382683433*((j=F+U)-($=B+L)),W=.5411961*j+G,J=1.306562965*$+G,Q=.707106781*(z=U+B),K=L+Q,Y=L-Q;e[d+40]=Y+W,e[d+24]=Y-W,e[d+8]=K+J,e[d+56]=K-J,d++}for(u=0;u<64;++u)h=e[u]*t[u],f[u]=h>0?h+.5|0:h-.5|0;return f}(e,t),c=0;c<64;++c)p[E[c]]=l[c];var u=p[0]-r;r=p[0],0==u?O(n[0]):(O(n[d[a=32767+u]]),O(h[a]));for(var g=63;g>0&&0==p[g];g--);if(0==g)return O(o),r;for(var m,b=1;b<=g;){for(var y=b;0==p[b]&&b<=g;++b);var v=b-y;if(v>=16){m=v>>4;for(var w=1;w<=m;++w)O(s);v&=15}a=32767+p[b],O(i[(v<<4)+d[a]]),O(h[a]),b++}return 63!=g&&O(o),r}function D(e){e<=0&&(e=1),e>100&&(e=100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=o((t[r]*e+50)/100);n<1?n=1:n>255&&(n=255),s[E[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var h=o((i[a]*e+50)/100);h<1?h=1:h>255&&(h=255),l[E[a]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[f]=1/(s[E[f]]*d[p]*d[g]*8),u[f]=1/(l[E[f]]*d[p]*d[g]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){var o;(new Date).getTime(),a&&D(a),g=new Array,m=0,b=7,N(65496),N(65504),N(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),N(1),N(1),L(0),L(0),void 0!==(o=e.comments)&&o.constructor===Array&&o.forEach((e=>{if("string"==typeof e){N(65534);var t,r=e.length;for(N(r+2),t=0;t<r;t++)L(e.charCodeAt(t))}})),function(e){if(e){N(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?N(e.length+2):(N(e.length+5+2),L(69),L(120),L(105),L(102),L(0));for(var t=0;t<e.length;t++)L(e[t])}}(e.exifBuffer),function(){N(65499),N(132),L(0);for(var e=0;e<64;e++)L(s[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){N(65472),N(17),L(8),N(t),N(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){N(65476),N(418),L(0);for(var e=0;e<16;e++)L(x[e+1]);for(var t=0;t<=11;t++)L(S[t]);L(16);for(var r=0;r<16;r++)L(k[r+1]);for(var n=0;n<=161;n++)L(R[n]);L(1);for(var i=0;i<16;i++)L(I[i+1]);for(var a=0;a<=11;a++)L(T[a]);L(17);for(var o=0;o<16;o++)L(M[o+1]);for(var s=0;s<=161;s++)L(P[s])}(),N(65498),N(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var h=0,d=0,f=0;m=0,b=7,this.encode.displayName="_encode_";for(var p,_,E,C,U,V,F,j,q,z=e.data,$=e.width,H=e.height,G=4*$,W=0;W<H;){for(p=0;p<G;){for(V=U=G*W+p,F=-1,j=0,q=0;q<64;q++)V=U+(j=q>>3)*G+(F=4*(7&q)),W+j>=H&&(V-=G*(W+1+j-H)),p+F>=G&&(V-=p+F-G+4),_=z[V++],E=z[V++],C=z[V++],y[q]=(A[_]+A[E+256>>0]+A[C+512>>0]>>16)-128,v[q]=(A[_+768>>0]+A[E+1024>>0]+A[C+1280>>0]>>16)-128,w[q]=(A[_+1280>>0]+A[E+1536>>0]+A[C+1792>>0]>>16)-128;h=B(y,c,h,t,n),d=B(v,u,d,r,i),f=B(w,u,f,r,i),p+=32}W+=8}if(b>=0){var J=[];J[1]=b+1,J[0]=(1<<b+1)-1,O(J)}return N(65497),Buffer.from(g)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)_[t]=e(t)}(),t=C(x,S),r=C(I,T),n=C(k,R),i=C(M,P),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)d[32767+n]=r,h[32767+n]=[],h[32767+n][1]=r,h[32767+n][0]=n;for(var i=-(t-1);i<=-e;i++)d[32767+i]=r,h[32767+i]=[],h[32767+i][1]=r,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)A[e]=19595*e,A[e+256>>0]=38470*e,A[e+512>>0]=7471*e+32768,A[e+768>>0]=-11059*e,A[e+1024>>0]=-21709*e,A[e+1280>>0]=32768*e+8421375,A[e+1536>>0]=-27439*e,A[e+1792>>0]=-5329*e}(),D(e),(new Date).getTime()}e.exports=function(e,r){return void 0===r&&(r=50),{data:new t(r).encode(e,r),width:e.width,height:e.height}}},19902:(e,t,r)=>{var n=r(41875),i=function(){},a=r(33340),o=r(85748),s=r(3827),l=r(35781),c=r(47529),u=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(e,t){t="function"==typeof t?t:i,"string"==typeof e?e={uri:e}:e||(e={}),e.binary&&(e=function(e){if(u)return c(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),c({xhr:t},e)}(e)),n(e,(function(r,n,c){if(r)return t(r);if(!/^2/.test(n.statusCode))return t(new Error("http status code: "+n.statusCode));if(!c)return t(new Error("no body result"));var u,h,d=!1;if(u=c,"[object ArrayBuffer]"===Object.prototype.toString.call(u)){var f=new Uint8Array(c);c=Buffer.from(f,"binary")}l(c)&&(d=!0,"string"==typeof c&&(c=Buffer.from(c,"binary"))),d||(Buffer.isBuffer(c)&&(c=c.toString(e.encoding)),c=c.trim());try{var p=n.headers["content-type"];h=d?s(c):/json/.test(p)||"{"===c.charAt(0)?JSON.parse(c):/xml/.test(p)||"<"===c.charAt(0)?o(c):a(c)}catch(e){t(new Error("error parsing font "+e.message)),t=i}t(null,h)}))}},35781:(e,t,r)=>{var n=r(92369),i=Buffer.from([66,77,70,3]);e.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&n(e.slice(0,4),i)}},72307:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",b="[object Null]",y="[object Object]",v="[object Promise]",w="[object Proxy]",_="[object RegExp]",A="[object Set]",E="[object String]",x="[object Undefined]",S="[object WeakMap]",k="[object ArrayBuffer]",R="[object DataView]",I=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[s]=M[l]=M[k]=M[u]=M[R]=M[h]=M[d]=M[f]=M[g]=M[m]=M[y]=M[_]=M[A]=M[E]=M[S]=!1;var P="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,C="object"==typeof self&&self&&self.Object===Object&&self,O=P||C||Function("return this")(),L=t&&!t.nodeType&&t,N=L&&e&&!e.nodeType&&e,B=N&&N.exports===L,D=B&&P.process,U=function(){try{return D&&D.binding&&D.binding("util")}catch(e){}}(),V=U&&U.isTypedArray;function F(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function j(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var z,$,H,G=Array.prototype,W=Function.prototype,J=Object.prototype,Q=O["__core-js_shared__"],K=W.toString,Y=J.hasOwnProperty,Z=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",X=J.toString,ee=RegExp("^"+K.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=B?O.Buffer:void 0,re=O.Symbol,ne=O.Uint8Array,ie=J.propertyIsEnumerable,ae=G.splice,oe=re?re.toStringTag:void 0,se=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ce=($=Object.keys,H=Object,function(e){return $(H(e))}),ue=Ne(O,"DataView"),he=Ne(O,"Map"),de=Ne(O,"Promise"),fe=Ne(O,"Set"),pe=Ne(O,"WeakMap"),ge=Ne(Object,"create"),me=Ve(ue),be=Ve(he),ye=Ve(de),ve=Ve(fe),we=Ve(pe),_e=re?re.prototype:void 0,Ae=_e?_e.valueOf:void 0;function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Se;++t<r;)this.add(e[t])}function Re(e){var t=this.__data__=new xe(e);this.size=t.size}function Ie(e,t){for(var r=e.length;r--;)if(Fe(e[r][0],t))return r;return-1}function Te(e){return null==e?void 0===e?x:b:oe&&oe in Object(e)?function(e){var t=Y.call(e,oe),r=e[oe];try{e[oe]=void 0;var n=!0}catch(e){}var i=X.call(e);return n&&(t?e[oe]=r:delete e[oe]),i}(e):function(e){return X.call(e)}(e)}function Me(e){return We(e)&&Te(e)==s}function Pe(e,t,r,n,o){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!=e&&t!=t:function(e,t,r,n,o,c){var f=qe(e),p=qe(t),b=f?l:De(e),v=p?l:De(t),w=(b=b==s?y:b)==y,x=(v=v==s?y:v)==y,S=b==v;if(S&&ze(e)){if(!ze(t))return!1;f=!0,w=!1}if(S&&!w)return c||(c=new Re),f||Je(e)?Ce(e,t,r,n,o,c):function(e,t,r,n,o,s,l){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case u:case h:case m:return Fe(+e,+t);case d:return e.name==t.name&&e.message==t.message;case _:case E:return e==t+"";case g:var c=j;case A:var f=n&i;if(c||(c=q),e.size!=t.size&&!f)return!1;var p=l.get(e);if(p)return p==t;n|=a,l.set(e,t);var b=Ce(c(e),c(t),n,o,s,l);return l.delete(e),b;case"[object Symbol]":if(Ae)return Ae.call(e)==Ae.call(t)}return!1}(e,t,b,r,n,o,c);if(!(r&i)){var I=w&&Y.call(e,"__wrapped__"),T=x&&Y.call(t,"__wrapped__");if(I||T){var M=I?e.value():e,P=T?t.value():t;return c||(c=new Re),o(M,P,r,n,c)}}return!!S&&(c||(c=new Re),function(e,t,r,n,a,o){var s=r&i,l=Oe(e),c=l.length;if(c!=Oe(t).length&&!s)return!1;for(var u=c;u--;){var h=l[u];if(!(s?h in t:Y.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++u<c;){var g=e[h=l[u]],m=t[h];if(n)var b=s?n(m,g,h,t,e,o):n(g,m,h,e,t,o);if(!(void 0===b?g===m||a(g,m,r,n,o):b)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,n,o,c))}(e,t,r,n,Pe,o))}function Ce(e,t,r,n,o,s){var l=r&i,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var d=-1,f=!0,p=r&a?new ke:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var g=e[d],m=t[d];if(n)var b=l?n(m,g,d,t,e,s):n(g,m,d,e,t,s);if(void 0!==b){if(b)continue;f=!1;break}if(p){if(!F(t,(function(e,t){if(i=t,!p.has(i)&&(g===e||o(g,e,r,n,s)))return p.push(t);var i}))){f=!1;break}}else if(g!==m&&!o(g,m,r,n,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Oe(e){return function(e,t,r){var n=t(e);return qe(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Qe,Be)}function Le(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ne(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ge(e)||function(e){return!!Z&&Z in e}(e))&&($e(e)?ee:I).test(Ve(e))}(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return Y.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Y.call(t,e)},Ee.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&void 0===t?n:t,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(e){var t=this.__data__,r=Ie(t,e);return!(r<0||(r==t.length-1?t.pop():ae.call(t,r,1),--this.size,0))},xe.prototype.get=function(e){var t=this.__data__,r=Ie(t,e);return r<0?void 0:t[r][1]},xe.prototype.has=function(e){return Ie(this.__data__,e)>-1},xe.prototype.set=function(e,t){var r=this.__data__,n=Ie(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(he||xe),string:new Ee}},Se.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Le(this,e).get(e)},Se.prototype.has=function(e){return Le(this,e).has(e)},Se.prototype.set=function(e,t){var r=Le(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,n),this},ke.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new xe,this.size=0},Re.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xe){var n=r.__data__;if(!he||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Se(n)}return r.set(e,t),this.size=r.size,this};var Be=se?function(e){return null==e?[]:(e=Object(e),function(t,r){for(var n=-1,i=null==t?0:t.length,a=0,o=[];++n<i;){var s=t[n];l=s,ie.call(e,l)&&(o[a++]=s)}var l;return o}(se(e)))}:function(){return[]},De=Te;function Ue(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fe(e,t){return e===t||e!=e&&t!=t}(ue&&De(new ue(new ArrayBuffer(1)))!=R||he&&De(new he)!=g||de&&De(de.resolve())!=v||fe&&De(new fe)!=A||pe&&De(new pe)!=S)&&(De=function(e){var t=Te(e),r=t==y?e.constructor:void 0,n=r?Ve(r):"";if(n)switch(n){case me:return R;case be:return g;case ye:return v;case ve:return A;case we:return S}return t});var je=Me(function(){return arguments}())?Me:function(e){return We(e)&&Y.call(e,"callee")&&!ie.call(e,"callee")},qe=Array.isArray,ze=le||function(){return!1};function $e(e){if(!Ge(e))return!1;var t=Te(e);return t==f||t==p||t==c||t==w}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return null!=e&&"object"==typeof e}var Je=V?function(e){return function(t){return e(t)}}(V):function(e){return We(e)&&He(e.length)&&!!M[Te(e)]};function Qe(e){return null!=(t=e)&&He(t.length)&&!$e(t)?function(e,t){var r=qe(e),n=!r&&je(e),i=!r&&!n&&ze(e),a=!r&&!n&&!i&&Je(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var c in e)!t&&!Y.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ue(c,l))||s.push(c);return s}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||J))return ce(e);var t,r,n=[];for(var i in Object(e))Y.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e);var t}e.exports=function(e,t){return Pe(e,t)}},62705:(e,t,r)=>{var n=r(55639).Symbol;e.exports=n},96874:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},29932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},44286:e=>{e.exports=function(e){return e.split("")}},41848:e=>{e.exports=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},44239:(e,t,r)=>{var n=r(62705),i=r(89607),a=r(2333),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},42118:(e,t,r)=>{var n=r(41848),i=r(62722),a=r(42351);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,i,r)}},74221:e=>{e.exports=function(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,r)=>{var n=r(23560),i=r(15346),a=r(13218),o=r(80346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?d:s).test(o(e))}},65464:(e,t,r)=>{var n=r(29932),i=r(42118),a=r(74221),o=r(7518),s=r(278),l=Array.prototype.splice;e.exports=function(e,t,r,c){var u=c?a:i,h=-1,d=t.length,f=e;for(e===t&&(t=s(t)),r&&(f=n(e,o(r)));++h<d;)for(var p=0,g=t[h],m=r?r(g):g;(p=u(f,m,p,c))>-1;)f!==e&&l.call(f,p,1),l.call(e,p,1);return e}},5976:(e,t,r)=>{var n=r(6557),i=r(45357),a=r(30061);e.exports=function(e,t){return a(i(e,t,n),e+"")}},56560:(e,t,r)=>{var n=r(75703),i=r(38777),a=r(6557),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},14259:e=>{e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}},80531:(e,t,r)=>{var n=r(62705),i=r(29932),a=r(1469),o=r(33448),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},40180:(e,t,r)=>{var n=r(14259);e.exports=function(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:n(e,t,r)}},5512:(e,t,r)=>{var n=r(42118);e.exports=function(e,t){for(var r=e.length;r--&&n(t,e[r],0)>-1;);return r}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},14429:(e,t,r)=>{var n=r(55639)["__core-js_shared__"];e.exports=n},38777:(e,t,r)=>{var n=r(10852),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},31957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},10852:(e,t,r)=>{var n=r(28458),i=r(47801);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},89607:(e,t,r)=>{var n=r(62705),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},62689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},15346:(e,t,r)=>{var n,i=r(14429),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},45357:(e,t,r)=>{var n=r(96874),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=r(l),n(e,this,c)}}},55639:(e,t,r)=>{var n=r(31957),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},30061:(e,t,r)=>{var n=r(56560),i=r(21275)(n);e.exports=i},21275:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var i=t(),a=16-(i-n);if(n=i,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},42351:e=>{e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},83140:(e,t,r)=>{var n=r(44286),i=r(62689),a=r(676);e.exports=function(e){return i(e)?a(e):n(e)}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},676:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+i+")?",c="[\\ufe0e\\ufe0f]?",u=c+l+"(?:\\u200d(?:"+[a,o,s].join("|")+")"+c+l+")*",h="(?:"+[a+n+"?",n,o,s,r].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");e.exports=function(e){return e.match(d)||[]}},75703:e=>{e.exports=function(e){return function(){return e}}},6557:e=>{e.exports=function(e){return e}},1469:e=>{var t=Array.isArray;e.exports=t},23560:(e,t,r)=>{var n=r(44239),i=r(13218);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},47037:(e,t,r)=>{var n=r(44239),i=r(1469),a=r(37005);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==n(e)}},33448:(e,t,r)=>{var n=r(44239),i=r(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},97019:(e,t,r)=>{var n=r(5976)(r(45604));e.exports=n},45604:(e,t,r)=>{var n=r(65464);e.exports=function(e,t){return e&&e.length&&t&&t.length?n(e,t):e}},79833:(e,t,r)=>{var n=r(80531);e.exports=function(e){return null==e?"":n(e)}},10691:(e,t,r)=>{var n=r(80531),i=r(40180),a=r(5512),o=r(83140),s=r(79833),l=r(67990);e.exports=function(e,t,r){if((e=s(e))&&(r||void 0===t))return e.slice(0,l(e)+1);if(!e||!(t=n(t)))return e;var c=o(e),u=a(c,o(t))+1;return i(c,0,u).join("")}},42555:(e,t,r)=>{var n=r(62178),i=/\s+/g,a=/%[\dA-F]{2}/g,o=/"/g;function s(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function l(e){if("string"!=typeof e)throw new TypeError("Expected a string, but received "+typeof e);var t,r;return 65279===e.charCodeAt(0)&&(e=e.slice(1)),"data:image/svg+xml,"+function(e){return encodeURIComponent(e).replace(a,s)}((r=e,t=r.trim().replace(i," "),Object.keys(n).forEach((function(e){n[e].test(t)&&(t=t.replace(n[e],e))})),t).replace(o,"'"))}l.toSrcset=function(e){return l(e).replace(/ /g,"%20")},e.exports=l},62178:e=>{e.exports={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi}},73414:(e,t,r)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=r(71267),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},11494:(e,t)=>{function r(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=e[t++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==f;)h|=e[t++]<<u,u+=8,1===f?f=e[t++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==a){if(m===o)break;for(var b=m<s?m:g,y=0,v=b;v>a;)v=p[v]>>8,++y;var w=v;if(d+y+(b!==m?1:0)>n)return void console.log("Warning, gif stream longer than expected.");r[d++]=w;var _=d+=y;for(b!==m&&(r[d++]=w),v=b;y--;)v=p[v],r[--_]=255&v,v>>=8;null!==g&&s<4096&&(p[s++]=g<<8|w,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else s=o+1,c=(1<<(l=i+1))-1,g=null}return d!==n&&console.log("Warning, gif stream shorter than expected."),r}try{t.GifWriter=function(e,t,r,n){var i=0,a=void 0===(n=void 0===n?{}:n).loop?null:n.loop,o=void 0===n.palette?null:n.palette;if(t<=0||r<=0||t>65535||r>65535)throw new Error("Width/Height invalid.");function s(e){var t=e.length;if(t<2||t>256||t&t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return t}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var l=0,c=0;if(null!==o){for(var u=s(o);u>>=1;)++l;if(u=1<<l,--l,void 0!==n.background){if((c=n.background)>=u)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=(null!==o?128:0)|l,e[i++]=c,e[i++]=0,null!==o)for(var h=0,d=o.length;h<d;++h){var f=o[h];e[i++]=f>>16&255,e[i++]=f>>8&255,e[i++]=255&f}if(null!==a){if(a<0||a>65535)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&a,e[i++]=a>>8&255,e[i++]=0}var p=!1;this.addFrame=function(t,r,n,a,l,c){if(!0===p&&(--i,p=!1),c=void 0===c?{}:c,t<0||r<0||t>65535||r>65535)throw new Error("x/y invalid.");if(n<=0||a<=0||n>65535||a>65535)throw new Error("Width/Height invalid.");if(l.length<n*a)throw new Error("Not enough pixels for the frame size.");var u=!0,h=c.palette;if(null==h&&(u=!1,h=o),null==h)throw new Error("Must supply either a local or global palette.");for(var d=s(h),f=0;d>>=1;)++f;d=1<<f;var g=void 0===c.delay?0:c.delay,m=void 0===c.disposal?0:c.disposal;if(m<0||m>3)throw new Error("Disposal out of range.");var b=!1,y=0;if(void 0!==c.transparent&&null!==c.transparent&&(b=!0,(y=c.transparent)<0||y>=d))throw new Error("Transparent color index.");if((0!==m||b||0!==g)&&(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=m<<2|(!0===b?1:0),e[i++]=255&g,e[i++]=g>>8&255,e[i++]=y,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&a,e[i++]=a>>8&255,e[i++]=!0===u?128|f-1:0,!0===u)for(var v=0,w=h.length;v<w;++v){var _=h[v];e[i++]=_>>16&255,e[i++]=_>>8&255,e[i++]=255&_}return i=function(e,t,r,n){e[t++]=r;var i=t++,a=1<<r,o=a-1,s=a+1,l=s+1,c=r+1,u=0,h=0;function d(r){for(;u>=r;)e[t++]=255&h,h>>=8,u-=8,t===i+256&&(e[i]=255,i=t++)}function f(e){h|=e<<u,u+=c,d(8)}var p=n[0]&o,g={};f(a);for(var m=1,b=n.length;m<b;++m){var y=n[m]&o,v=p<<8|y,w=g[v];if(void 0===w){for(h|=p<<u,u+=c;u>=8;)e[t++]=255&h,h>>=8,u-=8,t===i+256&&(e[i]=255,i=t++);4096===l?(f(a),l=s+1,c=r+1,g={}):(l>=1<<c&&++c,g[v]=l++),p=y}else p=w}return f(p),f(s),d(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}(e,i,f<2?2:f,l),i},this.end=function(){return!1===p&&(e[i++]=59,p=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(e){i=e}},t.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,a=e[t++],o=a>>7,s=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;o&&(l=t,c=s,t+=3*s);var u=!0,h=[],d=0,f=null,p=0,g=null;for(this.width=n,this.height=i;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(0===I)break;t+=I}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,f=e[t++],0==(1&m)&&(f=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(0===I)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++],A=_>>6&1,E=1<<1+(7&_),x=l,S=c,k=!1;_>>7&&(k=!0,x=t,S=E,t+=3*E);var R=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(0===I)break;t+=I}h.push({x:b,y,width:v,height:w,has_local_palette:k,palette_offset:x,palette_size:S,data_offset:R,data_length:t-R,transparent_index:f,interlaced:!!A,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return g},this.frameInfo=function(e){if(e<0||e>=h.length)throw new Error("Frame index out of range.");return h[e]},this.decodeAndBlitFrameBGRA=function(t,i){var a=this.frameInfo(t),o=a.width*a.height,s=new Uint8Array(o);r(e,a.data_offset,s,o);var l=a.palette_offset,c=a.transparent_index;null===c&&(c=256);var u=a.width,h=n-u,d=u,f=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),g=f,m=4*h;!0===a.interlaced&&(m+=4*n*7);for(var b=8,y=0,v=s.length;y<v;++y){var w=s[y];if(0===d&&(d=u,(g+=m)>=p&&(m=4*h+4*n*(b-1),g=f+(u+h)*(b<<1),b>>=1)),w===c)g+=4;else{var _=e[l+3*w],A=e[l+3*w+1],E=e[l+3*w+2];i[g++]=E,i[g++]=A,i[g++]=_,i[g++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,i){var a=this.frameInfo(t),o=a.width*a.height,s=new Uint8Array(o);r(e,a.data_offset,s,o);var l=a.palette_offset,c=a.transparent_index;null===c&&(c=256);var u=a.width,h=n-u,d=u,f=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),g=f,m=4*h;!0===a.interlaced&&(m+=4*n*7);for(var b=8,y=0,v=s.length;y<v;++y){var w=s[y];if(0===d&&(d=u,(g+=m)>=p&&(m=4*h+4*n*(b-1),g=f+(u+h)*(b<<1),b>>=1)),w===c)g+=4;else{var _=e[l+3*w],A=e[l+3*w+1],E=e[l+3*w+2];i[g++]=_,i[g++]=A,i[g++]=E,i[g++]=255}--d}}}}catch(e){}},99591:(e,t,r)=>{var n={};(0,r(24236).assign)(n,r(24555),r(78843),r(71619)),e.exports=n},24555:(e,t,r)=>{var n=r(30405),i=r(24236),a=r(29373),o=r(48898),s=r(62292),l=Object.prototype.toString,c=0,u=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==c)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[r]);this._dict_set=!0}}function p(e,t){var r=new f(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}f.prototype.push=function(e,t){var r,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,o))&&r!==c)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c):2!==o||(this.onEnd(c),s.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},78843:(e,t,r)=>{var n=r(27948),i=r(24236),a=r(29373),o=r(71619),s=r(48898),l=r(62292),c=r(42401),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(s[r])}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}h.prototype.push=function(e,t){var r,s,l,c,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=a.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(r=n.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===g&&(r=o.Z_OK,g=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(d.output,d.next_out),c=d.next_out-l,h=a.buf2string(d.output,l),d.next_out=c,d.avail_out=f-c,c&&i.arraySet(d.output,d.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},24236:(e,t)=>{var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},29373:(e,t,r)=>{var n=r(24236),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,t.string2buf=function(e){var t,r,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,a,s=t||e.length,c=new Array(2*s);for(n=0,r=0;r<s;)if((i=e[r++])<128)c[n++]=i;else if((a=o[i])>4)c[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<s;)i=i<<6|63&e[r++],a--;a>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return l(c,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},66069:e=>{e.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},71619:e=>{e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,n,i){var a=t,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^r[s])];return-1^e}},30405:(e,t,r)=>{var n,i=r(24236),a=r(10342),o=r(66069),s=r(2869),l=r(48898),c=0,u=0,h=-2,d=2,f=8,p=286,g=30,m=19,b=2*p+1,y=15,v=3,w=258,_=w+v+1,A=42,E=103,x=113,S=666;function k(e,t){return e.msg=l[t],t}function R(e){return(e<<1)-(e>4?9:0)}function I(e){for(var t=e.length;--t>=0;)e[t]=0}function T(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function M(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,T(e.strm)}function P(e,t){e.pending_buf[e.pending++]=t}function C(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function O(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-_?e.strstart-(e.w_size-_):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+w,f=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+o]===p&&c[r+o-1]===f&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<d);if(n=w-(d-a),a=d-w,n>o){if(e.match_start=t,o=n,n>=s)break;f=c[a+o-1],p=c[a+o]}}}while((t=h[t&u])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function L(e){var t,r,n,a,l,c,u,h,d,f,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-_)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);a+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,h=e.strstart+e.lookahead,d=a,f=void 0,(f=c.avail_in)>d&&(f=d),r=0===f?0:(c.avail_in-=f,i.arraySet(u,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=o(c.adler,u,f,h):2===c.state.wrap&&(c.adler=s(c.adler,u,f,h)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=r,e.lookahead+e.insert>=v)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+v-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<v)););}while(e.lookahead<_&&0!==e.strm.avail_in)}function N(e,t){for(var r,n;;){if(e.lookahead<_){if(L(e),e.lookahead<_&&t===c)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-_&&(e.match_length=O(e,r)),e.match_length>=v)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-v),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=v){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<v-1?e.strstart:v-1,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}function B(e,t){for(var r,n,i;;){if(e.lookahead<_){if(L(e),e.lookahead<_&&t===c)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=v-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-_&&(e.match_length=O(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===v&&e.strstart-e.match_start>4096)&&(e.match_length=v-1)),e.prev_length>=v&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-v,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-v),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=v-1,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<v-1?e.strstart:v-1,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}function D(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*b),this.dyn_dtree=new i.Buf16(2*(2*g+1)),this.bl_tree=new i.Buf16(2*(2*m+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(y+1),this.heap=new i.Buf16(2*p+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*p+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=d,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?A:x,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),u):k(e,h)}function F(e){var t,r=V(e);return r===u&&((t=e.state).window_size=2*t.w_size,I(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=v-1,t.match_available=0,t.ins_h=0),r}function j(e,t,r,n,a,o){if(!e)return h;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||r!==f||n<8||n>15||t<0||t>9||o<0||o>4)return k(e,h);8===n&&(n=9);var l=new U;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+v-1)/v),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,F(e)}n=[new D(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(L(e),0===e.lookahead&&t===c)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,M(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-_&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(M(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),1)})),new D(4,4,8,4,N),new D(4,5,16,8,N),new D(4,6,32,32,N),new D(4,4,16,16,B),new D(8,16,32,32,B),new D(8,16,128,128,B),new D(8,32,128,256,B),new D(32,128,258,1024,B),new D(32,258,258,4096,B)],t.deflateInit=function(e,t){return j(e,t,f,15,8,0)},t.deflateInit2=j,t.deflateReset=F,t.deflateResetKeep=V,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,u):h},t.deflate=function(e,t){var r,i,o,l;if(!e||!e.state||t>5||t<0)return e?k(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===S&&4!==t)return k(e,0===e.avail_out?-5:h);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===A)if(2===i.wrap)e.adler=0,P(i,31),P(i,139),P(i,8),i.gzhead?(P(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),P(i,255&i.gzhead.time),P(i,i.gzhead.time>>8&255),P(i,i.gzhead.time>>16&255),P(i,i.gzhead.time>>24&255),P(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),P(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(P(i,255&i.gzhead.extra.length),P(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(P(i,0),P(i,0),P(i,0),P(i,0),P(i,0),P(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),P(i,3),i.status=x);else{var d=f+(i.w_bits-8<<4)<<8;d|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=x,C(i,d),0!==i.strstart&&(C(i,e.adler>>>16),C(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),T(e),o=i.pending,i.pending!==i.pending_buf_size));)P(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),T(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,P(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),T(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,P(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=E)}else i.status=E;if(i.status===E&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&T(e),i.pending+2<=i.pending_buf_size&&(P(i,255&e.adler),P(i,e.adler>>8&255),e.adler=0,i.status=x)):i.status=x),0!==i.pending){if(T(e),0===e.avail_out)return i.last_flush=-1,u}else if(0===e.avail_in&&R(t)<=R(r)&&4!==t)return k(e,-5);if(i.status===S&&0!==e.avail_in)return k(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==S){var p=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(L(e),0===e.lookahead)){if(t===c)return 1;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=w){if(L(e),e.lookahead<=w&&t===c)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=v&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+w;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=w-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=v?(r=a._tr_tally(e,1,e.match_length-v),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==p&&4!==p||(i.status=S),1===p||3===p)return 0===e.avail_out&&(i.last_flush=-1),u;if(2===p&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(I(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),T(e),0===e.avail_out))return i.last_flush=-1,u}return 4!==t?u:i.wrap<=0?1:(2===i.wrap?(P(i,255&e.adler),P(i,e.adler>>8&255),P(i,e.adler>>16&255),P(i,e.adler>>24&255),P(i,255&e.total_in),P(i,e.total_in>>8&255),P(i,e.total_in>>16&255),P(i,e.total_in>>24&255)):(C(i,e.adler>>>16),C(i,65535&e.adler)),T(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?u:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==A&&69!==t&&73!==t&&91!==t&&t!==E&&t!==x&&t!==S?k(e,h):(e.state=null,t===x?k(e,-3):u):h},t.deflateSetDictionary=function(e,t){var r,n,a,s,l,c,d,f,p=t.length;if(!e||!e.state)return h;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==A||r.lookahead)return h;for(1===s&&(e.adler=o(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(I(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,t,p-r.w_size,r.w_size,0),t=f,p=r.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,L(r);r.lookahead>=v;){n=r.strstart,a=r.lookahead-(v-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+v-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=v-1,L(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=v-1,r.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,r.wrap=s,u},t.deflateInfo="pako deflate (from Nodeca project)"},42401:e=>{e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},94264:e=>{e.exports=function(e,t){var r,n,i,a,o,s,l,c,u,h,d,f,p,g,m,b,y,v,w,_,A,E,x,S,k;r=e.state,n=e.next_in,S=e.input,i=n+(e.avail_in-5),a=e.next_out,k=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=r.dmax,c=r.wsize,u=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,m=r.distcode,b=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),v=g[f&b];t:for(;;){if(f>>>=w=v>>>24,p-=w,0==(w=v>>>16&255))k[a++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=g[(65535&v)+(f&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}_=65535&v,(w&=15)&&(p<w&&(f+=S[n++]<<p,p+=8),_+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),v=m[f&y];r:for(;;){if(f>>>=w=v>>>24,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=m[(65535&v)+(f&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(A=65535&v,p<(w&=15)&&(f+=S[n++]<<p,(p+=8)<w&&(f+=S[n++]<<p,p+=8)),(A+=f&(1<<w)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=w,p-=w,A>(w=a-o)){if((w=A-w)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(E=0,x=d,0===h){if(E+=c-w,w<_){_-=w;do{k[a++]=d[E++]}while(--w);E=a-A,x=k}}else if(h<w){if(E+=c+h-w,(w-=h)<_){_-=w;do{k[a++]=d[E++]}while(--w);if(E=0,h<_){_-=w=h;do{k[a++]=d[E++]}while(--w);E=a-A,x=k}}}else if(E+=h-w,w<_){_-=w;do{k[a++]=d[E++]}while(--w);E=a-A,x=k}for(;_>2;)k[a++]=x[E++],k[a++]=x[E++],k[a++]=x[E++],_-=3;_&&(k[a++]=x[E++],_>1&&(k[a++]=x[E++]))}else{E=a-A;do{k[a++]=k[E++],k[a++]=k[E++],k[a++]=k[E++],_-=3}while(_>2);_&&(k[a++]=k[E++],_>1&&(k[a++]=k[E++]))}break}}break}}while(n<i&&a<s);n-=_=p>>3,f&=(1<<(p-=_<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=f,r.bits=p}},27948:(e,t,r)=>{var n=r(24236),i=r(66069),a=r(2869),o=r(94264),s=r(9241),l=0,c=-2,u=1,h=12,d=30,f=852,p=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(f),t.distcode=t.distdyn=new n.Buf32(p),t.sane=1,t.back=-1,l):c}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):c}function v(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,y(e))):c}function w(e,t){var r,n;return e?(n=new m,e.state=n,n.window=null,(r=v(e,t))!==l&&(e.state=null),r):c}var _,A,E=!0;function x(e){if(E){var t;for(_=new n.Buf32(512),A=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,A,0,e.work,{bits:5}),E=!1}e.lencode=_,e.lenbits=9,e.distcode=A,e.distbits=5}function S(e,t,r,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),n.arraySet(o.window,t,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=y,t.inflateReset2=v,t.inflateResetKeep=b,t.inflateInit=function(e){return w(e,15)},t.inflateInit2=w,t.inflate=function(e,t){var r,f,p,m,b,y,v,w,_,A,E,k,R,I,T,M,P,C,O,L,N,B,D,U,V=0,F=new n.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(r=e.state).mode===h&&(r.mode=13),b=e.next_out,p=e.output,v=e.avail_out,m=e.next_in,f=e.input,y=e.avail_in,w=r.hold,_=r.bits,A=y,E=v,B=l;e:for(;;)switch(r.mode){case u:if(0===r.wrap){r.mode=13;break}for(;_<16;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(2&r.wrap&&35615===w){r.check=0,F[0]=255&w,F[1]=w>>>8&255,r.check=a(r.check,F,2,0),w=0,_=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",r.mode=d;break}if(8!=(15&w)){e.msg="unknown compression method",r.mode=d;break}if(_-=4,N=8+(15&(w>>>=4)),0===r.wbits)r.wbits=N;else if(N>r.wbits){e.msg="invalid window size",r.mode=d;break}r.dmax=1<<N,e.adler=r.check=1,r.mode=512&w?10:h,w=0,_=0;break;case 2:for(;_<16;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(r.flags=w,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=d;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=d;break}r.head&&(r.head.text=w>>8&1),512&r.flags&&(F[0]=255&w,F[1]=w>>>8&255,r.check=a(r.check,F,2,0)),w=0,_=0,r.mode=3;case 3:for(;_<32;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}r.head&&(r.head.time=w),512&r.flags&&(F[0]=255&w,F[1]=w>>>8&255,F[2]=w>>>16&255,F[3]=w>>>24&255,r.check=a(r.check,F,4,0)),w=0,_=0,r.mode=4;case 4:for(;_<16;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}r.head&&(r.head.xflags=255&w,r.head.os=w>>8),512&r.flags&&(F[0]=255&w,F[1]=w>>>8&255,r.check=a(r.check,F,2,0)),w=0,_=0,r.mode=5;case 5:if(1024&r.flags){for(;_<16;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}r.length=w,r.head&&(r.head.extra_len=w),512&r.flags&&(F[0]=255&w,F[1]=w>>>8&255,r.check=a(r.check,F,2,0)),w=0,_=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((k=r.length)>y&&(k=y),k&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,m,k,N)),512&r.flags&&(r.check=a(r.check,f,k,m)),y-=k,m+=k,r.length-=k),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y)break e;k=0;do{N=f[m+k++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N))}while(N&&k<y);if(512&r.flags&&(r.check=a(r.check,f,k,m)),y-=k,m+=k,N)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y)break e;k=0;do{N=f[m+k++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N))}while(N&&k<y);if(512&r.flags&&(r.check=a(r.check,f,k,m)),y-=k,m+=k,N)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;_<16;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(w!==(65535&r.check)){e.msg="header crc mismatch",r.mode=d;break}w=0,_=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=h;break;case 10:for(;_<32;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}e.adler=r.check=g(w),w=0,_=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,r.hold=w,r.bits=_,2;e.adler=r.check=1,r.mode=h;case h:if(5===t||6===t)break e;case 13:if(r.last){w>>>=7&_,_-=7&_,r.mode=27;break}for(;_<3;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}switch(r.last=1&w,_-=1,3&(w>>>=1)){case 0:r.mode=14;break;case 1:if(x(r),r.mode=20,6===t){w>>>=2,_-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=d}w>>>=2,_-=2;break;case 14:for(w>>>=7&_,_-=7&_;_<32;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",r.mode=d;break}if(r.length=65535&w,w=0,_=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(k=r.length){if(k>y&&(k=y),k>v&&(k=v),0===k)break e;n.arraySet(p,f,m,k,b),y-=k,m+=k,v-=k,b+=k,r.length-=k;break}r.mode=h;break;case 17:for(;_<14;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(r.nlen=257+(31&w),w>>>=5,_-=5,r.ndist=1+(31&w),w>>>=5,_-=5,r.ncode=4+(15&w),w>>>=4,_-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=d;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;_<3;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}r.lens[j[r.have++]]=7&w,w>>>=3,_-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},B=s(0,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,B){e.msg="invalid code lengths set",r.mode=d;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;M=(V=r.lencode[w&(1<<r.lenbits)-1])>>>16&255,P=65535&V,!((T=V>>>24)<=_);){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(P<16)w>>>=T,_-=T,r.lens[r.have++]=P;else{if(16===P){for(U=T+2;_<U;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(w>>>=T,_-=T,0===r.have){e.msg="invalid bit length repeat",r.mode=d;break}N=r.lens[r.have-1],k=3+(3&w),w>>>=2,_-=2}else if(17===P){for(U=T+3;_<U;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}_-=T,N=0,k=3+(7&(w>>>=T)),w>>>=3,_-=3}else{for(U=T+7;_<U;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}_-=T,N=0,k=11+(127&(w>>>=T)),w>>>=7,_-=7}if(r.have+k>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=d;break}for(;k--;)r.lens[r.have++]=N}}if(r.mode===d)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=d;break}if(r.lenbits=9,D={bits:r.lenbits},B=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,B){e.msg="invalid literal/lengths set",r.mode=d;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},B=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,B){e.msg="invalid distances set",r.mode=d;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(y>=6&&v>=258){e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,r.hold=w,r.bits=_,o(e,E),b=e.next_out,p=e.output,v=e.avail_out,m=e.next_in,f=e.input,y=e.avail_in,w=r.hold,_=r.bits,r.mode===h&&(r.back=-1);break}for(r.back=0;M=(V=r.lencode[w&(1<<r.lenbits)-1])>>>16&255,P=65535&V,!((T=V>>>24)<=_);){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(M&&0==(240&M)){for(C=T,O=M,L=P;M=(V=r.lencode[L+((w&(1<<C+O)-1)>>C)])>>>16&255,P=65535&V,!(C+(T=V>>>24)<=_);){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}w>>>=C,_-=C,r.back+=C}if(w>>>=T,_-=T,r.back+=T,r.length=P,0===M){r.mode=26;break}if(32&M){r.back=-1,r.mode=h;break}if(64&M){e.msg="invalid literal/length code",r.mode=d;break}r.extra=15&M,r.mode=22;case 22:if(r.extra){for(U=r.extra;_<U;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}r.length+=w&(1<<r.extra)-1,w>>>=r.extra,_-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;M=(V=r.distcode[w&(1<<r.distbits)-1])>>>16&255,P=65535&V,!((T=V>>>24)<=_);){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(0==(240&M)){for(C=T,O=M,L=P;M=(V=r.distcode[L+((w&(1<<C+O)-1)>>C)])>>>16&255,P=65535&V,!(C+(T=V>>>24)<=_);){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}w>>>=C,_-=C,r.back+=C}if(w>>>=T,_-=T,r.back+=T,64&M){e.msg="invalid distance code",r.mode=d;break}r.offset=P,r.extra=15&M,r.mode=24;case 24:if(r.extra){for(U=r.extra;_<U;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}r.offset+=w&(1<<r.extra)-1,w>>>=r.extra,_-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=d;break}r.mode=25;case 25:if(0===v)break e;if(k=E-v,r.offset>k){if((k=r.offset-k)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=d;break}k>r.wnext?(k-=r.wnext,R=r.wsize-k):R=r.wnext-k,k>r.length&&(k=r.length),I=r.window}else I=p,R=b-r.offset,k=r.length;k>v&&(k=v),v-=k,r.length-=k;do{p[b++]=I[R++]}while(--k);0===r.length&&(r.mode=21);break;case 26:if(0===v)break e;p[b++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;_<32;){if(0===y)break e;y--,w|=f[m++]<<_,_+=8}if(E-=v,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?a(r.check,p,E,b-E):i(r.check,p,E,b-E)),E=v,(r.flags?w:g(w))!==r.check){e.msg="incorrect data check",r.mode=d;break}w=0,_=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;_<32;){if(0===y)break e;y--,w+=f[m++]<<_,_+=8}if(w!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=d;break}w=0,_=0}r.mode=29;case 29:B=1;break e;case d:B=-3;break e;case 31:return-4;default:return c}return e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,r.hold=w,r.bits=_,(r.wsize||E!==e.avail_out&&r.mode<d&&(r.mode<27||4!==t))&&S(e,e.output,e.next_out,E-e.avail_out)?(r.mode=31,-4):(A-=e.avail_in,E-=e.avail_out,e.total_in+=A,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?a(r.check,p,E,e.next_out-E):i(r.check,p,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(r.mode===h?128:0)+(20===r.mode||15===r.mode?256:0),(0===A&&0===E||4===t)&&B===l&&(B=-5),B)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,l},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?c:(r.head=t,t.done=!1,l):c},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,t,n,0)!==r.check?-3:S(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,l):c},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,r)=>{var n=r(24236),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,l,c,u,h,d){var f,p,g,m,b,y,v,w,_,A=d.bits,E=0,x=0,S=0,k=0,R=0,I=0,T=0,M=0,P=0,C=0,O=null,L=0,N=new n.Buf16(16),B=new n.Buf16(16),D=null,U=0;for(E=0;E<=15;E++)N[E]=0;for(x=0;x<l;x++)N[t[r+x]]++;for(R=A,k=15;k>=1&&0===N[k];k--);if(R>k&&(R=k),0===k)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(S=1;S<k&&0===N[S];S++);for(R<S&&(R=S),M=1,E=1;E<=15;E++)if(M<<=1,(M-=N[E])<0)return-1;if(M>0&&(0===e||1!==k))return-1;for(B[1]=0,E=1;E<15;E++)B[E+1]=B[E]+N[E];for(x=0;x<l;x++)0!==t[r+x]&&(h[B[t[r+x]]++]=x);if(0===e?(O=D=h,y=19):1===e?(O=i,L-=257,D=a,U-=257,y=256):(O=o,D=s,y=-1),C=0,x=0,E=S,b=u,I=R,T=0,g=-1,m=(P=1<<R)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){v=E-T,h[x]<y?(w=0,_=h[x]):h[x]>y?(w=D[U+h[x]],_=O[L+h[x]]):(w=96,_=0),f=1<<E-T,S=p=1<<I;do{c[b+(C>>T)+(p-=f)]=v<<24|w<<16|_|0}while(0!==p);for(f=1<<E-1;C&f;)f>>=1;if(0!==f?(C&=f-1,C+=f):C=0,x++,0==--N[E]){if(E===k)break;E=t[r+h[x]]}if(E>R&&(C&m)!==g){for(0===T&&(T=R),b+=S,M=1<<(I=E-T);I+T<k&&!((M-=N[I+T])<=0);)I++,M<<=1;if(P+=1<<I,1===e&&P>852||2===e&&P>592)return 1;c[g=C&m]=R<<24|I<<16|b-u|0}}return 0!==C&&(c[b+C]=E-T<<24|64<<16|0),d.bits=R,0}},48898:e=>{e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},10342:(e,t,r)=>{var n=r(24236);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=256,o=286,s=30,l=15,c=16,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var g=new Array(60);i(g);var m=new Array(512);i(m);var b=new Array(256);i(b);var y=new Array(29);i(y);var v,w,_,A=new Array(s);function E(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?m[e]:m[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function R(e,t,r){e.bi_valid>c-r?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>c-e.bi_valid,e.bi_valid+=r-c):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function I(e,t,r){R(e,r[2*t],r[2*t+1])}function T(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function M(e,t,r){var n,i,a=new Array(l+1),o=0;for(n=1;n<=l;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(a[s]++,s))}}function P(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function C(e){e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function L(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function N(e,t,r){var n,i,o,s,l=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===n?I(e,i,t):(I(e,(o=b[i])+a+1,t),0!==(s=u[o])&&R(e,i-=y[o],s),I(e,o=S(--n),r),0!==(s=h[o])&&R(e,n-=A[o],s))}while(l<e.last_lit);I(e,256,t)}function B(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<c;r++)0!==a[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)L(e,a,r);i=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,L(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,s,c=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(a=0;a<=l;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(a=c[2*c[2*(n=e.heap[r])+1]+1]+1)>g&&(a=g,m++),c[2*n+1]=a,n>u||(e.bl_count[a]++,o=0,n>=p&&(o=f[n-p]),s=c[2*n],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(h[2*n+1]+o)));if(0!==m){do{for(a=g-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(a=g;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>u||(c[2*i+1]!==a&&(e.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),n--)}}(e,t),M(a,u,e.bl_count)}function D(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++s<l&&i===o||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))}function U(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++s<l&&i===o)){if(s<c)do{I(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(I(e,i,e.bl_tree),s--),I(e,16,e.bl_tree),R(e,s-3,2)):s<=10?(I(e,17,e.bl_tree),R(e,s-3,3)):(I(e,18,e.bl_tree),R(e,s-11,7));s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}}i(A);var V=!1;function F(e,t,r,i){R(e,0+(i?1:0),3),function(e,t,r,i){C(e),k(e,r),k(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){V||(function(){var e,t,r,n,i,a=new Array(l+1);for(r=0,n=0;n<28;n++)for(y[n]=r,e=0;e<1<<u[n];e++)b[r++]=n;for(b[r-1]=n,i=0,n=0;n<16;n++)for(A[n]=i,e=0;e<1<<h[n];e++)m[i++]=n;for(i>>=7;n<s;n++)for(A[n]=i<<7,e=0;e<1<<h[n]-7;e++)m[256+i++]=n;for(t=0;t<=l;t++)a[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,a[8]++;for(;e<=255;)p[2*e+1]=9,e++,a[9]++;for(;e<=279;)p[2*e+1]=7,e++,a[7]++;for(;e<=287;)p[2*e+1]=8,e++,a[8]++;for(M(p,287,a),e=0;e<s;e++)g[2*e+1]=5,g[2*e]=T(e,5);v=new E(p,u,257,o,l),w=new E(g,h,0,s,l),_=new E(new Array(0),d,0,19,7)}(),V=!0),e.l_desc=new x(e.dyn_ltree,v),e.d_desc=new x(e.dyn_dtree,w),e.bl_desc=new x(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,P(e)},t._tr_stored_block=F,t._tr_flush_block=function(e,t,r,n){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),B(e,e.l_desc),B(e,e.d_desc),s=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),B(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?F(e,t,r,n):4===e.strategy||o===i?(R(e,2+(n?1:0),3),N(e,p,g)):(R(e,4+(n?1:0),3),function(e,t,r,n){var i;for(R(e,t-257,5),R(e,r-1,5),R(e,n-4,4),i=0;i<n;i++)R(e,e.bl_tree[2*f[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),N(e,e.dyn_ltree,e.dyn_dtree)),P(e),n&&C(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(b[r]+a+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){R(e,2,3),I(e,256,p),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},62292:e=>{e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},33340:e=>{function t(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var i=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var a=[],o=0;o<e.length;o++){var s=e[o];0===o?a.push({key:s[0],data:""}):o===e.length-1?a[a.length-1].data=r(s[0]):(a[a.length-1].data=r(s[0]),a.push({key:s[1],data:""}))}var l={key:i,data:{}};return a.forEach((function(e){l.data[e.key]=e.data})),l}function r(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?function(e){return e.split(",").map((function(e){return parseInt(e,10)}))}(e):parseInt(e,10):""}e.exports=function(e){if(!e)throw new Error("no data provided");var r={pages:[],chars:[],kernings:[]},n=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var a=t(n[i],i);if(a)if("page"===a.key){if("number"!=typeof a.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof a.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');r.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?r.chars.push(a.data):"kerning"===a.key?r.kernings.push(a.data):r[a.key]=a.data)}return r}},3827:e=>{var t=[66,77,70];function r(e,t,r){if(r>t.length-1)return 0;var i=t.readUInt8(r++),a=t.readInt32LE(r);switch(r+=4,i){case 1:e.info=function(e,t){var r={};r.size=e.readInt16LE(t);var i=e.readUInt8(t+2);return r.smooth=i>>7&1,r.unicode=i>>6&1,r.italic=i>>5&1,r.bold=i>>4&1,i>>3&1&&(r.fixedHeight=1),r.charset=e.readUInt8(t+3)||"",r.stretchH=e.readUInt16LE(t+4),r.aa=e.readUInt8(t+6),r.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],r.spacing=[e.readInt8(t+11),e.readInt8(t+12)],r.outline=e.readUInt8(t+13),r.face=function(e,t){return n(e,t).toString("utf8")}(e,t+14),r}(t,r);break;case 2:e.common=function(e,t){var r={};return r.lineHeight=e.readUInt16LE(t),r.base=e.readUInt16LE(t+2),r.scaleW=e.readUInt16LE(t+4),r.scaleH=e.readUInt16LE(t+6),r.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),r.packed=0,r.alphaChnl=e.readUInt8(t+11),r.redChnl=e.readUInt8(t+12),r.greenChnl=e.readUInt8(t+13),r.blueChnl=e.readUInt8(t+14),r}(t,r);break;case 3:e.pages=function(e,t,r){for(var i=[],a=n(e,t),o=a.length+1,s=r/o,l=0;l<s;l++)i[l]=e.slice(t,t+a.length).toString("utf8"),t+=o;return i}(t,r,a);break;case 4:e.chars=function(e,t,r){for(var n=[],i=r/20,a=0;a<i;a++){var o={},s=20*a;o.id=e.readUInt32LE(t+0+s),o.x=e.readUInt16LE(t+4+s),o.y=e.readUInt16LE(t+6+s),o.width=e.readUInt16LE(t+8+s),o.height=e.readUInt16LE(t+10+s),o.xoffset=e.readInt16LE(t+12+s),o.yoffset=e.readInt16LE(t+14+s),o.xadvance=e.readInt16LE(t+16+s),o.page=e.readUInt8(t+18+s),o.chnl=e.readUInt8(t+19+s),n[a]=o}return n}(t,r,a);break;case 5:e.kernings=function(e,t,r){for(var n=[],i=r/10,a=0;a<i;a++){var o={},s=10*a;o.first=e.readUInt32LE(t+0+s),o.second=e.readUInt32LE(t+4+s),o.amount=e.readInt16LE(t+8+s),n[a]=o}return n}(t,r,a)}return 5+a}function n(e,t){for(var r=t;r<e.length&&0!==e[r];r++);return e.slice(t,r)}e.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var n=t.every((function(t,r){return e.readUInt8(r)===t}));if(!n)throw new Error("BMFont missing BMF byte header");var i=3;if(e.readUInt8(i++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var a={kernings:[],chars:[]},o=0;o<5;o++)i+=r(a,e,i);return a}},85748:(e,t,r)=>{var n=r(22195),i=r(85926),a={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function o(e){var t=function(e){for(var t=[],r=0;r<e.attributes.length;r++)t.push(e.attributes[r]);return t}(e);return t.reduce((function(e,t){var r;return e[(r=t.nodeName,a[r.toLowerCase()]||r)]=t.nodeValue,e}),{})}e.exports=function(e){e=e.toString();var t=i(e),r={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var i=t.getElementsByTagName(e)[0];i&&(r[e]=n(o(i)))}));var a=t.getElementsByTagName("pages")[0];if(!a)throw new Error("malformed file -- no <pages> element");for(var s=a.getElementsByTagName("page"),l=0;l<s.length;l++){var c=s[l],u=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(u))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');r.pages[parseInt(u,10)]=h}return["chars","kernings"].forEach((function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var a=e.substring(0,e.length-1),s=i.getElementsByTagName(a),l=0;l<s.length;l++){var c=s[l];r[e].push(n(o(c)))}})),r}},22195:e=>{var t="chasrset";e.exports=function(e){for(var r in t in e&&(e.charset=e[t],delete e[t]),e)"face"!==r&&"charset"!==r&&(e[r]="padding"===r||"spacing"===r?e[r].split(",").map((function(e){return parseInt(e,10)})):parseInt(e[r],10));return e}},4947:e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var r,n={},i=t(e).split("\n"),a=0;a<i.length;a++){var o=i[a],s=o.indexOf(":"),l=t(o.slice(0,s)).toLowerCase(),c=t(o.slice(s+1));void 0===n[l]?n[l]=c:(r=n[l],"[object Array]"===Object.prototype.toString.call(r)?n[l].push(c):n[l]=[n[l],c])}return n}},28985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}},37279:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=r},56654:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const n=r(37279),i=r(28985);var a=r(37279);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),t.StreamReader=class{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new n.EndOfStreamError))),this.s.once("error",(e=>this.reject(e))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(e,t,r){const n=await this.read(e,t,r);return this.peekQueue.push(e.subarray(t,t+n)),n}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new n.EndOfStreamError;let i=r,a=0;for(;this.peekQueue.length>0&&i>0;){const r=this.peekQueue.pop();if(!r)throw new Error("peekData should be defined");const n=Math.min(r.length,i);e.set(r.subarray(0,n),t+a),a+=n,i-=n,n<r.length&&this.peekQueue.push(r.subarray(n))}for(;i>0&&!this.endOfStream;){const r=Math.min(i,1048576),n=await this.readFromStream(e,t+a,r);if(a+=n,n<r)break;i-=n}return a}async readFromStream(e,t,r){const n=this.s.read(r);if(n)return e.set(n,t),n.length;{const n={buffer:e,offset:t,length:r,deferred:new i.Deferred};return this.deferred=n.deferred,this.s.once("readable",(()=>{this.readDeferred(n)})),n.deferred.promise}}readDeferred(e){const t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(e)}))}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}},55167:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var n=r(37279);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});var i=r(56654);Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return i.StreamReader}})},40148:e=>{function t(e,n,i,a,o,s){for(var l,c,u,h,d=Math.max(n-1,0),f=Math.max(i-1,0),p=Math.min(n+1,a-1),g=Math.min(i+1,o-1),m=4*(i*a+n),b=0,y=0,v=0,w=0,_=0,A=d;A<=p;A++)for(var E=f;E<=g;E++)if(A!==n||E!==i){var x=r(e,e,m,4*(E*a+A),!0);if(0===x?b++:x<0?v++:x>0&&y++,b>2)return!1;s&&(x<w&&(w=x,l=A,c=E),x>_&&(_=x,u=A,h=E))}return!s||0!==v&&0!==y&&(!t(e,l,c,a,o)&&!t(s,l,c,a,o)||!t(e,u,h,a,o)&&!t(s,u,h,a,o))}function r(e,t,r,s,l){var c=e[r+3]/255,u=t[s+3]/255,h=o(e[r+0],c),d=o(e[r+1],c),f=o(e[r+2],c),p=o(t[s+0],u),g=o(t[s+1],u),m=o(t[s+2],u),b=n(h,d,f)-n(p,g,m);if(l)return b;var y=i(h,d,f)-i(p,g,m),v=a(h,d,f)-a(p,g,m);return.5053*b*b+.299*y*y+.1957*v*v}function n(e,t,r){return.29889531*e+.58662247*t+.11448223*r}function i(e,t,r){return.59597799*e-.2741761*t-.32180189*r}function a(e,t,r){return.21147017*e-.52261711*t+.31114694*r}function o(e,t){return 255+(e-255)*t}function s(e,t,r,n,i){e[t+0]=r,e[t+1]=n,e[t+2]=i,e[t+3]=255}e.exports=function(e,i,a,l,c,u){u||(u={});for(var h=void 0===u.threshold?.1:u.threshold,d=35215*h*h,f=0,p=0;p<c;p++)for(var g=0;g<l;g++){var m=4*(p*l+g);if(r(e,i,m,m)>d)u.includeAA||!t(e,g,p,l,c,i)&&!t(i,g,p,l,c,e)?(a&&s(a,m,255,0,0),f++):a&&s(a,m,255,255,0);else if(a){var b=o((void 0,void 0,void 0,void 0,w=(y=e)[(v=m)+3]/255,n(o(y[v+0],w),o(y[v+1],w),o(y[v+2],w))),.1);s(a,m,b,b,b)}}var y,v,w;return f}},9983:(e,t,r)=>{let n=r(27084),i=[function(){},function(e,t,r,n){if(n===t.length)throw new Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=255},function(e,t,r,n){if(n+1>=t.length)throw new Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=255},function(e,t,r,n){if(n+3>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=t[n+3]}],a=[function(){},function(e,t,r,n){let i=t[0];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=n},function(e,t,r){let n=t[0];e[r]=n,e[r+1]=n,e[r+2]=n,e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=n},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];function o(e,t,r,n,a,o){let s=e.width,l=e.height,c=e.index;for(let e=0;e<l;e++)for(let l=0;l<s;l++){let s=r(l,e,c);i[n](t,a,s,o),o+=n}return o}function s(e,t,r,n,i,o){let s=e.width,l=e.height,c=e.index;for(let e=0;e<l;e++){for(let l=0;l<s;l++){let s=i.get(n),u=r(l,e,c);a[n](t,s,u,o)}i.resetAfterLine()}}t.dataToBitMap=function(e,t){let r,i,a=t.width,l=t.height,c=t.depth,u=t.bpp,h=t.interlace;8!==c&&(r=function(e,t){let r=[],n=0;function i(){if(n===e.length)throw new Error("Ran out of data");let i,a,o,s,l,c,u,h,d=e[n];switch(n++,t){default:throw new Error("unrecognised depth");case 16:u=e[n],n++,r.push((d<<8)+u);break;case 4:u=15&d,h=d>>4,r.push(h,u);break;case 2:l=3&d,c=d>>2&3,u=d>>4&3,h=d>>6&3,r.push(h,u,c,l);break;case 1:i=1&d,a=d>>1&1,o=d>>2&1,s=d>>3&1,l=d>>4&1,c=d>>5&1,u=d>>6&1,h=d>>7&1,r.push(h,u,c,l,s,o,a,i)}}return{get:function(e){for(;r.length<e;)i();let t=r.slice(0,e);return r=r.slice(e),t},resetAfterLine:function(){r.length=0},end:function(){if(n!==e.length)throw new Error("extra data found")}}}(e,c)),i=c<=8?Buffer.alloc(a*l*4):new Uint16Array(a*l*4);let d,f,p=Math.pow(2,c)-1,g=0;if(h)d=n.getImagePasses(a,l),f=n.getInterlaceIterator(a,l);else{let e=0;f=function(){let t=e;return e+=4,t},d=[{width:a,height:l}]}for(let t=0;t<d.length;t++)8===c?g=o(d[t],i,f,u,e,g):s(d[t],i,f,u,r,p);if(8===c){if(g!==e.length)throw new Error("extra data found")}else r.end();return i}},9027:(e,t,r)=>{let n=r(93482);e.exports=function(e,t,r,i){let a=-1!==[n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(i.colorType);if(i.colorType===i.inputColorType){let t=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===i.bitDepth||16===i.bitDepth&&t)return e}let o=16!==i.bitDepth?e:new Uint16Array(e.buffer),s=255,l=n.COLORTYPE_TO_BPP_MAP[i.inputColorType];4!==l||i.inputHasAlpha||(l=3);let c=n.COLORTYPE_TO_BPP_MAP[i.colorType];16===i.bitDepth&&(s=65535,c*=2);let u=Buffer.alloc(t*r*c),h=0,d=0,f=i.bgColor||{};function p(){let e,t,r,l=s;switch(i.inputColorType){case n.COLORTYPE_COLOR_ALPHA:l=o[h+3],e=o[h],t=o[h+1],r=o[h+2];break;case n.COLORTYPE_COLOR:e=o[h],t=o[h+1],r=o[h+2];break;case n.COLORTYPE_ALPHA:l=o[h+1],e=o[h],t=e,r=e;break;case n.COLORTYPE_GRAYSCALE:e=o[h],t=e,r=e;break;default:throw new Error("input color type:"+i.inputColorType+" is not supported at present")}return i.inputHasAlpha&&(a||(l/=s,e=Math.min(Math.max(Math.round((1-l)*f.red+l*e),0),s),t=Math.min(Math.max(Math.round((1-l)*f.green+l*t),0),s),r=Math.min(Math.max(Math.round((1-l)*f.blue+l*r),0),s))),{red:e,green:t,blue:r,alpha:l}}void 0===f.red&&(f.red=s),void 0===f.green&&(f.green=s),void 0===f.blue&&(f.blue=s);for(let e=0;e<r;e++)for(let e=0;e<t;e++){let e=p();switch(i.colorType){case n.COLORTYPE_COLOR_ALPHA:case n.COLORTYPE_COLOR:8===i.bitDepth?(u[d]=e.red,u[d+1]=e.green,u[d+2]=e.blue,a&&(u[d+3]=e.alpha)):(u.writeUInt16BE(e.red,d),u.writeUInt16BE(e.green,d+2),u.writeUInt16BE(e.blue,d+4),a&&u.writeUInt16BE(e.alpha,d+6));break;case n.COLORTYPE_ALPHA:case n.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===i.bitDepth?(u[d]=t,a&&(u[d+1]=e.alpha)):(u.writeUInt16BE(t,d),a&&u.writeUInt16BE(e.alpha,d+2));break}default:throw new Error("unrecognised color Type "+i.colorType)}h+=l,d+=c}return u}},38442:(e,t,r)=>{let n=r(73837),i=r(12781),a=e.exports=function(){i.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};n.inherits(a,i),a.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},a.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let r;return r=Buffer.isBuffer(e)?e:Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},a.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},a.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,n=Buffer.alloc(e.length);for(;t<e.length;){let i=this._buffers[r++],a=Math.min(i.length,e.length-t);i.copy(n,t,0,a),t+=a,a!==i.length&&(this._buffers[--r]=i.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,n)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}},93482:e=>{e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},23500:e=>{let t=[];!function(){for(let e=0;e<256;e++){let r=e;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}}();let r=e.exports=function(){this._crc=-1};r.prototype.write=function(e){for(let r=0;r<e.length;r++)this._crc=t[255&(this._crc^e[r])]^this._crc>>>8;return!0},r.prototype.crc32=function(){return-1^this._crc},r.crc32=function(e){let r=-1;for(let n=0;n<e.length;n++)r=t[255&(r^e[n])]^r>>>8;return-1^r}},48876:(e,t,r)=>{let n=r(46744),i={0:function(e,t,r,n,i){for(let a=0;a<r;a++)n[i+a]=e[t+a]},1:function(e,t,r,n,i,a){for(let o=0;o<r;o++){let r=o>=a?e[t+o-a]:0,s=e[t+o]-r;n[i+o]=s}},2:function(e,t,r,n,i){for(let a=0;a<r;a++){let o=t>0?e[t+a-r]:0,s=e[t+a]-o;n[i+a]=s}},3:function(e,t,r,n,i,a){for(let o=0;o<r;o++){let s=o>=a?e[t+o-a]:0,l=t>0?e[t+o-r]:0,c=e[t+o]-(s+l>>1);n[i+o]=c}},4:function(e,t,r,i,a,o){for(let s=0;s<r;s++){let l=s>=o?e[t+s-o]:0,c=t>0?e[t+s-r]:0,u=t>0&&s>=o?e[t+s-(r+o)]:0,h=e[t+s]-n(l,c,u);i[a+s]=h}}},a={0:function(e,t,r){let n=0,i=t+r;for(let r=t;r<i;r++)n+=Math.abs(e[r]);return n},1:function(e,t,r,n){let i=0;for(let a=0;a<r;a++){let r=a>=n?e[t+a-n]:0,o=e[t+a]-r;i+=Math.abs(o)}return i},2:function(e,t,r){let n=0,i=t+r;for(let a=t;a<i;a++){let i=t>0?e[a-r]:0,o=e[a]-i;n+=Math.abs(o)}return n},3:function(e,t,r,n){let i=0;for(let a=0;a<r;a++){let o=a>=n?e[t+a-n]:0,s=t>0?e[t+a-r]:0,l=e[t+a]-(o+s>>1);i+=Math.abs(l)}return i},4:function(e,t,r,i){let a=0;for(let o=0;o<r;o++){let s=o>=i?e[t+o-i]:0,l=t>0?e[t+o-r]:0,c=t>0&&o>=i?e[t+o-(r+i)]:0,u=e[t+o]-n(s,l,c);a+=Math.abs(u)}return a}};e.exports=function(e,t,r,n,o){let s;if("filterType"in n&&-1!==n.filterType){if("number"!=typeof n.filterType)throw new Error("unrecognised filter types");s=[n.filterType]}else s=[0,1,2,3,4];16===n.bitDepth&&(o*=2);let l=t*o,c=0,u=0,h=Buffer.alloc((l+1)*r),d=s[0];for(let t=0;t<r;t++){if(s.length>1){let t=1/0;for(let r=0;r<s.length;r++){let n=a[s[r]](e,u,l,o);n<t&&(d=s[r],t=n)}}h[c]=d,c++,i[d](e,u,l,h,c,o),c+=l,u+=l}return h}},4603:(e,t,r)=>{let n=r(73837),i=r(38442),a=r(22769),o=e.exports=function(e){i.call(this);let t=[],r=this;this._filter=new a(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};n.inherits(o,i)},18692:(e,t,r)=>{let n=r(20033),i=r(22769);t.process=function(e,t){let r=[],a=new n(e);return new i(t,{read:a.read.bind(a),write:function(e){r.push(e)},complete:function(){}}).start(),a.process(),Buffer.concat(r)}},22769:(e,t,r)=>{let n=r(27084),i=r(46744);function a(e,t,r){let n=e*t;return 8!==r&&(n=Math.ceil(n/(8/r))),n}let o=e.exports=function(e,t){let r=e.width,i=e.height,o=e.interlace,s=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],o){let e=n.getImagePasses(r,i);for(let t=0;t<e.length;t++)this._images.push({byteWidth:a(e[t].width,s,l),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:a(r,s,l),height:i,lineIndex:0});this._xComparison=8===l?s:16===l?2*s:1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(e,t,r){let n=this._xComparison,i=n-1;for(let a=0;a<r;a++){let r=e[1+a],o=a>i?t[a-n]:0;t[a]=r+o}},o.prototype._unFilterType2=function(e,t,r){let n=this._lastLine;for(let i=0;i<r;i++){let r=e[1+i],a=n?n[i]:0;t[i]=r+a}},o.prototype._unFilterType3=function(e,t,r){let n=this._xComparison,i=n-1,a=this._lastLine;for(let o=0;o<r;o++){let r=e[1+o],s=a?a[o]:0,l=o>i?t[o-n]:0,c=Math.floor((l+s)/2);t[o]=r+c}},o.prototype._unFilterType4=function(e,t,r){let n=this._xComparison,a=n-1,o=this._lastLine;for(let s=0;s<r;s++){let r=e[1+s],l=o?o[s]:0,c=s>a?t[s-n]:0,u=s>a&&o?o[s-n]:0,h=i(c,l,u);t[s]=r+h}},o.prototype._reverseFilterLine=function(e){let t,r=e[0],n=this._images[this._imageIndex],i=n.byteWidth;if(0===r)t=e.slice(1,i+1);else switch(t=Buffer.alloc(i),r){case 1:this._unFilterType1(e,t,i);break;case 2:this._unFilterType2(e,t,i);break;case 3:this._unFilterType3(e,t,i);break;case 4:this._unFilterType4(e,t,i);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(t),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=t,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},58417:e=>{e.exports=function(e,t,r=!1){let n=t.depth,i=t.width,a=t.height,o=t.colorType,s=t.transColor,l=t.palette,c=e;return 3===o?function(e,t,r,n,i){let a=0;for(let o=0;o<n;o++)for(let n=0;n<r;n++){let r=i[e[a]];if(!r)throw new Error("index "+e[a]+" not in palette");for(let e=0;e<4;e++)t[a+e]=r[e];a+=4}}(e,c,i,a,l):(s&&function(e,t,r,n,i){let a=0;for(let o=0;o<n;o++)for(let n=0;n<r;n++){let r=!1;if(1===i.length?i[0]===e[a]&&(r=!0):i[0]===e[a]&&i[1]===e[a+1]&&i[2]===e[a+2]&&(r=!0),r)for(let e=0;e<4;e++)t[a+e]=0;a+=4}}(e,c,i,a,s),8===n||r||(16===n&&(c=Buffer.alloc(i*a*4)),function(e,t,r,n,i){let a=Math.pow(2,i)-1,o=0;for(let i=0;i<n;i++)for(let n=0;n<r;n++){for(let r=0;r<4;r++)t[o+r]=Math.floor(255*e[o+r]/a+.5);o+=4}}(e,c,i,a,n))),c}},27084:(e,t)=>{let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];t.getImagePasses=function(e,t){let n=[],i=e%8,a=t%8,o=(e-i)/8,s=(t-a)/8;for(let e=0;e<r.length;e++){let t=r[e],l=o*t.x.length,c=s*t.y.length;for(let e=0;e<t.x.length&&t.x[e]<i;e++)l++;for(let e=0;e<t.y.length&&t.y[e]<a;e++)c++;l>0&&c>0&&n.push({width:l,height:c,index:e})}return n},t.getInterlaceIterator=function(e){return function(t,n,i){let a=t%r[i].x.length,o=(t-a)/r[i].x.length*8+r[i].x[a],s=n%r[i].y.length;return 4*o+((n-s)/r[i].y.length*8+r[i].y[s])*e*4}}},76838:(e,t,r)=>{let n=r(73837),i=r(12781),a=r(93482),o=r(59432),s=e.exports=function(e){i.call(this);let t=e||{};this._packer=new o(t),this._deflate=this._packer.createDeflate(),this.readable=!0};n.inherits(s,i),s.prototype.pack=function(e,t,r,n){this.emit("data",Buffer.from(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),n&&this.emit("data",this._packer.packGAMA(n));let i=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(i)}},58360:(e,t,r)=>{let n=!0,i=r(59796);i.deflateSync||(n=!1);let a=r(93482),o=r(59432);e.exports=function(e,t){if(!n)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=new o(t||{}),s=[];s.push(Buffer.from(a.PNG_SIGNATURE)),s.push(r.packIHDR(e.width,e.height)),e.gamma&&s.push(r.packGAMA(e.gamma));let l=r.filterData(e.data,e.width,e.height),c=i.deflateSync(l,r.getDeflateOptions());if(l=null,!c||!c.length)throw new Error("bad png - invalid compressed data response");return s.push(r.packIDAT(c)),s.push(r.packIEND()),Buffer.concat(s)}},59432:(e,t,r)=>{let n=r(93482),i=r(23500),a=r(9027),o=r(48876),s=r(59796),l=e.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||s.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:n.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:n.COLORTYPE_COLOR_ALPHA,-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,r){let i=a(e,t,r,this._options),s=n.COLORTYPE_TO_BPP_MAP[this._options.colorType];return o(i,t,r,this._options,s)},l.prototype._packChunk=function(e,t){let r=t?t.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(e,4),t&&t.copy(n,8),n.writeInt32BE(i.crc32(n.slice(4,n.length-4)),n.length-4),n},l.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*n.GAMMA_DIVISION),0),this._packChunk(n.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(n.TYPE_IHDR,r)},l.prototype.packIDAT=function(e){return this._packChunk(n.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(n.TYPE_IEND,null)}},46744:e=>{e.exports=function(e,t,r){let n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}},57900:(e,t,r)=>{let n=r(73837),i=r(59796),a=r(38442),o=r(4603),s=r(78550),l=r(9983),c=r(58417),u=e.exports=function(e){a.call(this),this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};n.inherits(u,a),u.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},u.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,t=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:t});let r=e,n=this.emit.bind(this,"error");this._inflate.on("error",(function(e){r&&n(e)})),this._filter.on("complete",this._complete.bind(this));let a=this._filter.write.bind(this._filter);this._inflate.on("data",(function(e){r&&(e.length>r&&(e=e.slice(0,r)),r-=e.length,a(e))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},u.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new o(this._bitmapInfo)},u.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},u.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},u.prototype._simpleTransparency=function(){this._metaData.alpha=!0},u.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},u.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},u.prototype._complete=function(e){if(this.errord)return;let t;try{let r=l.dataToBitMap(e,this._bitmapInfo);t=c(r,this._bitmapInfo,this._options.skipRescale),r=null}catch(e){return void this._handleError(e)}this.emit("parsed",t)}},12416:(e,t,r)=>{let n=!0,i=r(59796),a=r(69653);i.deflateSync||(n=!1);let o=r(20033),s=r(18692),l=r(78550),c=r(9983),u=r(58417);e.exports=function(e,t){if(!n)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r,h,d,f=[],p=new o(e),g=new l(t,{read:p.read.bind(p),error:function(e){r=e},metadata:function(e){h=e},gamma:function(e){d=e},palette:function(e){h.palette=e},transColor:function(e){h.transColor=e},inflateData:function(e){f.push(e)},simpleTransparency:function(){h.alpha=!0}});if(g.start(),p.process(),r)throw r;let m,b=Buffer.concat(f);if(f.length=0,h.interlace)m=i.inflateSync(b);else{let e=(1+(h.width*h.bpp*h.depth+7>>3))*h.height;m=a(b,{chunkSize:e,maxLength:e})}if(b=null,!m||!m.length)throw new Error("bad png - invalid inflate data response");let y=s.process(m,h);b=null;let v=c.dataToBitMap(y,h);y=null;let w=u(v,h,t.skipRescale);return h.data=w,h.gamma=d||0,h}},78550:(e,t,r)=>{let n=r(93482),i=r(23500),a=e.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};a.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(e){let t=n.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),a="";for(let t=4;t<8;t++)a+=String.fromCharCode(e[t]);let o=Boolean(32&e[4]);if(this._hasIHDR||r===n.TYPE_IHDR){if(this._crc=new i,this._crc.write(Buffer.from(a)),this._chunks[r])return this._chunks[r](t);o?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+a))}else this.error(new Error("Expected IHDR on beggining"))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();this._options.checkCRC&&r!==t?this.error(new Error("Crc error - "+t+" - "+r)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),i=e[8],a=e[9],o=e[10],s=e[11],l=e[12];if(8!==i&&4!==i&&2!==i&&1!==i&&16!==i)return void this.error(new Error("Unsupported bit depth "+i));if(!(a in n.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(0!==o)return void this.error(new Error("Unsupported compression method"));if(0!==s)return void this.error(new Error("Unsupported filter method"));if(0!==l&&1!==l)return void this.error(new Error("Unsupported interlace method"));this._colorType=a;let c=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:i,interlace:Boolean(l),palette:Boolean(a&n.COLORTYPE_PALETTE),color:Boolean(a&n.COLORTYPE_COLOR),alpha:Boolean(a&n.COLORTYPE_ALPHA),bpp:c,colorType:a}),this._handleChunkEnd()},a.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[3*r],e[3*r+1],e[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===n.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===n.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===n.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/n.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},a.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===n.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},a.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},a.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},76117:(e,t,r)=>{let n=r(12416),i=r(58360);t.read=function(e,t){return n(e,t||{})},t.write=function(e,t){return i(e,t)}},35477:(e,t,r)=>{let n=r(73837),i=r(12781),a=r(57900),o=r(76838),s=r(76117),l=t.y=function(e){i.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new o(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};n.inherits(l,i),l.sync=s,l.prototype.pack=function(){return this.data&&this.data.length?(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},l.prototype.parse=function(e,t){if(t){let e,r;e=function(e){this.removeListener("error",r),this.data=e,t(null,this)}.bind(this),r=function(r){this.removeListener("parsed",e),t(r,null)}.bind(this),this.once("parsed",e),this.once("error",r)}return this.end(e),this},l.prototype.write=function(e){return this._parser.write(e),!0},l.prototype.end=function(e){this._parser.end(e)},l.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},l.prototype._gamma=function(e){this.gamma=e},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.bitblt=function(e,t,r,n,i,a,o,s){if(n|=0,i|=0,a|=0,o|=0,s|=0,(r|=0)>e.width||n>e.height||r+i>e.width||n+a>e.height)throw new Error("bitblt reading outside image");if(o>t.width||s>t.height||o+i>t.width||s+a>t.height)throw new Error("bitblt writing outside image");for(let l=0;l<a;l++)e.data.copy(t.data,(s+l)*t.width+o<<2,(n+l)*e.width+r<<2,(n+l)*e.width+r+i<<2)},l.prototype.bitblt=function(e,t,r,n,i,a,o){return l.bitblt(this,e,t,r,n,i,a,o),this},l.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let n=e.width*t+r<<2;for(let t=0;t<3;t++){let r=e.data[n+t]/255;r=Math.pow(r,1/2.2/e.gamma),e.data[n+t]=Math.round(255*r)}}e.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}},69653:(e,t,r)=>{let n=r(39491).ok,i=r(59796),a=r(73837),o=r(14300).kMaxLength;function s(e){if(!(this instanceof s))return new s(e);e&&e.chunkSize<i.Z_MIN_CHUNK&&(e.chunkSize=i.Z_MIN_CHUNK),i.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function l(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function c(e,t){return function(e,t){if("string"==typeof t&&(t=Buffer.from(t)),!(t instanceof Buffer))throw new TypeError("Not a string or buffer");let r=e._finishFlushFlag;return null==r&&(r=i.Z_FINISH),e._processChunk(t,r)}(new s(t),e)}s.prototype._processChunk=function(e,t,r){if("function"==typeof r)return i.Inflate._processChunk.call(this,e,t,r);let a,s,c=this,u=e&&e.length,h=this._chunkSize-this._offset,d=this._maxLength,f=0,p=[],g=0;function m(e,t){if(c._hadError)return;let r=h-t;if(n(r>=0,"have should not go down"),r>0){let e=c._buffer.slice(c._offset,c._offset+r);if(c._offset+=r,e.length>d&&(e=e.slice(0,d)),p.push(e),g+=e.length,d-=e.length,0===d)return!1}return(0===t||c._offset>=c._chunkSize)&&(h=c._chunkSize,c._offset=0,c._buffer=Buffer.allocUnsafe(c._chunkSize)),0===t&&(f+=u-e,u=e,!0)}this.on("error",(function(e){a=e})),n(this._handle,"zlib binding closed");do{s=this._handle.writeSync(t,e,f,u,this._buffer,this._offset,h),s=s||this._writeState}while(!this._hadError&&m(s[0],s[1]));if(this._hadError)throw a;if(g>=o)throw l(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+o.toString(16)+" bytes");let b=Buffer.concat(p,g);return l(this),b},a.inherits(s,i.Inflate),e.exports=t=c,t.Inflate=s,t.createInflate=function(e){return new s(e)},t.inflateSync=c},20033:e=>{let t=e.exports=function(e){this._buffer=e,this._reads=[]};t.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},t.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;{this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},65614:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(45374),a=r(86176),o=n(r(72307)),s=function(){function e(e,t){"string"==typeof e&&(e=new a.InsertDataQuill(i.DataType.Text,e+"")),this.insert=e,this.attributes=t||{}}return e.createNewLineOp=function(){return new e(i.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},e.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},e.prototype.hasSameAttr=function(e){return o.default(this.attributes,e.attributes)},e.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===i.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===i.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===i.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===i.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===i.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==i.ListType.Unchecked||this.attributes.list===i.ListType.Checked},e.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},e.prototype.isText=function(){return this.insert.type===i.DataType.Text},e.prototype.isImage=function(){return this.insert.type===i.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===i.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===i.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof a.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();t.DeltaInsertOp=s},86176:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InsertDataQuill=function(e,t){this.type=e,this.value=t};t.InsertDataCustom=function(e,t){this.type=e,this.value=t}},1137:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(45374),a=n(r(932)),o=n(r(53140)),s=function(){function e(){}return e.denormalize=function(e){if(!e||"object"!=typeof e)return[];if("object"==typeof e.insert||e.insert===i.NewLine)return[e];var t=a.tokenizeWithNewLines(e.insert+"");if(1===t.length)return[e];var r=o.assign({},e,{insert:i.NewLine});return t.map((function(t){return t===i.NewLine?r:o.assign({},e,{insert:t})}))},e}();t.InsertOpDenormalizer=s},50204:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(65614),i=r(45374),a=r(86176),o=r(43097),s=r(1137),l=r(65195),c=function(){function e(){}return e.convert=function(t,r){if(!Array.isArray(t))return[];for(var i,a,l=[],c=0,u=[].concat.apply([],t.map(s.InsertOpDenormalizer.denormalize));c<u.length;c++){var h=u[c];h.insert&&(i=e.convertInsertVal(h.insert,r))&&(a=o.OpAttributeSanitizer.sanitize(h.attributes,r),l.push(new n.DeltaInsertOp(i,a)))}return l},e.convertInsertVal=function(e,t){if("string"==typeof e)return new a.InsertDataQuill(i.DataType.Text,e);if(!e||"object"!=typeof e)return null;var r=Object.keys(e);return r.length?i.DataType.Image in e?new a.InsertDataQuill(i.DataType.Image,l.OpLinkSanitizer.sanitize(e[i.DataType.Image]+"",t)):i.DataType.Video in e?new a.InsertDataQuill(i.DataType.Video,l.OpLinkSanitizer.sanitize(e[i.DataType.Video]+"",t)):i.DataType.Formula in e?new a.InsertDataQuill(i.DataType.Formula,e[i.DataType.Formula]):new a.InsertDataCustom(r[0],e[r[0]]):null},e}();t.InsertOpsConverter=c},43097:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(45374),i=r(89250),a=r(82935),o=r(65195),s=function(){function e(){}return e.sanitize=function(t,r){var s={};if(!t||"object"!=typeof t)return s;var l=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],c=["background","color"],u=t.font,h=t.size,d=t.link,f=t.script,p=t.list,g=t.header,m=t.align,b=t.direction,y=t.indent,v=t.mentions,w=t.mention,_=t.width,A=t.target,E=t.rel,x=t["code-block"],S=l.concat(c,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(l.forEach((function(e){var r=t[e];r&&(s[e]=!!r)})),c.forEach((function(r){var n=t[r];n&&(e.IsValidHexColor(n+"")||e.IsValidColorLiteral(n+"")||e.IsValidRGBColor(n+""))&&(s[r]=n)})),u&&e.IsValidFontName(u+"")&&(s.font=u),h&&e.IsValidSize(h+"")&&(s.size=h),_&&e.IsValidWidth(_+"")&&(s.width=_),d&&(s.link=o.OpLinkSanitizer.sanitize(d+"",r)),A&&e.isValidTarget(A)&&(s.target=A),E&&e.IsValidRel(E)&&(s.rel=E),x&&(e.IsValidLang(x)?s["code-block"]=x:s["code-block"]=!!x),f!==n.ScriptType.Sub&&n.ScriptType.Super!==f||(s.script=f),p!==n.ListType.Bullet&&p!==n.ListType.Ordered&&p!==n.ListType.Checked&&p!==n.ListType.Unchecked||(s.list=p),Number(g)&&(s.header=Math.min(Number(g),6)),a.find([n.AlignType.Center,n.AlignType.Right,n.AlignType.Justify,n.AlignType.Left],(function(e){return e===m}))&&(s.align=m),b===n.DirectionType.Rtl&&(s.direction=b),y&&Number(y)&&(s.indent=Math.min(Number(y),30)),v&&w){var k=i.MentionSanitizer.sanitize(w,r);Object.keys(k).length>0&&(s.mentions=!!v,s.mention=w)}return Object.keys(t).reduce((function(e,r){return-1===S.indexOf(r)&&(e[r]=t[r]),e}),s)},e.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(e){return!!e.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},e.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(e){return"boolean"==typeof e||!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();t.OpAttributeSanitizer=s},65195:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(51579)),a=r(18410),o=function(){function e(){}return e.sanitize=function(e,t){var r=function(){};t&&"function"==typeof t.urlSanitizer&&(r=t.urlSanitizer);var n=r(e);return"string"==typeof n?n:a.encodeLink(i.sanitize(e))},e}();t.OpLinkSanitizer=o},37924:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(18410),a=r(45374),o=n(r(53140)),s=n(r(82935)),l=r(43097),c={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};t.DEFAULT_INLINE_STYLES={font:function(e){return c[e]||"font-family:"+e},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(e,t){var r=3*parseInt(e,10);return"padding-"+("rtl"===t.attributes.direction?"right":"left")+":"+r+"em"},direction:function(e,t){return"rtl"===e?"direction:rtl"+(t.attributes.align?"":"; text-align:inherit"):void 0}};var u=function(){function e(e,t){this.op=e,this.options=o.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},t)}return e.prototype.prefixClass=function(e){return this.options.classPrefix?this.options.classPrefix+"-"+e:e+""},e.prototype.getHtml=function(){var e=this.getHtmlParts();return e.openingTag+e.content+e.closingTag},e.prototype.getHtmlParts=function(){var e=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:a.NewLine};var t=this.getTags(),r=this.getTagAttributes();!t.length&&r.length&&t.push("span");for(var n=[],o=[],s=function(t){return"img"===t&&!!e.op.attributes.link},l=0,c=t;l<c.length;l++){var u=c[l];s(u)&&n.push(i.makeStartTag("a",this.getLinkAttrs())),n.push(i.makeStartTag(u,r)),o.push("img"===u?"":i.makeEndTag(u)),s(u)&&o.push(i.makeEndTag("a")),r=[]}return o.reverse(),{openingTag:n.join(""),content:this.getContent(),closingTag:o.join("")}},e.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var e=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&i.encodeHtml(e)||e},e.prototype.getCssClasses=function(){var e=this.op.attributes;if(this.options.inlineStyles)return[];var t=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&t.push("background"),(this.getCustomCssClasses()||[]).concat(t.filter((function(t){return!!e[t]})).filter((function(t){return"background"!==t||l.OpAttributeSanitizer.IsValidColorLiteral(e[t])})).map((function(t){return t+"-"+e[t]})).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},e.prototype.getCssStyles=function(){var e=this,r=this.op.attributes,n=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||n.push(["background","background-color"]),this.options.inlineStyles&&(n=n.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(n.filter((function(e){return!!r[e[0]]})).map((function(n){var i=n[0],a=r[i],o=e.options.inlineStyles&&e.options.inlineStyles[i]||t.DEFAULT_INLINE_STYLES[i];return"object"==typeof o?o[a]:"function"==typeof o?o(a,e.op):s.preferSecond(n)+":"+a}))).filter((function(e){return void 0!==e}))},e.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var e=this.makeAttr.bind(this),t=this.getCustomTagAttributes(),r=t?Object.keys(this.getCustomTagAttributes()).map((function(r){return e(r,t[r])})):[],n=this.getCssClasses(),i=n.length?r.concat([e("class",n.join(" "))]):r;if(this.op.isImage())return this.op.attributes.width&&(i=i.concat(e("width",this.op.attributes.width))),i.concat(e("src",this.op.insert.value));if(this.op.isACheckList())return i.concat(e("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return i;if(this.op.isVideo())return i.concat(e("frameborder","0"),e("allowfullscreen","true"),e("src",this.op.insert.value));if(this.op.isMentions()){var a=this.op.attributes.mention;return a.class&&(i=i.concat(e("class",a.class))),i=a["end-point"]&&a.slug?i.concat(e("href",a["end-point"]+"/"+a.slug)):i.concat(e("href","about:blank")),a.target&&(i=i.concat(e("target",a.target))),i}var o=this.getCssStyles();return o.length&&i.push(e("style",o.join(";"))),this.op.isCodeBlock()&&"string"==typeof this.op.attributes["code-block"]?i.concat(e("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(i=i.concat(this.getLinkAttrs())),i)},e.prototype.makeAttr=function(e,t){return{key:e,value:t}},e.prototype.getLinkAttrs=function(){var e=l.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,t=l.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,r=this.op.attributes.target||e,n=this.op.attributes.rel||t;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(r?this.makeAttr("target",r):[]).concat(n?this.makeAttr("rel",n):[])},e.prototype.getCustomTag=function(e){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[e,this.op])},e.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},e.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var e=this.options.customCssClasses.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var e=this.options.customCssStyles.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getTags=function(){var e=this,t=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var r=this.options.paragraphTag||"p",n=0,i=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",r],["direction",r],["indent",r]];n<i.length;n++){var o,l=i[n],c=l[0];if(t[c])return(o=this.getCustomTag(c))?[o]:"header"===c?["h"+t[c]]:[s.preferSecond(l)]}if(this.op.isCustomTextBlock())return(o=this.getCustomTag("renderAsBlock"))?[o]:[r];var u=Object.keys(t).reduce((function(t,r){var n=e.getCustomTag(r);return n&&(t[r]=n),t}),{}),h=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return h.filter((function(e){return!!t[e[0]]})).concat(Object.keys(u).filter((function(e){return!h.some((function(t){return t[0]==e}))})).map((function(e){return[e,u[e]]}))).map((function(e){return u[e[0]]?u[e[0]]:"script"===e[0]?t[e[0]]===a.ScriptType.Sub?"sub":"sup":s.preferSecond(e)}))},e}();t.OpToHtmlConverter=u},94722:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(50204),a=r(37924),o=r(92546),s=r(91510),l=r(92949),c=r(18410),u=n(r(53140)),h=r(45374),d=r(12716),f="<br/>",p=function(){function e(e,t){var r;this.rawDeltaOps=[],this.callbacks={},this.options=u.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},t,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),r=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:r,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=e}return e.prototype._getListTag=function(e){return e.isOrderedList()?this.options.orderedListTag+"":e.isBulletList()||e.isCheckedList()||e.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var e=i.InsertOpsConverter.convert(this.rawDeltaOps,this.options),t=o.Grouper.pairOpsWithTheirBlock(e),r=o.Grouper.groupConsecutiveSameStyleBlocks(t,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),n=o.Grouper.reduceConsecutiveSameStyleBlocksToOne(r);return n=(new d.TableGrouper).group(n),(new l.ListNester).nest(n)},e.prototype.convert=function(){var e=this;return this.getGroupedOps().map((function(t){if(t instanceof s.ListGroup)return e._renderWithCallbacks(h.GroupType.List,t,(function(){return e._renderList(t)}));if(t instanceof s.TableGroup)return e._renderWithCallbacks(h.GroupType.Table,t,(function(){return e._renderTable(t)}));if(t instanceof s.BlockGroup){var r=t;return e._renderWithCallbacks(h.GroupType.Block,t,(function(){return e._renderBlock(r.op,r.ops)}))}return t instanceof s.BlotBlock?e._renderCustom(t.op,null):t instanceof s.VideoItem?e._renderWithCallbacks(h.GroupType.Video,t,(function(){var r=t;return new a.OpToHtmlConverter(r.op,e.converterOptions).getHtml()})):e._renderWithCallbacks(h.GroupType.InlineGroup,t,(function(){return e._renderInlines(t.ops,!0)}))})).join("")},e.prototype._renderWithCallbacks=function(e,t,r){var n="",i=this.callbacks.beforeRender_cb;(n="function"==typeof i?i.apply(null,[e,t]):"")||(n=r());var a=this.callbacks.afterRender_cb;return"function"==typeof a?a.apply(null,[e,n]):n},e.prototype._renderList=function(e){var t=this,r=e.items[0];return c.makeStartTag(this._getListTag(r.item.op))+e.items.map((function(e){return t._renderListItem(e)})).join("")+c.makeEndTag(this._getListTag(r.item.op))},e.prototype._renderListItem=function(e){e.item.op.attributes.indent=0;var t=new a.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),r=this._renderInlines(e.item.ops,!1);return t.openingTag+r+(e.innerList?this._renderList(e.innerList):"")+t.closingTag},e.prototype._renderTable=function(e){var t=this;return c.makeStartTag("table")+c.makeStartTag("tbody")+e.rows.map((function(e){return t._renderTableRow(e)})).join("")+c.makeEndTag("tbody")+c.makeEndTag("table")},e.prototype._renderTableRow=function(e){var t=this;return c.makeStartTag("tr")+e.cells.map((function(e){return t._renderTableCell(e)})).join("")+c.makeEndTag("tr")},e.prototype._renderTableCell=function(e){var t=new a.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),r=this._renderInlines(e.item.ops,!1);return c.makeStartTag("td",{key:"data-row",value:e.item.op.attributes.table})+t.openingTag+r+t.closingTag+c.makeEndTag("td")},e.prototype._renderBlock=function(e,t){var r=this,n=new a.OpToHtmlConverter(e,this.converterOptions).getHtmlParts();if(e.isCodeBlock())return n.openingTag+c.encodeHtml(t.map((function(t){return t.isCustomEmbed()?r._renderCustom(t,e):t.insert.value})).join(""))+n.closingTag;var i=t.map((function(t){return r._renderInline(t,e)})).join("");return n.openingTag+(i||f)+n.closingTag},e.prototype._renderInlines=function(e,t){var r=this;void 0===t&&(t=!0);var n=e.length-1,i=e.map((function(e,t){return t>0&&t===n&&e.isJustNewline()?"":r._renderInline(e,null)})).join("");if(!t)return i;var a=c.makeStartTag(this.options.paragraphTag),o=c.makeEndTag(this.options.paragraphTag);return i===f||this.options.multiLineParagraph?a+i+o:a+i.split(f).map((function(e){return""===e?f:e})).join(o+a)+o},e.prototype._renderInline=function(e,t){return e.isCustomEmbed()?this._renderCustom(e,t):new a.OpToHtmlConverter(e,this.converterOptions).getHtml().replace(/\n/g,f)},e.prototype._renderCustom=function(e,t){var r=this.callbacks.renderCustomOp_cb;return"function"==typeof r?r.apply(null,[e,t]):""},e.prototype.beforeRender=function(e){"function"==typeof e&&(this.callbacks.beforeRender_cb=e)},e.prototype.afterRender=function(e){"function"==typeof e&&(this.callbacks.afterRender_cb=e)},e.prototype.renderCustomWith=function(e){this.callbacks.renderCustomOp_cb=e},e}();t.QuillDeltaToHtmlConverter=p},18410:(e,t)=>{var r;function n(e){return i(r.Html).reduce(o,e)}function i(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===r.Html?t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("(")&&-1===t.indexOf(")")})):t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("/")}))}function a(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function o(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"}(r||(r={})),t.makeStartTag=function(e,t){if(void 0===t&&(t=void 0),!e)return"";var r="";t&&(r=[].concat(t).map((function(e){return e.key+(e.value?'="'+e.value+'"':"")})).join(" "));var n=">";return"img"!==e&&"br"!==e||(n="/>"),r?"<"+e+" "+r+n:"<"+e+n},t.makeEndTag=function(e){return void 0===e&&(e=""),e&&"</"+e+">"||""},t.decodeHtml=n,t.encodeHtml=function(e,t){return void 0===t&&(t=!0),t&&(e=n(e)),i(r.Html).reduce(a,e)},t.encodeLink=function(e){var t=i(r.Url),n=t.reduce(o,e);return t.reduce(a,n)}},92546:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(65614),i=r(82935),a=r(91510),o=function(){function e(){}return e.pairOpsWithTheirBlock=function(e){for(var t,r=[],n=function(e){return!(e.isJustNewline()||e.isCustomEmbedBlock()||e.isVideo()||e.isContainerBlock())},o=function(e){return e.isInline()},s=e.length-1;s>=0;s--){var l=e[s];l.isVideo()?r.push(new a.VideoItem(l)):l.isCustomEmbedBlock()?r.push(new a.BlotBlock(l)):l.isContainerBlock()?(t=i.sliceFromReverseWhile(e,s-1,n),r.push(new a.BlockGroup(l,t.elements)),s=t.sliceStartsAt>-1?t.sliceStartsAt:s):(t=i.sliceFromReverseWhile(e,s-1,o),r.push(new a.InlineGroup(t.elements.concat(l))),s=t.sliceStartsAt>-1?t.sliceStartsAt:s)}return r.reverse(),r},e.groupConsecutiveSameStyleBlocks=function(t,r){return void 0===r&&(r={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),i.groupConsecutiveElementsWhile(t,(function(t,n){return t instanceof a.BlockGroup&&n instanceof a.BlockGroup&&(r.codeBlocks&&e.areBothCodeblocksWithSameLang(t,n)||r.blockquotes&&e.areBothBlockquotesWithSameAdi(t,n)||r.header&&e.areBothSameHeadersWithSameAdi(t,n)||r.customBlocks&&e.areBothCustomBlockWithSameAttr(t,n))}))},e.reduceConsecutiveSameStyleBlocksToOne=function(e){var t=n.DeltaInsertOp.createNewLineOp();return e.map((function(e){if(!Array.isArray(e))return e instanceof a.BlockGroup&&!e.ops.length&&e.ops.push(t),e;var r=e.length-1;return e[0].ops=i.flatten(e.map((function(e,n){return e.ops.length?e.ops.concat(n<r?[t]:[]):[t]}))),e[0]}))},e.areBothCodeblocksWithSameLang=function(e,t){return e.op.isCodeBlock()&&t.op.isCodeBlock()&&e.op.hasSameLangAs(t.op)},e.areBothSameHeadersWithSameAdi=function(e,t){return e.op.isSameHeaderAs(t.op)&&e.op.hasSameAdiAs(t.op)},e.areBothBlockquotesWithSameAdi=function(e,t){return e.op.isBlockquote()&&t.op.isBlockquote()&&e.op.hasSameAdiAs(t.op)},e.areBothCustomBlockWithSameAttr=function(e,t){return e.op.isCustomTextBlock()&&t.op.isCustomTextBlock()&&e.op.hasSameAttr(t.op)},e}();t.Grouper=o},92949:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(91510),i=r(82935),a=function(){function e(){}return e.prototype.nest=function(e){var t=this,r=this.convertListBlocksToListGroups(e),a=this.groupConsecutiveListGroups(r),o=i.flatten(a.map((function(e){return Array.isArray(e)?t.nestListSection(e):e})));return i.groupConsecutiveElementsWhile(o,(function(e,t){return e instanceof n.ListGroup&&t instanceof n.ListGroup&&e.items[0].item.op.isSameListAs(t.items[0].item.op)})).map((function(e){if(!Array.isArray(e))return e;var t=e.map((function(e){return e.items}));return new n.ListGroup(i.flatten(t))}))},e.prototype.convertListBlocksToListGroups=function(e){return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.BlockGroup&&t instanceof n.BlockGroup&&e.op.isList()&&t.op.isList()&&e.op.isSameListAs(t.op)&&e.op.hasSameIndentationAs(t.op)})).map((function(e){return Array.isArray(e)?new n.ListGroup(e.map((function(e){return new n.ListItem(e)}))):e instanceof n.BlockGroup&&e.op.isList()?new n.ListGroup([new n.ListItem(e)]):e}))},e.prototype.groupConsecutiveListGroups=function(e){return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.ListGroup&&t instanceof n.ListGroup}))},e.prototype.nestListSection=function(e){var t=this,r=this.groupByIndent(e);return Object.keys(r).map(Number).sort().reverse().forEach((function(n){r[n].forEach((function(r){var n=e.indexOf(r);t.placeUnderParent(r,e.slice(0,n))&&e.splice(n,1)}))})),e},e.prototype.groupByIndent=function(e){return e.reduce((function(e,t){var r=t.items[0].item.op.attributes.indent;return r&&(e[r]=e[r]||[],e[r].push(t)),e}),{})},e.prototype.placeUnderParent=function(e,t){for(var r=t.length-1;r>=0;r--){var n=t[r];if(e.items[0].item.op.hasHigherIndentThan(n.items[0].item.op)){var i=n.items[n.items.length-1];return i.innerList?i.innerList.items=i.innerList.items.concat(e.items):i.innerList=e,!0}}return!1},e}();t.ListNester=a},12716:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(91510),i=r(82935),a=function(){function e(){}return e.prototype.group=function(e){return this.convertTableBlocksToTableGroups(e)},e.prototype.convertTableBlocksToTableGroups=function(e){var t=this;return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.BlockGroup&&t instanceof n.BlockGroup&&e.op.isTable()&&t.op.isTable()})).map((function(e){return Array.isArray(e)?new n.TableGroup(t.convertTableBlocksToTableRows(e)):e instanceof n.BlockGroup&&e.op.isTable()?new n.TableGroup([new n.TableRow([new n.TableCell(e)])]):e}))},e.prototype.convertTableBlocksToTableRows=function(e){return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.BlockGroup&&t instanceof n.BlockGroup&&e.op.isTable()&&t.op.isTable()&&e.op.isSameTableRowAs(t.op)})).map((function(e){return new n.TableRow(Array.isArray(e)?e.map((function(e){return new n.TableCell(e)})):[new n.TableCell(e)])}))},e}();t.TableGrouper=a},91510:function(e,t){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});t.InlineGroup=function(e){this.ops=e};var i=function(e){this.op=e},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.VideoItem=a;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.BlotBlock=o;t.BlockGroup=function(e,t){this.op=e,this.ops=t};t.ListGroup=function(e){this.items=e};t.ListItem=function(e,t){void 0===t&&(t=null),this.item=e,this.innerList=t};t.TableGroup=function(e){this.rows=e};t.TableRow=function(e){this.cells=e};t.TableCell=function(e){this.item=e}},82935:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.preferSecond=function(e){return 0===e.length?null:e.length>=2?e[1]:e[0]},t.flatten=function e(t){return t.reduce((function(t,r){return t.concat(Array.isArray(r)?e(r):r)}),[])},t.find=function(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]},t.groupConsecutiveElementsWhile=function(e,t){for(var r,n=[],i=0;i<e.length;i++)r=e[i],i>0&&t(r,e[i-1])?n[n.length-1].push(r):n.push([r]);return n.map((function(e){return 1===e.length?e[0]:e}))},t.sliceFromReverseWhile=function(e,t,r){for(var n={elements:[],sliceStartsAt:-1},i=t;i>=0&&r(e[i]);i--)n.sliceStartsAt=i,n.elements.unshift(e[i]);return n},t.intersperse=function(e,t){return e.reduce((function(r,n,i){return r.push(n),i<e.length-1&&r.push(t),r}),[])}},53140:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=0;i<t.length;i++){var a=t[i];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n}},932:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeWithNewLines=function(e){var t="\n";if(e===t)return[e];var r=e.split(t);if(1===r.length)return r;var n=r.length-1;return r.reduce((function(e,r,i){return i!==n?""!==r?e=e.concat(r,t):e.push(t):""!==r&&e.push(r),e}),[])}},51579:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){var t=e;return t=t.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(t)?t:"unsafe:"+t}},88554:(e,t,r)=>{var n=r(94722);t.bc=n.QuillDeltaToHtmlConverter,r(37924).OpToHtmlConverter;var i=r(91510);i.InlineGroup,i.VideoItem,i.BlockGroup,i.ListGroup,i.ListItem,i.BlotBlock,r(65614).DeltaInsertOp;var a=r(86176);a.InsertDataQuill,a.InsertDataCustom;var o=r(45374);o.NewLine,o.ListType,o.ScriptType,o.DirectionType,o.AlignType,o.DataType,o.GroupType},89250:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(65195),i=function(){function e(){}return e.sanitize=function(t,r){var i={};return t&&"object"==typeof t?(t.class&&e.IsValidClass(t.class)&&(i.class=t.class),t.id&&e.IsValidId(t.id)&&(i.id=t.id),e.IsValidTarget(t.target+"")&&(i.target=t.target),t.avatar&&(i.avatar=n.OpLinkSanitizer.sanitize(t.avatar+"",r)),t["end-point"]&&(i["end-point"]=n.OpLinkSanitizer.sanitize(t["end-point"]+"",r)),t.slug&&(i.slug=t.slug+""),i):i},e.IsValidClass=function(e){return!!e.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(e){return!!e.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(e){return["_self","_blank","_parent","_top"].indexOf(e)>-1},e}();t.MentionSanitizer=i},45374:(e,t)=>{var r,n,i,a,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.NewLine="\n",function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"}(r||(r={})),t.ListType=r,function(e){e.Sub="sub",e.Super="super"}(n||(n={})),t.ScriptType=n,function(e){e.Rtl="rtl"}(i||(i={})),t.DirectionType=i,function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(a||(a={})),t.AlignType=a,function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"}(o||(o={})),t.DataType=o,function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"}(s||(s={})),t.GroupType=s},99810:(e,t,r)=>{e.exports={deltaToMarkdown:r(34640)}},29438:(e,t,r)=>{const n=r(72962),{encodeLink:i}=r(28631);e.exports={embed:{image:function(e){this.append("![]("+i(e)+")")},thematic_break:function(){this.open="\n---\n"+this.open}},inline:{italic:function(){return["_","_"]},bold:function(){return["**","**"]},link:function(e){return["[","]("+e+")"]}},block:{header:function({header:e}){this.open="#".repeat(e)+" "+this.open},blockquote:function(){this.open="> "+this.open},list:{group:function(){return new n(["","\n"])},line:function(e,t){if("bullet"===e.list)this.open="- "+this.open;else if("checked"===e.list)this.open="- [x] "+this.open;else if("unchecked"===e.list)this.open="- [ ] "+this.open;else if("ordered"===e.list){t.count=t.count||0;var r=++t.count;this.open=r+". "+this.open}}}}}},34640:(e,t,r)=>{const n=r(13218),i=r(1469),a=r(10691),o=r(29438),s=r(72962);function l(e,t){for(var r in e)if(Object.keys(t.block).includes(r))return!0;return!1}e.exports=function(e,t=o){return a(function(e,t){var r,a,o,c,u,h=new s;function d(){o=a=new s(["","\n"]),h.append(a),c={}}d();for(var f=0;f<e.length;f++){var p=e[f];if(n(p.insert))for(var g in p.insert)t.embed[g]&&(_(p.attributes),t.embed[g].call(o,p.insert[g],p.attributes));else{var m=p.insert.split("\n");if(l(p.attributes,t)){for(var b=1;b<m.length;b++)for(var y in p.attributes)if(t.block[y]){var v=t.block[y];"object"==typeof v&&(r&&r.type!==y&&(r=null),!r&&v.group&&(r={el:v.group(),type:y,value:p.attributes[g],distance:0},h.append(r.el)),r&&(r.el.append(a),r.distance=0),v=v.line),v.call(a,p.attributes,r),d();break}u=!0}else{for(var w=0;w<m.length;w++)(w>0||u)&&r&&++r.distance>=2&&(r=null),_(p.attributes,e[f+1]&&e[f+1].attributes),o.append(m[w]),w<m.length-1&&d();u=!1}}}return h;function _(e,r){var n=[],a=[];e=e||{};for(var l=o,u={};l._format;){if(u[l._format]=!0,!e[l._format]){for(var h in u)delete c[h];o=l.parent()}l=l.parent()}for(var d in e)if(t.inline[d]){if(c[d]&&c[d]===e[d])continue;r&&e[d]===r[d]?n.push(d):a.push(d),c[d]=e[d]}function f(r){var n=t.inline[r].call(null,e[r]);i(n)&&(n=new s(n)),n._format=r,o.append(n),o=n}n.forEach(f),a.forEach(f)}}(e,t).render())+"\n"}},72962:(e,t,r)=>{const n=r(1469),i=r(47037),a=r(97019);var o=0;class s{constructor(e){this.id=++o,n(e)?(this.open=e[0],this.close=e[1]):i(e)&&(this.text=e),this.children=[]}append(e){e instanceof s||(e=new s(e)),e._parent&&a(e._parent.children,e),e._parent=this,this.children=this.children.concat(e)}render(){var e="";this.open&&(e+=this.open),this.text&&(e+=this.text);for(var t=0;t<this.children.length;t++)e+=this.children[t].render();return this.close&&(e+=this.close),e}parent(){return this._parent}}e.exports=s},28631:e=>{e.exports={encodeLink:e=>encodeURI(e).replace(/\(/i,"%28").replace(/\)/i,"%29").replace(/(\?|&)response-content-disposition=attachment.*$/,"")}},28660:(e,t,r)=>{var n;!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(e);function a(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:i=a(n.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,s=!a&&!o,l={create:a?function(){return N(Object.create(null))}:o?function(){return N({__proto__:null})}:function(){return N({})},has:s?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:s?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,a)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function a(e,t){return t}function o(e,t){return[e,t]}}():Map,d=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,f=new(u||"function"!=typeof WeakMap?function(){var e=16,r=l.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return a(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(l.has(r,e));return r[e]=!0,e}function a(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",i=0;i<e;++i){var a=r[i];4!==i&&6!==i&&8!==i||(n+="-"),a<16&&(n+="0"),n+=a.toString(16).toLowerCase()}return n}}():WeakMap);function p(e,t,r){var n=f.get(e);if(E(n)){if(!r)return;n=new h,f.set(e,n)}var i=n.get(t);if(E(i)){if(!r)return;i=new h,n.set(t,i)}return i}function g(e,t,r){if(m(e,t,r))return!0;var n=L(t);return!x(n)&&g(e,n,r)}function m(e,t,r){var n=p(t,r,!1);return!E(n)&&!!n.has(e)}function b(e,t,r){if(m(e,t,r))return y(e,t,r);var n=L(t);return x(n)?void 0:b(e,n,r)}function y(e,t,r){var n=p(t,r,!1);if(!E(n))return n.get(e)}function v(e,t,r,n){p(r,n,!0).set(e,t)}function w(e,t){var r=_(e,t),n=L(e);if(null===n)return r;var i=w(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new d,o=[],s=0,l=r;s<l.length;s++){var c=l[s];a.has(c)||(a.add(c),o.push(c))}for(var u=0,h=i;u<h.length;u++)c=h[u],a.has(c)||(a.add(c),o.push(c));return o}function _(e,t){var r=[],n=p(e,t,!1);if(E(n))return r;for(var a=function(e){var t=P(e,i);if(!T(t))throw new TypeError;var r=t.call(e);if(!S(r))throw new TypeError;return r}(n.keys()),o=0;;){var s=C(a);if(!s)return r.length=o,r;var l=s.value;try{r[o]=l}catch(e){try{O(a)}finally{throw e}}o++}}function A(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function E(e){return void 0===e}function x(e){return null===e}function S(e){return"object"==typeof e?null!==e:"function"==typeof e}function k(e,t){switch(A(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=P(e,n);if(void 0!==i){var a=i.call(e,r);if(S(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(T(r)&&!S(i=r.call(e)))return i;if(T(n=e.valueOf)&&!S(i=n.call(e)))return i}else{var n;if(T(n=e.valueOf)&&!S(i=n.call(e)))return i;var i,a=e.toString;if(T(a)&&!S(i=a.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function R(e){var t=k(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function I(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function M(e){return"function"==typeof e}function P(e,t){var r=e[t];if(null!=r){if(!T(r))throw new TypeError;return r}}function C(e){var t=e.next();return!t.done&&t}function O(e){var t=e.return;t&&t.call(e)}function L(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function N(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(E(r)){if(!I(e))throw new TypeError;if(!M(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!E(n)&&!x(n)){if(!M(n))throw new TypeError;t=n}}return t}(e,t)}if(!I(e))throw new TypeError;if(!S(t))throw new TypeError;if(!S(n)&&!E(n)&&!x(n))throw new TypeError;return x(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var a=(0,e[i])(t,r,n);if(!E(a)&&!x(a)){if(!S(a))throw new TypeError;n=a}}return n}(e,t,r=R(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!S(r))throw new TypeError;if(!E(n)&&!function(e){switch(A(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;v(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!S(r))throw new TypeError;return E(n)||(n=R(n)),v(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=R(r)),g(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=R(r)),m(e,t,r)})),e("getMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=R(r)),b(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=R(r)),y(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return E(t)||(t=R(t)),w(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return E(t)||(t=R(t)),_(e,t)})),e("deleteMetadata",(function(e,t,r){if(!S(t))throw new TypeError;E(r)||(r=R(r));var n=p(t,r,!1);if(E(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=f.get(t);return i.delete(r),i.size>0||f.delete(t),!0}))}(i)}()}(n||(n={}))},35666:e=>{var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),s=new M(n||[]);return i(o,"_invoke",{value:k(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function b(){}function y(){}function v(){}var w={};c(w,o,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==r&&n.call(A,o)&&(w=A);var E=v.prototype=b.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,o,s){var l=h(e[i],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function k(e,t,r){var n=d;return function(i,a){if(n===p)throw new Error("Generator is already running");if(n===g){if("throw"===i)throw a;return C()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=R(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var l=h(e,t,r);if("normal"===l.type){if(n=r.done?g:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=g,r.method="throw",r.arg=l.arg)}}}function R(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return y.prototype=v,i(E,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new S(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),c(E,l,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},80842:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const n=r(55167);t.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const r=Buffer.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new n.EndOfStreamError;return e.get(r,0)}async peekToken(e,t=this.position){const r=Buffer.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new n.EndOfStreamError;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},30778:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const n=r(55167),i=r(80842);class a extends i.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&i<r.length)throw new n.EndOfStreamError;return e.set(this.uint8Array.subarray(r.position,r.position+i),r.offset),i}async close(){}}t.BufferTokenizer=a},27859:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromFile=t.FileTokenizer=void 0;const n=r(80842),i=r(55167),a=r(29075);class o extends n.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){const r=this.normalizeOptions(e,t);this.position=r.position;const n=await a.read(this.fd,e,r.offset,r.length,r.position);if(this.position+=n.bytesRead,n.bytesRead<r.length&&(!t||!t.mayBeLess))throw new i.EndOfStreamError;return n.bytesRead}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),n=await a.read(this.fd,e,r.offset,r.length,r.position);if(!r.mayBeLess&&n.bytesRead<r.length)throw new i.EndOfStreamError;return n.bytesRead}async close(){return a.close(this.fd)}}t.FileTokenizer=o,t.fromFile=async function(e){const t=await a.stat(e);if(!t.isFile)throw new Error(`File not a file: ${e}`);const r=await a.open(e,"r");return new o(r,{path:e,size:t.size})}},29075:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.readFile=t.writeFileSync=t.writeFile=t.read=t.open=t.close=t.stat=t.createReadStream=t.pathExists=void 0;const n=r(57147);t.pathExists=n.existsSync,t.createReadStream=n.createReadStream,t.stat=async function(e){return new Promise(((t,r)=>{n.stat(e,((e,n)=>{e?r(e):t(n)}))}))},t.close=async function(e){return new Promise(((t,r)=>{n.close(e,(e=>{e?r(e):t()}))}))},t.open=async function(e,t){return new Promise(((r,i)=>{n.open(e,t,((e,t)=>{e?i(e):r(t)}))}))},t.read=async function(e,t,r,i,a){return new Promise(((o,s)=>{n.read(e,t,r,i,a,((e,t,r)=>{e?s(e):o({bytesRead:t,buffer:r})}))}))},t.writeFile=async function(e,t){return new Promise(((r,i)=>{n.writeFile(e,t,(e=>{e?i(e):r()}))}))},t.writeFileSync=function(e,t){n.writeFileSync(e,t)},t.readFile=async function(e){return new Promise(((t,r)=>{n.readFile(e,((e,n)=>{e?r(e):t(n)}))}))}},20599:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const n=r(80842),i=r(55167);class a extends n.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const r=this.normalizeOptions(e,t),n=r.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;const a=await this.streamReader.read(e,r.offset,r.length);if(this.position+=a,(!t||!t.mayBeLess)&&a<r.length)throw new i.EndOfStreamError;return a}async peekBuffer(e,t){const r=this.normalizeOptions(e,t);let n=0;if(r.position){const t=r.position-this.position;if(t>0){const i=new Uint8Array(r.length+t);return n=await this.peekBuffer(i,{mayBeLess:r.mayBeLess}),e.set(i.subarray(t),r.offset),n-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{n=await this.streamReader.peek(e,r.offset,r.length)}catch(e){if(t&&t.mayBeLess&&e instanceof i.EndOfStreamError)return 0;throw e}if(!r.mayBeLess&&n<r.length)throw new i.EndOfStreamError}return n}async ignore(e){const t=Math.min(256e3,e),r=new Uint8Array(t);let n=0;for(;n<e;){const i=e-n,a=await this.readBuffer(r,{length:Math.min(t,i)});if(a<0)return a;n+=a}return n}}t.ReadStreamTokenizer=a},35849:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const n=r(20599),i=r(30778);var a=r(55167);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new n.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},26597:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromStream=t.fromBuffer=t.EndOfStreamError=t.fromFile=void 0;const n=r(29075),i=r(35849);var a=r(27859);Object.defineProperty(t,"fromFile",{enumerable:!0,get:function(){return a.fromFile}});var o=r(35849);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),Object.defineProperty(t,"fromBuffer",{enumerable:!0,get:function(){return o.fromBuffer}}),t.fromStream=async function(e,t){if(t=t||{},e.path){const r=await n.stat(e.path);t.path=e.path,t.size=r.size}return i.fromStream(e,t)}},7011:(e,t)=>{t.Ee=function(e,t,r,n,i,a,...o){return o.length?l.call(null,!1,!0,e,t,r,n,i,a,...o):l(!1,!0,e,t,r,n,i,a)};const r="INVALID_ARGS",n=!1;function i(e){throw new Error(e)}function a(e){const t=Object.keys(e);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t}function o(e){if(Array.isArray(e))return e.slice();const t=e,r=a(t),n={};for(let e=0;e<r.length;e++){const i=r[e];n[i]=t[i]}return n}function s(e){return null!=e&&"object"==typeof e}function l(e,t,c,...u){let h=c;null==h&&i(n?"At least one object should be provided to merge()":r);let d=!1;for(let r=0;r<u.length;r++){const n=u[r];if(null==n)continue;const i=a(n);if(i.length)for(let r=0;r<=i.length;r++){const a=i[r];if(e&&void 0!==h[a])continue;let c=n[a];t&&s(h[a])&&s(c)&&(c=l(e,t,h[a],c)),void 0!==c&&c!==h[a]&&(d||(d=!0,h=o(h)),h[a]=c)}}return h}},83416:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const n=r(80645);function i(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get:(e,t)=>i(e).getUint8(t),put:(e,t,r)=>(i(e).setUint8(t,r),t+1)},t.UINT16_LE={len:2,get:(e,t)=>i(e).getUint16(t,!0),put:(e,t,r)=>(i(e).setUint16(t,r,!0),t+2)},t.UINT16_BE={len:2,get:(e,t)=>i(e).getUint16(t),put:(e,t,r)=>(i(e).setUint16(t,r),t+2)},t.UINT24_LE={len:3,get(e,t){const r=i(e);return r.getUint8(t)+(r.getUint16(t+1,!0)<<8)},put(e,t,r){const n=i(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.UINT24_BE={len:3,get(e,t){const r=i(e);return(r.getUint16(t)<<8)+r.getUint8(t+2)},put(e,t,r){const n=i(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.UINT32_LE={len:4,get:(e,t)=>i(e).getUint32(t,!0),put:(e,t,r)=>(i(e).setUint32(t,r,!0),t+4)},t.UINT32_BE={len:4,get:(e,t)=>i(e).getUint32(t),put:(e,t,r)=>(i(e).setUint32(t,r),t+4)},t.INT8={len:1,get:(e,t)=>i(e).getInt8(t),put:(e,t,r)=>(i(e).setInt8(t,r),t+1)},t.INT16_BE={len:2,get:(e,t)=>i(e).getInt16(t),put:(e,t,r)=>(i(e).setInt16(t,r),t+2)},t.INT16_LE={len:2,get:(e,t)=>i(e).getInt16(t,!0),put:(e,t,r)=>(i(e).setInt16(t,r,!0),t+2)},t.INT24_LE={len:3,get(e,r){const n=t.UINT24_LE.get(e,r);return n>8388607?n-16777216:n},put(e,t,r){const n=i(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.INT24_BE={len:3,get(e,r){const n=t.UINT24_BE.get(e,r);return n>8388607?n-16777216:n},put(e,t,r){const n=i(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.INT32_BE={len:4,get:(e,t)=>i(e).getInt32(t),put:(e,t,r)=>(i(e).setInt32(t,r),t+4)},t.INT32_LE={len:4,get:(e,t)=>i(e).getInt32(t,!0),put:(e,t,r)=>(i(e).setInt32(t,r,!0),t+4)},t.UINT64_LE={len:8,get:(e,t)=>i(e).getBigUint64(t,!0),put:(e,t,r)=>(i(e).setBigUint64(t,r,!0),t+8)},t.INT64_LE={len:8,get:(e,t)=>i(e).getBigInt64(t,!0),put:(e,t,r)=>(i(e).setBigInt64(t,r,!0),t+8)},t.UINT64_BE={len:8,get:(e,t)=>i(e).getBigUint64(t),put:(e,t,r)=>(i(e).setBigUint64(t,r),t+8)},t.INT64_BE={len:8,get:(e,t)=>i(e).getBigInt64(t),put:(e,t,r)=>(i(e).setBigInt64(t,r),t+8)},t.Float16_BE={len:2,get(e,t){return n.read(e,t,!1,10,this.len)},put(e,t,r){return n.write(e,r,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return n.read(e,t,!0,10,this.len)},put(e,t,r){return n.write(e,r,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:(e,t)=>i(e).getFloat32(t),put:(e,t,r)=>(i(e).setFloat32(t,r),t+4)},t.Float32_LE={len:4,get:(e,t)=>i(e).getFloat32(t,!0),put:(e,t,r)=>(i(e).setFloat32(t,r,!0),t+4)},t.Float64_BE={len:8,get:(e,t)=>i(e).getFloat64(t),put:(e,t,r)=>(i(e).setFloat64(t,r),t+8)},t.Float64_LE={len:8,get:(e,t)=>i(e).getFloat64(t,!0),put:(e,t,r)=>(i(e).setFloat64(t,r,!0),t+8)},t.Float80_BE={len:10,get(e,t){return n.read(e,t,!1,63,this.len)},put(e,t,r){return n.write(e,r,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return n.read(e,t,!0,63,this.len)},put(e,t,r){return n.write(e,r,t,!0,63,this.len),t+this.len}},t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}},t.Uint8ArrayType=class{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}},t.BufferType=class{constructor(e){this.len=e}get(e,t){return Buffer.from(e.subarray(t,t+this.len))}},t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Buffer.from(e).toString(this.encoding,t,t+this.len)}};class a{constructor(e){this.len=e}static decode(e,t,r){let n="";for(let i=t;i<r;++i)n+=a.codePointToString(a.singleByteDecoder(e[i]));return n}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(a.inRange(e,0,127))return e;const t=a.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return a.decode(e,t,t+this.len)}}t.AnsiStringType=a,a.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},55847:(e,t,r)=>{!function(){var t={};function n(){"undefined"==typeof process&&console.log.apply(console,arguments)}e.exports=t,function(e,t){var r,i,a,o,s,l,c,u,h,d,f,p,g,m,b;!function(){var t=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=new Error,e.prototype.name="JpegError",e.constructor=e,e}(),r=function(){var e=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,i=799,a=3406,o=2276,s=1567,l=3784,c=5793,u=2896;function h(e){null==e&&(e={}),null==e.w&&(e.w=-1),this.V=e.n,this.N=e.w}function d(e,t){for(var r,n,i,a=0,o=[],s=16;s>0&&!e[s-1];)s--;o.push({children:[],index:0});var l=o[0];for(r=0;r<s;r++){for(n=0;n<e[r];n++){for((l=o.pop()).children[l.index]=t[a];l.index>0;)l=o.pop();for(l.index++,o.push(l);o.length<=r;)o.push(i={children:[],index:0}),l.children[l.index]=i.children,l=i;a++}r+1<s&&(o.push(i={children:[],index:0}),l.children[l.index]=i.children,l=i)}return o[0].children}function f(e,t,r){return 64*((e.P+1)*t+r)}function p(r,i,a,o,s,l,c,u,h,d){null==d&&(d=!1);var p,g,m,y,v,w,_,A,E,x,S,k=a.m,R=a.Z,I=i,T=0,M=0,P=0,C=0,O=0,L=0;function N(){if(M>0)return M--,T>>M&1;if(255===(T=r[i++])){var e=r[i++];if(e){if(220===e&&d){var o=n(r,i+=2);if(i+=2,o>0&&o!==a.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",o)}else if(217===e){if(d){var s=8*O;if(s>0&&s<a.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",s)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new t("unexpected marker")}}return M=7,T>>>7}function B(e){for(var r=e;;){switch(typeof(r=r[N()])){case"number":return r;case"object":continue}throw new t("invalid huffman sequence")}}function D(e){for(var t=0;e>0;)t=t<<1|N(),e--;return t}function U(e){if(1===e)return 1===N()?1:-1;var t=D(e);return t>=1<<e-1?t:t+(-1<<e)+1}function V(e,t,r,n,i){var a=r%k;O=(r/k|0)*e.A+n;var o=a*e.h+i;t(e,f(e,O,o))}function F(e,t,r){O=r/e.P|0;var n=r%e.P;t(e,f(e,O,n))}var j=o.length;for(_=R?0===l?0===u?function(e,t){var r=B(e.J),n=0===r?0:U(r)<<h;e.D[t]=e.Q+=n}:function(e,t){e.D[t]|=N()<<h}:0===u?function(t,r){if(P>0)P--;else for(var n=l,i=c;n<=i;){var a=B(t.i),o=15&a,s=a>>4;if(0!==o){var u=e[n+=s];t.D[r+u]=U(o)*(1<<h),n++}else{if(s<15){P=D(s)+(1<<s)-1;break}n+=16}}}:function(r,n){for(var i,a,o=l,s=c,u=0;o<=s;){var d=n+e[o],f=r.D[d]<0?-1:1;switch(C){case 0:if(u=(a=B(r.i))>>4,0==(i=15&a))u<15?(P=D(u)+(1<<u),C=4):(u=16,C=1);else{if(1!==i)throw new t("invalid ACn encoding");p=U(i),C=u?2:3}continue;case 1:case 2:r.D[d]?r.D[d]+=f*(N()<<h):0==--u&&(C=2===C?3:0);break;case 3:r.D[d]?r.D[d]+=f*(N()<<h):(r.D[d]=p<<h,C=0);break;case 4:r.D[d]&&(r.D[d]+=f*(N()<<h))}o++}4===C&&0==--P&&(C=0)}:function(t,r){var n=B(t.J),i=0===n?0:U(n),a=1;for(t.D[r]=t.Q+=i;a<64;){var o=B(t.i),s=15&o,l=o>>4;if(0!==s){var c=e[a+=l];t.D[r+c]=U(s),a++}else{if(l<15)break;a+=16}}},E=1===j?o[0].P*o[0].c:k*a.R;L<=E;){var q=s?Math.min(E-L,s):E;if(q>0){for(m=0;m<j;m++)o[m].Q=0;if(P=0,1===j)for(g=o[0],w=0;w<q;w++)F(g,_,L),L++;else for(w=0;w<q;w++){for(m=0;m<j;m++)for(x=(g=o[m]).h,S=g.A,y=0;y<S;y++)for(v=0;v<x;v++)V(g,_,L,y,v);L++}}if(M=0,!(A=b(r,i)))break;if(A.u&&(i=A.offset),!(A.M>=65488&&A.M<=65495))break;i+=2}return i-I}function g(e,n,h){var d,f,p,g,m,b,y,v,w,_,A,E,x,S,k,R,I,T=e.$,M=e.D;if(!T)throw new t("missing required Quantization Table.");for(var P=0;P<64;P+=8)w=M[n+P],_=M[n+P+1],A=M[n+P+2],E=M[n+P+3],x=M[n+P+4],S=M[n+P+5],k=M[n+P+6],R=M[n+P+7],w*=T[P],0!=(_|A|E|x|S|k|R)?(_*=T[P+1],A*=T[P+2],E*=T[P+3],x*=T[P+4],S*=T[P+5],k*=T[P+6],R*=T[P+7],f=(d=(d=c*w+128>>8)+(f=c*x+128>>8)+1>>1)-f,I=(p=A)*l+(g=k)*s+128>>8,p=p*s-g*l+128>>8,y=(m=(m=u*(_-R)+128>>8)+(y=S<<4)+1>>1)-y,b=(v=(v=u*(_+R)+128>>8)+(b=E<<4)+1>>1)-b,g=(d=d+(g=I)+1>>1)-g,p=(f=f+p+1>>1)-p,I=m*o+v*a+2048>>12,m=m*a-v*o+2048>>12,v=I,I=b*i+y*r+2048>>12,b=b*r-y*i+2048>>12,y=I,h[P]=d+v,h[P+7]=d-v,h[P+1]=f+y,h[P+6]=f-y,h[P+2]=p+b,h[P+5]=p-b,h[P+3]=g+m,h[P+4]=g-m):(I=c*w+512>>10,h[P]=I,h[P+1]=I,h[P+2]=I,h[P+3]=I,h[P+4]=I,h[P+5]=I,h[P+6]=I,h[P+7]=I);for(var C=0;C<8;++C)w=h[C],0!=((_=h[C+8])|(A=h[C+16])|(E=h[C+24])|(x=h[C+32])|(S=h[C+40])|(k=h[C+48])|(R=h[C+56]))?(f=(d=4112+((d=c*w+2048>>12)+(f=c*x+2048>>12)+1>>1))-f,I=(p=A)*l+(g=k)*s+2048>>12,p=p*s-g*l+2048>>12,g=I,y=(m=(m=u*(_-R)+2048>>12)+(y=S)+1>>1)-y,b=(v=(v=u*(_+R)+2048>>12)+(b=E)+1>>1)-b,I=m*o+v*a+2048>>12,m=m*a-v*o+2048>>12,v=I,I=b*i+y*r+2048>>12,b=b*r-y*i+2048>>12,(w=(d=d+g+1>>1)+v)<16?w=0:w>=4080?w=255:w>>=4,(_=(f=f+p+1>>1)+(y=I))<16?_=0:_>=4080?_=255:_>>=4,(A=(p=f-p)+b)<16?A=0:A>=4080?A=255:A>>=4,(E=(g=d-g)+m)<16?E=0:E>=4080?E=255:E>>=4,(x=g-m)<16?x=0:x>=4080?x=255:x>>=4,(S=p-b)<16?S=0:S>=4080?S=255:S>>=4,(k=f-y)<16?k=0:k>=4080?k=255:k>>=4,(R=d-v)<16?R=0:R>=4080?R=255:R>>=4,M[n+C]=w,M[n+C+8]=_,M[n+C+16]=A,M[n+C+24]=E,M[n+C+32]=x,M[n+C+40]=S,M[n+C+48]=k,M[n+C+56]=R):(I=(I=c*w+8192>>14)<-2040?0:I>=2024?255:I+2056>>4,M[n+C]=I,M[n+C+8]=I,M[n+C+16]=I,M[n+C+24]=I,M[n+C+32]=I,M[n+C+40]=I,M[n+C+48]=I,M[n+C+56]=I)}function m(e,t){for(var r=t.P,n=t.c,i=new Int16Array(64),a=0;a<n;a++)for(var o=0;o<r;o++)g(t,f(t,a,o),i);return t.D}function b(e,t,r){null==r&&(r=t);var i=e.length-1,a=r<t?r:t;if(t>=i)return null;var o=n(e,t);if(o>=65472&&o<=65534)return{u:null,M:o,offset:t};for(var s=n(e,a);!(s>=65472&&s<=65534);){if(++a>=i)return null;s=n(e,a)}return{u:o.toString(16),M:s,offset:a}}return h.prototype={parse(r,i){null==i&&(i={});var a,o,s=i.F,l=0,c=null,u=null,h=0;function f(){var e=n(r,l),t=(l+=2)+e-2,i=b(r,t,l);i&&i.u&&(t=i.offset);var a=r.subarray(l,t);return l+=a.length,a}function g(e){for(var t=Math.ceil(e.o/8/e.X),r=Math.ceil(e.s/8/e.B),n=0;n<e.W.length;n++){q=e.W[n];var i=Math.ceil(Math.ceil(e.o/8)*q.h/e.X),a=Math.ceil(Math.ceil(e.s/8)*q.A/e.B),o=t*q.h,s=r*q.A*64*(o+1);q.D=new Int16Array(s),q.P=i,q.c=a}e.m=t,e.R=r}var y=[],v=[],w=[],_=n(r,l);if(l+=2,65496!==_)throw new t("SOI not found");_=n(r,l),l+=2;e:for(;65497!==_;){var A,E,x;switch(_){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var S=f();65504===_&&74===S[0]&&70===S[1]&&73===S[2]&&70===S[3]&&0===S[4]&&(c={version:{d:S[5],T:S[6]},K:S[7],j:S[8]<<8|S[9],H:S[10]<<8|S[11],S:S[12],I:S[13],C:S.subarray(14,14+3*S[12]*S[13])}),65518===_&&65===S[0]&&100===S[1]&&111===S[2]&&98===S[3]&&101===S[4]&&(u={version:S[5]<<8|S[6],k:S[7]<<8|S[8],q:S[9]<<8|S[10],a:S[11]});break;case 65499:for(var k=n(r,l)+(l+=2)-2;l<k;){var R=r[l++],I=new Uint16Array(64);if(R>>4==0)for(E=0;E<64;E++)I[e[E]]=r[l++];else{if(R>>4!=1)throw new t("DQT - invalid table spec");for(E=0;E<64;E++)I[e[E]]=n(r,l),l+=2}y[15&R]=I}break;case 65472:case 65473:case 65474:if(a)throw new t("Only single frame JPEGs supported");l+=2,(a={}).G=65473===_,a.Z=65474===_,a.precision=r[l++];var T,M=n(r,l),P=0,C=0;l+=2,a.s=s||M,a.o=n(r,l),l+=2,a.W=[],a._={};var O=r[l++];for(A=0;A<O;A++){T=r[l];var L=r[l+1]>>4,N=15&r[l+1];P<L&&(P=L),C<N&&(C=N);var B=r[l+2];x=a.W.push({h:L,A:N,L:B,$:null}),a._[T]=x-1,l+=3}a.X=P,a.B=C,g(a);break;case 65476:var D=n(r,l);for(l+=2,A=2;A<D;){var U=r[l++],V=new Uint8Array(16),F=0;for(E=0;E<16;E++,l++)F+=V[E]=r[l];var j=new Uint8Array(F);for(E=0;E<F;E++,l++)j[E]=r[l];A+=17+F,(U>>4==0?w:v)[15&U]=d(V,j)}break;case 65501:o=n(r,l+=2),l+=2;break;case 65498:var q,z=1==++h&&!s;l+=2;var $=r[l++],H=[];for(A=0;A<$;A++){var G=r[l++],W=a._[G];(q=a.W[W]).index=G;var J=r[l++];q.J=w[J>>4],q.i=v[15&J],H.push(q)}var Q=r[l++],K=r[l++],Y=r[l++];try{var Z=p(r,l,a,H,o,Q,K,Y>>4,15&Y,z);l+=Z}catch(e){if(e instanceof DNLMarkerError)return this.parse(r,{F:e.s});if(e instanceof EOIMarkerError)break e;throw e}break;case 65500:l+=4;break;case 65535:255!==r[l]&&l--;break;default:var X=b(r,l-2,l-3);if(X&&X.u){l=X.offset;break}if(l>=r.length-1)break e;throw new t("JpegImage.parse - unknown marker: "+_.toString(16))}_=n(r,l),l+=2}for(this.width=a.o,this.height=a.s,this.g=c,this.b=u,this.W=[],A=0;A<a.W.length;A++){var ee=y[(q=a.W[A]).L];ee&&(q.$=ee),this.W.push({index:q.index,e:m(0,q),l:q.h/a.X,t:q.A/a.B,P:q.P,c:q.c})}this.p=this.W.length},Y(e,t,r){null==r&&(r=!1);var n,i,a,o,s,l,c,u,h,d,f,p,g=this.width/e,m=this.height/t,b=0,y=this.W.length,v=e*t*y,w=new Uint8ClampedArray(v),_=new Uint32Array(e),A=4294967288;for(c=0;c<y;c++){if(i=(n=this.W[c]).l*g,a=n.t*m,b=c,f=n.e,o=n.P+1<<3,i!==p){for(s=0;s<e;s++)u=0|s*i,_[s]=(u&A)<<3|7&u;p=i}for(l=0;l<t;l++)for(d=o*((u=0|l*a)&A)|(7&u)<<3,s=0;s<e;s++)w[b]=f[d+_[s]],b+=y}var E=this.V;if(r||4!==y||E||(E=new Int32Array([-256,255,-256,255,-256,255,-256,255])),E)for(c=0;c<v;)for(u=0,h=0;u<y;u++,c++,h+=2)w[c]=(w[c]*E[h]>>8)+E[h+1];return w},get f(){return this.b?!!this.b.a:3===this.p?0!==this.N&&(82!==this.W[0].index||71!==this.W[1].index||66!==this.W[2].index):1===this.N},z:function(e){for(var t,r,n,i=0,a=e.length;i<a;i+=3)t=e[i],r=e[i+1],n=e[i+2],e[i]=t-179.456+1.402*n,e[i+1]=t+135.459-.344*r-.714*n,e[i+2]=t-226.816+1.772*r;return e},O:function(e){for(var t,r,n,i,a=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],n=e[o+2],i=e[o+3],e[a++]=r*(-660635669420364e-19*r+.000437130475926232*n-54080610064599e-18*t+.00048449797120281*i-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),e[a++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*n+.000659397001245577*t+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),e[a++]=r*(-.000570115196973677*r-263409051004589e-19*n+.0020741088115012*t-.00288260236853442*i+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return e.subarray(0,a)},r:function(e){for(var t,r,n,i=0,a=e.length;i<a;i+=4)t=e[i],r=e[i+1],n=e[i+2],e[i]=434.456-t-1.402*n,e[i+1]=119.541-t+.344*r+.714*n,e[i+2]=481.816-t-1.772*r;return e},U:function(e){for(var t,r,n,i,a=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],n=e[o+2],i=e[o+3],e[a++]=255+t*(-6747147073602441e-20*t+.0008379262121013727*r+.0002894718188643294*n+.003264231057537806*i-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*n-.0002748769067499491*i-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*i+.0686742238595345)-i*(.0003361971776183937*i+.7430659151342254),e[a++]=255+t*(.00013596372813588848*t+.000924537132573585*r+.00010567359618683593*n+.0004791864687436512*i-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*n+.0020200308977307156*i-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*i-.09751927774728933)-i*(.0003189131175883281*i+.7364883807733168),e[a++]=255+t*(13598650411385307e-21*t+.00012423956175490851*r+.0004751985097583589*n-36729317476630422e-22*i-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*n+.0007782692450036253*i-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*i-.7591454649749609)-i*(.0003435319965105553*i+.7063770186160144);return e.subarray(0,a)},getData:function(e){var r=e.width,n=e.height,i=e.forceRGB,a=e.isSourcePDF;if(this.p>4)throw new t("Unsupported color mode");var o=this.Y(r,n,a);if(1===this.p&&i){for(var s=o.length,l=new Uint8ClampedArray(3*s),c=0,u=0;u<s;u++){var h=o[u];l[c++]=h,l[c++]=h,l[c++]=h}return l}if(3===this.p&&this.f)return this.z(o);if(4===this.p){if(this.f)return i?this.O(o):this.r(o);if(i)return this.U(o)}return o}},h}();function n(e,t){return e[t]<<8|e[t+1]}e.JpegDecoder=r}(),e.encodeImage=function(t,r,n,i){var a={t256:[r],t257:[n],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[n],t279:[r*n*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var o in i)a[o]=i[o];var s=new Uint8Array(e.encode([a])),l=new Uint8Array(t),c=new Uint8Array(1e3+r*n*4);for(o=0;o<s.length;o++)c[o]=s[o];for(o=0;o<l.length;o++)c[1e3+o]=l[o];return c.buffer},e.encode=function(t){var r=new Uint8Array(2e4),n=4,i=e._binBE;r[0]=r[1]=77,i.writeUshort(r,2,42);var a=8;i.writeUint(r,n,a),n+=4;for(var o=0;o<t.length;o++){var s=e._writeIFD(i,e._types.basic,r,a,t[o]);a=s[1],o<t.length-1&&(0!=(3&a)&&(a+=4-(3&a)),i.writeUint(r,s[0],a))}return r.slice(0,a).buffer},e.decode=function(t,r){null==r&&(r={parseMN:!0,debug:!1});var i=new Uint8Array(t),a=0,o=e._binBE.readASCII(i,a,2);a+=2;var s="II"==o?e._binLE:e._binBE;s.readUshort(i,a),a+=2;var l=s.readUint(i,a);a+=4;for(var c=[];;){var u=s.readUshort(i,l),h=s.readUshort(i,l+4);if(0!=u&&(h<1||13<h)){n("error in TIFF");break}if(e._readIFD(s,i,l,c,0,r),0==(l=s.readUint(i,l+2+12*u)))break}return c},e.decodeImage=function(t,r,i){if(!r.data){var a=new Uint8Array(t),o=e._binBE.readASCII(a,0,2);if(null!=r.t256){r.isLE="II"==o,r.width=r.t256[0],r.height=r.t257[0];var s=r.t259?r.t259[0]:1,l=r.t266?r.t266[0]:1;r.t284&&2==r.t284[0]&&n("PlanarConfiguration 2 should not be used!"),7==s&&r.t258&&r.t258.length>3&&(r.t258=r.t258.slice(0,3));var c=r.t277?r.t277[0]:1,u=(r.t258?r.t258[0]:1)*c;1==s&&null!=r.t279&&r.t278&&32803==r.t262[0]&&(u=Math.round(8*r.t279[0]/(r.width*r.t278[0]))),r.t50885&&4==r.t50885[0]&&(u=3*r.t258[0]);var h=8*Math.ceil(r.width*u/8),d=r.t273;(null==d||r.t322)&&(d=r.t324);var f=r.t279;1==s&&1==d.length&&(f=[r.height*(h>>>3)]),(null==f||r.t322)&&(f=r.t325);var p=new Uint8Array(r.height*(h>>>3)),g=0;if(null!=r.t322){var m=r.t322[0],b=r.t323[0],y=Math.floor((r.width+m-1)/m),v=Math.floor((r.height+b-1)/b),w=new Uint8Array(0|Math.ceil(m*b*u/8));console.log("====",y,v);for(var _=0;_<v;_++)for(var A=0;A<y;A++){var E=_*y+A;w.fill(0),e.decode._decompress(r,i,a,d[E],f[E],s,w,0,l,m,b),6==s?p=w:e._copyTile(w,0|Math.ceil(m*u/8),b,p,0|Math.ceil(r.width*u/8),r.height,0|Math.ceil(A*m*u/8),_*b)}g=8*p.length}else{if(null==d)return;var x=r.t278?r.t278[0]:r.height;for(x=Math.min(x,r.height),E=0;E<d.length;E++)e.decode._decompress(r,i,a,d[E],f[E],s,p,0|Math.ceil(g/8),l,r.width,x),g+=h*x;g=Math.min(g,8*p.length)}r.data=new Uint8Array(p.buffer,0,0|Math.ceil(g/8))}}},e.decode._decompress=function(r,i,a,o,s,l,c,u,h,d,f){if(r.t271&&"Panasonic"==r.t271[0]&&r.t45&&6==r.t45[0]&&(l=34316),1==l)for(var p=0;p<s;p++)c[u+p]=a[o+p];else if(2==l)e.decode._decodeG2(a,o,s,c,u,d,h);else if(3==l)e.decode._decodeG3(a,o,s,c,u,d,h,!!r.t292&&1==(1&r.t292[0]));else if(4==l)e.decode._decodeG4(a,o,s,c,u,d,h);else if(5==l)e.decode._decodeLZW(a,o,s,c,u,8);else if(6==l)e.decode._decodeOldJPEG(r,a,o,s,c,u);else if(7==l||34892==l)e.decode._decodeNewJPEG(r,a,o,s,c,u);else if(8==l||32946==l){var g=new Uint8Array(a.buffer,o+2,s-6),m=t.inflateRaw(g);u+m.length<=c.length&&c.set(m,u)}else 9==l?e.decode._decodeVC5(a,o,s,c,u,r.t33422):32767==l?e.decode._decodeARW(r,a,o,s,c,u):32773==l?e.decode._decodePackBits(a,o,s,c,u):32809==l?e.decode._decodeThunder(a,o,s,c,u):34316==l?e.decode._decodePanasonic(r,a,o,s,c,u):34713==l?e.decode._decodeNikon(r,i,a,o,s,c,u):34676==l?e.decode._decodeLogLuv32(r,a,o,s,c,u):n("Unknown compression",l);var b=r.t258?Math.min(32,r.t258[0]):1,y=r.t277?r.t277[0]:1,v=b*y>>>3,w=Math.ceil(b*y*d/8);if(16==b&&!r.isLE&&null==r.t33422)for(var _=0;_<f;_++)for(var A=u+_*w,E=1;E<w;E+=2){var x=c[A+E];c[A+E]=c[A+E-1],c[A+E-1]=x}if(r.t317&&2==r.t317[0])for(_=0;_<f;_++){var S=u+_*w;if(16==b)for(p=v;p<w;p+=2){var k=(c[S+p+1]<<8|c[S+p])+(c[S+p-v+1]<<8|c[S+p-v]);c[S+p]=255&k,c[S+p+1]=k>>>8&255}else if(3==y)for(p=3;p<w;p+=3)c[S+p]=c[S+p]+c[S+p-3]&255,c[S+p+1]=c[S+p+1]+c[S+p-2]&255,c[S+p+2]=c[S+p+2]+c[S+p-1]&255;else for(p=v;p<w;p++)c[S+p]=c[S+p]+c[S+p-v]&255}},e.decode._decodePanasonic=function(e,t,r,n,i,a){var o,s,l,c,u,h,d,f,p=t.buffer,g=e.t2[0],m=e.t3[0],b=e.t10[0],y=e.t45[0],v=0,w=0,_=0,A=0,E=6==y?new Uint32Array(18):new Uint8Array(16),x=[0,0],S=[0,0],k=0,R=new Uint8Array(16384),I=new Uint16Array(i.buffer);function T(e){if(0==_){var t=new Uint8Array(p,r+w+8184,8200),n=new Uint8Array(p,r+w,8184);R.set(t),R.set(n,t.length),w+=16384}if(5!=y)return(R[A=(_=_-e&131071)>>3^16368]|R[A+1]<<8)>>(7&_)&~(-1<<e);for(o=0;o<16;o++)E[o]=R[_++],_&=16383}function M(e){return R[_+15-e]}function P(){x[0]=0,x[1]=0,S[0]=0,S[1]=0}if(7==y)throw y;if(6==y){var C=12==b,O=C?function(){E[0]=M(0)<<4|M(1)>>4,E[1]=4095&((15&M(1))<<8|M(2)),E[2]=M(3)>>6&3,E[3]=(63&M(3))<<2|M(4)>>6,E[4]=(63&M(4))<<2|M(5)>>6,E[5]=(63&M(5))<<2|M(6)>>6,E[6]=M(6)>>4&3,E[7]=(15&M(6))<<4|M(7)>>4,E[8]=(15&M(7))<<4|M(8)>>4,E[9]=(15&M(8))<<4|M(9)>>4,E[10]=M(9)>>2&3,E[11]=(3&M(9))<<6|M(10)>>2,E[12]=(3&M(10))<<6|M(11)>>2,E[13]=(3&M(11))<<6|M(12)>>2,E[14]=3&M(12),E[15]=M(13),E[16]=M(14),E[17]=M(15),_+=16,A=0}:function(){E[0]=M(0)<<6|M(1)>>2,E[1]=16383&((3&M(1))<<12|M(2)<<4|M(3)>>4),E[2]=M(3)>>2&3,E[3]=(3&M(3))<<8|M(4),E[4]=M(5)<<2|M(6)>>6,E[5]=(63&M(6))<<4|M(7)>>4,E[6]=M(7)>>2&3,E[7]=(3&M(7))<<8|M(8),E[8]=M(9)<<2&1020|M(10)>>6,E[9]=1023&(M(10)<<4|M(11)>>4),E[10]=M(11)>>2&3,E[11]=(3&M(11))<<8|M(12),E[12]=1023&(M(13)<<2&1020|M(14)>>6),E[13]=1023&(M(14)<<4|M(15)>>4),_+=16,A=0},L=C?14:11,N=C?128:512,B=C?2048:8192,D=C?16383:65535,U=C?4095:16383,V=g/L,F=16*V,j=C?18:14;for(h=0;h<m-15;h+=16){var q=Math.min(16,m-h),z=F*q;for(R=new Uint8Array(p,r+v,z),_=0,v+=z,f=0,d=0;f<q;f++,d=0){k=(h+f)*g;for(var $=0;$<V;$++)for(O(),P(),l=0,u=0,o=0;o<L;o++){if(c=1&o,o%3==2){var H=A<j?E[A++]:0;3==H&&(H=4),u=N<<H,l=1<<H}var G=A<j?E[A++]:0;x[c]?(G*=l,u<B&&S[c]>u&&(G+=S[c]-u),S[c]=G):(x[c]=G,G?S[c]=G:G=S[c]),I[k+d++]=G-15<=D?G-15&D:G+2147483633>>31&U}}}}else if(5==y){var W=12==b?10:9;for(h=0;h<m;h++)for(d=0;d<g;d+=W)T(0),12==b?(I[k++]=((15&E[1])<<8)+E[0],I[k++]=16*E[2]+(E[1]>>4),I[k++]=((15&E[4])<<8)+E[3],I[k++]=16*E[5]+(E[4]>>4),I[k++]=((15&E[7])<<8)+E[6],I[k++]=16*E[8]+(E[7]>>4),I[k++]=((15&E[10])<<8)+E[9],I[k++]=16*E[11]+(E[10]>>4),I[k++]=((15&E[13])<<8)+E[12],I[k++]=16*E[14]+(E[13]>>4)):14==b&&(I[k++]=E[0]+((63&E[1])<<8),I[k++]=(E[1]>>6)+4*E[2]+((15&E[3])<<10),I[k++]=(E[3]>>4)+16*E[4]+((3&E[5])<<12),I[k++]=((252&E[5])>>2)+(E[6]<<6),I[k++]=E[7]+((63&E[8])<<8),I[k++]=(E[8]>>6)+4*E[9]+((15&E[10])<<10),I[k++]=(E[10]>>4)+16*E[11]+((3&E[12])<<12),I[k++]=((252&E[12])>>2)+(E[13]<<6),I[k++]=E[14]+((63&E[15])<<8))}else{if(4!=y)throw y;for(h=0;h<m;h++)for(d=0;d<g;d++)c=1&(o=d%14),0==o&&P(),o%3==2&&(l=4>>3-T(2)),S[c]?0!=(s=T(8))&&(x[c]-=128<<l,(x[c]<0||4==l)&&(x[c]&=~(-1<<l)),x[c]+=s<<l):(S[c]=T(8),(S[c]||o>11)&&(x[c]=S[c]<<4|T(4))),I[k++]=x[1&d]}},e.decode._decodeVC5=function(){var t,r,n,i=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],a=[3,3,3,3,2,2,2,1,1,1];function o(e){var t=e[1],r=e[0][t>>>3]>>>7-(7&t)&1;return e[1]++,r}function s(e,r){if(null==t){t={};for(var n=0;n<i.length;n+=4)t[i[n+1]]=i.slice(n,n+4)}for(var a=o(e),s=t[a];null==s;)a=a<<1|o(e),s=t[a];var l=s[3];0!=l&&(l=0==o(e)?l:-l),r[0]=s[2],r[1]=l}function l(e,t){for(var r=0;r<t;r++)1==(1&e)&&e++,e>>>=1;return e}function c(e,t){return e>>t}function u(e,t,r,n,i,a){t[r]=c(c(11*e[i]-4*e[i+a]+e[i+a+a]+4,3)+e[n],1),t[r+a]=c(c(5*e[i]+4*e[i+a]-e[i+a+a]+4,3)-e[n],1)}function h(e,t,r,n,i,a){var o=e[i-a]-e[i+a],s=e[i],l=e[n];t[r]=c(c(o+4,3)+s+l,1),t[r+a]=c(c(4-o,3)+s-l,1)}function d(e,t,r,n,i,a){t[r]=c(c(5*e[i]+4*e[i-a]-e[i-a-a]+4,3)+e[n],1),t[r+a]=c(c(11*e[i]-4*e[i-a]+e[i-a-a]+4,3)-e[n],1)}function f(e){return n[e=e<0?0:e>4095?4095:e]>>>2}return function(t,i,o,c,p,g){c=new Uint16Array(c.buffer);var m,b,y,v,w,_,A,E,x=Date.now(),S=e._binBE,k=i+o;i+=4;for(var R=1==g[0];i<k;){var I=S.readShort(t,i),T=S.readUshort(t,i+2);if(i+=4,12==I)B=T;else if(20==I)m=T;else if(21==I)b=T;else if(48==I)y=T;else if(53==I)v=T;else if(35==I);else if(62==I)w=T;else if(101==I);else if(109==I)_=T;else if(84==I);else if(106==I);else if(107==I);else if(108==I);else if(102==I);else if(104==I)re=T;else if(105==I);else{var M=I<0?-I:I,P=65280&M,C=0;if(24576&M&&(8192&M?(C=65535&T,C+=(255&M)<<16):C=65535&T),24576==(24576&M)){if(null==A){A=[];for(var O=0;O<4;O++)A[O]=new Int16Array((m>>>1)*(b>>>1));for(E=new Int16Array((m>>>1)*(b>>>1)),r=new Int16Array(1024),O=0;O<1024;O++){var L=O-512,N=Math.abs(L),B=Math.floor(768*N*N*N/16581375)+N;r[O]=Math.sign(L)*B}for(n=new Uint16Array(4096),O=0;O<4096;O++){var D=O,U=65535*(Math.pow(113,D/4095)-1)/112;n[O]=Math.min(U,65535)}}var V=A[w],F=l(m,1+a[y]),j=l(b,1+a[y]);if(0==y)for(var q=0;q<j;q++)for(var z=0;z<F;z++){var $=i+2*(q*F+z);V[q*(m>>>1)+z]=t[$]<<8|t[$+1]}else{var H=[t,8*i],G=[],W=0,J=F*j,Q=[0,0],K=0;for(T=0;W<J;)for(s(H,Q),K=Q[0],T=Q[1];K>0;)G[W++]=T,K--;var Y=(y-1)%3,Z=1!=Y?F:0,X=0!=Y?j:0;for(q=0;q<j;q++){var ee=(q+X)*(m>>>1)+Z,te=q*F;for(z=0;z<F;z++)V[ee+z]=r[G[te+z]+512]*v}if(2==Y){var re=m>>>1,ne=2*F,ie=2*j;for(q=0;q<j;q++)for(z=0;z<ne;z++){O=2*q*re+z;var ae=j*re+(se=q*re+z);0==q?u(V,E,O,ae,se,re):q==j-1?d(V,E,O,ae,se,re):h(V,E,O,ae,se,re)}var oe=V;for(V=E,E=oe,q=0;q<ie;q++)for(z=0;z<F;z++){var se;O=q*re+2*z,ae=F+(se=q*re+z),0==z?u(V,E,O,ae,se,1):z==F-1?d(V,E,O,ae,se,1):h(V,E,O,ae,se,1)}oe=V,V=E,E=oe;for(var le=[],ce=2-~~((y-1)/3),ue=0;ue<3;ue++)le[ue]=_>>14-2*ue&3;var he=le[ce];if(0!=he)for(q=0;q<ie;q++)for(z=0;z<ne;z++)V[O=q*re+z]=V[O]<<he}}if(9==y&&3==w){var de=A[0],fe=A[1],pe=A[2],ge=A[3];for(q=0;q<b;q+=2)for(z=0;z<m;z+=2){var me=q*m+z,be=de[$=(q>>>1)*(m>>>1)+(z>>>1)],ye=fe[$]-2048,ve=pe[$]-2048,we=ge[$]-2048,_e=(ye<<1)+be,Ae=(ve<<1)+be,Ee=be+we,xe=be-we;R?(c[me]=f(Ee),c[me+1]=f(Ae),c[me+m]=f(_e),c[me+m+1]=f(xe)):(c[me]=f(_e),c[me+1]=f(Ee),c[me+m]=f(xe),c[me+m+1]=f(Ae))}}i+=4*C}else if(16388==M)i+=4*C;else if(8192!=P&&8448!=P&&9216!=P)throw M.toString(16)}}console.log(Date.now()-x)}}(),e.decode._decodeLogLuv32=function(e,t,r,n,i,a){for(var o=e.width,s=4*o,l=0,c=new Uint8Array(s);l<n;){for(var u=0;u<s;){var h=t[r+l];if(l++,h<128){for(var d=0;d<h;d++)c[u+d]=t[r+l+d];u+=h,l+=h}else{for(h-=126,d=0;d<h;d++)c[u+d]=t[r+l];u+=h,l++}}for(var f=0;f<o;f++)i[a+0]=c[f],i[a+1]=c[f+o],i[a+2]=c[f+2*o],i[a+4]=c[f+3*o],a+=6}},e.decode._ljpeg_diff=function(t,r,n){var i,a,o=e.decode._getbithuff;return i=o(t,r,n[0],n),0==((a=o(t,r,i,0))&1<<i-1)&&(a-=(1<<i)-1),a},e.decode._decodeARW=function(t,r,n,i,a,o){var s=t.t256[0],l=t.t257[0],c=t.t258[0],u=t.isLE?e._binLE:e._binBE;if(s*l==i||s*l*1.5==i)if(s*l*1.5!=i){var h,d,f,p,g,m,b,y,v=new Uint16Array(16),w=new Uint8Array(s+1);for(I=0;I<l;I++){for(var _=0;_<s;_++)w[_]=r[n++];for(y=0,R=0;R<s-30;y+=16){for(d=2047&(h=u.readUint(w,y)),f=2047&h>>>11,p=15&h>>>22,g=15&h>>>26,m=0;m<4&&128<<m<=d-f;m++);for(b=30,A=0;A<16;A++)A==p?v[A]=d:A==g?v[A]=f:(v[A]=((u.readUshort(w,y+(b>>3))>>>(7&b)&127)<<m)+f,v[A]>2047&&(v[A]=2047),b+=7);for(A=0;A<16;A++,R+=2)B=v[A]<<1,e.decode._putsF(a,(I*s+R)*c,B<<16-c);R-=1&R?1:31}}}else for(var A=0;A<i;A+=3){var E=r[n+A+0],x=r[n+A+1],S=r[n+A+2];a[o+A]=x<<4|E>>>4,a[o+A+1]=E<<4|S>>>4,a[o+A+2]=S<<4|x>>>4}else{l+=8;var k,R,I,T=[n,0,0,0],M=new Uint16Array(32770),P=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],C=0,O=e.decode._ljpeg_diff;for(M[0]=15,k=A=0;A<18;A++)for(var L=32768>>>(P[A]>>>8),N=0;N<L;N++)M[++k]=P[A];for(R=s;R--;)for(I=0;I<l+1;I+=2)if(I==l&&(I=1),C+=O(r,T,M),I<l){var B=4095&C;e.decode._putsF(a,(I*s+R)*c,B<<16-c)}}},e.decode._decodeNikon=function(t,r,n,i,a,o,s){var l=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],c=t.t256[0],u=t.t257[0],h=t.t258[0],d=0,f=0,p=e.decode._make_decoder,g=e.decode._getbithuff,m=r[0].exifIFD.makerNote,b=m.t150?m.t150:m.t140,y=0,v=b[y++],w=b[y++];73!=v&&88!=w||(y+=2110),70==v&&(d=2),14==h&&(d+=3);for(var _=[[0,0],[0,0]],A=t.isLE?e._binLE:e._binBE,E=0;E<2;E++)for(var x=0;x<2;x++)_[E][x]=A.readShort(b,y),y+=2;var S,k,R,I,T,M=1<<h&32767,P=0,C=A.readShort(b,y);y+=2,C>1&&(P=Math.floor(M/(C-1))),68==v&&32==w&&P>0&&(f=A.readShort(b,562));var O=[0,0],L=p(l[d]),N=[i,0,0,0];for(S=0;S<u;S++)for(f&&S==f&&(L=p(l[d+1])),k=0;k<c;k++){E=g(n,N,L[0],L),0==((T=1+(g(n,N,(R=15&E)-(I=E>>>4),0)<<1)<<I>>>1)&1<<R-1)&&(T-=(1<<R)-(0==I?1:0)),k<2?O[k]=_[1&S][k]+=T:O[1&k]+=T;var B=Math.min(Math.max(O[1&k],0),(1<<h)-1),D=(S*c+k)*h;e.decode._putsF(o,D,B<<16-h)}},e.decode._putsF=function(e,t,r){r<<=8-(7&t);var n=t>>>3;e[n]|=r>>>16,e[n+1]|=r>>>8,e[n+2]|=r},e.decode._getbithuff=function(t,r,n,i){e.decode._get_byte;var a,o=r[0],s=r[1],l=r[2],c=r[3];if(0==n||l<0)return 0;for(;!c&&l<n&&-1!=(a=t[o++])&&!(c=0);)s=(s<<8)+a,l+=8;if(a=s<<32-l>>>32-n,i?(l-=i[a+1]>>>8,a=255&i[a+1]):l-=n,l<0)throw"e";return r[0]=o,r[1]=s,r[2]=l,r[3]=c,a},e.decode._make_decoder=function(e){var t,r,n,i,a,o=[];for(t=16;0!=t&&!e[t];t--);var s=17;for(o[0]=t,n=r=1;r<=t;r++)for(i=0;i<e[r];i++,++s)for(a=0;a<1<<t-r;a++)n<=1<<t&&(o[n++]=r<<8|e[s]);return o},e.decode._decodeNewJPEG=function(t,r,n,i,a,o){i=Math.min(i,r.length-n);var s=t.t347,l=s?s.length:0,c=new Uint8Array(l+i);if(s){for(var u=0,h=0;h<l-1&&(255!=s[h]||217!=s[h+1]);h++)c[u++]=s[h];var d=r[n],f=r[n+1];for(255==d&&216==f||(c[u++]=d,c[u++]=f),h=2;h<i;h++)c[u++]=r[n+h]}else for(h=0;h<i;h++)c[h]=r[n+h];if(32803==t.t262[0]||7==t.t259[0]&&34892==t.t262[0]){var p=t.t258[0],g=e.LosslessJpegDecode(c),m=g.length;if(16==p)if(t.isLE)for(h=0;h<m;h++)a[o+(h<<1)]=255&g[h],a[o+(h<<1)+1]=g[h]>>>8;else for(h=0;h<m;h++)a[o+(h<<1)]=g[h]>>>8,a[o+(h<<1)+1]=255&g[h];else if(14==p||12==p||10==p){var b=16-p;for(h=0;h<m;h++)e.decode._putsF(a,h*p,g[h]<<b)}else{if(8!=p)throw new Error("unsupported bit depth "+p);for(h=0;h<m;h++)a[o+h]=g[h]}}else{var y=new e.JpegDecoder;y.parse(c);var v=y.getData({width:y.width,height:y.height,forceRGB:!0,isSourcePDF:!1});for(h=0;h<v.length;h++)a[o+h]=v[h]}6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodeOldJPEGInit=function(e,t,r,i){var a,o,s,l,c,u=216,h=0,d=0,f=!1,p=e.t513,g=p?p[0]:0,m=e.t514,b=m?m[0]:0,y=e.t324||e.t273||p,v=e.t530,w=0,_=0,A=e.t277?e.t277[0]:1,E=e.t515;if(y&&(d=y[0],f=y.length>1),!f){if(255==t[r]&&t[r+1]==u)return{jpegOffset:r};if(null!=p&&(255==t[r+g]&&t[r+g+1]==u?h=r+g:n("JPEGInterchangeFormat does not point to SOI"),null==m?n("JPEGInterchangeFormatLength field is missing"):(g>=d||g+b<=d)&&n("JPEGInterchangeFormatLength field value is invalid"),null!=h))return{jpegOffset:h}}if(null!=v&&(w=v[0],_=v[1]),null!=p&&null!=m)if(b>=2&&g+b<=d){for(a=255==t[r+g+b-2]&&t[r+g+b-1]==u?new Uint8Array(b-2):new Uint8Array(b),s=0;s<a.length;s++)a[s]=t[r+g+s];n("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else n("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==a){var x=0,S=[];S[x++]=255,S[x++]=u;var k=e.t519;if(null==k)throw new Error("JPEGQTables tag is missing");for(s=0;s<k.length;s++)for(S[x++]=255,S[x++]=219,S[x++]=0,S[x++]=67,S[x++]=s,l=0;l<64;l++)S[x++]=t[r+k[s]+l];for(c=0;c<2;c++){var R=e[0==c?"t520":"t521"];if(null==R)throw new Error((0==c?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(s=0;s<R.length;s++){S[x++]=255,S[x++]=196;var I=19;for(l=0;l<16;l++)I+=t[r+R[s]+l];for(S[x++]=I>>>8,S[x++]=255&I,S[x++]=s|c<<4,l=0;l<16;l++)S[x++]=t[r+R[s]+l];for(l=0;l<I;l++)S[x++]=t[r+R[s]+16+l]}}if(S[x++]=255,S[x++]=192,S[x++]=0,S[x++]=8+3*A,S[x++]=8,S[x++]=e.height>>>8&255,S[x++]=255&e.height,S[x++]=e.width>>>8&255,S[x++]=255&e.width,S[x++]=A,1==A)S[x++]=1,S[x++]=17,S[x++]=0;else for(s=0;s<3;s++)S[x++]=s+1,S[x++]=0!=s?17:(15&w)<<4|15&_,S[x++]=s;null!=E&&0!=E[0]&&(S[x++]=255,S[x++]=221,S[x++]=0,S[x++]=4,S[x++]=E[0]>>>8&255,S[x++]=255&E[0]),a=new Uint8Array(S)}var T=-1;for(s=0;s<a.length-1;){if(255==a[s]&&192==a[s+1]){T=s;break}s++}if(-1==T){var M=new Uint8Array(a.length+10+3*A);M.set(a);var P=a.length;if(T=a.length,(a=M)[P++]=255,a[P++]=192,a[P++]=0,a[P++]=8+3*A,a[P++]=8,a[P++]=e.height>>>8&255,a[P++]=255&e.height,a[P++]=e.width>>>8&255,a[P++]=255&e.width,a[P++]=A,1==A)a[P++]=1,a[P++]=17,a[P++]=0;else for(s=0;s<3;s++)a[P++]=s+1,a[P++]=0!=s?17:(15&w)<<4|15&_,a[P++]=s}if(255==t[d]&&218==t[d+1]){var C=t[d+2]<<8|t[d+3];for((o=new Uint8Array(C+2))[0]=t[d],o[1]=t[d+1],o[2]=t[d+2],o[3]=t[d+3],s=0;s<C-2;s++)o[s+4]=t[d+s+4]}else{var O=0;if((o=new Uint8Array(8+2*A))[O++]=255,o[O++]=218,o[O++]=0,o[O++]=6+2*A,o[O++]=A,1==A)o[O++]=1,o[O++]=0;else for(s=0;s<3;s++)o[O++]=s+1,o[O++]=s<<4|s;o[O++]=0,o[O++]=63,o[O++]=0}return{jpegOffset:r,tables:a,sosMarker:o,sofPosition:T}},e.decode._decodeOldJPEG=function(t,r,n,i,a,o){var s,l,c,u,h=e.decode._decodeOldJPEGInit(t,r,n,i);if(null!=h.jpegOffset)for(s=n+i-h.jpegOffset,c=new Uint8Array(s),p=0;p<s;p++)c[p]=r[h.jpegOffset+p];else{for(l=h.tables.length,(c=new Uint8Array(l+h.sosMarker.length+i+2)).set(h.tables),u=l,c[h.sofPosition+5]=t.height>>>8&255,c[h.sofPosition+6]=255&t.height,c[h.sofPosition+7]=t.width>>>8&255,c[h.sofPosition+8]=255&t.width,255==r[n]&&r[n+1]==SOS||(c.set(h.sosMarker,u),u+=sosMarker.length),p=0;p<i;p++)c[u++]=r[n+p];c[u++]=255,c[u++]=EOI}var d=new e.JpegDecoder;d.parse(c);for(var f=d.getData({width:d.width,height:d.height,forceRGB:!0,isSourcePDF:!1}),p=0;p<f.length;p++)a[o+p]=f[p];t.t262&&6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodePackBits=function(e,t,r,n,i){for(var a=new Int8Array(e.buffer),o=new Int8Array(n.buffer),s=t+r;t<s;){var l=a[t];if(t++,l>=0&&l<128)for(var c=0;c<l+1;c++)o[i]=a[t],i++,t++;if(l>=-127&&l<0){for(c=0;c<1-l;c++)o[i]=a[t],i++;t++}}return i},e.decode._decodeThunder=function(e,t,r,n,i){for(var a=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],s=t+r,l=2*i,c=0;t<s;){var u=e[t],h=u>>>6,d=63&u;if(t++,3==h&&(c=15&d,n[l>>>1]|=c<<4*(1-l&1),l++),0==h)for(var f=0;f<d;f++)n[l>>>1]|=c<<4*(1-l&1),l++;if(2==h)for(f=0;f<2;f++)4!=(p=d>>>3*(1-f)&7)&&(c+=o[p],n[l>>>1]|=c<<4*(1-l&1),l++);if(1==h)for(f=0;f<3;f++){var p;2!=(p=d>>>2*(2-f)&3)&&(c+=a[p],n[l>>>1]|=c<<4*(1-l&1),l++)}}},e.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},e.decode._lens=function(){var e=function(e,t,r,n){for(var i=0;i<t.length;i++)e[t[i]]=r+i*n},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",n="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),r=r.split(","),n=n.split(","),i=i.split(","),a=a.split(",");var o={},s={};return e(o,t,0,1),e(o,n,64,64),e(o,a,1792,64),e(s,r,0,1),e(s,i,64,64),e(s,a,1792,64),[o,s]}(),e.decode._decodeG4=function(t,r,n,i,a,o,s){for(var l=e.decode,c=r<<3,u=0,h="",d=[],f=[],p=0;p<o;p++)f.push(0);f=l._makeDiff(f);for(var g=0,m=0,b=0,y=0,v=0,w=0,_="",A=0,E=8*Math.ceil(o/8);c>>>3<r+n;){b=l._findDiff(f,g+(0==g?0:1),1-v),y=l._findDiff(f,b,v);var x=0;if(1==s&&(x=t[c>>>3]>>>7-(7&c)&1),2==s&&(x=t[c>>>3]>>>(7&c)&1),c++,h+=x,"H"==_){if(null!=l._lens[v][h]){var S=l._lens[v][h];h="",u+=S,S<64&&(l._addNtimes(d,u,v),g+=u,v=1-v,u=0,0==--A&&(_=""))}}else"0001"==h&&(h="",l._addNtimes(d,y-g,v),g=y),"001"==h&&(h="",_="H",A=2),null!=l._dmap[h]&&(m=b+l._dmap[h],l._addNtimes(d,m-g,v),g=m,h="",v=1-v);d.length==o&&""==_&&(l._writeBits(d,i,8*a+w*E),v=0,w++,g=0,f=l._makeDiff(d),d=[])}},e.decode._findDiff=function(e,t,r){for(var n=0;n<e.length;n+=2)if(e[n]>=t&&e[n+1]==r)return e[n]},e.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var r=1;r<e.length;r++)e[r-1]!=e[r]&&t.push(r,e[r]);return t.push(e.length,0,e.length,1),t},e.decode._decodeG2=function(t,r,n,i,a,o,s){for(var l=e.decode,c=r<<3,u=0,h="",d=[],f=0,p=0,g=8*Math.ceil(o/8);c>>>3<r+n;){var m=0;1==s&&(m=t[c>>>3]>>>7-(7&c)&1),2==s&&(m=t[c>>>3]>>>(7&c)&1),c++,h+=m,null!=(u=l._lens[f][h])&&(l._addNtimes(d,u,f),h="",u<64&&(f=1-f),d.length==o&&(l._writeBits(d,i,8*a+p*g),d=[],p++,f=0,0!=(7&c)&&(c+=8-(7&c)),u>=64&&(c+=8)))}},e.decode._decodeG3=function(t,r,n,i,a,o,s,l){for(var c=e.decode,u=r<<3,h=0,d="",f=[],p=[],g=0;g<o;g++)f.push(0);for(var m=0,b=0,y=0,v=0,w=0,_=-1,A="",E=0,x=!0,S=8*Math.ceil(o/8);u>>>3<r+n;){y=c._findDiff(p,m+(0==m?0:1),1-w),v=c._findDiff(p,y,w);var k=0;if(1==s&&(k=t[u>>>3]>>>7-(7&u)&1),2==s&&(k=t[u>>>3]>>>(7&u)&1),u++,d+=k,x){if(null!=c._lens[w][d]){var R=c._lens[w][d];d="",h+=R,R<64&&(c._addNtimes(f,h,w),w=1-w,h=0)}}else"H"==A?null!=c._lens[w][d]&&(R=c._lens[w][d],d="",h+=R,R<64&&(c._addNtimes(f,h,w),m+=h,w=1-w,h=0,0==--E&&(A=""))):("0001"==d&&(d="",c._addNtimes(f,v-m,w),m=v),"001"==d&&(d="",A="H",E=2),null!=c._dmap[d]&&(b=y+c._dmap[d],c._addNtimes(f,b-m,w),m=b,d="",w=1-w));d.endsWith("000000000001")&&(_>=0&&c._writeBits(f,i,8*a+_*S),l&&(1==s&&(x=1==(t[u>>>3]>>>7-(7&u)&1)),2==s&&(x=1==(t[u>>>3]>>>(7&u)&1)),u++),d="",w=0,_++,m=0,p=c._makeDiff(f),f=[])}f.length==o&&c._writeBits(f,i,8*a+_*S)},e.decode._addNtimes=function(e,t,r){for(var n=0;n<t;n++)e.push(r)},e.decode._writeBits=function(e,t,r){for(var n=0;n<e.length;n++)t[r+n>>>3]|=e[n]<<7-(r+n&7)},e.decode._decodeLZW=e.decode._decodeLZW=(s=0,l=0,c=0,u=0,h=function(){var e=r>>>3,t=(i[e]<<16|i[e+1]<<8|i[e+2])>>>24-(7&r)-l&(1<<l)-1;return r+=l,t},d=new Uint32Array(16384),f=0,p=function(e){l=e+1,s=u+1},g=function(e){for(var t=e<<2,r=d[t+2],n=o+r-1;65535!=t;)a[n--]=d[t],t=d[t+1];o+=r},m=function(e,t){var r=s<<2,n=e<<2;d[r]=d[3+(t<<2)],d[r+1]=n,d[r+2]=d[n+2]+1,d[r+3]=d[n+3],1+ ++s==1<<l&&12!=l&&l++},function(e,t,n,l,b,y){r=t<<3,i=e,a=l,o=b;var v=t+n<<3,w=0,_=0;for(function(e){if(e!=f){f=e,u=1+(c=1<<e);for(var t=0;t<u+1;t++)d[4*t]=d[4*t+3]=t,d[4*t+1]=65535,d[4*t+2]=1}}(y),p(y);r<v&&(w=h())!=u;){if(w==c){if(p(y),(w=h())==u)break;g(w)}else w<s?(g(w),m(_,w)):(m(_,_),g(s-1));_=w}return o}),e.tags={},e._types=((b=new Array(250)).fill(0),{basic:{main:b=b.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}),e._readIFD=function(t,r,i,a,o,s){var l=t.readUshort(r,i);i+=2;var c={};s.debug&&n("   ".repeat(o),a.length-1,">>>----------------");for(var u=0;u<l;u++){var h=t.readUshort(r,i);i+=2;var d=t.readUshort(r,i);i+=2;var f=t.readUint(r,i);i+=4;var p=t.readUint(r,i);i+=4;var g=[];if(1==d||7==d){var m=f<5?i-4:p;m+f>r.buffer.byteLength&&(f=r.buffer.byteLength-m),g=new Uint8Array(r.buffer,m,f)}if(2==d){var b=f<5?i-4:p,y=r[b],v=Math.max(0,Math.min(f-1,r.length-b));y<128||0==v?g.push(t.readASCII(r,b,v)):g=new Uint8Array(r.buffer,b,v)}if(3==d)for(var w=0;w<f;w++)g.push(t.readUshort(r,(f<3?i-4:p)+2*w));if(4==d||13==d)for(w=0;w<f;w++)g.push(t.readUint(r,(f<2?i-4:p)+4*w));if(5==d||10==d){var _=5==d?t.readUint:t.readInt;for(w=0;w<f;w++)g.push([_(r,p+8*w),_(r,p+8*w+4)])}if(8==d)for(w=0;w<f;w++)g.push(t.readShort(r,(f<3?i-4:p)+2*w));if(9==d)for(w=0;w<f;w++)g.push(t.readInt(r,(f<2?i-4:p)+4*w));if(11==d)for(w=0;w<f;w++)g.push(t.readFloat(r,p+4*w));if(12==d)for(w=0;w<f;w++)g.push(t.readDouble(r,p+8*w));if(0==f||0!=g.length){if(s.debug&&n("   ".repeat(o),h,d,e.tags[h],g),c["t"+h]=g,330==h&&c.t272&&"DSLR-A100"==c.t272[0]);else if(330==h||34665==h||34853==h||50740==h&&t.readUshort(r,t.readUint(g,0))<300||61440==h){var A=50740==h?[t.readUint(g,0)]:g,E=[];for(w=0;w<A.length;w++)e._readIFD(t,r,A[w],E,o+1,s);330==h&&(c.subIFD=E),34665==h&&(c.exifIFD=E[0]),34853==h&&(c.gpsiIFD=E[0]),50740==h&&(c.dngPrvt=E[0]),61440==h&&(c.fujiIFD=E[0])}if(37500==h&&s.parseMN){var x=g;if("Nikon"==t.readASCII(x,0,5))c.makerNote=e.decode(x.slice(10).buffer)[0];else if("OLYMP"==t.readASCII(x,0,5)||"OM SYSTEM"==t.readASCII(x,0,9)){var S=[8208,8224,8240,8256,8272],k=[];e._readIFD(t,x,77==x[1]?16:85==x[5]?12:8,k,o+1,s);var R=c.makerNote=k.pop();for(w=0;w<S.length;w++){var I="t"+S[w];null!=R[I]&&(e._readIFD(t,x,R[I][0],k,o+1,s),R[I]=k.pop())}R.t12288&&(e._readIFD(t,R.t12288,0,k,o+1,s),R.t12288=k.pop())}else t.readUshort(r,p)<300&&t.readUshort(r,p+4)<=12&&(k=[],e._readIFD(t,r,p,k,o+1,s),c.makerNote=k[0])}}else if(n(h,"unknown TIFF tag type: ",d,"num:",f),0==u)return}return a.push(c),s.debug&&n("   ".repeat(o),"<<<---------------"),i},e._writeIFD=function(t,r,n,i,a){var o=Object.keys(a),s=o.length;a.exifIFD&&s--,a.gpsiIFD&&s--,t.writeUshort(n,i,s);for(var l=(i+=2)+12*s+4,c=0;c<o.length;c++){var u=o[c];if("t34665"!=u&&"t34853"!=u){"exifIFD"==u&&(u="t34665"),"gpsiIFD"==u&&(u="t34853");var h=parseInt(u.slice(1)),d=r.main[h];if(null==d&&(d=r.rest[h]),null==d||0==d)throw new Error("unknown type of tag: "+h);var f=a[u];34665==h&&(f=[l],l=e._writeIFD(t,r,n,l,a.exifIFD)[1]),34853==h&&(f=[l],l=e._writeIFD(t,e._types.gps,n,l,a.gpsiIFD)[1]),2==d&&(f=f[0]+"\0");var p=f.length;t.writeUshort(n,i,h),i+=2,t.writeUshort(n,i,d),i+=2,t.writeUint(n,i,p);var g=[-1,1,1,2,4,8,0,1,0,4,8,0,8][d]*p,m=i+=4;if(g>4&&(t.writeUint(n,i,l),m=l),1==d||7==d)for(var b=0;b<p;b++)n[m+b]=f[b];else if(2==d)t.writeASCII(n,m,f);else if(3==d)for(b=0;b<p;b++)t.writeUshort(n,m+2*b,f[b]);else if(4==d)for(b=0;b<p;b++)t.writeUint(n,m+4*b,f[b]);else if(5==d||10==d){var y=5==d?t.writeUint:t.writeInt;for(b=0;b<p;b++){var v=f[b],w=v[0],_=v[1];if(null==w)throw"e";y(n,m+8*b,w),y(n,m+8*b+4,_)}}else if(9==d)for(b=0;b<p;b++)t.writeInt(n,m+4*b,f[b]);else{if(12!=d)throw d;for(b=0;b<p;b++)t.writeDouble(n,m+8*b,f[b])}g>4&&(l+=g+=1&g),i+=4}}return[i,l]},e.toRGBA8=function(e,t){function r(e){return e<.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}var i=e.width,a=e.height,o=i*a,s=e.data,l=new Uint8Array(4*o),c=e.t262?e.t262[0]:2,u=e.t258?Math.min(32,e.t258[0]):1;null==e.t262&&1==u&&(c=0);var h=e.t277?e.t277[0]:e.t258?e.t258.length:[1,1,3,1,1,4,3][c],d=e.t339?e.t339[0]:null;if(1==c&&32==u&&3!=d)throw"e";var f=Math.ceil(h*u*i/8);if(0==c){t=1/256;for(var p=0;p<a;p++){var g=p*f,m=p*i;if(1==u)for(var b=0;b<i;b++){var y=m+b<<2,v=s[g+(b>>3)]>>7-(7&b)&1;l[y]=l[y+1]=l[y+2]=255*(1-v),l[y+3]=255}if(4==u)for(b=0;b<i;b++)y=m+b<<2,v=s[g+(b>>1)]>>4-4*(1&b)&15,l[y]=l[y+1]=l[y+2]=17*(15-v),l[y+3]=255;if(8==u)for(b=0;b<i;b++)y=m+b<<2,v=s[g+b],l[y]=l[y+1]=l[y+2]=255-v,l[y+3]=255;if(16==u)for(b=0;b<i;b++)y=m+b<<2,v=s[(_=g+2*b)+1]<<8|s[_],l[y]=l[y+1]=l[y+2]=Math.min(255,255-~~(v*t)),l[y+3]=255}}else if(1==c){null==t&&(t=1/256);var w=0==(3&s.length)?new Float32Array(s.buffer):null;for(p=0;p<a;p++){if(g=p*f,m=p*i,1==u)for(b=0;b<i;b++)y=m+b<<2,v=s[g+(b>>3)]>>7-(7&b)&1,l[y]=l[y+1]=l[y+2]=255*v,l[y+3]=255;if(2==u)for(b=0;b<i;b++)y=m+b<<2,v=s[g+(b>>2)]>>6-2*(3&b)&3,l[y]=l[y+1]=l[y+2]=85*v,l[y+3]=255;if(8==u)for(b=0;b<i;b++)y=m+b<<2,v=s[g+b*h],l[y]=l[y+1]=l[y+2]=v,l[y+3]=255;if(16==u)for(b=0;b<i;b++)y=m+b<<2,v=s[(_=g+2*b)+1]<<8|s[_],l[y]=l[y+1]=l[y+2]=Math.min(255,~~(v*t)),l[y+3]=255;if(32==u)for(b=0;b<i;b++){var _;y=m+b<<2,v=w[_=(g>>>2)+b],l[y]=l[y+1]=l[y+2]=~~(.5+255*v),l[y+3]=255}}}else if(2==c)if(8==u){if(1==h)for(b=0;b<o;b++)l[4*b]=l[4*b+1]=l[4*b+2]=s[b],l[4*b+3]=255;if(3==h)for(b=0;b<o;b++){var A=3*b;l[y=b<<2]=s[A],l[y+1]=s[A+1],l[y+2]=s[A+2],l[y+3]=255}if(h>=4)for(b=0;b<o;b++)A=b*h,l[y=b<<2]=s[A],l[y+1]=s[A+1],l[y+2]=s[A+2],l[y+3]=s[A+3]}else if(16==u){if(4==h)for(b=0;b<o;b++)A=8*b+1,l[y=b<<2]=s[A],l[y+1]=s[A+2],l[y+2]=s[A+4],l[y+3]=s[A+6];if(3==h)for(b=0;b<o;b++)A=6*b+1,l[y=b<<2]=s[A],l[y+1]=s[A+2],l[y+2]=s[A+4],l[y+3]=255}else{if(32!=u)throw u;var E=new Float32Array(s.buffer),x=0;for(b=0;b<E.length;b++)x=Math.min(x,E[b]);if(x<0)for(b=0;b<s.length;b+=4){var S=s[b];s[b]=s[b+3],s[b+3]=S,S=s[b+1],s[b+1]=s[b+2],s[b+2]=S}var k=[];for(b=0;b<65536;b++)k.push(r(b/65535));for(b=0;b<E.length;b++){var R=Math.max(0,Math.min(1,E[b]));E[b]=k[~~(.5+65535*R)]}if(3==h)for(b=0;b<o;b++)A=3*b,l[y=b<<2]=~~(.5+255*E[A]),l[y+1]=~~(.5+255*E[A+1]),l[y+2]=~~(.5+255*E[A+2]),l[y+3]=255;else{if(4!=h)throw h;for(b=0;b<o;b++)A=4*b,l[y=b<<2]=~~(.5+255*E[A]),l[y+1]=~~(.5+255*E[A+1]),l[y+2]=~~(.5+255*E[A+2]),l[y+3]=~~(.5+255*E[A+3])}}else if(3==c){var I=e.t320,T=1<<u,M=8==u&&h>1&&e.t338&&0!=e.t338[0];for(p=0;p<a;p++)for(var P=0;P<i;P++){y=(b=p*i+P)<<2;var C=0,O=p*f;if(1==u)C=s[O+(P>>>3)]>>>7-(7&P)&1;else if(2==u)C=s[O+(P>>>2)]>>>6-2*(3&P)&3;else if(4==u)C=s[O+(P>>>1)]>>>4-4*(1&P)&15;else{if(8!=u)throw u;C=s[O+P*h]}l[y]=I[C]>>8,l[y+1]=I[T+C]>>8,l[y+2]=I[T+T+C]>>8,l[y+3]=M?s[O+P*h+1]:255}}else if(5==c){var L=h>4?1:0;for(b=0;b<o;b++){y=b<<2;var N=b*h;if(window.UDOC){var B=s[N],D=s[N+1],U=s[N+2],V=s[N+3],F=UDOC.C.cmykToRgb([B*(1/255),D*(1/255),U*(1/255),V*(1/255)]);l[y]=~~(.5+255*F[0]),l[y+1]=~~(.5+255*F[1]),l[y+2]=~~(.5+255*F[2])}else B=255-s[N],D=255-s[N+1],U=255-s[N+2],V=(255-s[N+3])*(1/255),l[y]=~~(B*V+.5),l[y+1]=~~(D*V+.5),l[y+2]=~~(U*V+.5);l[y+3]=255*(1-L)+s[N+4]*L}}else if(6==c&&e.t278){var j=e.t278[0];for(p=0;p<a;p+=j){b=p*i;for(var q=j*i,z=0;z<q;z++){y=4*(b+z),U=s[(N=3*b+4*(z>>>1))+(1&z)];var $=s[N+2]-128,H=s[N+3]-128,G=U+((H>>2)+(H>>3)+(H>>5)),W=U-(($>>2)+($>>4)+($>>5))-((H>>1)+(H>>3)+(H>>4)+(H>>5)),J=U+($+($>>1)+($>>2)+($>>6));l[y]=Math.max(0,Math.min(255,G)),l[y+1]=Math.max(0,Math.min(255,W)),l[y+2]=Math.max(0,Math.min(255,J)),l[y+3]=255}}}else if(32845==c)for(p=0;p<a;p++)for(P=0;P<i;P++){y=4*(p*i+P);var Q=s[1+(N=6*(p*i+P))]<<8|s[N],K=(Q=Math.pow(2,(Q+.5)/256-64),(s[N+3]+.5)/410),Y=(s[N+5]+.5)/410,Z=9*K/(6*K-16*Y+12),X=4*Y/(6*K-16*Y+12),ee=Z*Q/X,te=(1-Z-X)*Q/X;G=2.69*ee-1.276*(U=Q)-.414*te,W=-1.022*ee+1.978*U+.044*te,J=.061*ee-.224*U+1.163*te,l[y]=255*r(Math.min(G,1)),l[y+1]=255*r(Math.min(W,1)),l[y+2]=255*r(Math.min(J,1)),l[y+3]=255}else n("Unknown Photometric interpretation: "+c);return l},e.replaceIMG=function(t){null==t&&(t=document.getElementsByTagName("img"));for(var r=["tif","tiff","dng","cr2","nef"],n=0;n<t.length;n++){var i=t[n],a=i.getAttribute("src");if(null!=a){var o=a.split(".").pop().toLowerCase();if(-1!=r.indexOf(o)){var s=new XMLHttpRequest;e._xhrs.push(s),e._imgs.push(i),s.open("GET",a),s.responseType="arraybuffer",s.onload=e._imgLoaded,s.send()}}}},e._xhrs=[],e._imgs=[],e._imgLoaded=function(t){var r=e._xhrs.indexOf(t.target),n=e._imgs[r];e._xhrs.splice(r,1),e._imgs.splice(r,1),n.setAttribute("src",e.bufferToURI(t.target.response))},e.bufferToURI=function(t){var r=e.decode(t),n=r,i=0,a=n[0];r[0].subIFD&&(n=n.concat(r[0].subIFD));for(var o=0;o<n.length;o++){var s=n[o];if(!(null==s.t258||s.t258.length<3)){var l=s.t256*s.t257;l>i&&(i=l,a=s)}}e.decodeImage(t,a,r);var c=e.toRGBA8(a),u=a.width,h=a.height,d=document.createElement("canvas");d.width=u,d.height=h;var f=d.getContext("2d"),p=new ImageData(new Uint8ClampedArray(c.buffer),u,h);return f.putImageData(p,0,0),d.toDataURL()},e._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readShort:function(t,r){var n=e._binBE.ui8;return n[0]=t[r+1],n[1]=t[r+0],e._binBE.i16[0]},readInt:function(t,r){var n=e._binBE.ui8;return n[0]=t[r+3],n[1]=t[r+2],n[2]=t[r+1],n[3]=t[r+0],e._binBE.i32[0]},readUint:function(t,r){var n=e._binBE.ui8;return n[0]=t[r+3],n[1]=t[r+2],n[2]=t[r+1],n[3]=t[r+0],e._binBE.ui32[0]},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},readFloat:function(t,r){for(var n=e._binBE.ui8,i=0;i<4;i++)n[i]=t[r+3-i];return e._binBE.fl32[0]},readDouble:function(t,r){for(var n=e._binBE.ui8,i=0;i<8;i++)n[i]=t[r+7-i];return e._binBE.fl64[0]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},writeInt:function(t,r,n){var i=e._binBE.ui8;e._binBE.i32[0]=n,t[r+3]=i[0],t[r+2]=i[1],t[r+1]=i[2],t[r+0]=i[3]},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r>>0&255},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},writeDouble:function(t,r,n){e._binBE.fl64[0]=n;for(var i=0;i<8;i++)t[r+i]=e._binBE.ui8[7-i]}},e._binBE.ui8=new Uint8Array(8),e._binBE.i16=new Int16Array(e._binBE.ui8.buffer),e._binBE.i32=new Int32Array(e._binBE.ui8.buffer),e._binBE.ui32=new Uint32Array(e._binBE.ui8.buffer),e._binBE.fl32=new Float32Array(e._binBE.ui8.buffer),e._binBE.fl64=new Float64Array(e._binBE.ui8.buffer),e._binLE={nextZero:e._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readShort:function(t,r){var n=e._binBE.ui8;return n[0]=t[r+0],n[1]=t[r+1],e._binBE.i16[0]},readInt:function(t,r){var n=e._binBE.ui8;return n[0]=t[r+0],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e._binBE.i32[0]},readUint:function(t,r){var n=e._binBE.ui8;return n[0]=t[r+0],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e._binBE.ui32[0]},readASCII:e._binBE.readASCII,readFloat:function(t,r){for(var n=e._binBE.ui8,i=0;i<4;i++)n[i]=t[r+i];return e._binBE.fl32[0]},readDouble:function(t,r){for(var n=e._binBE.ui8,i=0;i<8;i++)n[i]=t[r+i];return e._binBE.fl64[0]},writeUshort:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255},writeInt:function(t,r,n){var i=e._binBE.ui8;e._binBE.i32[0]=n,t[r+0]=i[0],t[r+1]=i[1],t[r+2]=i[2],t[r+3]=i[3]},writeUint:function(e,t,r){e[t]=r>>>0&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24&255},writeASCII:e._binBE.writeASCII},e._copyTile=function(e,t,r,n,i,a,o,s){for(var l=Math.min(t,i-o),c=Math.min(r,a-s),u=0;u<c;u++)for(var h=(s+u)*i+o,d=u*t,f=0;f<l;f++)n[h+f]=e[d+f]},e.LosslessJpegDecode=function(){var e,t;function r(){return e[t++]}function n(){return e[t++]<<8|e[t++]}function i(e){for(var t=r(),n=[0,0,0,255],i=[],o=0;o<16;o++)i[o]=r();for(o=0;o<16;o++)for(var s=0;s<i[o];s++)n[a(n,0,o+1,1)+3]=r();var l=new Uint8Array(256);for(e[t]=[new Uint8Array(n),l],o=0;o<256;o++){for(var c=8,u=o,h=0;255==n[h+3]&&0!=c;)h=n[h+(u>>--c&1)];l[o]=h}}function a(e,t,r,n){if(255!=e[t+3])return 0;if(0==r)return t;for(var i=0;i<2;i++){0==e[t+i]&&(e[t+i]=e.length,e.push(0,0,n,255));var o=a(e,e[t+i],r-1,n+1);if(0!=o)return o}return 0}function o(e){for(var t=e.b,r=e.f;t<25&&e.a<e.d;){var n=e.data[e.a++];255!=n||e.c||e.a++,r=r<<8|n,t+=8}if(t<0)throw"e";e.b=t,e.f=r}function s(e,t){return t.b<e&&o(t),t.f>>(t.b-=e)&65535>>16-e}function l(e,t){var r=e[0],n=0,i=255;t.b<16&&o(t);var a=t.f>>t.b-8&255;for(i=r[(n=e[1][a])+3],t.b-=r[n+2];255==i;)i=r[(n=r[n+(t.f>>--t.b&1)])+3];return i}function c(e,t){return e<32768>>16-t&&(e+=1-(1<<t)),e}function u(e,t){var r=l(e,t);return 0==r?0:16==r?-32768:c(s(r,t),r)}function h(e,t,r,n,i,a){for(var o=0,s=0;s<a;s++){for(var l=s*t,c=0;c<t;c+=i){o++;for(var h=0;h<i;h++)e[l+c+h]=u(n[h],r)}if(0!=r.e&&o%r.e==0&&0!=s){for(var d=r.a,f=r.data;255!=f[d]||!(208<=f[d+1]&&f[d+1]<=215);)d--;r.a=d+2,r.f=0,r.b=0}}}function d(e,t){return c(s(e,t),e)}function f(e,t,r,n,i,a,o,s){for(var l=r*o,c=i;c<a;c++)e[c]+=1<<s-1;for(var u=o;u<l;u+=o)for(c=i;c<a;c++)e[u+c]+=e[u+c-o];for(var h=1;h<n;h++){var d=h*l;for(c=i;c<a;c++)e[d+c]+=e[d+c-l];for(u=o;u<l;u+=o)for(c=i;c<a;c++){var f=d+u+c,p=f-l,g=e[f-o],m=0;if(0==t)m=0;else if(1==t)m=g;else if(2==t)m=e[p];else if(3==t)m=e[p-o];else if(4==t)m=g+(e[p]-e[p-o]);else if(5==t)m=g+(e[p]-e[p-o]>>>1);else if(6==t)m=e[p]+(g-e[p-o]>>>1);else{if(7!=t)throw t;m=g+e[p]>>>1}e[f]+=m}}}return function(a){if(e=a,t=0,65496!=n())throw"e";for(var o=[],s=0,c=0,u=0,p=[],g=[],m=[],b=0,y=0,v=0;;){var w=n();if(65535!=w){var _=n();if(65475==w){c=r(),y=n(),v=n(),b=r();for(var A=0;A<b;A++){var E=r(),x=r();if(0!=r())throw"e";o[E]=[A,x>>4,15&x]}}else if(65476==w)for(var S=t+_-2;t<S;)i(g);else{if(65498==w){for(t++,A=0;A<b;A++){var k=o[r()];m[k[0]]=g[r()>>>4],p[k[0]]=k.slice(1)}s=r(),t+=2;break}65501==w?u=n():t+=_-2}}else t--}var R=new(c>8?Uint16Array:Uint8Array)(y*v*b),I={b:0,f:0,c:8==s,a:t,data:e,d:e.length,e:u};if(I.c)!function(r,n,i,a,o){for(var s=e.length-t,c=0;c<s;c+=4){var u=e[t+c];e[t+c]=e[t+c+3],e[t+c+3]=u,u=e[t+c+1],e[t+c+1]=e[t+c+2],e[t+c+2]=u}for(var h=0;h<o;h++)for(var f=32768,p=32768,g=0;g<n;g+=2){var m=l(a,i),b=l(a,i);0!=m&&(f+=d(m,i)),0!=b&&(p+=d(b,i)),r[h*n+g]=65535&f,r[h*n+g+1]=65535&p}}(R,v*b,I,m[0],y);else{var T=[],M=0,P=0;for(A=0;A<b;A++){var C=p[A];(q=C[0])>M&&(M=q),(j=C[1])>P&&(P=j),T.push(q*j)}if(1!=M||1!=P){if(3!=b||1!=T[1]||1!=T[2])throw"e";if(2!=M||1!=P&&2!=P)throw"e";var O=[],L=0;for(A=0;A<b;A++){for(var N=0;N<T[A];N++)O.push(m[A]);L+=T[A]}var B=v/M,D=y/P,U=B*D;h(R,B*L,I,O,L,D),f(R,s,B,D,L-2,L,L,c);var V=new Uint16Array(U*T[0]);if(2==M&&2==P){for(A=0;A<U;A++)V[4*A]=R[6*A],V[4*A+1]=R[6*A+1],V[4*A+2]=R[6*A+2],V[4*A+3]=R[6*A+3];for(f(V,s,4*B,D,0,1,1,c),A=0;A<U;A++)R[6*A]=V[4*A],R[6*A+1]=V[4*A+1],R[6*A+2]=V[4*A+2],R[6*A+3]=V[4*A+3]}if(2==M&&1==P){for(A=0;A<U;A++)V[2*A]=R[4*A],V[2*A+1]=R[4*A+1];for(f(V,s,2*B,D,0,1,1,c),A=0;A<U;A++)R[4*A]=V[2*A],R[4*A+1]=V[2*A+1]}for(var F=R.slice(0),j=0;j<y;j++)if(2==P)for(var q=0;q<v;q++){var z=((j>>>1)*B+(q>>>1))*L,$=2*(1&j)+(1&q);R[H=(j*v+q)*b]=F[z+$],R[H+1]=F[z+4],R[H+2]=F[z+5]}else for(q=0;q<v;q++){var H;z=(j*B+(q>>>1))*L,$=1&q,R[H=(j*v+q)*b]=F[z+$],R[H+1]=F[z+2],R[H+2]=F[z+3]}}else if(h(R,v*b,I,m,b,y),0==u)f(R,s,v,y,0,b,b,c);else{var G=Math.floor(u/v);for(j=0;j<y;j+=G){var W=R.slice(j*v*b,(j+G)*v*b);f(W,s,v,G,0,b,b,c),R.set(W,j*v*b)}}}return R}}(),function(){var t=2,r=4,n=5,i=6,a=7,o=12,s=13,l=14,c=15,u=17;function h(e){for(var t=[[],[],[]],r=Math.max(2,e.w+32>>>6),n=0;n<3;n++)for(var i=0;i<41;i++)t[n][i]=[r,1];return t}function d(e,t){var r=0,n=8-e.a;if(e.j,e.a,t){if(t>=n)do{r<<=n,t-=n,r|=e[e.j]&(1<<n)-1,e.j++,n=8}while(t>=8);t&&(r<<=t,n-=t,r|=e[e.j]>>>n&(1<<t)-1),e.a=8-n}return r}function f(e,t,r,n,i,a,o,s){null==s&&(s=0);var l,c,u,h,f,p,g=a+1,m=g%2,b=0,y=n[i],v=n[i-1],w=n[i-2][g],_=v[g-1],A=v[g],E=v[g+1],x=y[g-1],S=y[g+1],k=Math.abs;if(m&&(u=k(E-A),h=k(w-A),f=k(_-A)),m){if(p=(p=u>f&&h<u?w+_:u<f&&h<f?w+E:E+_)+2*A>>>2,s)return void(y[g]=p);l=t.t*t.c[e.g+A-w]+t.c[e.g+_-A]}else p=A>_&&A>E||A<_&&A<E?S+x+2*A>>>2:x+S>>>1,l=t.t*t.c[e.g+A-_]+t.c[e.g+_-x];c=k(l);var R=function(e){for(var t=-1,r=0;!r;t++)r=e[e.j]>>>7-e.a&1,e.a++,e.a&=7,e.a||e.j++;return t}(r);if(R<e.n-t.v-1){var I=function(e,t){var r=0;if(t<e)for(;r<=14&&t<<++r<e;);return r}(o[c][0],o[c][1]);b=d(r,I)+(R<<I)}else b=d(r,t.v)+1;b=1&b?-1-(b>>>1):b>>>1,o[c][0]+=k(b),o[c][1]==e.f&&(o[c][0]>>>=1,o[c][1]>>>=1),o[c][1]++,p=l<0?p-b:p+b,e.i&&(p<0?p+=t.w:p>e.g&&(p-=t.w)),y[g]=p>=0?Math.min(p,e.g):0}function p(e,t,r){for(var n=e[0].length,i=t;i<=r;i++)e[i][0]=e[i-1][1],e[i][n-1]=e[i-1][n-2]}function g(e){p(e,a,o),p(e,t,r),p(e,c,u)}function m(e,t,n,i,a,o,l,c,u,h,d,p,m){for(var b=0,y=1,v=a<s&&a>r;y<e.m;)b<e.m&&(f(e,t,n,i,a,b,l[u],e.h&&(v&&h||!v&&(d||(b&p)==m))),f(e,t,n,i,o,b,l[u],e.h&&(!v&&h||v&&(d||(b&p)==m))),b+=2),b>8&&(f(e,t,n,i,a,y,c[u]),f(e,t,n,i,o,y,c[u]),y+=2);g(i)}function b(e,n,i,s,l,h){m(e,n,i,s,t,a,l,h,0,0,1,0,8),m(e,n,i,s,8,c,l,h,1,0,1,0,8),m(e,n,i,s,3,9,l,h,2,1,0,3,0),m(e,n,i,s,10,16,l,h,0,0,0,3,2),m(e,n,i,s,r,11,l,h,1,0,0,3,2),m(e,n,i,s,o,u,l,h,2,1,0,3,0)}function y(e,r,n,i,o,s){var l=s.length,u=e.l;o+1==e.s&&(u=e.e-o*e.l);for(var h=6*e.e*i+o*e.l,d=0;d<6;d++){for(var f=0;f<u;f++){var p,g=s[d%l][f%l];p=0==g?t+(d>>>1):2==g?c+(d>>>1):a+d;var m=e.h?(2*f/3&2147483646|f%3&1)+(f%3>>>1):f>>>1;r[h+f]=n[p][m+1]}h+=e.e}}e._decompressRAF=function(a,c){var d=function(t){var r=e._binBE.readUshort,n={b:r(t,0),i:t[2],C:t[3],u:t[4],q:r(t,5),k:r(t,7),e:r(t,9),l:r(t,11),s:t[13],d:r(t,14)};if(18771!=n.b||n.i>1||n.q<6||n.q%6||n.e<768||n.e%24||768!=n.l||n.k<n.l||n.k%n.l||n.k-n.e>=n.l||n.s>16||n.s!=n.k/n.l||n.s!=Math.ceil(n.e/n.l)||n.d!=n.q/6||12!=n.u&&14!=n.u&&16!=n.u||16!=n.C&&0!=n.C)throw"Invalid data";if(0==n.i)throw"Not implemented. We need this file!";return n.h=16==n.C,n.m=0|(n.h?2*n.l/3:n.l>>>1),n.A=n.m+2,n.f=64,n.g=(1<<n.u)-1,n.n=4*n.u,n}(a),f=function(t,r){var n=new Array(r.s),i=4*r.s,a=16+i;12&i&&(a+=16-(12&i));for(var o=0,s=16;o<r.s;s+=4){var l=e._binBE.readUint(t,s);n[o]=t.slice(a,a+l),n[o].j=0,n[o].a=0,a+=l,o++}if(a!=t.length)throw"Invalid data";return n}(a,d),p=function(e){var t={c:new Int8Array(2<<e.u)};return function(e,t,r){var n=[0,18,67,276,r];e.o=0,e.w=(n[4]+0)/1+1|0,e.v=Math.ceil(Math.log2(e.w)),e.t=9,function(e,t){for(var r=-t[4],n=0;r<=t[4];n++,r++)e[n]=r<=-t[3]?-4:r<=-t[2]?-3:r<=-t[1]?-2:r<-t[0]?-1:r<=t[0]?0:r<t[1]?1:r<t[2]?2:r<t[3]?3:4}(e.c,n)}(t,0,e.g),t}(d),m=new Int16Array(d.e*d.q);null==c&&(c=d.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var v=[[0,3],[1,r],[n,11],[i,o],[s,16],[l,u]],w=[],_=0;_<18;_++)w[_]=new Uint16Array(d.A);for(var A=0;A<d.s;A++){var E=h(p),x=h(p);for(_=0;_<18;_++)for(var S=0;S<d.A;S++)w[_][S]=0;for(var k=0;k<d.d;k++){for(b(d,p,f[A],w,E,x),_=0;_<6;_++)for(S=0;S<d.A;S++)w[v[_][0]][S]=w[v[_][1]][S];for(y(d,m,w,k,A,c),_=t;_<18;_++)if(-1==[n,i,s,l].indexOf(_))for(S=0;S<d.A;S++)w[_][S]=0;g(w)}}return m}}()}(t,r(99591))}()},42660:function(e,t,r){!function(e){const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function n(){}const i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0;function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}const o=n,s=Promise,l=Promise.prototype.then,c=Promise.resolve.bind(s),u=Promise.reject.bind(s);function h(e){return new s(e)}function d(e){return c(e)}function f(e){return u(e)}function p(e,t,r){return l.call(e,t,r)}function g(e,t,r){p(p(e,t,r),void 0,o)}function m(e,t){g(e,t)}function b(e,t){g(e,void 0,t)}function y(e,t,r){return p(e,t,r)}function v(e){p(e,void 0,o)}const w=(()=>{const e=i&&i.queueMicrotask;if("function"==typeof e)return e;const t=d(void 0);return e=>p(t,e)})();function _(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function A(e,t,r){try{return d(_(e,t,r))}catch(e){return f(e)}}class E{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,a=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function x(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?function(e){I(e),P(e)}(e):T(e,t._storedError)}function S(e,t){return Er(e._ownerReadableStream,t)}function k(e){"readable"===e._ownerReadableStream._state?M(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){T(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function R(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function T(e,t){I(e),M(e,t)}function M(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function P(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const C=t("[[AbortSteps]]"),O=t("[[ErrorSteps]]"),L=t("[[CancelSteps]]"),N=t("[[PullSteps]]"),B=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},D=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function U(e,t){if(void 0!==e&&("object"!=typeof(r=e)&&"function"!=typeof r))throw new TypeError(`${t} is not an object.`);var r}function V(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function F(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function j(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function q(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function z(e){return Number(e)}function $(e){return 0===e?0:e}function H(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=$(n),!B(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return $(D(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return B(n)&&0!==n?n:0}function G(e,t){if(!_r(e))throw new TypeError(`${t} is not a ReadableStream.`)}function W(e){return new Z(e)}function J(e,t){e._reader._readRequests.push(t)}function Q(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function K(e){return e._reader._readRequests.length}function Y(e){const t=e._reader;return void 0!==t&&!!X(t)}class Z{constructor(e){if(j(e,1,"ReadableStreamDefaultReader"),G(e,"First parameter"),Ar(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");x(this,e),this._readRequests=new E}get closed(){return X(this)?this._closedPromise:f(te("closed"))}cancel(e=void 0){return X(this)?void 0===this._ownerReadableStream?f(R("cancel")):S(this,e):f(te("cancel"))}read(){if(!X(this))return f(te("read"));if(void 0===this._ownerReadableStream)return f(R("read from"));let e,t;const r=h(((r,n)=>{e=r,t=n}));return ee(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!X(this))throw te("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}}function X(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Z}function ee(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[N](t)}function te(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Z.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const re=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ne{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?y(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return f(R("iterate"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return ee(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,w((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,k(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,k(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return f(R("finish iterating"));if(!this._preventCancel){const r=S(t,e);return k(t),y(r,(()=>({value:e,done:!0})))}return k(t),d({value:e,done:!0})}}const ie={next(){return ae(this)?this._asyncIteratorImpl.next():f(oe("next"))},return(e){return ae(this)?this._asyncIteratorImpl.return(e):f(oe("return"))}};function ae(e){if(!a(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ne}catch(e){return!1}}function oe(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==re&&Object.setPrototypeOf(ie,re);const se=Number.isNaN||function(e){return e!=e};function le(e){return e.slice()}function ce(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function ue(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,i=new ArrayBuffer(n);return ce(i,0,e,t,n),i}function he(e){const t=ue(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function de(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function fe(e,t,r){if("number"!=typeof(n=r)||se(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function pe(e){e._queue=new E,e._queueTotalSize=0}class ge{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ye(this))throw Fe("view");return this._view}respond(e){if(!ye(this))throw Fe("respond");if(j(e,1,"respond"),e=H(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,De(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ye(this))throw Fe("respondWithNewView");if(j(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Ue(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ge.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ge.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!be(this))throw je("byobRequest");return Ne(this)}get desiredSize(){if(!be(this))throw je("desiredSize");return Be(this)}close(){if(!be(this))throw je("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ce(this)}enqueue(e){if(!be(this))throw je("enqueue");if(j(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Oe(this,e)}error(e=void 0){if(!be(this))throw je("error");Le(this,e)}[L](e){we(this),pe(this);const t=this._cancelAlgorithm(e);return Pe(this),t}[N](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,ke(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}J(t,e),ve(this)}}function be(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function ye(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ge}function ve(e){(function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(Y(t)&&K(t)>0)||!!(He(t)&&$e(t)>0)||Be(e)>0)})(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,g(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ve(e))}),(t=>{Le(e,t)}))))}function we(e){Re(e),e._pendingPullIntos=new E}function _e(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Ae(t);"default"===t.readerType?Q(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Ae(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ee(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function xe(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,o=a-a%r;let s=i,l=!1;o>n&&(s=o-t.bytesFilled,l=!0);const c=e._queue;for(;s>0;){const r=c.peek(),n=Math.min(s,r.byteLength),i=t.byteOffset+t.bytesFilled;ce(t.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?c.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Se(0,n,t),s-=n}return l}function Se(e,t,r){r.bytesFilled+=t}function ke(e){0===e._queueTotalSize&&e._closeRequested?(Pe(e),xr(e._controlledReadableByteStream)):ve(e)}function Re(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ie(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();xe(e,t)&&(Me(e),_e(e._controlledReadableByteStream,t))}}function Te(e,t){const r=e._pendingPullIntos.peek();Re(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(He(r))for(;$e(r)>0;)_e(r,Me(e))}(e):function(e,t,r){if(Se(0,t,r),r.bytesFilled<r.elementSize)return;Me(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=ue(r.buffer,t-n,t);Ee(e,i,0,i.byteLength)}r.bytesFilled-=n,_e(e._controlledReadableByteStream,r),Ie(e)}(e,t,r),ve(e)}function Me(e){return e._pendingPullIntos.shift()}function Pe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ce(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Le(e,t),t}Pe(e),xr(t)}}function Oe(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,i=t.byteOffset,a=t.byteLength,o=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Re(e),Y(r)?0===K(r)?Ee(e,o,i,a):(e._pendingPullIntos.length>0&&Me(e),Q(r,new Uint8Array(o,i,a),!1)):He(r)?(Ee(e,o,i,a),Ie(e)):Ee(e,o,i,a),ve(e)}function Le(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(we(e),pe(e),Pe(e),Sr(r,t))}function Ne(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ge.prototype);(function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r})(n,e,r),e._byobRequest=n}return e._byobRequest}function Be(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function De(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Te(e,t)}function Ue(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,Te(e,n)}function Ve(e,t,r,n,i,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,pe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new E,e._readableStreamController=t,g(d(r()),(()=>{t._started=!0,ve(t)}),(e=>{Le(t,e)}))}function Fe(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function je(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function qe(e){return new Ge(e)}function ze(e,t){e._reader._readIntoRequests.push(t)}function $e(e){return e._reader._readIntoRequests.length}function He(e){const t=e._reader;return void 0!==t&&!!We(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ge{constructor(e){if(j(e,1,"ReadableStreamBYOBReader"),G(e,"First parameter"),Ar(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!be(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");x(this,e),this._readIntoRequests=new E}get closed(){return We(this)?this._closedPromise:f(Qe("closed"))}cancel(e=void 0){return We(this)?void 0===this._ownerReadableStream?f(R("cancel")):S(this,e):f(Qe("cancel"))}read(e){if(!We(this))return f(Qe("read"));if(!ArrayBuffer.isView(e))return f(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return f(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return f(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return f(R("read from"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return Je(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!We(this))throw Qe("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}}function We(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Ge}function Je(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);const a=t.constructor,o=t.buffer,s={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void ze(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(xe(e,s)){const t=Ae(s);return ke(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Le(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),ze(n,r),ve(e)}else{const e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Qe(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ke(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(se(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ye(e){const{size:t}=e;return t||(()=>1)}function Ze(e,t){U(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:z(r),size:void 0===n?void 0:Xe(n,`${t} has member 'size' that`)}}function Xe(e,t){return V(e,t),t=>z(e(t))}function et(e,t,r){return V(e,r),r=>A(e,t,[r])}function tt(e,t,r){return V(e,r),()=>A(e,t,[])}function rt(e,t,r){return V(e,r),r=>_(e,t,[r])}function nt(e,t,r){return V(e,r),(r,n)=>A(e,t,[r,n])}function it(e,t){if(!ct(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ge.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const at="function"==typeof AbortController;class ot{constructor(e={},t={}){void 0===e?e=null:F(e,"First parameter");const r=Ze(t,"Second parameter"),n=function(e,t){U(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,a=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===r?void 0:et(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:tt(n,e,`${t} has member 'close' that`),start:void 0===i?void 0:rt(i,e,`${t} has member 'start' that`),write:void 0===o?void 0:nt(o,e,`${t} has member 'write' that`),type:a}}(e,"First parameter");if(lt(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const i=Ye(r);!function(e,t,r,n){const i=Object.create(Rt.prototype);let a=()=>{},o=()=>d(void 0),s=()=>d(void 0),l=()=>d(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.write&&(o=e=>t.write(e,i)),void 0!==t.close&&(s=()=>t.close()),void 0!==t.abort&&(l=e=>t.abort(e)),Tt(e,i,a,o,s,l,r,n)}(this,n,Ke(r,1),i)}get locked(){if(!ct(this))throw Bt("locked");return ut(this)}abort(e=void 0){return ct(this)?ut(this)?f(new TypeError("Cannot abort a stream that already has a writer")):ht(this,e):f(Bt("abort"))}close(){return ct(this)?ut(this)?f(new TypeError("Cannot close a stream that already has a writer")):mt(this)?f(new TypeError("Cannot close an already-closing stream")):dt(this):f(Bt("close"))}getWriter(){if(!ct(this))throw Bt("getWriter");return st(this)}}function st(e){return new vt(e)}function lt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new E,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof ot}function ut(e){return void 0!==e._writer}function ht(e,t){var r;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let i=!1;"erroring"===n&&(i=!0,t=void 0);const a=h(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return e._pendingAbortRequest._promise=a,i||pt(e,t),a}function dt(e){const t=e._state;if("closed"===t||"errored"===t)return f(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=h(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&Jt(n),fe(i=e._writableStreamController,kt,0),Ct(i),r;var i}function ft(e,t){"writable"!==e._state?gt(e):pt(e,t)}function pt(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Et(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&gt(e)}function gt(e){e._state="errored",e._writableStreamController[O]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new E,void 0===e._pendingAbortRequest)return void bt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void bt(e);g(e._writableStreamController[C](r._reason),(()=>{r._resolve(),bt(e)}),(t=>{r._reject(t),bt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function bt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&qt(t,e._storedError)}function yt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){$t(e)}(r):Jt(r)),e._backpressure=t}Object.defineProperties(ot.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ot.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class vt{constructor(e){if(j(e,1,"WritableStreamDefaultWriter"),it(e,"First parameter"),ut(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?$t(this):Gt(this),Ft(this);else if("erroring"===t)Ht(this,e._storedError),Ft(this);else if("closed"===t)Gt(this),Ft(r=this),zt(r);else{const t=e._storedError;Ht(this,t),jt(this,t)}var r}get closed(){return wt(this)?this._closedPromise:f(Ut("closed"))}get desiredSize(){if(!wt(this))throw Ut("desiredSize");if(void 0===this._ownerWritableStream)throw Vt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Pt(t._writableStreamController)}(this)}get ready(){return wt(this)?this._readyPromise:f(Ut("ready"))}abort(e=void 0){return wt(this)?void 0===this._ownerWritableStream?f(Vt("abort")):function(e,t){return ht(e._ownerWritableStream,t)}(this,e):f(Ut("abort"))}close(){if(!wt(this))return f(Ut("close"));const e=this._ownerWritableStream;return void 0===e?f(Vt("close")):mt(e)?f(new TypeError("Cannot close an already-closing stream")):_t(this)}releaseLock(){if(!wt(this))throw Ut("releaseLock");void 0!==this._ownerWritableStream&&xt(this)}write(e=void 0){return wt(this)?void 0===this._ownerWritableStream?f(Vt("write to")):St(this,e):f(Ut("write"))}}function wt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof vt}function _t(e){return dt(e._ownerWritableStream)}function At(e,t){"pending"===e._closedPromiseState?qt(e,t):function(e,t){jt(e,t)}(e,t)}function Et(e,t){"pending"===e._readyPromiseState?Wt(e,t):function(e,t){Ht(e,t)}(e,t)}function xt(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Et(e,r),At(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function St(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Ot(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return f(Vt("write to"));const a=r._state;if("errored"===a)return f(r._storedError);if(mt(r)||"closed"===a)return f(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return f(r._storedError);const o=function(e){return h(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{fe(e,t,r)}catch(t){return void Ot(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||yt(n,Lt(e)),Ct(e)}(n,t,i),o}Object.defineProperties(vt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(vt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const kt={};class Rt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!It(this))throw Dt("abortReason");return this._abortReason}get signal(){if(!It(this))throw Dt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!It(this))throw Dt("error");"writable"===this._controlledWritableStream._state&&Nt(this,e)}[C](e){const t=this._abortAlgorithm(e);return Mt(this),t}[O](){pe(this)}}function It(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Rt}function Tt(e,t,r,n,i,a,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,pe(t),t._abortReason=void 0,t._abortController=function(){if(at)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=a;const l=Lt(t);yt(e,l),g(d(r()),(()=>{t._started=!0,Ct(t)}),(r=>{t._started=!0,ft(e,r)}))}function Mt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Pt(e){return e._strategyHWM-e._queueTotalSize}function Ct(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void gt(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===kt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),de(e);const r=e._closeAlgorithm();Mt(e),g(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&zt(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ft(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(r),g(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(de(e),!mt(r)&&"writable"===t){const t=Lt(e);yt(r,t)}Ct(e)}),(t=>{"writable"===r._state&&Mt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ft(e,t)}(r,t)}))}(e,r)}function Ot(e,t){"writable"===e._controlledWritableStream._state&&Nt(e,t)}function Lt(e){return Pt(e)<=0}function Nt(e,t){const r=e._controlledWritableStream;Mt(e),pt(r,t)}function Bt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Dt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ut(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Vt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ft(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function jt(e,t){Ft(e),qt(e,t)}function qt(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function zt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function $t(e){e._readyPromise=h(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Ht(e,t){$t(e),Wt(e,t)}function Gt(e){$t(e),Jt(e)}function Wt(e,t){void 0!==e._readyPromise_reject&&(v(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Jt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Rt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Rt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Qt="undefined"!=typeof DOMException?DOMException:void 0;const Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Qt)?Qt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Yt(e,t,r,i,a,o){const s=W(e),l=st(t);e._disturbed=!0;let c=!1,u=d(void 0);return h(((y,w)=>{let _;if(void 0!==o){if(_=()=>{const r=new Kt("Aborted","AbortError"),n=[];i||n.push((()=>"writable"===t._state?ht(t,r):d(void 0))),a||n.push((()=>"readable"===e._state?Er(e,r):d(void 0))),I((()=>Promise.all(n.map((e=>e())))),!0,r)},o.aborted)return void _();o.addEventListener("abort",_)}if(R(e,s._closedPromise,(e=>{i?T(!0,e):I((()=>ht(t,e)),!0,e)})),R(t,l._closedPromise,(t=>{a?T(!0,t):I((()=>Er(e,t)),!0,t)})),A=e,E=s._closedPromise,x=()=>{r?T():I((()=>function(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?d(void 0):"errored"===r?f(t._storedError):_t(e)}(l)))},"closed"===A._state?x():m(E,x),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");a?T(!0,t):I((()=>Er(e,t)),!0,t)}var A,E,x;function S(){const e=u;return p(u,(()=>e!==u?S():void 0))}function R(e,t,r){"errored"===e._state?r(e._storedError):b(t,r)}function I(e,r,n){function i(){g(e(),(()=>M(r,n)),(e=>M(!0,e)))}c||(c=!0,"writable"!==t._state||mt(t)?i():m(S(),i))}function T(e,r){c||(c=!0,"writable"!==t._state||mt(t)?M(e,r):m(S(),(()=>M(e,r))))}function M(e,t){xt(l),k(s),void 0!==o&&o.removeEventListener("abort",_),e?w(t):y(void 0)}v(h(((e,t)=>{!function r(i){i?e():p(c?d(!0):p(l._readyPromise,(()=>h(((e,t)=>{ee(s,{_chunkSteps:t=>{u=p(St(l,t),void 0,n),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class Zt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xt(this))throw cr("desiredSize");return or(this)}close(){if(!Xt(this))throw cr("close");if(!sr(this))throw new TypeError("The stream is not in a state that permits close");nr(this)}enqueue(e=void 0){if(!Xt(this))throw cr("enqueue");if(!sr(this))throw new TypeError("The stream is not in a state that permits enqueue");return ir(this,e)}error(e=void 0){if(!Xt(this))throw cr("error");ar(this,e)}[L](e){pe(this);const t=this._cancelAlgorithm(e);return rr(this),t}[N](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=de(this);this._closeRequested&&0===this._queue.length?(rr(this),xr(t)):er(this),e._chunkSteps(r)}else J(t,e),er(this)}}function Xt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Zt}function er(e){tr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,g(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,er(e))}),(t=>{ar(e,t)}))))}function tr(e){const t=e._controlledReadableStream;return!!sr(e)&&!!e._started&&(!!(Ar(t)&&K(t)>0)||or(e)>0)}function rr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function nr(e){if(!sr(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(rr(e),xr(t))}function ir(e,t){if(!sr(e))return;const r=e._controlledReadableStream;if(Ar(r)&&K(r)>0)Q(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw ar(e,t),t}try{fe(e,t,r)}catch(t){throw ar(e,t),t}}er(e)}function ar(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(pe(e),rr(e),Sr(r,t))}function or(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function sr(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function lr(e,t,r,n,i,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,pe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,g(d(r()),(()=>{t._started=!0,er(t)}),(e=>{ar(t,e)}))}function cr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ur(e,t){return be(e._readableStreamController)?function(e){let t,r,n,i,a,o=W(e),s=!1,l=!1,c=!1,u=!1,f=!1;const p=h((e=>{a=e}));function g(e){b(e._closedPromise,(t=>{e===o&&(Le(n._readableStreamController,t),Le(i._readableStreamController,t),u&&f||a(void 0))}))}function m(){We(o)&&(k(o),o=W(e),g(o)),ee(o,{_chunkSteps:t=>{w((()=>{l=!1,c=!1;const r=t;let o=t;if(!u&&!f)try{o=he(t)}catch(t){return Le(n._readableStreamController,t),Le(i._readableStreamController,t),void a(Er(e,t))}u||Oe(n._readableStreamController,r),f||Oe(i._readableStreamController,o),s=!1,l?v():c&&_()}))},_closeSteps:()=>{s=!1,u||Ce(n._readableStreamController),f||Ce(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&De(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&De(i._readableStreamController,0),u&&f||a(void 0)},_errorSteps:()=>{s=!1}})}function y(t,r){X(o)&&(k(o),o=qe(e),g(o));const h=r?i:n,d=r?n:i;Je(o,t,{_chunkSteps:t=>{w((()=>{l=!1,c=!1;const n=r?f:u;if(r?u:f)n||Ue(h._readableStreamController,t);else{let r;try{r=he(t)}catch(t){return Le(h._readableStreamController,t),Le(d._readableStreamController,t),void a(Er(e,t))}n||Ue(h._readableStreamController,t),Oe(d._readableStreamController,r)}s=!1,l?v():c&&_()}))},_closeSteps:e=>{s=!1;const t=r?f:u,n=r?u:f;t||Ce(h._readableStreamController),n||Ce(d._readableStreamController),void 0!==e&&(t||Ue(h._readableStreamController,e),!n&&d._readableStreamController._pendingPullIntos.length>0&&De(d._readableStreamController,0)),t&&n||a(void 0)},_errorSteps:()=>{s=!1}})}function v(){if(s)return l=!0,d(void 0);s=!0;const e=Ne(n._readableStreamController);return null===e?m():y(e._view,!1),d(void 0)}function _(){if(s)return c=!0,d(void 0);s=!0;const e=Ne(i._readableStreamController);return null===e?m():y(e._view,!0),d(void 0)}function A(n){if(u=!0,t=n,f){const n=le([t,r]),i=Er(e,n);a(i)}return p}function E(n){if(f=!0,r=n,u){const n=le([t,r]),i=Er(e,n);a(i)}return p}function x(){}return n=vr(x,v,A),i=vr(x,_,E),g(o),[n,i]}(e):function(e,t){const r=W(e);let n,i,a,o,s,l=!1,c=!1,u=!1,f=!1;const p=h((e=>{s=e}));function g(){return l?(c=!0,d(void 0)):(l=!0,ee(r,{_chunkSteps:e=>{w((()=>{c=!1;const t=e,r=e;u||ir(a._readableStreamController,t),f||ir(o._readableStreamController,r),l=!1,c&&g()}))},_closeSteps:()=>{l=!1,u||nr(a._readableStreamController),f||nr(o._readableStreamController),u&&f||s(void 0)},_errorSteps:()=>{l=!1}}),d(void 0))}function m(t){if(u=!0,n=t,f){const t=le([n,i]),r=Er(e,t);s(r)}return p}function y(t){if(f=!0,i=t,u){const t=le([n,i]),r=Er(e,t);s(r)}return p}function v(){}return a=yr(v,g,m),o=yr(v,g,y),b(r._closedPromise,(e=>{ar(a._readableStreamController,e),ar(o._readableStreamController,e),u&&f||s(void 0)})),[a,o]}(e)}function hr(e,t,r){return V(e,r),r=>A(e,t,[r])}function dr(e,t,r){return V(e,r),r=>A(e,t,[r])}function fr(e,t,r){return V(e,r),r=>_(e,t,[r])}function pr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function gr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function mr(e,t){U(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:a}}Object.defineProperties(Zt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Zt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class br{constructor(e={},t={}){void 0===e?e=null:F(e,"First parameter");const r=Ze(t,"Second parameter"),n=function(e,t){U(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,a=null==r?void 0:r.pull,o=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:H(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:hr(i,r,`${t} has member 'cancel' that`),pull:void 0===a?void 0:dr(a,r,`${t} has member 'pull' that`),start:void 0===o?void 0:fr(o,r,`${t} has member 'start' that`),type:void 0===s?void 0:pr(s,`${t} has member 'type' that`)}}(e,"First parameter");if(wr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let i=()=>{},a=()=>d(void 0),o=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(a=()=>t.pull(n)),void 0!==t.cancel&&(o=e=>t.cancel(e));const s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ve(e,n,i,a,o,r,s)}(this,n,Ke(r,0))}else{const e=Ye(r);!function(e,t,r,n){const i=Object.create(Zt.prototype);let a=()=>{},o=()=>d(void 0),s=()=>d(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.pull&&(o=()=>t.pull(i)),void 0!==t.cancel&&(s=e=>t.cancel(e)),lr(e,i,a,o,s,r,n)}(this,n,Ke(r,1),e)}}get locked(){if(!_r(this))throw kr("locked");return Ar(this)}cancel(e=void 0){return _r(this)?Ar(this)?f(new TypeError("Cannot cancel a stream that already has a reader")):Er(this,e):f(kr("cancel"))}getReader(e=void 0){if(!_r(this))throw kr("getReader");return void 0===function(e,t){U(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:gr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?W(this):qe(this)}pipeThrough(e,t={}){if(!_r(this))throw kr("pipeThrough");j(e,1,"pipeThrough");const r=function(e,t){U(e,t);const r=null==e?void 0:e.readable;q(r,"readable","ReadableWritablePair"),G(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return q(n,"writable","ReadableWritablePair"),it(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=mr(t,"Second parameter");if(Ar(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ut(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v(Yt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!_r(this))return f(kr("pipeTo"));if(void 0===e)return f("Parameter 1 is required in 'pipeTo'.");if(!ct(e))return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=mr(t,"Second parameter")}catch(e){return f(e)}return Ar(this)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ut(e)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Yt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!_r(this))throw kr("tee");return le(ur(this))}values(e=void 0){if(!_r(this))throw kr("values");return function(e,t){const r=W(e),n=new ne(r,t),i=Object.create(ie);return i._asyncIteratorImpl=n,i}(this,function(e,t){U(e,t);const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,"First parameter").preventCancel)}}function yr(e,t,r,n=1,i=(()=>1)){const a=Object.create(br.prototype);return wr(a),lr(a,Object.create(Zt.prototype),e,t,r,n,i),a}function vr(e,t,r){const n=Object.create(br.prototype);return wr(n),Ve(n,Object.create(me.prototype),e,t,r,0,void 0),n}function wr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function _r(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof br}function Ar(e){return void 0!==e._reader}function Er(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return f(e._storedError);xr(e);const r=e._reader;return void 0!==r&&We(r)&&(r._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),r._readIntoRequests=new E),y(e._readableStreamController[L](t),n)}function xr(e){e._state="closed";const t=e._reader;void 0!==t&&(P(t),X(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new E))}function Sr(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(M(r,t),X(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new E):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new E))}function kr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Rr(e,t){U(e,t);const r=null==e?void 0:e.highWaterMark;return q(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:z(r)}}Object.defineProperties(br.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(br.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(br.prototype,t.asyncIterator,{value:br.prototype.values,writable:!0,configurable:!0});const Ir=e=>e.byteLength;try{Object.defineProperty(Ir,"name",{value:"size",configurable:!0})}catch(e){}class Tr{constructor(e){j(e,1,"ByteLengthQueuingStrategy"),e=Rr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Pr(this))throw Mr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Pr(this))throw Mr("size");return Ir}}function Mr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Pr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Tr}Object.defineProperties(Tr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Tr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Cr=()=>1;try{Object.defineProperty(Cr,"name",{value:"size",configurable:!0})}catch(e){}class Or{constructor(e){j(e,1,"CountQueuingStrategy"),e=Rr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Nr(this))throw Lr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Nr(this))throw Lr("size");return Cr}}function Lr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Nr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Or}function Br(e,t,r){return V(e,r),r=>A(e,t,[r])}function Dr(e,t,r){return V(e,r),r=>_(e,t,[r])}function Ur(e,t,r){return V(e,r),(r,n)=>A(e,t,[r,n])}Object.defineProperties(Or.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Or.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Vr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Ze(t,"Second parameter"),i=Ze(r,"Third parameter"),a=function(e,t){U(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:Br(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===i?void 0:Dr(i,e,`${t} has member 'start' that`),transform:void 0===a?void 0:Ur(a,e,`${t} has member 'transform' that`),writableType:o}}(e,"First parameter");if(void 0!==a.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw new RangeError("Invalid writableType specified");const o=Ke(i,0),s=Ye(i),l=Ke(n,1),c=Ye(n);let u;(function(e,t,r,n,i,a){function o(){return t}function s(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?y(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Jr(r,t)})):Jr(r,t)}(e,t)}function l(t){return function(e,t){return jr(e,t),d(void 0)}(e,t)}function c(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Gr(r),y(n,(()=>{if("errored"===t._state)throw t._storedError;nr(t._readableStreamController)}),(r=>{throw jr(e,r),t._storedError}))}(e)}function u(){return function(e){return zr(e,!1),e._backpressureChangePromise}(e)}function h(t){return qr(e,t),d(void 0)}e._writable=function(e,t,r,n,i=1,a=(()=>1)){const o=Object.create(ot.prototype);return lt(o),Tt(o,Object.create(Rt.prototype),e,t,r,n,i,a),o}(o,s,c,l,r,n),e._readable=yr(o,u,h,i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,zr(e,!0),e._transformStreamController=void 0})(this,h((e=>{u=e})),l,c,o,s),function(e,t){const r=Object.create($r.prototype);let n=e=>{try{return Wr(r,e),d(void 0)}catch(e){return f(e)}},i=()=>d(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(i=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,i)}(this,a),void 0!==a.start?u(a.start(this._transformStreamController)):u(void 0)}get readable(){if(!Fr(this))throw Kr("readable");return this._readable}get writable(){if(!Fr(this))throw Kr("writable");return this._writable}}function Fr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Vr}function jr(e,t){ar(e._readable._readableStreamController,t),qr(e,t)}function qr(e,t){Gr(e._transformStreamController),Ot(e._writable._writableStreamController,t),e._backpressure&&zr(e,!1)}function zr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Vr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Vr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class $r{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Hr(this))throw Qr("desiredSize");return or(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Hr(this))throw Qr("enqueue");Wr(this,e)}error(e=void 0){if(!Hr(this))throw Qr("error");var t;t=e,jr(this._controlledTransformStream,t)}terminate(){if(!Hr(this))throw Qr("terminate");!function(e){const t=e._controlledTransformStream;nr(t._readable._readableStreamController),qr(t,new TypeError("TransformStream terminated"))}(this)}}function Hr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof $r}function Gr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Wr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!sr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ir(n,t)}catch(e){throw qr(r,e),r._readable._storedError}(function(e){return!tr(e)})(n)!==r._backpressure&&zr(r,!0)}function Jr(e,t){return y(e._transformAlgorithm(t),void 0,(t=>{throw jr(e._controlledTransformStream,t),t}))}function Qr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Kr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties($r.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty($r.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Tr,e.CountQueuingStrategy=Or,e.ReadableByteStreamController=me,e.ReadableStream=br,e.ReadableStreamBYOBReader=Ge,e.ReadableStreamBYOBRequest=ge,e.ReadableStreamDefaultController=Zt,e.ReadableStreamDefaultReader=Z,e.TransformStream=Vr,e.TransformStreamDefaultController=$r,e.WritableStream=ot,e.WritableStreamDefaultController=Rt,e.WritableStreamDefaultWriter=vt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},87702:(e,t,r)=>{r.r(t),r.d(t,{DOMException:()=>_,Headers:()=>u,Request:()=>b,Response:()=>v,fetch:()=>A});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function f(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(i.blob)return this.blob().then(f);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,a=h(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=d(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=l(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),c(e)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,a=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var _=n.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function A(e,t){return new Promise((function(r,a){var o=new b(e,t);if(o.signal&&o.signal.aborted)return a(new _("Aborted","AbortError"));var c=new XMLHttpRequest;function h(){c.abort()}if(c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}})),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var i="response"in c?c.response:c.responseText;setTimeout((function(){r(new v(i,n))}),0)},c.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){a(new _("Aborted","AbortError"))}),0)},c.open(o.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?c.withCredentials=!0:"omit"===o.credentials&&(c.withCredentials=!1),"responseType"in c&&(i.blob?c.responseType="blob":i.arrayBuffer&&(c.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof u||n.Headers&&t.headers instanceof n.Headers)){var d=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){d.push(s(e)),c.setRequestHeader(e,l(t.headers[e]))})),o.headers.forEach((function(e,t){-1===d.indexOf(t)&&c.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){c.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",h),c.onreadystatechange=function(){4===c.readyState&&o.signal.removeEventListener("abort",h)}),c.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,n.fetch||(n.fetch=A,n.Headers=u,n.Request=b,n.Response=v)},41875:(e,t,r)=>{var n=r(58908),i=r(27376),a=r(4947),o=r(47529);function s(e,t,r){var n=e;return i(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=o(t,{uri:e}),n.callback=r,n}function l(e,t,r){return c(t=s(e,t,r))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function n(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),b)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,y)}function o(){if(!c){var t;clearTimeout(h),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=y,o=null;return 0!==t?(i={body:n(),statusCode:t,method:f,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(i.headers=a(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),r(o,i,i.body)}}var s,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var h,d=u.url=e.uri||e.url,f=u.method=e.method||"GET",p=e.body||e.data,g=u.headers=e.headers||{},m=!!e.sync,b=!1,y={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(b=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=i,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=i,u.open(f,d,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(h=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(s in g)g.hasOwnProperty(s)&&u.setRequestHeader(s,g[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(p||null),u}e.exports=l,e.exports.default=l,l.XMLHttpRequest=n.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,r,n){return(r=s(t,r,n)).method=e.toUpperCase(),c(r)}}))},85926:e=>{e.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},47529:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},10326:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_sequelize_typescript_17df3cd9__},39491:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("assert")},14300:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("buffer")},57147:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("fs")},88849:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:http")},97742:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:process")},72477:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:stream/web")},47261:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:util")},12781:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("stream")},73837:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("util")},71267:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("worker_threads")},59796:e=>{e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("zlib")},20910:function(e,t){!function(e){function t(e){var r,n,i=new Error(e);return r=i,n=t.prototype,Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n,i}function r(e,r,n){var i=r.slice(0,n).split(/\n/),a=i.length,o=i[a-1].length+1;throw t(e+=" at line "+a+" col "+o+":\n\n  "+r.split(/\n/)[a-1]+"\n  "+Array(o).join(" ")+"^")}t.prototype=Object.create(Error.prototype,{name:{value:"Eta Error",enumerable:!1}});var n=new Function("return this")().Promise;function i(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function o(e){return a[e]}var s=/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\${)[^\\`])*`/g,l=/'(?:\\[\s\w"'\\`]|[^\n\r'\\])*?'/g,c=/"(?:\\[\s\w"'\\`]|[^\n\r"\\])*?"/g;function u(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function h(e,t){var n=[],i=!1,a=0,o=t.parse;if(t.plugins)for(var h=0;h<t.plugins.length;h++){var d=t.plugins[h];d.processTemplate&&(e=d.processTemplate(e,t))}function f(e,r){e&&(e=function(e,t,r,n){var i,a;return Array.isArray(t.autoTrim)?(i=t.autoTrim[1],a=t.autoTrim[0]):i=a=t.autoTrim,(r||!1===r)&&(i=r),(n||!1===n)&&(a=n),a||i?"slurp"===i&&"slurp"===a?e.trim():("_"===i||"slurp"===i?e=function(e){return String.prototype.trimLeft?e.trimLeft():e.replace(/^\s+/,"")}(e):"-"!==i&&"nl"!==i||(e=e.replace(/^(?:\r\n|\n|\r)/,"")),"_"===a||"slurp"===a?e=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/\s+$/,"")}(e):"-"!==a&&"nl"!==a||(e=e.replace(/(?:\r\n|\n|\r)$/,"")),e):e}(e,t,i,r))&&(e=e.replace(/\\|'/g,"\\$&").replace(/\r\n|\n|\r/g,"\\n"),n.push(e))}t.rmWhitespace&&(e=e.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),s.lastIndex=0,l.lastIndex=0,c.lastIndex=0;for(var p,g=[o.exec,o.interpolate,o.raw].reduce((function(e,t){return e&&t?e+"|"+u(t):t?u(t):e}),""),m=new RegExp("([^]*?)"+u(t.tags[0])+"(-|_)?\\s*("+g+")?\\s*","g"),b=new RegExp("'|\"|`|\\/\\*|(\\s*(-|_)?"+u(t.tags[1])+")","g");p=m.exec(e);){a=p[0].length+p.index;var y=p[1],v=p[3]||"";f(y,p[2]),b.lastIndex=a;for(var w=void 0,_=!1;w=b.exec(e);){if(w[1]){var A=e.slice(a,w.index);m.lastIndex=a=b.lastIndex,i=w[2],_={t:v===o.exec?"e":v===o.raw?"r":v===o.interpolate?"i":"",val:A};break}var E=w[0];if("/*"===E){var x=e.indexOf("*/",b.lastIndex);-1===x&&r("unclosed comment",e,w.index),b.lastIndex=x}else"'"===E?(l.lastIndex=w.index,l.exec(e)?b.lastIndex=l.lastIndex:r("unclosed string",e,w.index)):'"'===E?(c.lastIndex=w.index,c.exec(e)?b.lastIndex=c.lastIndex:r("unclosed string",e,w.index)):"`"===E&&(s.lastIndex=w.index,s.exec(e)?b.lastIndex=s.lastIndex:r("unclosed string",e,w.index))}_?n.push(_):r("unclosed tag",e,p.index+y.length)}if(f(e.slice(a,e.length),!1),t.plugins)for(var S=0;S<t.plugins.length;S++){var k=t.plugins[S];k.processAST&&(n=k.processAST(n,t))}return n}function d(e,t){var r=h(e,t),n="var tR='',__l,__lP"+(t.include?",include=E.include.bind(E)":"")+(t.includeFile?",includeFile=E.includeFile.bind(E)":"")+"\nfunction layout(p,d){__l=p;__lP=d}\n"+(t.useWith?"with("+t.varName+"||{}){":"")+function(e,t){for(var r=0,n=e.length,i="";r<n;r++){var a=e[r];if("string"==typeof a)i+="tR+='"+a+"'\n";else{var o=a.t,s=a.val||"";"r"===o?(t.filter&&(s="E.filter("+s+")"),i+="tR+="+s+"\n"):"i"===o?(t.filter&&(s="E.filter("+s+")"),t.autoEscape&&(s="E.e("+s+")"),i+="tR+="+s+"\n"):"e"===o&&(i+=s+"\n")}}return i}(r,t)+(t.includeFile?"if(__l)tR="+(t.async?"await ":"")+"includeFile(__l,Object.assign("+t.varName+",{body:tR},__lP))\n":t.include?"if(__l)tR="+(t.async?"await ":"")+"include(__l,Object.assign("+t.varName+",{body:tR},__lP))\n":"")+"if(cb){cb(null,tR)} return tR"+(t.useWith?"}":"");if(t.plugins)for(var i=0;i<t.plugins.length;i++){var a=t.plugins[i];a.processFnString&&(n=a.processFnString(n,t))}return n}var f=new(function(){function e(e){this.cache=void 0,this.cache=e}var t=e.prototype;return t.define=function(e,t){this.cache[e]=t},t.get=function(e){return this.cache[e]},t.remove=function(e){delete this.cache[e]},t.reset=function(){this.cache={}},t.load=function(e){i(this.cache,e)},e}())({}),p={async:!1,autoEscape:!0,autoTrim:[!1,"nl"],cache:!1,e:function(e){var t=String(e);return/[&<>"']/.test(t)?t.replace(/[&<>"']/g,o):t},include:function(e,r){var n=this.templates.get(e);if(!n)throw t('Could not fetch template "'+e+'"');return n(r,this)},parse:{exec:"",interpolate:"=",raw:"~"},plugins:[],rmWhitespace:!1,tags:["<%","%>"],templates:f,useWith:!1,varName:"it"};function g(e,t){var r={};return i(r,p),t&&i(r,t),e&&i(r,e),r}function m(e,r){var n=g(r||{}),i=n.async?function(){try{return new Function("return (async function(){}).constructor")()}catch(e){throw e instanceof SyntaxError?t("This environment doesn't support async/await"):e}}():Function;try{return new i(n.varName,"E","cb",d(e,n))}catch(r){throw r instanceof SyntaxError?t("Bad template syntax\n\n"+r.message+"\n"+Array(r.message.length+1).join("=")+"\n"+d(e,n)+"\n"):r}}function b(e,t){if(t.cache&&t.name&&t.templates.get(t.name))return t.templates.get(t.name);var r="function"==typeof e?e:m(e,t);return t.cache&&t.name&&t.templates.define(t.name,r),r}function y(e,r,i,a){var o=g(i||{});if(!o.async)return b(e,o)(r,o);if(!a){if("function"==typeof n)return new n((function(t,n){try{t(b(e,o)(r,o))}catch(e){n(e)}}));throw t("Please provide a callback function, this env doesn't support Promises")}try{b(e,o)(r,o,a)}catch(e){return a(e)}}e.compile=m,e.compileToString=d,e.config=p,e.configure=function(e){return i(p,e)},e.defaultConfig=p,e.getConfig=g,e.parse=h,e.render=y,e.renderAsync=function(e,t,r,n){return y(e,t,Object.assign({},r,{async:!0}),n)},e.templates=f}(t)},47135:(e,t,r)=>{if(!globalThis.ReadableStream)try{const e=r(97742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(72477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(42660))}try{const{Blob:e}=r(14300);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),i=await n.arrayBuffer();t+=i.byteLength,e.enqueue(new Uint8Array(i)),t===r.size&&e.close()}})})}catch(e){}},19160:e=>{var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})},o=(e=>(a,o)=>e&&e.get(a)||(o=((e,a,o,s)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let o of n(a))i.call(e,o)||t(e,o,{get:()=>a[o],enumerable:!(s=r(a,o))||s.enumerable});return e})(t({},"__esModule",{value:!0}),a),e&&e.set(a,o),o))("undefined"!=typeof WeakMap?new WeakMap:0),s=(e,r,n)=>(((e,r,n)=>{r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(e,"symbol"!=typeof r?r+"":r,n),n),l={};a(l,{applyPalette:()=>Ye,applyPaletteSync:()=>Ke,buildPalette:()=>Qe,buildPaletteSync:()=>Je,constants:()=>c,conversion:()=>p,distance:()=>F,image:()=>Ce,palette:()=>ne,quality:()=>je,utils:()=>ce});var c={};a(c,{bt709:()=>u});var u={};a(u,{Y:()=>h,x:()=>d,y:()=>f});var h=(e=>(e[e.RED=.2126]="RED",e[e.GREEN=.7152]="GREEN",e[e.BLUE=.0722]="BLUE",e[e.WHITE=1]="WHITE",e))(h||{}),d=(e=>(e[e.RED=.64]="RED",e[e.GREEN=.3]="GREEN",e[e.BLUE=.15]="BLUE",e[e.WHITE=.3127]="WHITE",e))(d||{}),f=(e=>(e[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE",e))(f||{}),p={};function g(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function m(e,t,r){return{x:.4124*(e=g(e/255))+.3576*(t=g(t/255))+.1805*(r=g(r/255)),y:.2126*e+.7152*t+.0722*r,z:.0193*e+.1192*t+.9505*r}}a(p,{lab2rgb:()=>V,lab2xyz:()=>B,rgb2hsl:()=>S,rgb2lab:()=>P,rgb2xyz:()=>m,xyz2lab:()=>M,xyz2rgb:()=>U});var b={};function y(e){return e*(Math.PI/180)}function v(e,t,r){let n=e;return n<t&&(n=t),n<r&&(n=r),n}function w(e,t,r){let n=e;return n>t&&(n=t),n>r&&(n=r),n}function _(e,t,r){return e>r&&(e=r),e<t&&(e=t),0|e}function A(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function E(e){return e>255?e=255:e<0&&(e=0),e}function x(e,t){const r=typeof e[0];let n;if("number"===r||"string"===r){const r=Object.create(null);for(let t=0,n=e.length;t<n;t++){const n=e[t];r[n]||0===r[n]||(r[n]=t)}n=e.sort(((e,n)=>t(e,n)||r[e]-r[n]))}else{const r=e.slice(0);n=e.sort(((e,n)=>t(e,n)||r.indexOf(e)-r.indexOf(n)))}return n}function S(e,t,r){const n=w(e,t,r),i=v(e,t,r),a=i-n,o=(n+i)/510;let s=0;o>0&&o<1&&(s=a/(o<.5?i+n:510-i-n));let l=0;return a>0&&(l=i===e?(t-r)/a:i===t?2+(r-e)/a:4+(e-t)/a,l*=60,l<0&&(l+=360)),{h:l,s,l:o}}a(b,{degrees2radians:()=>y,inRange0to255:()=>E,inRange0to255Rounded:()=>A,intInRange:()=>_,max3:()=>v,min3:()=>w,stableSort:()=>x});var k=.95047,R=1,I=1.08883;function T(e){return e>.008856?e**(1/3):7.787*e+16/116}function M(e,t,r){if(e=T(e/k),t=T(t/R),r=T(r/I),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-r)}}function P(e,t,r){const n=m(e,t,r);return M(n.x,n.y,n.z)}var C=.95047,O=1,L=1.08883;function N(e){return e>.206893034?e**3:(e-16/116)/7.787}function B(e,t,r){const n=(e+16)/116,i=n-r/200;return{x:C*N(t/500+n),y:O*N(n),z:L*N(i)}}function D(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function U(e,t,r){const n=D(3.2406*e+-1.5372*t+-.4986*r),i=D(-.9689*e+1.8758*t+.0415*r),a=D(.0557*e+-.204*t+1.057*r);return{r:A(255*n),g:A(255*i),b:A(255*a)}}function V(e,t,r){const n=B(e,t,r);return U(n.x,n.y,n.z)}var F={};a(F,{AbstractDistanceCalculator:()=>j,AbstractEuclidean:()=>J,AbstractManhattan:()=>Z,CIE94GraphicArts:()=>$,CIE94Textiles:()=>z,CIEDE2000:()=>G,CMetric:()=>W,Euclidean:()=>Q,EuclideanBT709:()=>K,EuclideanBT709NoAlpha:()=>Y,Manhattan:()=>X,ManhattanBT709:()=>te,ManhattanNommyde:()=>ee,PNGQuant:()=>re});var j=class{constructor(){s(this,"_maxDistance"),s(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,r,n){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:r>0?255/r:0,a:n>0?255/n:0},this._maxDistance=this.calculateRaw(e,t,r,n,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},q=class extends j{calculateRaw(e,t,r,n,i,a,o,s){const l=P(E(e*this._whitePoint.r),E(t*this._whitePoint.g),E(r*this._whitePoint.b)),c=P(E(i*this._whitePoint.r),E(a*this._whitePoint.g),E(o*this._whitePoint.b)),u=l.L-c.L,h=l.a-c.a,d=l.b-c.b,f=Math.sqrt(l.a*l.a+l.b*l.b),p=f-Math.sqrt(c.a*c.a+c.b*c.b);let g=h*h+d*d-p*p;g=g<0?0:Math.sqrt(g);const m=(s-n)*this._whitePoint.a*this._kA;return Math.sqrt((u/this._Kl)**2+(p/(1+this._K1*f))**2+(g/(1+this._K2*f))**2+m**2)}},z=class extends q{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},$=class extends q{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},H=class extends j{_setDefaults(){}static _calculatehp(e,t){const r=Math.atan2(e,t);return r>=0?r:r+H._deg360InRad}static _calculateRT(e,t){const r=t**7,n=2*Math.sqrt(r/(r+H._pow25to7)),i=H._deg30InRad*Math.exp(-(((e-H._deg275InRad)/H._deg25InRad)**2));return-Math.sin(2*i)*n}static _calculateT(e){return 1-.17*Math.cos(e-H._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+H._deg6InRad)-.2*Math.cos(4*e-H._deg63InRad)}static _calculate_ahp(e,t,r,n){const i=r+n;return 0===e?i:t<=H._deg180InRad?i/2:i<H._deg360InRad?(i+H._deg360InRad)/2:(i-H._deg360InRad)/2}static _calculate_dHp(e,t,r,n){let i;return i=0===e?0:t<=H._deg180InRad?r-n:r<=n?r-n+H._deg360InRad:r-n-H._deg360InRad,2*Math.sqrt(e)*Math.sin(i/2)}calculateRaw(e,t,r,n,i,a,o,s){const l=P(E(e*this._whitePoint.r),E(t*this._whitePoint.g),E(r*this._whitePoint.b)),c=P(E(i*this._whitePoint.r),E(a*this._whitePoint.g),E(o*this._whitePoint.b)),u=(s-n)*this._whitePoint.a*H._kA,h=this.calculateRawInLab(l,c);return Math.sqrt(h+u*u)}calculateRawInLab(e,t){const r=e.L,n=e.a,i=e.b,a=t.L,o=t.a,s=t.b,l=((Math.sqrt(n*n+i*i)+Math.sqrt(o*o+s*s))/2)**7,c=.5*(1-Math.sqrt(l/(l+H._pow25to7))),u=(1+c)*n,h=(1+c)*o,d=Math.sqrt(u*u+i*i),f=Math.sqrt(h*h+s*s),p=d*f,g=H._calculatehp(i,u),m=H._calculatehp(s,h),b=Math.abs(g-m),y=a-r,v=f-d,w=H._calculate_dHp(p,b,m,g),_=H._calculate_ahp(p,b,g,m),A=(d+f)/2,E=((r+a)/2-50)**2,x=v/(1+.045*A),S=w/(1+.015*H._calculateT(_)*A);return(y/(1+.015*E/Math.sqrt(20+E)))**2+x**2+S**2+H._calculateRT(_,A)*x*S}},G=H;s(G,"_kA",25/255),s(G,"_pow25to7",25**7),s(G,"_deg360InRad",y(360)),s(G,"_deg180InRad",y(180)),s(G,"_deg30InRad",y(30)),s(G,"_deg6InRad",y(6)),s(G,"_deg63InRad",y(63)),s(G,"_deg275InRad",y(275)),s(G,"_deg25InRad",y(25));var W=class extends j{calculateRaw(e,t,r,n,i,a,o,s){const l=(e+i)/2*this._whitePoint.r,c=(e-i)*this._whitePoint.r,u=(t-a)*this._whitePoint.g,h=(r-o)*this._whitePoint.b,d=((512+l)*c*c>>8)+4*u*u+((767-l)*h*h>>8),f=(s-n)*this._whitePoint.a;return Math.sqrt(d+f*f)}_setDefaults(){}},J=class extends j{calculateRaw(e,t,r,n,i,a,o,s){const l=i-e,c=a-t,u=o-r,h=s-n;return Math.sqrt(this._kR*l*l+this._kG*c*c+this._kB*u*u+this._kA*h*h)}},Q=class extends J{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},K=class extends J{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},Y=class extends J{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},Z=class extends j{calculateRaw(e,t,r,n,i,a,o,s){let l=i-e,c=a-t,u=o-r,h=s-n;return l<0&&(l=0-l),c<0&&(c=0-c),u<0&&(u=0-u),h<0&&(h=0-h),this._kR*l+this._kG*c+this._kB*u+this._kA*h}},X=class extends Z{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ee=class extends Z{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},te=class extends Z{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},re=class extends j{calculateRaw(e,t,r,n,i,a,o,s){const l=(s-n)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,i*this._whitePoint.r,l)+this._colordifferenceCh(t*this._whitePoint.g,a*this._whitePoint.g,l)+this._colordifferenceCh(r*this._whitePoint.b,o*this._whitePoint.b,l)}_colordifferenceCh(e,t,r){const n=e-t,i=n+r;return n*n+i*i}_setDefaults(){}},ne={};a(ne,{AbstractPaletteQuantizer:()=>ie,ColorHistogram:()=>_e,NeuQuant:()=>me,NeuQuantFloat:()=>ve,RGBQuant:()=>Ee,WuColorCube:()=>Te,WuQuant:()=>Pe});var ie=class{quantizeSync(){for(const e of this.quantize())if(e.palette)return e.palette;throw new Error("unreachable")}},ae=class{constructor(){s(this,"r"),s(this,"g"),s(this,"b"),s(this,"a"),s(this,"uint32"),s(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){const t=new ae;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,r,n){const i=new ae;return i.r=0|e,i.g=0|t,i.b=0|r,i.a=0|n,i._loadUINT32(),i._loadQuadruplet(),i}static createByUint32(e){const t=new ae;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,r=this.g,n=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),r=Math.min(255,255-this.a+this.a*r/255),n=Math.min(255,255-this.a+this.a*n/255)),.2126*t+.7152*r+.0722*n}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},oe=class{constructor(){s(this,"_pointArray"),s(this,"_width"),s(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){const e=new oe;e._width=this._width,e._height=this._height;for(let t=0,r=this._pointArray.length;t<r;t++)e._pointArray[t]=ae.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){const e=this._pointArray.length,t=new Uint32Array(e);for(let r=0;r<e;r++)t[r]=this._pointArray[r].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){const t=e.naturalWidth,r=e.naturalHeight,n=document.createElement("canvas");return n.width=t,n.height=r,n.getContext("2d").drawImage(e,0,0,t,r,0,0,t,r),oe.fromHTMLCanvasElement(n)}static fromHTMLCanvasElement(e){const t=e.width,r=e.height,n=e.getContext("2d").getImageData(0,0,t,r);return oe.fromImageData(n)}static fromImageData(e){const t=e.width,r=e.height;return oe.fromUint8Array(e.data,t,r)}static fromUint8Array(e,t,r){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}const n=new Uint32Array(e.buffer);return oe.fromUint32Array(n,t,r)}static fromUint32Array(e,t,r){const n=new oe;n._width=t,n._height=r;for(let t=0,r=e.length;t<r;t++)n._pointArray[t]=ae.createByUint32(0|e[t]);return n}static fromBuffer(e,t,r){const n=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return oe.fromUint32Array(n,t,r)}};function se(e,t){const r=360/t;for(let n=1,i=r-r/2;n<t;n++,i+=r)if(e>=i&&e<i+r)return n;return 0}var le=class{constructor(){s(this,"_pointContainer"),s(this,"_pointArray",[]),s(this,"_i32idx",{}),this._pointContainer=new oe,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return"number"==typeof this._i32idx[e]?this._i32idx[e]:-1}_getNearestIndex(e,t){let r=this._nearestPointFromCache(""+t.uint32);if(r>=0)return r;let n=Number.MAX_VALUE;r=0;for(let i=0,a=this._pointArray.length;i<a;i++){const a=this._pointArray[i],o=e.calculateRaw(t.r,t.g,t.b,t.a,a.r,a.g,a.b,a.a);o<n&&(n=o,r=i)}return this._i32idx[t.uint32]=r,r}sort(){this._i32idx={},this._pointArray.sort(((e,t)=>{const r=S(e.r,e.g,e.b),n=S(t.r,t.g,t.b),i=e.r===e.g&&e.g===e.b?0:1+se(r.h,10),a=(t.r===t.g&&t.g===t.b?0:1+se(n.h,10))-i;if(a)return-a;const o=e.getLuminosity(!0),s=t.getLuminosity(!0);if(s-o!=0)return s-o;const l=(100*n.s|0)-(100*r.s|0);return l?-l:0}))}},ce={};a(ce,{HueStatistics:()=>he,Palette:()=>le,Point:()=>ae,PointContainer:()=>oe,ProgressTracker:()=>fe,arithmetic:()=>b});var ue=class{constructor(){s(this,"num",0),s(this,"cols",[])}},he=class{constructor(e,t){s(this,"_numGroups"),s(this,"_minCols"),s(this,"_stats"),s(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let t=0;t<=e;t++)this._stats[t]=new ue;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const t=255&e,r=e>>>8&255,n=e>>>16&255,i=t===r&&r===n?0:1+se(S(t,r,n).h,this._numGroups),a=this._stats[i],o=this._minCols;a.num++,a.num>o||(a.num===o&&this._groupsFull++,a.num<=o&&this._stats[i].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach((t=>{e[t]?e[t]++:e[t]=1}))}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach((t=>{-1===e.indexOf(t)&&e.push(t)}))}},de=class{constructor(e,t){s(this,"progress"),s(this,"_step"),s(this,"_range"),s(this,"_last"),s(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(de.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},fe=de;s(fe,"steps",100);var pe=class{constructor(e){s(this,"r"),s(this,"g"),s(this,"b"),s(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return ae.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)}subtract(e,t,r,n){this.r-=0|e,this.g-=0|t,this.b-=0|r,this.a-=0|n}},ge=class extends ie{constructor(e,t=256){super(),s(this,"_pointArray"),s(this,"_networkSize"),s(this,"_network"),s(this,"_sampleFactor"),s(this,"_radPower"),s(this,"_freq"),s(this,"_bias"),s(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(2040,2040,2040,2040)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new pe((e<<11)/this._networkSize|0),this._freq[e]=ge._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e=this._sampleFactor;const t=this._pointArray.length;t<ge._minpicturebytes&&(e=1);const r=30+(e-1)/3|0,n=t/e|0;let i,a=n/ge._nCycles|0,o=ge._initAlpha,s=(this._networkSize>>3)*ge._radiusBias,l=s>>ge._radiusBiasShift;l<=1&&(l=0);for(let e=0;e<l;e++)this._radPower[e]=o*((l*l-e*e)*ge._radBias/(l*l))>>>0;i=t<ge._minpicturebytes?1:t%ge._prime1!=0?ge._prime1:t%ge._prime2!=0?ge._prime2:t%ge._prime3!=0?ge._prime3:ge._prime4;const c=new fe(n,99);for(let e=0,u=0;e<n;){c.shouldNotify(e)&&(yield{progress:c.progress});const n=this._pointArray[u],h=n.b<<3,d=n.g<<3,f=n.r<<3,p=n.a<<3,g=this._contest(h,d,f,p);if(this._alterSingle(o,g,h,d,f,p),0!==l&&this._alterNeighbour(l,g,h,d,f,p),u+=i,u>=t&&(u-=t),e++,0===a&&(a=1),e%a==0){o-=o/r|0,s-=s/ge._radiusDecrease|0,l=s>>ge._radiusBiasShift,l<=1&&(l=0);for(let e=0;e<l;e++)this._radPower[e]=o*((l*l-e*e)*ge._radBias/(l*l))>>>0}}}_buildPalette(){const e=new le;return this._network.forEach((t=>{e.add(t.toPoint())})),e.sort(),e}_alterNeighbour(e,t,r,n,i,a){let o=t-e;o<-1&&(o=-1);let s=t+e;s>this._networkSize&&(s=this._networkSize);let l=t+1,c=t-1,u=1;for(;l<s||c>o;){const e=this._radPower[u++]/ge._alphaRadBias;if(l<s){const t=this._network[l++];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-a))}if(c>o){const t=this._network[c--];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-a))}}}_alterSingle(e,t,r,n,i,a){e/=ge._initAlpha;const o=this._network[t];o.subtract(e*(o.r-i),e*(o.g-n),e*(o.b-r),e*(o.a-a))}_contest(e,t,r,n){let i=~(1<<31),a=i,o=-1,s=o;for(let l=0;l<this._networkSize;l++){const c=this._network[l],u=8160*this._distance.calculateNormalized(c,{r,g:t,b:e,a:n})|0;u<i&&(i=u,o=l);const h=u-(this._bias[l]>>ge._initialBiasShift-3);h<a&&(a=h,s=l);const d=this._freq[l]>>ge._betaShift;this._freq[l]-=d,this._bias[l]+=d<<ge._gammaShift}return this._freq[o]+=ge._beta,this._bias[o]-=ge._betaGamma,s}},me=ge;s(me,"_prime1",499),s(me,"_prime2",491),s(me,"_prime3",487),s(me,"_prime4",503),s(me,"_minpicturebytes",ge._prime4),s(me,"_nCycles",100),s(me,"_initialBiasShift",16),s(me,"_initialBias",1<<ge._initialBiasShift),s(me,"_gammaShift",10),s(me,"_betaShift",10),s(me,"_beta",ge._initialBias>>ge._betaShift),s(me,"_betaGamma",ge._initialBias<<ge._gammaShift-ge._betaShift),s(me,"_radiusBiasShift",6),s(me,"_radiusBias",1<<ge._radiusBiasShift),s(me,"_radiusDecrease",30),s(me,"_alphaBiasShift",10),s(me,"_initAlpha",1<<ge._alphaBiasShift),s(me,"_radBiasShift",8),s(me,"_radBias",1<<ge._radBiasShift),s(me,"_alphaRadBiasShift",ge._alphaBiasShift+ge._radBiasShift),s(me,"_alphaRadBias",1<<ge._alphaRadBiasShift);var be=class{constructor(e){s(this,"r"),s(this,"g"),s(this,"b"),s(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return ae.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)}subtract(e,t,r,n){this.r-=e,this.g-=t,this.b-=r,this.a-=n}},ye=class extends ie{constructor(e,t=256){super(),s(this,"_pointArray"),s(this,"_networkSize"),s(this,"_network"),s(this,"_sampleFactor"),s(this,"_radPower"),s(this,"_freq"),s(this,"_bias"),s(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(2040,2040,2040,2040)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new be((e<<11)/this._networkSize),this._freq[e]=ye._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e=this._sampleFactor;const t=this._pointArray.length;t<ye._minpicturebytes&&(e=1);const r=30+(e-1)/3,n=t/e;let i,a=n/ye._nCycles|0,o=ye._initAlpha,s=(this._networkSize>>3)*ye._radiusBias,l=s>>ye._radiusBiasShift;l<=1&&(l=0);for(let e=0;e<l;e++)this._radPower[e]=o*((l*l-e*e)*ye._radBias/(l*l));i=t<ye._minpicturebytes?1:t%ye._prime1!=0?ye._prime1:t%ye._prime2!=0?ye._prime2:t%ye._prime3!=0?ye._prime3:ye._prime4;const c=new fe(n,99);for(let e=0,u=0;e<n;){c.shouldNotify(e)&&(yield{progress:c.progress});const n=this._pointArray[u],h=n.b<<3,d=n.g<<3,f=n.r<<3,p=n.a<<3,g=this._contest(h,d,f,p);if(this._alterSingle(o,g,h,d,f,p),0!==l&&this._alterNeighbour(l,g,h,d,f,p),u+=i,u>=t&&(u-=t),e++,0===a&&(a=1),e%a==0){o-=o/r,s-=s/ye._radiusDecrease,l=s>>ye._radiusBiasShift,l<=1&&(l=0);for(let e=0;e<l;e++)this._radPower[e]=o*((l*l-e*e)*ye._radBias/(l*l))}}}_buildPalette(){const e=new le;return this._network.forEach((t=>{e.add(t.toPoint())})),e.sort(),e}_alterNeighbour(e,t,r,n,i,a){let o=t-e;o<-1&&(o=-1);let s=t+e;s>this._networkSize&&(s=this._networkSize);let l=t+1,c=t-1,u=1;for(;l<s||c>o;){const e=this._radPower[u++]/ye._alphaRadBias;if(l<s){const t=this._network[l++];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-a))}if(c>o){const t=this._network[c--];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-a))}}}_alterSingle(e,t,r,n,i,a){e/=ye._initAlpha;const o=this._network[t];o.subtract(e*(o.r-i),e*(o.g-n),e*(o.b-r),e*(o.a-a))}_contest(e,t,r,n){let i=~(1<<31),a=i,o=-1,s=o;for(let l=0;l<this._networkSize;l++){const c=this._network[l],u=8160*this._distance.calculateNormalized(c,{r,g:t,b:e,a:n});u<i&&(i=u,o=l);const h=u-(this._bias[l]>>ye._initialBiasShift-3);h<a&&(a=h,s=l);const d=this._freq[l]>>ye._betaShift;this._freq[l]-=d,this._bias[l]+=d<<ye._gammaShift}return this._freq[o]+=ye._beta,this._bias[o]-=ye._betaGamma,s}},ve=ye;s(ve,"_prime1",499),s(ve,"_prime2",491),s(ve,"_prime3",487),s(ve,"_prime4",503),s(ve,"_minpicturebytes",ye._prime4),s(ve,"_nCycles",100),s(ve,"_initialBiasShift",16),s(ve,"_initialBias",1<<ye._initialBiasShift),s(ve,"_gammaShift",10),s(ve,"_betaShift",10),s(ve,"_beta",ye._initialBias>>ye._betaShift),s(ve,"_betaGamma",ye._initialBias<<ye._gammaShift-ye._betaShift),s(ve,"_radiusBiasShift",6),s(ve,"_radiusBias",1<<ye._radiusBiasShift),s(ve,"_radiusDecrease",30),s(ve,"_alphaBiasShift",10),s(ve,"_initAlpha",1<<ye._alphaBiasShift),s(ve,"_radBiasShift",8),s(ve,"_radBias",1<<ye._radBiasShift),s(ve,"_alphaRadBiasShift",ye._alphaBiasShift+ye._radBiasShift),s(ve,"_alphaRadBias",1<<ye._alphaRadBiasShift);var we=class{constructor(e,t){s(this,"_method"),s(this,"_hueStats"),s(this,"_histogram"),s(this,"_initColors"),s(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new he(we._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){const e=x(Object.keys(this._histogram),((e,t)=>this._histogram[t]-this._histogram[e]));if(0===e.length)return[];let t;switch(this._method){case 1:const r=Math.min(e.length,this._initColors),n=e[r-1],i=this._histogram[n];t=e.slice(0,r);let a=r;const o=e.length;for(;a<o&&this._histogram[e[a]]===i;)t.push(e[a++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw new Error("Incorrect method")}return t.map((e=>+e))}_colorStats1D(e){const t=this._histogram,r=e.getPointArray(),n=r.length;for(let e=0;e<n;e++){const n=r[e].uint32;this._hueStats.check(n),n in t?t[n]++:t[n]=1}}_colorStats2D(e){const t=e.getWidth(),r=e.getHeight(),n=e.getPointArray(),i=we._boxSize[0],a=we._boxSize[1],o=i*a,s=this._makeBoxes(t,r,i,a),l=this._histogram;s.forEach((e=>{let r=Math.round(e.w*e.h/o)*we._boxPixels;r<2&&(r=2);const i={};this._iterateBox(e,t,(e=>{const t=n[e].uint32;this._hueStats.check(t),t in l?l[t]++:t in i?++i[t]>=r&&(l[t]=i[t]):i[t]=1}))})),this._hueStats.injectIntoDictionary(l)}_iterateBox(e,t,r){const n=e,i=n.y*t+n.x,a=(n.y+n.h-1)*t+(n.x+n.w-1),o=t-n.w+1;let s=0,l=i;do{r.call(this,l),l+=++s%n.w==0?o:1}while(l<=a)}_makeBoxes(e,t,r,n){const i=e%r,a=t%n,o=e-i,s=t-a,l=[];for(let c=0;c<t;c+=n)for(let t=0;t<e;t+=r)l.push({x:t,y:c,w:t===o?i:r,h:c===s?a:n});return l}},_e=we;s(_e,"_boxSize",[64,64]),s(_e,"_boxPixels",2),s(_e,"_hueGroups",10);var Ae=class{constructor(e,t,r){s(this,"index"),s(this,"color"),s(this,"distance"),this.index=e,this.color=t,this.distance=r}},Ee=class extends ie{constructor(e,t=256,r=2){super(),s(this,"_colors"),s(this,"_initialDistance"),s(this,"_distanceIncrement"),s(this,"_histogram"),s(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new _e(r,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){const e=this._histogram.getImportanceSortedColorsIDXI32();if(0===e.length)throw new Error("No colors in image");yield*this._buildPalette(e)}*_buildPalette(e){const t=new le,r=t.getPointContainer().getPointArray(),n=new Array(e.length);for(let t=0;t<e.length;t++)r.push(ae.createByUint32(e[t])),n[t]=1;const i=r.length,a=[];let o=i,s=this._initialDistance;const l=new fe(o-this._colors,99);for(;o>this._colors;){a.length=0;for(let e=0;e<i;e++){if(l.shouldNotify(i-o)&&(yield{progress:l.progress}),0===n[e])continue;const t=r[e];for(let l=e+1;l<i;l++){if(0===n[l])continue;const e=r[l],i=this._distance.calculateNormalized(t,e);i<s&&(a.push(new Ae(l,e,i)),n[l]=0,o--)}}s+=o>3*this._colors?this._initialDistance:this._distanceIncrement}if(o<this._colors){x(a,((e,t)=>t.distance-e.distance));let e=0;for(;o<this._colors&&e<a.length;)n[a[e].index]=1,o++,e++}let c=r.length;for(let e=c-1;e>=0;e--)0===n[e]&&(e!==c-1&&(r[e]=r[c-1]),--c);r.length=c,t.sort(),yield{palette:t,progress:100}}};function xe(e){const t=[];for(let r=0;r<e;r++)t[r]=0;return t}function Se(e,t,r,n){const i=new Array(e);for(let a=0;a<e;a++){i[a]=new Array(t);for(let e=0;e<t;e++){i[a][e]=new Array(r);for(let t=0;t<r;t++){i[a][e][t]=new Array(n);for(let r=0;r<n;r++)i[a][e][t][r]=0}}}return i}function ke(e,t,r){const n=new Array(e);for(let i=0;i<e;i++){n[i]=new Array(t);for(let e=0;e<t;e++){n[i][e]=new Array(r);for(let t=0;t<r;t++)n[i][e][t]=0}}return n}function Re(e,t,r,n,i){for(let a=0;a<t;a++){e[a]=[];for(let t=0;t<r;t++){e[a][t]=[];for(let r=0;r<n;r++)e[a][t][r]=i}}}function Ie(e,t,r){for(let n=0;n<t;n++)e[n]=r}var Te=class{constructor(){s(this,"redMinimum"),s(this,"redMaximum"),s(this,"greenMinimum"),s(this,"greenMaximum"),s(this,"blueMinimum"),s(this,"blueMaximum"),s(this,"volume"),s(this,"alphaMinimum"),s(this,"alphaMaximum")}},Me=class extends ie{constructor(e,t=256,r=5){super(),s(this,"_reds"),s(this,"_greens"),s(this,"_blues"),s(this,"_alphas"),s(this,"_sums"),s(this,"_weights"),s(this,"_momentsRed"),s(this,"_momentsGreen"),s(this,"_momentsBlue"),s(this,"_momentsAlpha"),s(this,"_moments"),s(this,"_table"),s(this,"_pixels"),s(this,"_cubes"),s(this,"_colors"),s(this,"_significantBitsPerChannel"),s(this,"_maxSideIndex"),s(this,"_alphaMaxSideIndex"),s(this,"_sideSize"),s(this,"_alphaSideSize"),s(this,"_distance"),this._distance=e,this._setQuality(r),this._initialize(t)}sample(e){const t=e.getPointArray();for(let e=0,r=t.length;e<r;e++)this._addColor(t[e]);this._pixels=this._pixels.concat(t)}*quantize(){yield*this._preparePalette();const e=new le;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){const r=this._sums[t],n=this._reds[t]/r,i=this._greens[t]/r,a=this._blues[t]/r,o=this._alphas[t]/r,s=ae.createByRGBA(0|n,0|i,0|a,0|o);e.add(s)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*this._calculateMoments();let e=0;const t=xe(this._colors);for(let r=1;r<this._colors;++r){this._cut(this._cubes[e],this._cubes[r])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(t[e]=0,r--),e=0;let n=t[0];for(let i=1;i<=r;++i)t[i]>n&&(n=t[i],e=i);if(n<=0){this._colors=r+1;break}}const r=[],n=[],i=[],a=[];for(let e=0;e<this._colors;++e){const t=Me._volume(this._cubes[e],this._weights);t>0?(r[e]=Me._volume(this._cubes[e],this._momentsRed)/t|0,n[e]=Me._volume(this._cubes[e],this._momentsGreen)/t|0,i[e]=Me._volume(this._cubes[e],this._momentsBlue)/t|0,a[e]=Me._volume(this._cubes[e],this._momentsAlpha)/t|0):(r[e]=0,n[e]=0,i[e]=0,a[e]=0)}this._reds=xe(this._colors+1),this._greens=xe(this._colors+1),this._blues=xe(this._colors+1),this._alphas=xe(this._colors+1),this._sums=xe(this._colors+1);for(let e=0,t=this._pixels.length;e<t;e++){const t=this._pixels[e];let o=-1,s=Number.MAX_VALUE;for(let e=0;e<this._colors;e++){const l=r[e],c=n[e],u=i[e],h=a[e],d=this._distance.calculateRaw(l,c,u,h,t.r,t.g,t.b,t.a);d<s&&(s=d,o=e)}this._reds[o]+=t.r,this._greens[o]+=t.g,this._blues[o]+=t.b,this._alphas[o]+=t.a,this._sums[o]++}}_addColor(e){const t=8-this._significantBitsPerChannel,r=1+(e.r>>t),n=1+(e.g>>t),i=1+(e.b>>t),a=1+(e.a>>t);this._weights[a][r][n][i]++,this._momentsRed[a][r][n][i]+=e.r,this._momentsGreen[a][r][n][i]+=e.g,this._momentsBlue[a][r][n][i]+=e.b,this._momentsAlpha[a][r][n][i]+=e.a,this._moments[a][r][n][i]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){const e=[],t=[],r=[],n=[],i=[],a=[],o=ke(this._sideSize,this._sideSize,this._sideSize),s=ke(this._sideSize,this._sideSize,this._sideSize),l=ke(this._sideSize,this._sideSize,this._sideSize),c=ke(this._sideSize,this._sideSize,this._sideSize),u=ke(this._sideSize,this._sideSize,this._sideSize),h=ke(this._sideSize,this._sideSize,this._sideSize);let d=0;const f=new fe(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){Re(o,this._sideSize,this._sideSize,this._sideSize,0),Re(s,this._sideSize,this._sideSize,this._sideSize,0),Re(l,this._sideSize,this._sideSize,this._sideSize,0),Re(c,this._sideSize,this._sideSize,this._sideSize,0),Re(u,this._sideSize,this._sideSize,this._sideSize,0),Re(h,this._sideSize,this._sideSize,this._sideSize,0);for(let g=1;g<=this._maxSideIndex;++g,++d){f.shouldNotify(d)&&(yield{progress:f.progress}),Ie(e,this._sideSize,0),Ie(t,this._sideSize,0),Ie(r,this._sideSize,0),Ie(n,this._sideSize,0),Ie(i,this._sideSize,0),Ie(a,this._sideSize,0);for(let d=1;d<=this._maxSideIndex;++d){let f=0,m=0,b=0,y=0,v=0,w=0;for(let _=1;_<=this._maxSideIndex;++_)f+=this._weights[p][g][d][_],m+=this._momentsRed[p][g][d][_],b+=this._momentsGreen[p][g][d][_],y+=this._momentsBlue[p][g][d][_],v+=this._momentsAlpha[p][g][d][_],w+=this._moments[p][g][d][_],e[_]+=f,t[_]+=m,r[_]+=b,n[_]+=y,i[_]+=v,a[_]+=w,o[g][d][_]=o[g-1][d][_]+e[_],s[g][d][_]=s[g-1][d][_]+t[_],l[g][d][_]=l[g-1][d][_]+r[_],c[g][d][_]=c[g-1][d][_]+n[_],u[g][d][_]=u[g-1][d][_]+i[_],h[g][d][_]=h[g-1][d][_]+a[_],this._weights[p][g][d][_]=this._weights[p-1][g][d][_]+o[g][d][_],this._momentsRed[p][g][d][_]=this._momentsRed[p-1][g][d][_]+s[g][d][_],this._momentsGreen[p][g][d][_]=this._momentsGreen[p-1][g][d][_]+l[g][d][_],this._momentsBlue[p][g][d][_]=this._momentsBlue[p-1][g][d][_]+c[g][d][_],this._momentsAlpha[p][g][d][_]=this._momentsAlpha[p-1][g][d][_]+u[g][d][_],this._moments[p][g][d][_]=this._moments[p-1][g][d][_]+h[g][d][_]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|Me._volumeFloat(e,t)}static _top(e,t,r,n){let i;switch(t){case Me._alpha:i=n[r][e.redMaximum][e.greenMaximum][e.blueMaximum]-n[r][e.redMaximum][e.greenMinimum][e.blueMaximum]-n[r][e.redMinimum][e.greenMaximum][e.blueMaximum]+n[r][e.redMinimum][e.greenMinimum][e.blueMaximum]-(n[r][e.redMaximum][e.greenMaximum][e.blueMinimum]-n[r][e.redMaximum][e.greenMinimum][e.blueMinimum]-n[r][e.redMinimum][e.greenMaximum][e.blueMinimum]+n[r][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case Me._red:i=n[e.alphaMaximum][r][e.greenMaximum][e.blueMaximum]-n[e.alphaMaximum][r][e.greenMinimum][e.blueMaximum]-n[e.alphaMinimum][r][e.greenMaximum][e.blueMaximum]+n[e.alphaMinimum][r][e.greenMinimum][e.blueMaximum]-(n[e.alphaMaximum][r][e.greenMaximum][e.blueMinimum]-n[e.alphaMaximum][r][e.greenMinimum][e.blueMinimum]-n[e.alphaMinimum][r][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][r][e.greenMinimum][e.blueMinimum]);break;case Me._green:i=n[e.alphaMaximum][e.redMaximum][r][e.blueMaximum]-n[e.alphaMaximum][e.redMinimum][r][e.blueMaximum]-n[e.alphaMinimum][e.redMaximum][r][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][r][e.blueMaximum]-(n[e.alphaMaximum][e.redMaximum][r][e.blueMinimum]-n[e.alphaMaximum][e.redMinimum][r][e.blueMinimum]-n[e.alphaMinimum][e.redMaximum][r][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][r][e.blueMinimum]);break;case Me._blue:i=n[e.alphaMaximum][e.redMaximum][e.greenMaximum][r]-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][r]-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][r]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][r]-(n[e.alphaMinimum][e.redMaximum][e.greenMaximum][r]-n[e.alphaMinimum][e.redMaximum][e.greenMinimum][r]-n[e.alphaMinimum][e.redMinimum][e.greenMaximum][r]+n[e.alphaMinimum][e.redMinimum][e.greenMinimum][r]);break;default:throw new Error("impossible")}return 0|i}static _bottom(e,t,r){switch(t){case Me._alpha:return-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Me._red:return-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Me._green:return-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Me._blue:return-r[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){const t=Me._volume(e,this._momentsRed),r=Me._volume(e,this._momentsGreen),n=Me._volume(e,this._momentsBlue),i=Me._volume(e,this._momentsAlpha);return Me._volumeFloat(e,this._moments)-(t*t+r*r+n*n+i*i)/Me._volume(e,this._weights)}_maximize(e,t,r,n,i,a,o,s,l){const c=0|Me._bottom(e,t,this._momentsRed),u=0|Me._bottom(e,t,this._momentsGreen),h=0|Me._bottom(e,t,this._momentsBlue),d=0|Me._bottom(e,t,this._momentsAlpha),f=0|Me._bottom(e,t,this._weights);let p=0,g=-1;for(let m=r;m<n;++m){let r=c+Me._top(e,t,m,this._momentsRed),n=u+Me._top(e,t,m,this._momentsGreen),b=h+Me._top(e,t,m,this._momentsBlue),y=d+Me._top(e,t,m,this._momentsAlpha),v=f+Me._top(e,t,m,this._weights);if(0!==v){let e=r*r+n*n+b*b+y*y,t=e/v;r=i-r,n=a-n,b=o-b,y=s-y,v=l-v,0!==v&&(e=r*r+n*n+b*b+y*y,t+=e/v,t>p&&(p=t,g=m))}}return{max:p,position:g}}_cut(e,t){let r;const n=Me._volume(e,this._momentsRed),i=Me._volume(e,this._momentsGreen),a=Me._volume(e,this._momentsBlue),o=Me._volume(e,this._momentsAlpha),s=Me._volume(e,this._weights),l=this._maximize(e,Me._red,e.redMinimum+1,e.redMaximum,n,i,a,o,s),c=this._maximize(e,Me._green,e.greenMinimum+1,e.greenMaximum,n,i,a,o,s),u=this._maximize(e,Me._blue,e.blueMinimum+1,e.blueMaximum,n,i,a,o,s),h=this._maximize(e,Me._alpha,e.alphaMinimum+1,e.alphaMaximum,n,i,a,o,s);if(h.max>=l.max&&h.max>=c.max&&h.max>=u.max){if(r=Me._alpha,h.position<0)return!1}else r=l.max>=h.max&&l.max>=c.max&&l.max>=u.max?Me._red:c.max>=h.max&&c.max>=l.max&&c.max>=u.max?Me._green:Me._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,r){case Me._red:t.redMinimum=e.redMaximum=l.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Me._green:t.greenMinimum=e.greenMaximum=c.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Me._blue:t.blueMinimum=e.blueMaximum=u.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case Me._alpha:t.alphaMinimum=e.alphaMaximum=h.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new Te;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=Se(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=Se(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=Se(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=Se(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=Se(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=Se(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let e=0;e<256;++e)this._table[e]=e*e;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},Pe=Me;s(Pe,"_alpha",3),s(Pe,"_red",2),s(Pe,"_green",1),s(Pe,"_blue",0);var Ce={};a(Ce,{AbstractImageQuantizer:()=>Oe,ErrorDiffusionArray:()=>Be,ErrorDiffusionArrayKernel:()=>Ne,ErrorDiffusionRiemersma:()=>Fe,NearestColor:()=>Le});var Oe=class{quantizeSync(e,t){for(const r of this.quantize(e,t))if(r.pointContainer)return r.pointContainer;throw new Error("unreachable")}},Le=class extends Oe{constructor(e){super(),s(this,"_distance"),this._distance=e}*quantize(e,t){const r=e.getPointArray(),n=e.getWidth(),i=e.getHeight(),a=new fe(i,99);for(let e=0;e<i;e++){a.shouldNotify(e)&&(yield{progress:a.progress});for(let i=0,a=e*n;i<n;i++,a++){const e=r[a];e.from(t.getNearestColor(this._distance,e))}}yield{pointContainer:e,progress:100}}},Ne=(e=>(e[e.FloydSteinberg=0]="FloydSteinberg",e[e.FalseFloydSteinberg=1]="FalseFloydSteinberg",e[e.Stucki=2]="Stucki",e[e.Atkinson=3]="Atkinson",e[e.Jarvis=4]="Jarvis",e[e.Burkes=5]="Burkes",e[e.Sierra=6]="Sierra",e[e.TwoSierra=7]="TwoSierra",e[e.SierraLite=8]="SierraLite",e))(Ne||{}),Be=class extends Oe{constructor(e,t,r=!0,n=0,i=!1){super(),s(this,"_minColorDistance"),s(this,"_serpentine"),s(this,"_kernel"),s(this,"_calculateErrorLikeGIMP"),s(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=n,this._serpentine=r,this._calculateErrorLikeGIMP=i}*quantize(e,t){const r=e.getPointArray(),n=new ae,i=e.getWidth(),a=e.getHeight(),o=[];let s=1,l=1;for(const e of this._kernel){const t=e[2]+1;l<t&&(l=t)}for(let e=0;e<l;e++)this._fillErrorLine(o[e]=[],i);const c=new fe(a,99);for(let e=0;e<a;e++){c.shouldNotify(e)&&(yield{progress:c.progress}),this._serpentine&&(s*=-1);const l=e*i,u=1===s?0:i-1,h=1===s?i:-1;this._fillErrorLine(o[0],i),o.push(o.shift());const d=o[0];for(let c=u,f=l+u;c!==h;c+=s,f+=s){const l=r[f],u=d[c];n.from(l);const h=ae.createByRGBA(A(l.r+u[0]),A(l.g+u[1]),A(l.b+u[2]),A(l.a+u[3])),p=t.getNearestColor(this._distance,h);if(l.from(p),this._minColorDistance&&this._distance.calculateNormalized(n,p)<this._minColorDistance)continue;let g,m,b,y;this._calculateErrorLikeGIMP?(g=h.r-p.r,m=h.g-p.g,b=h.b-p.b,y=h.a-p.a):(g=n.r-p.r,m=n.g-p.g,b=n.b-p.b,y=n.a-p.a);const v=1===s?0:this._kernel.length-1,w=1===s?this._kernel.length:-1;for(let t=v;t!==w;t+=s){const r=this._kernel[t][1]*s,n=this._kernel[t][2];if(r+c>=0&&r+c<i&&n+e>=0&&n+e<a){const e=this._kernel[t][0],i=o[n][r+c];i[0]+=g*e,i[1]+=m*e,i[2]+=b*e,i[3]+=y*e}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);const r=e.length;for(let t=0;t<r;t++){const r=e[t];r[0]=r[1]=r[2]=r[3]=0}for(let n=r;n<t;n++)e[n]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};function*De(e,t,r){const n=Math.max(e,t),i={width:e,height:t,level:Math.floor(Math.log(n)/Math.log(2)+1),callback:r,tracker:new fe(e*t,99),index:0,x:0,y:0};yield*Ue(i,1),Ve(i,0)}function*Ue(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*Ue(e,1),Ve(e,3),yield*Ue(e,2),Ve(e,4),yield*Ue(e,2),Ve(e,2),yield*Ue(e,4);break;case 3:yield*Ue(e,4),Ve(e,2),yield*Ue(e,3),Ve(e,1),yield*Ue(e,3),Ve(e,3),yield*Ue(e,1);break;case 1:yield*Ue(e,2),Ve(e,4),yield*Ue(e,1),Ve(e,3),yield*Ue(e,1),Ve(e,1),yield*Ue(e,3);break;case 4:yield*Ue(e,3),Ve(e,1),yield*Ue(e,4),Ve(e,2),yield*Ue(e,4),Ve(e,4),yield*Ue(e,2)}e.level++}}function Ve(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}var Fe=class extends Oe{constructor(e,t=16,r=1){super(),s(this,"_distance"),s(this,"_weights"),s(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=Fe._createWeights(r,t)}*quantize(e,t){const r=e.getPointArray(),n=e.getWidth(),i=e.getHeight(),a=[];let o=0;for(let e=0;e<this._errorQueueSize;e++)a[e]={r:0,g:0,b:0,a:0};yield*De(n,i,((e,i)=>{const s=r[e+i*n];let{r:l,g:c,b:u,a:h}=s;for(let e=0;e<this._errorQueueSize;e++){const t=this._weights[e],r=a[(e+o)%this._errorQueueSize];l+=r.r*t,c+=r.g*t,u+=r.b*t,h+=r.a*t}const d=ae.createByRGBA(A(l),A(c),A(u),A(h)),f=t.getNearestColor(this._distance,d);o=(o+1)%this._errorQueueSize;const p=(o+this._errorQueueSize-1)%this._errorQueueSize;a[p].r=s.r-f.r,a[p].g=s.g-f.g,a[p].b=s.b-f.b,a[p].a=s.a-f.a,s.from(f)})),yield{pointContainer:e,progress:100}}static _createWeights(e,t){const r=[],n=Math.exp(Math.log(t)/(t-1));for(let i=0,a=1;i<t;i++)r[i]=(a+.5|0)/t*e,a*=n;return r}},je={};a(je,{ssim:()=>$e});var qe=.01,ze=.03;function $e(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw new Error("Images have different sizes!");const r=(255*qe)**2,n=(255*ze)**2;let i=0,a=0;return function(e,t,r){const n=e.getWidth(),i=e.getHeight();for(let a=0;a<i;a+=8)for(let o=0;o<n;o+=8){const s=Math.min(8,n-o),l=Math.min(8,i-a),c=He(e,o,a,s,l),u=He(t,o,a,s,l);r(c,u,Ge(c),Ge(u))}}(e,t,((e,t,o,s)=>{let l=0,c=0,u=0;for(let r=0;r<e.length;r++)c+=(e[r]-o)**2,u+=(t[r]-s)**2,l+=(e[r]-o)*(t[r]-s);const h=e.length-1;c/=h,u/=h,l/=h,a+=(2*o*s+r)*(2*l+n)/((o**2+s**2+r)*(c+u+n)),i++})),a/i}function He(e,t,r,n,i){const a=e.getPointArray(),o=[];let s=0;for(let l=r;l<r+i;l++){const r=l*e.getWidth();for(let e=t;e<t+n;e++){const t=a[r+e];o[s]=.2126*t.r+.7152*t.g+.0722*t.b,s++}}return o}function Ge(e){let t=0;for(const r of e)t+=r;return t/e.length}var We="function"==typeof setImmediate?setImmediate:"undefined"!=typeof process&&"function"==typeof(null==process?void 0:process.nextTick)?e=>process.nextTick(e):e=>setTimeout(e,0);function Je(e,{colorDistanceFormula:t,paletteQuantization:r,colors:n}={}){const i=et(Ze(t),r,n);return e.forEach((e=>i.sample(e))),i.quantizeSync()}async function Qe(e,{colorDistanceFormula:t,paletteQuantization:r,colors:n,onProgress:i}={}){return new Promise(((a,o)=>{const s=et(Ze(t),r,n);let l;e.forEach((e=>s.sample(e)));const c=s.quantize(),u=()=>{try{const e=c.next();e.done?a(l):(e.value.palette&&(l=e.value.palette),i&&i(e.value.progress),We(u))}catch(e){o(e)}};We(u)}))}function Ke(e,t,{colorDistanceFormula:r,imageQuantization:n}={}){return Xe(Ze(r),n).quantizeSync(e,t)}async function Ye(e,t,{colorDistanceFormula:r,imageQuantization:n,onProgress:i}={}){return new Promise(((a,o)=>{let s;const l=Xe(Ze(r),n).quantize(e,t),c=()=>{try{const e=l.next();e.done?a(s):(e.value.pointContainer&&(s=e.value.pointContainer),i&&i(e.value.progress),We(c))}catch(e){o(e)}};We(c)}))}function Ze(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new $;case"cie94-textiles":return new z;case"ciede2000":return new G;case"color-metric":return new W;case"euclidean":return new Q;case"euclidean-bt709":return new K;case"euclidean-bt709-noalpha":return new Y;case"manhattan":return new X;case"manhattan-bt709":return new te;case"manhattan-nommyde":return new ee;case"pngquant":return new re;default:throw new Error(`Unknown colorDistanceFormula ${e}`)}}function Xe(e,t="floyd-steinberg"){switch(t){case"nearest":return new Le(e);case"riemersma":return new Fe(e);case"floyd-steinberg":return new Be(e,0);case"false-floyd-steinberg":return new Be(e,1);case"stucki":return new Be(e,2);case"atkinson":return new Be(e,3);case"jarvis":return new Be(e,4);case"burkes":return new Be(e,5);case"sierra":return new Be(e,6);case"two-sierra":return new Be(e,7);case"sierra-lite":return new Be(e,8);default:throw new Error(`Unknown imageQuantization ${t}`)}}function et(e,t="wuquant",r=256){switch(t){case"neuquant":return new me(e,r);case"rgbquant":return new Ee(e,r);case"wuquant":return new Pe(e,r);case"neuquant-float":return new ve(e,r);default:throw new Error(`Unknown paletteQuantization ${t}`)}}e.exports=o(l)},14193:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(55006);const i=class extends n.Z{#e=0;#t="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#e=n),this.#t=String(t)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.Z&&/^(File)$/.test(e[Symbol.toStringTag])}}},40749:(e,t,r)=>{r.d(t,{$B:()=>i.Z});const n=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:fs");__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:path"),r(73414);var i=r(14193);r(55006);const{stat:a}=n.promises;Symbol.toStringTag},55006:(e,t,r)=>{async function*n(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),i=r.buffer.slice(e,e+n);e+=i.byteLength,yield new Uint8Array(i)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}r.d(t,{Z:()=>a}),r(47135);const i=class e{#r=[];#n="";#i=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`),this.#i+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#r.push(t)}this.#a=`${void 0===r.endings?"transparent":r.endings}`;const i=void 0===r.type?"":String(r.type);this.#n=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#i}get type(){return this.#n}async text(){const e=new TextDecoder;let t="";for await(const r of n(this.#r,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of n(this.#r,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=n(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:i}=this;let a=t<0?Math.max(i+t,0):Math.min(t,i),o=r<0?Math.max(i+r,0):Math.min(r,i);const s=Math.max(o-a,0),l=this.#r,c=[];let u=0;for(const e of l){if(u>=s)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(a&&t<=a)a-=t,o-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(a,Math.min(t,o)),u+=r.byteLength):(r=e.slice(a,Math.min(t,o)),u+=r.size),o-=t,c.push(r),a=0}}const h=new e([],{type:String(n).toLowerCase()});return h.#i=s,h.#r=c,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(i.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const a=i},39951:(e,t,r)=>{r.d(t,{Ct:()=>f,au:()=>p});var n=r(55006),i=r(14193),{toStringTag:a,iterator:o,hasInstance:s}=Symbol,l=Math.random,c="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[a])?[(r=void 0!==r?r+"":"File"==t[a]?t.name:"blob",e),t.name!==r||"blob"==t[a]?new i.Z([t],r,t):t]:[e,t+""]),h=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),d=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const f=class{#o=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[a](){return"FormData"}[o](){return this.entries()}static[s](e){return e&&"object"==typeof e&&"FormData"===e[a]&&!c.some((t=>"function"!=typeof e[t]))}append(...e){d("append",arguments,2),this.#o.push(u(...e))}delete(e){d("delete",arguments,1),e+="",this.#o=this.#o.filter((([t])=>t!==e))}get(e){d("get",arguments,1),e+="";for(var t=this.#o,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return d("getAll",arguments,1),t=[],e+="",this.#o.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return d("has",arguments,1),e+="",this.#o.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(d("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){d("set",arguments,2);var t=[],r=!0;e=u(...e),this.#o.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#o=t}*entries(){yield*this.#o}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function p(e,t=n.Z){var r=`${l()}${l()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?i.push(a+h(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):i.push(a+h(t)+`"; filename="${h(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),i.push(`--${r}--`),new t(i,{type:"multipart/form-data; boundary="+r})}},33763:(e,t,r)=>{r.d(t,{Z:()=>s,x:()=>l});var n=r(47261),i=r(88849);const a="function"==typeof i.validateHeaderName?i.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},o="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class s extends URLSearchParams{constructor(e){let t=[];if(e instanceof s){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||n.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||n.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(a(e),o(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(a(r),o(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(a(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t=void 0){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}function l(e=[]){return new s(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return a(e),o(e,String(t)),!0}catch{return!1}})))}Object.defineProperties(s.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}))},8971:(e,t,r)=>{r.d(t,{ZP:()=>$});var n=r(88849);const i=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:https"),a=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:zlib"),o=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:stream"),s=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:buffer"),l=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",i=!1;const a=r[0]||"text/plain";let o=a;for(let e=1;e<r.length;e++)"base64"===r[e]?i=!0:r[e]&&(o+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(o+=";charset=US-ASCII",n="US-ASCII");const s=i?"base64":"ascii",l=unescape(e.substring(t+1)),c=Buffer.from(l,s);return c.type=a,c.typeFull=o,c.charset=n,c};var c=r(47261),u=r(55006),h=r(39951);class d extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class f extends d{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const p=Symbol.toStringTag,g=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[p],m=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[p]),b=(e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},y=(e,t)=>new URL(t).protocol===new URL(e).protocol,v=(0,c.promisify)(o.pipeline),w=Symbol("Body internals");class _{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:g(e)?e=s.Buffer.from(e.toString()):m(e)||s.Buffer.isBuffer(e)||(c.types.isAnyArrayBuffer(e)?e=s.Buffer.from(e):ArrayBuffer.isView(e)?e=s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof o||(e instanceof h.Ct?r=(e=(0,h.au)(e)).type.split("=")[1]:e=s.Buffer.from(String(e))));let n=e;s.Buffer.isBuffer(e)?n=o.Readable.from(e):m(e)&&(n=o.Readable.from(e.stream())),this[w]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof o&&e.on("error",(e=>{const t=e instanceof d?e:new f(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[w].error=t}))}get body(){return this[w].stream}get bodyUsed(){return this[w].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await A(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new h.Ct,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await Promise.resolve().then(r.bind(r,51713));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[w].body&&this[w].body.type||"",t=await this.arrayBuffer();return new u.Z([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await A(this);return(new TextDecoder).decode(e)}buffer(){return A(this)}}async function A(e){if(e[w].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[w].disturbed=!0,e[w].error)throw e[w].error;const{body:t}=e;if(null===t)return s.Buffer.alloc(0);if(!(t instanceof o))return s.Buffer.alloc(0);const r=[];let n=0;try{for await(const i of t){if(e.size>0&&n+i.length>e.size){const r=new f(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=i.length,r.push(i)}}catch(t){throw t instanceof d?t:new f(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new f(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?s.Buffer.from(r.join("")):s.Buffer.concat(r,n)}catch(t){throw new f(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}_.prototype.buffer=(0,c.deprecate)(_.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(_.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,c.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const E=(e,t)=>{let r,n,{body:i}=e[w];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof o&&"function"!=typeof i.getBoundary&&(r=new o.PassThrough({highWaterMark:t}),n=new o.PassThrough({highWaterMark:t}),i.pipe(r),i.pipe(n),e[w].stream=r,i=n),i},x=(0,c.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),S=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":g(e)?"application/x-www-form-urlencoded;charset=UTF-8":m(e)?e.type||null:s.Buffer.isBuffer(e)||c.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof h.Ct?`multipart/form-data; boundary=${t[w].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${x(e)}`:e instanceof o?null:"text/plain;charset=UTF-8",k=async(e,{body:t})=>{null===t?e.end():await v(t,e)};var R=r(33763);const I=new Set([301,302,303,307,308]),T=e=>I.has(e),M=Symbol("Response internals");class P extends _{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new R.Z(t.headers);if(null!==e&&!n.has("Content-Type")){const t=S(e,this);t&&n.append("Content-Type",t)}this[M]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[M].type}get url(){return this[M].url||""}get status(){return this[M].status}get ok(){return this[M].status>=200&&this[M].status<300}get redirected(){return this[M].counter>0}get statusText(){return this[M].statusText}get headers(){return this[M].headers}get highWaterMark(){return this[M].highWaterMark}clone(){return new P(E(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!T(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new P(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new P(null,{status:0,statusText:""});return e[M].type="error",e}static json(e=void 0,t={}){const r=JSON.stringify(e);if(void 0===r)throw new TypeError("data is not JSON serializable");const n=new R.Z(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new P(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(P.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const C=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:url"),O=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("node:net");function L(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const N=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function B(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,O.isIP)(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const D=Symbol("Request internals"),U=e=>"object"==typeof e&&"object"==typeof e[D],V=(0,c.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class F extends _{constructor(e,t={}){let r;if(U(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!U(t)&&"data"in t&&V(),(null!=t.body||U(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const i=t.body?t.body:U(e)&&null!==e.body?E(e):null;super(i,{size:t.size||e.size||0});const a=new R.Z(t.headers||e.headers||{});if(null!==i&&!a.has("Content-Type")){const e=S(i,this);e&&a.set("Content-Type",e)}let o=U(e)?e.signal:null;if("signal"in t&&(o=t.signal),null!=o&&("object"!=typeof(s=o)||"AbortSignal"!==s[p]&&"EventTarget"!==s[p]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var s;let l=null==t.referrer?e.referrer:t.referrer;if(""===l)l="no-referrer";else if(l){const e=new URL(l);l=/^about:(\/\/)?client$/.test(e)?"client":e}else l=void 0;this[D]={method:n,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:o,referrer:l},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[D].method}get url(){return(0,C.format)(this[D].parsedURL)}get headers(){return this[D].headers}get redirect(){return this[D].redirect}get signal(){return this[D].signal}get referrer(){return"no-referrer"===this[D].referrer?"":"client"===this[D].referrer?"about:client":this[D].referrer?this[D].referrer.toString():void 0}get referrerPolicy(){return this[D].referrerPolicy}set referrerPolicy(e){this[D].referrerPolicy=function(e){if(!N.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new F(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(F.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const j=e=>{const{parsedURL:t}=e[D],r=new R.Z(e[D].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[w];return null===t?0:m(t)?t.size:s.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[D].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const i=e.referrer;let a=L(i),o=L(i,!0);a.toString().length>4096&&(a=o),t&&(a=t(a)),r&&(o=r(o));const s=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return a;case"strict-origin":return B(a)&&!B(s)?"no-referrer":o.toString();case"strict-origin-when-cross-origin":return a.origin===s.origin?a:B(a)&&!B(s)?"no-referrer":o;case"same-origin":return a.origin===s.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===s.origin?a:o;case"no-referrer-when-downgrade":return B(a)&&!B(s)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[D].referrer="no-referrer",e[D].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=e;"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close");const a=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i}}};class q extends d{constructor(e,t="aborted"){super(e,t)}}r(40749);const z=new Set(["data:","http:","https:"]);async function $(e,t){return new Promise(((r,c)=>{const u=new F(e,t),{parsedURL:h,options:d}=j(u);if(!z.has(h.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${h.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===h.protocol){const e=l(u.url),t=new P(e,{headers:{"Content-Type":e.typeFull}});return void r(t)}const p=("https:"===h.protocol?i:n).request,{signal:g}=u;let m=null;const v=()=>{const e=new q("The operation was aborted.");c(e),u.body&&u.body instanceof o.Readable&&u.body.destroy(e),m&&m.body&&m.body.emit("error",e)};if(g&&g.aborted)return void v();const w=()=>{v(),A()},_=p(h.toString(),d);g&&g.addEventListener("abort",w);const A=()=>{_.abort(),g&&g.removeEventListener("abort",w)};_.on("error",(e=>{c(new f(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),A()})),function(e,t){const r=s.Buffer.from("0\r\n\r\n");let n,i=!1,a=!1;e.on("response",(e=>{const{headers:t}=e;i="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const o=()=>{if(i&&!a){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{m&&m.body&&m.body.destroy(e)})(e)}},l=e=>{a=0===s.Buffer.compare(e.slice(-5),r),!a&&n&&(a=0===s.Buffer.compare(n.slice(-3),r.slice(0,3))&&0===s.Buffer.compare(e.slice(-2),r.slice(3))),n=e};t.prependListener("close",o),t.on("data",l),e.on("close",(()=>{t.removeListener("close",o),t.removeListener("data",l)}))}))}(_),process.version<"v14"&&_.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(m&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",e)}}))})),_.on("response",(e=>{_.setTimeout(0);const n=(0,R.x)(e.rawHeaders);if(T(e.statusCode)){const i=n.get("Location");let a=null;try{a=null===i?null:new URL(i,u.url)}catch{if("manual"!==u.redirect)return c(new f(`uri requested responds with an invalid redirect URL: ${i}`,"invalid-redirect")),void A()}switch(u.redirect){case"error":return c(new f(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),void A();case"manual":break;case"follow":{if(null===a)break;if(u.counter>=u.follow)return c(new f(`maximum redirect reached at: ${u.url}`,"max-redirect")),void A();const i={headers:new R.Z(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:E(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!b(u.url,a)||!y(u.url,a))for(const e of["authorization","www-authenticate","cookie","cookie2"])i.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof o.Readable)return c(new f("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void A();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==u.method)||(i.method="GET",i.body=void 0,i.headers.delete("content-length"));const s=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&N.has(e)&&(r=e);return r}(n);return s&&(i.referrerPolicy=s),r($(new F(a,i))),void A()}default:return c(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}g&&e.once("end",(()=>{g.removeEventListener("abort",w)}));let i=(0,o.pipeline)(e,new o.PassThrough,(e=>{e&&c(e)}));process.version<"v12.10"&&e.on("aborted",w);const s={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},l=n.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===l||204===e.statusCode||304===e.statusCode)return m=new P(i,s),void r(m);const h={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"===l||"x-gzip"===l)return i=(0,o.pipeline)(i,a.createGunzip(h),(e=>{e&&c(e)})),m=new P(i,s),void r(m);if("deflate"===l||"x-deflate"===l){const t=(0,o.pipeline)(e,new o.PassThrough,(e=>{e&&c(e)}));return t.once("data",(e=>{i=8==(15&e[0])?(0,o.pipeline)(i,a.createInflate(),(e=>{e&&c(e)})):(0,o.pipeline)(i,a.createInflateRaw(),(e=>{e&&c(e)})),m=new P(i,s),r(m)})),void t.once("end",(()=>{m||(m=new P(i,s),r(m))}))}if("br"===l)return i=(0,o.pipeline)(i,a.createBrotliDecompress(),(e=>{e&&c(e)})),m=new P(i,s),void r(m);m=new P(i,s),r(m)})),k(_,u).catch(c)}))}},51713:(e,t,r)=>{r.d(t,{toFormData:()=>f});var n=r(40749),i=r(39951);let a=0;const o={START_BOUNDARY:a++,HEADER_FIELD_START:a++,HEADER_FIELD:a++,HEADER_VALUE_START:a++,HEADER_VALUE:a++,HEADER_VALUE_ALMOST_DONE:a++,HEADERS_ALMOST_DONE:a++,PART_DATA_START:a++,PART_DATA:a++,END:a++};let s=1;const l=s,c=s*=2,u=e=>32|e,h=()=>{};class d{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=h,this.onHeaderField=h,this.onHeadersEnd=h,this.onHeaderValue=h,this.onPartBegin=h,this.onPartData=h,this.onPartEnd=h,this.boundaryChars={},e="\r\n--"+e;const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r),this.boundaryChars[t[r]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=o.START_BOUNDARY}write(e){let t=0;const r=e.length;let n=this.index,{lookbehind:i,boundary:a,boundaryChars:s,index:h,state:d,flags:f}=this;const p=this.boundary.length,g=p-1,m=e.length;let b,y;const v=e=>{this[e+"Mark"]=t},w=e=>{delete this[e+"Mark"]},_=(e,t,r,n)=>{void 0!==t&&t===r||this[e](n&&n.subarray(t,r))},A=(r,n)=>{const i=r+"Mark";i in this&&(n?(_(r,this[i],t,e),delete this[i]):(_(r,this[i],e.length,e),this[i]=0))};for(t=0;t<r;t++)switch(b=e[t],d){case o.START_BOUNDARY:if(h===a.length-2){if(45===b)f|=c;else if(13!==b)return;h++;break}if(h-1==a.length-2){if(f&c&&45===b)d=o.END,f=0;else{if(f&c||10!==b)return;h=0,_("onPartBegin"),d=o.HEADER_FIELD_START}break}b!==a[h+2]&&(h=-2),b===a[h+2]&&h++;break;case o.HEADER_FIELD_START:d=o.HEADER_FIELD,v("onHeaderField"),h=0;case o.HEADER_FIELD:if(13===b){w("onHeaderField"),d=o.HEADERS_ALMOST_DONE;break}if(h++,45===b)break;if(58===b){if(1===h)return;A("onHeaderField",!0),d=o.HEADER_VALUE_START;break}if(y=u(b),y<97||y>122)return;break;case o.HEADER_VALUE_START:if(32===b)break;v("onHeaderValue"),d=o.HEADER_VALUE;case o.HEADER_VALUE:13===b&&(A("onHeaderValue",!0),_("onHeaderEnd"),d=o.HEADER_VALUE_ALMOST_DONE);break;case o.HEADER_VALUE_ALMOST_DONE:if(10!==b)return;d=o.HEADER_FIELD_START;break;case o.HEADERS_ALMOST_DONE:if(10!==b)return;_("onHeadersEnd"),d=o.PART_DATA_START;break;case o.PART_DATA_START:d=o.PART_DATA,v("onPartData");case o.PART_DATA:if(n=h,0===h){for(t+=g;t<m&&!(e[t]in s);)t+=p;t-=g,b=e[t]}if(h<a.length)a[h]===b?(0===h&&A("onPartData",!0),h++):h=0;else if(h===a.length)h++,13===b?f|=l:45===b?f|=c:h=0;else if(h-1===a.length)if(f&l){if(h=0,10===b){f&=~l,_("onPartEnd"),_("onPartBegin"),d=o.HEADER_FIELD_START;break}}else f&c&&45===b?(_("onPartEnd"),d=o.END,f=0):h=0;if(h>0)i[h-1]=b;else if(n>0){const e=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);_("onPartData",0,n,e),n=0,v("onPartData"),t--}break;case o.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}A("onHeaderField"),A("onHeaderValue"),A("onPartData"),this.index=h,this.state=d,this.flags=f}end(){if(this.state===o.HEADER_FIELD_START&&0===this.index||this.state===o.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==o.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}async function f(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");const r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");const a=new d(r[1]||r[2]);let o,s,l,c,u,h;const f=[],p=new i.Ct,g=e=>{l+=v.decode(e,{stream:!0})},m=e=>{f.push(e)},b=()=>{const e=new n.$B(f,h,{type:u});p.append(c,e)},y=()=>{p.append(c,l)},v=new TextDecoder("utf-8");v.decode(),a.onPartBegin=function(){a.onPartData=g,a.onPartEnd=y,o="",s="",l="",c="",u="",h=null,f.length=0},a.onHeaderField=function(e){o+=v.decode(e,{stream:!0})},a.onHeaderValue=function(e){s+=v.decode(e,{stream:!0})},a.onHeaderEnd=function(){if(s+=v.decode(),o=o.toLowerCase(),"content-disposition"===o){const e=s.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);e&&(c=e[2]||e[3]||""),h=function(e){const t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;const r=t[2]||t[3]||"";let n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,((e,t)=>String.fromCharCode(t))),n}(s),h&&(a.onPartData=m,a.onPartEnd=b)}else"content-type"===o&&(u=s);s="",o=""};for await(const t of e)a.write(t);return a.end(),p}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{__webpack_require__.d(__webpack_exports__,{Z:()=>iw});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{AUTO:()=>Ar,BLEND_ADD:()=>Cr,BLEND_DARKEN:()=>Nr,BLEND_DESTINATION_OVER:()=>Mr,BLEND_DIFFERENCE:()=>Ur,BLEND_EXCLUSION:()=>Vr,BLEND_HARDLIGHT:()=>Dr,BLEND_LIGHTEN:()=>Br,BLEND_MULTIPLY:()=>Pr,BLEND_OVERLAY:()=>Lr,BLEND_SCREEN:()=>Or,BLEND_SOURCE_OVER:()=>Tr,EDGE_CROP:()=>qr,EDGE_EXTEND:()=>Fr,EDGE_WRAP:()=>jr,HORIZONTAL_ALIGN_CENTER:()=>xr,HORIZONTAL_ALIGN_LEFT:()=>Er,HORIZONTAL_ALIGN_RIGHT:()=>Sr,VERTICAL_ALIGN_BOTTOM:()=>Ir,VERTICAL_ALIGN_MIDDLE:()=>Rr,VERTICAL_ALIGN_TOP:()=>kr});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{add:()=>Gr,darken:()=>Qr,difference:()=>Zr,dstOver:()=>$r,exclusion:()=>Xr,hardLight:()=>Yr,lighten:()=>Kr,multiply:()=>Hr,overlay:()=>Jr,screen:()=>Wr,srcOver:()=>zr});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{dQ:()=>gh,ci:()=>oh,bytesToNumberBE:()=>ch,ty:()=>uh,eV:()=>ph,n$:()=>yh,ql:()=>fh,hexToBytes:()=>lh,tL:()=>hh,S5:()=>dh,FF:()=>wh});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{AbiCoder:()=>Ws,AbstractProvider:()=>Pg,AbstractSigner:()=>jg,AlchemyProvider:()=>sm,AnkrProvider:()=>am,BaseContract:()=>sc,BaseWallet:()=>wb,Block:()=>Rl,BrowserProvider:()=>jm,CloudflareProvider:()=>lm,ConstructorFragment:()=>Vs,Contract:()=>lc,ContractEventPayload:()=>Vl,ContractFactory:()=>cc,ContractTransactionReceipt:()=>Bl,ContractTransactionResponse:()=>Dl,ContractUnknownEventPayload:()=>Ul,EnsPlugin:()=>yp,EnsResolver:()=>ag,ErrorDescription:()=>Ks,ErrorFragment:()=>Ds,EtherSymbol:()=>yl,EtherscanPlugin:()=>um,EtherscanProvider:()=>fm,EventFragment:()=>Us,EventLog:()=>Ll,EventPayload:()=>Ol,FallbackFragment:()=>Fs,FallbackProvider:()=>Dm,FeeData:()=>Sl,FeeDataNetworkPlugin:()=>vp,FetchCancelSignal:()=>cp,FetchRequest:()=>hp,FetchResponse:()=>dp,FetchUrlFeeDataNetworkPlugin:()=>wp,FixedNumber:()=>eb,Fragment:()=>Ls,FunctionFragment:()=>js,GasCostPlugin:()=>bp,HDNodeVoidWallet:()=>Ry,HDNodeWallet:()=>ky,Indexed:()=>Ys,InfuraProvider:()=>Em,InfuraWebSocketProvider:()=>Am,Interface:()=>el,IpcSocketProvider:()=>$m,JsonRpcApiProvider:()=>Xg,JsonRpcProvider:()=>tm,JsonRpcSigner:()=>Zg,LangEn:()=>pb,Log:()=>Il,LogDescription:()=>Js,MaxInt256:()=>ml,MaxUint256:()=>pl,MessagePrefix:()=>vl,MinInt256:()=>gl,Mnemonic:()=>vb,MulticoinProviderPlugin:()=>rg,N:()=>dl,NamedFragment:()=>Ns,Network:()=>Ap,NetworkPlugin:()=>mp,NonceManager:()=>Fm,ParamType:()=>Os,PocketProvider:()=>zm,QuickNodeProvider:()=>Sm,Result:()=>Ea,Signature:()=>Bu,SigningKey:()=>rd,SocketBlockSubscriber:()=>mm,SocketEventSubscriber:()=>ym,SocketPendingSubscriber:()=>bm,SocketProvider:()=>vm,SocketSubscriber:()=>gm,StructFragment:()=>qs,Transaction:()=>Wp,TransactionDescription:()=>Qs,TransactionReceipt:()=>Tl,TransactionResponse:()=>Ml,Typed:()=>Oo,TypedDataEncoder:()=>Qf,UndecodedEventLog:()=>Nl,UnmanagedSubscriber:()=>kg,Utf8ErrorFuncs:()=>Ki,VoidSigner:()=>qg,Wallet:()=>Oy,WebSocketProvider:()=>wm,WeiPerEther:()=>fl,Wordlist:()=>hb,WordlistOwl:()=>db,WordlistOwlA:()=>Ly,ZeroAddress:()=>hl,ZeroHash:()=>bl,accessListify:()=>_l,assert:()=>Ti,assertArgument:()=>Mi,assertArgumentCount:()=>Pi,assertNormalize:()=>Oi,assertPrivate:()=>Li,checkResultErrors:()=>xa,computeAddress:()=>Sf,computeHmac:()=>Oc,concat:()=>qi,copyRequest:()=>kl,dataLength:()=>zi,dataSlice:()=>$i,decodeBase58:()=>eg,decodeBase64:()=>Yf,decodeBytes32String:()=>ra,decodeRlp:()=>Mp,decryptCrowdsaleJson:()=>Py,decryptKeystoreJson:()=>dy,decryptKeystoreJsonSync:()=>uy,defaultPath:()=>by,defineProperties:()=>xi,dnsEncode:()=>xf,encodeBase58:()=>Xp,encodeBase64:()=>Zf,encodeBytes32String:()=>ta,encodeRlp:()=>il,encryptKeystoreJson:()=>my,encryptKeystoreJsonSync:()=>gy,ensNormalize:()=>_f,formatEther:()=>ib,formatUnits:()=>rb,fromTwos:()=>oa,getAccountPath:()=>Iy,getAddress:()=>Ro,getBigInt:()=>ca,getBytes:()=>Bi,getBytesCopy:()=>Di,getCreate2Address:()=>ol,getCreateAddress:()=>al,getDefaultProvider:()=>Vm,getIcapAddress:()=>Io,getIndexedAccountPath:()=>Ty,getNumber:()=>fa,getUint:()=>ua,hashMessage:()=>Rf,hexlify:()=>ji,id:()=>Yo,isAddress:()=>ll,isAddressable:()=>sl,isBytesLike:()=>Vi,isCallException:()=>Ri,isCrowdsaleJson:()=>My,isError:()=>ki,isHexString:()=>Ui,isKeystoreJson:()=>sy,isValidName:()=>Af,keccak256:()=>vo,lock:()=>Ru,makeError:()=>Ii,mask:()=>la,namehash:()=>Ef,parseEther:()=>ab,parseUnits:()=>nb,pbkdf2:()=>tu,randomBytes:()=>au,recoverAddress:()=>kf,resolveAddress:()=>ul,resolveProperties:()=>Ei,ripemd160:()=>Yc,scrypt:()=>bu,scryptSync:()=>yu,sha256:()=>Su,sha512:()=>ku,showThrottleMessage:()=>gp,solidityPacked:()=>Of,solidityPackedKeccak256:()=>Lf,solidityPackedSha256:()=>Nf,stripZerosLeft:()=>Hi,toBeArray:()=>ma,toBeHex:()=>ga,toBigInt:()=>da,toNumber:()=>pa,toQuantity:()=>ba,toTwos:()=>sa,toUtf8Bytes:()=>Zi,toUtf8CodePoints:()=>ea,toUtf8String:()=>Xi,uuidV4:()=>ob,verifyMessage:()=>If,verifyTypedData:()=>Kf,version:()=>_i,wordlists:()=>Ny,zeroPadBytes:()=>Ji,zeroPadValue:()=>Wi}),__webpack_require__(28594),__webpack_require__(35666),__webpack_require__(28660);var i=__webpack_require__(57147),a=__webpack_require__.n(i);const o=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("path");var s=__webpack_require__.n(o);const l="0.21.3",c=JSON.parse('{"Kn":"http://localhost:8081","v2":"/","pY":100000,"_p":[{"name":"OpenSea","assetLink":"https://opensea.io/assets/ethereum/{contractId}/{tokenId}"},{"name":"Blur","assetLink":"https://blur.io/asset/{contractIdLowercase}/{tokenId}"},{"name":"LooksRare","link":"https://looksrare.org/collections/{contractId}","assetLink":"https://looksrare.org/collections/{contractId}/{tokenId}"}]}');var u=__webpack_require__(86021),h=__webpack_require__.n(u);class d{static async getConfig(e){let t=d.parseArgumentsIntoOptions(process.argv);if(e||(e=JSON.parse(a().readFileSync(`${t.channelDir?t.channelDir:"."}/large-config.json`,"utf8"))),e.channelDir=t.channelDir,e.runDir=process.env.INIT_CWD?process.env.INIT_CWD:e.channelDir,e.publicPath=`${e.channelDir}/public`,e.VERSION=l,"dev"==t.env?(e.hostname=e?.env?.dev?.hostname||c.Kn,e.baseURL=e?.env?.dev?.baseURL||c.v2,e.libraryURL=e?.env?.dev?.libraryURL||e?.libraryURL,e.largeURL=e?.env?.dev?.largeURL||e?.largeURL,e.maxItems=c.pY):(e.baseURL||(e.baseURL=c.v2),e.hostname||(e.hostname=c.Kn),e.maxItems||(e.maxItems=c.pY)),e.marketplaces?.length>0)for(let t of e.marketplaces){let e=c._p.filter((e=>e.name==t.name));e?.length>0&&(t.assetLink||(t.assetLink=e[0].assetLink),t.link||(t.link=e[0].link))}return e.alchemy=t.alchemy,e.syncRate=t.syncRate,e.syncDir=t.syncDir,e.env=t.env,e.clear=t.clear,e}static getSyncLibraryConfig(e){let t=d.parseSyncLibraryArgsIntoOptions(process.argv),r=t.syncDir?t.syncDir:process.env.INIT_CWD;if(r||(r="."),!r)throw new Error("No base directory configured. Use --sync-dir flag on CLI.");return e||(e=JSON.parse(a().readFileSync(`${r}/large-config.json`,"utf8"))),"dev"==t.env&&(e.hostname=e?.env?.dev?.hostname||e?.hostname),e.VERSION=l,e.baseDir=r,e.generate=t.generate,e.env=t.env,e.clear=t.clear,e.syncPushRate=t.syncPushRate,e}static getImportConfig(){let e=d.parseImportArgsIntoOptions(process.argv),t=process.env.INIT_CWD,r={};return r.VERSION=l,r.baseDir=t,r.env=e.env,r.forkType=e.forkType,r.contract=e.contract,r.alchemy=e.alchemy,r}static getPublishConfig(e){let t=process.env.INIT_CWD;return e||(e=a().existsSync(`${t}/large-publish.json`)?JSON.parse(a().readFileSync(`${t}/large-publish.json`,"utf8")):{}),e.VERSION=l,e.baseDir=t,e}static getExportConfig(e){let t=d.parseExportArgsIntoOptions(process.argv),r=process.env.INIT_CWD;return e||(e=JSON.parse(a().readFileSync(`${r}/large-config.json`,"utf8"))),e.VERSION=l,e.baseDir=r,e.env=t.env,e.channel=t.channel,e}static parseArgumentsIntoOptions(e){const t=h()({"--env":String,"--alchemy":String,"--sync-rate":String,"--sync-dir":String,"--channel-dir":String,"--clear":String,"--generate":String},{argv:e.slice(2)});return{env:t["--env"]||"production",alchemy:t["--alchemy"]||"",syncRate:t["--sync-rate"]?parseInt(t["--sync-rate"]):3e4,syncDir:t["--sync-dir"]||"",channelDir:t["--channel-dir"]||".",clear:"true"==t["--clear"]}}static parseSyncLibraryArgsIntoOptions(e){const t=h()({"--sync-dir":String,"--env":String,"--alchemy":String,"--clear":String,"--generate":String,"--sync-push-rate":String},{argv:e.slice(2)});return{syncDir:t["--sync-dir"]||"",env:t["--env"]||"production",alchemy:t["--alchemy"]||"",clear:"true"==t["--clear"],generate:"true"==t["--generate"],syncPushRate:t["--sync-push-rate"]?parseInt(t["--sync-push-rate"]):3e4}}static parseImportArgsIntoOptions(e){const t=h()({"--env":String,"--fork-type":String,"--contract":String,"--alchemy":String},{argv:e.slice(2)});return{env:t["--env"]||"production",forkType:t["--fork-type"]||"existing",contract:t["--contract"]||void 0,alchemy:t["--alchemy"]||""}}static parsePublishArgsIntoOptions(e){return{import:"true"==h()({"--import":String},{argv:e.slice(2)})["--import"]}}static parseExportArgsIntoOptions(e){const t=h()({"--env":String,"--channel":String},{argv:e.slice(2)});return{env:t["--env"]||"production",channel:t["--fork-type"]||void 0}}}var f=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:g,Column:m,Model:b,HasMany:y,CreatedAt:v,UpdatedAt:w,DataType:_,PrimaryKey:A}=__webpack_require__(10326);let E=class extends b{};f([A,m(_.STRING),p("design:type",String)],E.prototype,"_id",void 0),f([m(_.DATE),p("design:type",Date)],E.prototype,"lastModified",void 0),f([m(_.DATE),p("design:type",Date)],E.prototype,"lastUpdated",void 0),f([m(_.DATE),p("design:type",Date)],E.prototype,"dateCreated",void 0),E=f([g({tableName:"sync-status",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],E);var x="Request",S="Singleton",k="Transient",R={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},I={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},T=0;function M(){return T++}var P=function(){function e(e,t){this.id=M(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=R.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===S&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),C="Metadata key was used more than once in a parameter:",O="NULL argument",L="Key Not Found",N="Ambiguous match found for serviceIdentifier:",B="No matching bindings found for serviceIdentifier:",D="Missing required @injectable annotation in:",U="Missing required @inject or @multiInject annotation in:",V="Circular dependency found:",F="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},q=function(e,t){return"onDeactivation() error in class "+e+": "+t},z="Maximum call stack size exceeded",$="named",H="name",G="unmanaged",W="optional",J="inject",Q="multi_inject",K="inversify:tagged",Y="inversify:tagged_props",Z="inversify:paramtypes",X="post_construct",ee="pre_destroy",te=[J,Q,H,G,$,W],re=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(Z,e),userGeneratedMetadata:Reflect.getMetadata(K,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(Y,e)||[]},e}(),ne={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function ie(e){return e instanceof RangeError||e.message===z}function ae(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function oe(e,t,r){var n="",i=r(e,t);return 0!==i.length&&(n="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=ce(e.implementationType)),n=n+"\n "+t,e.constraint.metaData&&(n=n+" - "+e.constraint.metaData)}))),n}function se(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||se(e.parentRequest,t))}function le(e){e.childRequests.forEach((function(e){if(se(e,e.serviceIdentifier)){var t=function(e){return function e(t,r){void 0===r&&(r=[]);var n=ae(t.serviceIdentifier);return r.push(n),null!==t.parentRequest?e(t.parentRequest,r):r}(e).reverse().join(" --\x3e ")}(e);throw new Error(V+" "+t)}le(e)}))}function ce(e){if(e.name)return e.name;var t=e.toString(),r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}var ue=function(){function e(e){this.id=M(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),he=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===$?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),de=function(e,t){this.parentContext=e,this.rootRequest=t},fe=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),pe=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,r=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},r)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),ge=function(){function e(e,t,r,n){this.id=M(),this.type=e,this.serviceIdentifier=r;var i="symbol"==typeof t?t.toString().slice(7,-1):t;this.name=new pe(i||""),this.identifier=t,this.metadata=new Array;var a=null;"string"==typeof n?a=new he($,n):n instanceof he&&(a=n),null!==a&&this.metadata.push(a)}return e.prototype.hasTag=function(e){for(var t=0,r=this.metadata;t<r.length;t++)if(r[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(Q)},e.prototype.matchesArray=function(e){return this.matchesTag(Q)(e)},e.prototype.isNamed=function(){return this.hasTag($)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return te.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(W)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===$}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return te.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag($)(e)},e.prototype.matchesTag=function(e){var t=this;return function(r){for(var n=0,i=t.metadata;n<i.length;n++){var a=i[n];if(a.key===e&&a.value===r)return!0}return!1}},e}(),me=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function be(e,t,r,n){var i=e.getConstructorMetadata(r),a=i.compilerGeneratedMetadata;if(void 0===a)throw new Error(D+" "+t+".");var o=i.userGeneratedMetadata,s=Object.keys(o),l=0===r.length&&s.length>0,c=s.length>r.length,u=function(e,t,r,n,i){for(var a=[],o=0;o<i;o++){var s=ye(o,e,t,r,n);null!==s&&a.push(s)}return a}(n,t,a,o,l||c?s.length:r.length),h=we(e,r,t);return me(me([],u,!0),h,!0)}function ye(e,t,r,n,i){var a=i[e.toString()]||[],o=Ae(a),s=!0!==o.unmanaged,l=n[e];if((l=o.inject||o.multiInject||l)instanceof fe&&(l=l.unwrap()),s){if(!t&&(l===Object||l===Function||void 0===l))throw new Error(U+" argument "+e+" in class "+r+".");var c=new ge(I.ConstructorArgument,o.targetName,l);return c.metadata=a,c}return null}function ve(e,t,r,n){var i=e||t;if(void 0===i){var a=D+" for property "+String(r)+" in class "+n+".";throw new Error(a)}return i}function we(e,t,r){for(var n=e.getPropertiesMetadata(t),i=[],a=Object.getOwnPropertySymbols(n),o=0,s=Object.keys(n).concat(a);o<s.length;o++){var l=s[o],c=n[l],u=Ae(c),h=u.targetName||l,d=ve(u.inject,u.multiInject,l,r),f=new ge(I.ClassProperty,h,d);f.metadata=c,i.push(f)}var p=Object.getPrototypeOf(t.prototype).constructor;if(p!==Object){var g=we(e,p,r);i=me(me([],i,!0),g,!0)}return i}function _e(e,t){var r=Object.getPrototypeOf(t.prototype).constructor;if(r!==Object){var n=be(e,ce(r),r,!0),i=n.map((function(e){return e.metadata.filter((function(e){return e.key===G}))})),a=[].concat.apply([],i).length,o=n.length-a;return o>0?o:_e(e,r)}return 0}function Ae(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[J],multiInject:t[Q],targetName:t[H],unmanaged:t[G]}}var Ee=function(){function e(e,t,r,n,i){this.id=M(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=r,this.target=i,this.childRequests=[],this.bindings=Array.isArray(n)?n:[n],this.requestScope=null===r?new Map:null}return e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);return this.childRequests.push(i),i},e}();function xe(e){return e._bindingDictionary}function Se(e,t,r,n,i){var a,o=Re(r.container,i.serviceIdentifier);return o.length===ne.NoBindingsAvailable&&r.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=Re(r.container,i.serviceIdentifier)),a=t?o:o.filter((function(e){var t=new Ee(e.serviceIdentifier,r,n,e,i);return e.constraint(t)})),function(e,t,r,n){switch(t.length){case ne.NoBindingsAvailable:if(r.isOptional())return t;var i=ae(e),a=B;throw a+=function(e,t){if(t.isTagged()||t.isNamed()){var r="",n=t.getNamedTag(),i=t.getCustomTags();return null!==n&&(r+=n.toString()+"\n"),null!==i&&i.forEach((function(e){r+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+r}return" "+e}(i,r),a+=oe(n,i,Re),new Error(a);case ne.OnlyOneBindingAvailable:return t;case ne.MultipleBindingsAvailable:default:if(r.isArray())return t;throw i=ae(e),a=N+" "+i,a+=oe(n,i,Re),new Error(a)}}(i.serviceIdentifier,a,i,r.container),a}function ke(e,t,r,n,i,a){var o,s;if(null===i){o=Se(e,t,n,null,a),s=new Ee(r,n,null,o,a);var l=new de(n,s);n.addPlan(l)}else o=Se(e,t,n,i,a),s=i.addChildRequest(a.serviceIdentifier,o,a);o.forEach((function(t){var r=null;if(a.isArray())r=s.addChildRequest(t.serviceIdentifier,t,a);else{if(t.cache)return;r=s}if(t.type===R.Instance&&null!==t.implementationType){var i=function(e,t){return be(e,ce(t),t,!1)}(e,t.implementationType);if(!n.container.options.skipBaseClassChecks){var o=_e(e,t.implementationType);if(i.length<o){var l=j(ce(t.implementationType));throw new Error(l)}}i.forEach((function(t){ke(e,!1,t.serviceIdentifier,n,r,t)}))}}))}function Re(e,t){var r=[],n=xe(e);return n.hasKey(t)?r=n.get(t):null!==e.parent&&(r=Re(e.parent,t)),r}function Ie(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function Te(e){return!!Ie(e)||Array.isArray(e)&&e.some(Ie)}var Me,Pe=function(e,t){return r=void 0,n=void 0,a=function(){var r,n;return function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return r=i.sent(),e.cache=r,[3,3];case 2:throw n=i.sent(),e.cache=null,e.activated=!1,n;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(o,s)}l((a=a.apply(r,n||[])).next())}));var r,n,i,a};!function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"}(Me||(Me={}));var Ce=function(){return Ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ce.apply(this,arguments)},Oe=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},Le=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Ne=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function Be(e){var t,r=new((t=e.constr).bind.apply(t,Ne([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,n){var i=t.target.identifier,a=e.propertyInjections[n];t.target.isOptional()&&void 0===a||(r[i]=a)})),r}function De(e){return Oe(this,void 0,void 0,(function(){var t,r,n,i;return Le(this,(function(a){for(t=[],r=0,n=e;r<n.length;r++)i=n[r],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]}))}))}function Ue(e,t){var r=function(e,t){var r,n,i,a;if(Reflect.hasMetadata(X,e)){var o=Reflect.getMetadata(X,e);try{return null===(n=(r=t)[o.value])||void 0===n?void 0:n.call(r)}catch(t){if(t instanceof Error)throw new Error((i=e.name,a=t.message,"@postConstruct error in class "+i+": "+a))}}}(e,t);return Ie(r)?r.then((function(){return t})):t}var Ve=function(e){return function(t){t.parentContext.setCurrentRequest(t);var r=t.bindings,n=t.childRequests,i=t.target&&t.target.isArray(),a=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&a)return n.map((function(t){return Ve(e)(t)}));if(!t.target.isOptional()||0!==r.length){var o=r[0];return ze(e,t,o)}}},Fe=function(e,t){var r=function(e){switch(e.type){case R.Factory:return{factory:e.factory,factoryType:Me.Factory};case R.Provider:return{factory:e.provider,factoryType:Me.Provider};case R.DynamicValue:return{factory:e.dynamicValue,factoryType:Me.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}}(e);return function(n,i){try{return r.factory.bind(e)(t)}catch(e){throw ie(e)&&(e=new Error((a=r.factoryType,o=t.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+a+"' bindings. Please investigate bindings with service identifier '"+o+"'."))),e}var a,o}()},je=function(e,t,r){var n,i=t.childRequests;switch(function(e){var t=null;switch(e.type){case R.ConstantValue:case R.Function:t=e.cache;break;case R.Constructor:case R.Instance:t=e.implementationType;break;case R.DynamicValue:t=e.dynamicValue;break;case R.Provider:t=e.provider;break;case R.Factory:t=e.factory}if(null===t){var r=ae(e.serviceIdentifier);throw new Error("Invalid binding type: "+r)}}(r),r.type){case R.ConstantValue:case R.Function:n=r.cache;break;case R.Constructor:n=r.implementationType;break;case R.Instance:n=function(e,t,r,n){!function(e,t){e.scope!==S&&function(e,t){var r="Class cannot be instantiated in "+(e.scope===x?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error(q(t.name,r));if(Reflect.hasMetadata(ee,t))throw new Error("@preDestroy error in class "+t.name+": "+r)}(e,t)}(e,t);var i=function(e,t,r){var n;if(t.length>0){var i=function(e,t){return e.reduce((function(e,r){var n=t(r);return r.target.type===I.ConstructorArgument?e.constructorInjections.push(n):(e.propertyRequests.push(r),e.propertyInjections.push(n)),e.isAsync||(e.isAsync=Te(n)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,r),a=Ce(Ce({},i),{constr:e});n=i.isAsync?function(e){return Oe(this,void 0,void 0,(function(){var t,r;return Le(this,(function(n){switch(n.label){case 0:return[4,De(e.constructorInjections)];case 1:return t=n.sent(),[4,De(e.propertyInjections)];case 2:return r=n.sent(),[2,Be(Ce(Ce({},e),{constructorInjections:t,propertyInjections:r}))]}}))}))}(a):Be(a)}else n=new e;return n}(t,r,n);return Ie(i)?i.then((function(e){return Ue(t,e)})):Ue(t,i)}(r,r.implementationType,i,Ve(e));break;default:n=Fe(r,t.parentContext)}return n},qe=function(e,t,r){var n=function(e,t){return t.scope===S&&t.activated?t.cache:t.scope===x&&e.has(t.id)?e.get(t.id):null}(e,t);return null!==n||function(e,t,r){t.scope===S&&function(e,t){e.cache=t,e.activated=!0,Ie(t)&&Pe(e,t)}(t,r),t.scope===x&&function(e,t,r){e.has(t.id)||e.set(t.id,r)}(e,t,r)}(e,t,n=r()),n},ze=function(e,t,r){return qe(e,r,(function(){var n=je(e,t,r);return Ie(n)?n.then((function(e){return $e(t,r,e)})):$e(t,r,n)}))};function $e(e,t,r){var n,i=He(e.parentContext,t,r),a=Qe(e.parentContext.container),o=a.next();do{n=o.value;var s=e.parentContext,l=e.serviceIdentifier,c=Je(n,l);i=Ie(i)?We(c,s,i):Ge(c,s,i),o=a.next()}while(!0!==o.done&&!xe(n).hasKey(e.serviceIdentifier));return i}var He=function(e,t,r){return"function"==typeof t.onActivation?t.onActivation(e,r):r},Ge=function(e,t,r){for(var n=e.next();!n.done;){if(Ie(r=n.value(t,r)))return We(e,t,r);n=e.next()}return r},We=function(e,t,r){return n=void 0,i=void 0,o=function(){var n,i;return function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(a){switch(a.label){case 0:return[4,r];case 1:n=a.sent(),i=e.next(),a.label=2;case 2:return i.done?[3,4]:[4,i.value(t,n)];case 3:return n=a.sent(),i=e.next(),[3,2];case 4:return[2,n]}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}l((o=o.apply(n,i||[])).next())}));var n,i,a,o},Je=function(e,t){var r=e._activations;return r.hasKey(t)?r.get(t).values():[].values()},Qe=function(e){for(var t=[e],r=e.parent;null!==r;)t.push(r),r=r.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},Ke=function(e,t){var r=e.parentRequest;return null!==r&&(!!t(r)||Ke(r,t))},Ye=function(e){return function(t){var r=function(r){return null!==r&&null!==r.target&&r.target.matchesTag(e)(t)};return r.metaData=new he(e,t),r}},Ze=Ye($),Xe=function(e){return function(t){var r=null;if(null!==t){if(r=t.bindings[0],"string"==typeof e)return r.serviceIdentifier===e;var n=t.bindings[0].implementationType;return e===n}return!1}},et=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new tt(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=Ze(e),new tt(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new tt(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=Ye(e)(t),new tt(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return null!==t&&Xe(e)(t.parentRequest)},new tt(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Ze(e)(t.parentRequest)},new tt(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(r){return null!==r&&Ye(e)(t)(r.parentRequest)},new tt(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&Ke(t,Xe(e))},new tt(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&!Ke(t,Xe(e))},new tt(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Ke(t,Ze(e))},new tt(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&!Ke(t,Ze(e))},new tt(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(r){return null!==r&&Ke(r,Ye(e)(t))},new tt(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(r){return null!==r&&!Ke(r,Ye(e)(t))},new tt(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&Ke(t,e)},new tt(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&!Ke(t,e)},new tt(this._binding)},e}(),tt=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new et(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new et(this._binding)},e}(),rt=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new et(this._binding),this._bindingOnSyntax=new tt(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),nt=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=x,new rt(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=S,new rt(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=k,new rt(this._binding)},e}(),it=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new et(this._binding),this._bindingOnSyntax=new tt(this._binding),this._bindingInSyntax=new nt(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),at=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=R.Instance,this._binding.implementationType=e,new it(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=R.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=S,new rt(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=R.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new it(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=R.Constructor,this._binding.implementationType=e,this._binding.scope=S,new rt(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=R.Factory,this._binding.factory=e,this._binding.scope=S,new rt(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(e);return this._binding.type=R.Function,this._binding.scope=S,t},e.prototype.toAutoFactory=function(e){return this._binding.type=R.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=S,new rt(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=R.Factory,this._binding.factory=function(t){return function(r){return t.container.getNamed(e,r)}},new rt(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=R.Provider,this._binding.provider=e,this._binding.scope=S,new rt(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}(),ot=function(){function e(){}return e.of=function(t,r,n,i,a){var o=new e;return o.bindings=t,o.middleware=r,o.deactivations=i,o.activations=n,o.moduleActivationStore=a,o},e}(),st=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(O);if(null==t)throw new Error(O);var r=this._map.get(e);void 0!==r?r.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(O);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(L)},e.prototype.remove=function(e){if(null==e)throw new Error(O);if(!this._map.delete(e))throw new Error(L)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(r,n){var i=e.hasKey(r)?e.get(r):void 0;if(void 0!==i){var a=n.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(r,a)}}))},e.prototype.removeByCondition=function(e){var t=this,r=[];return this._map.forEach((function(n,i){for(var a=[],o=0,s=n;o<s.length;o++){var l=s[o];e(l)?r.push(l):a.push(l)}t._setValue(i,a)})),r},e.prototype.hasKey=function(e){if(null==e)throw new Error(O);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,r){e.forEach((function(e){return t.add(r,"object"==typeof(n=e)&&null!==n&&"clone"in n&&"function"==typeof n.clone?e.clone():e);var n}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,r){e(r,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}(),lt=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,r){this._getModuleActivationHandlers(e).onDeactivations.add(t,r)},e.prototype.addActivation=function(e,t,r){this._getModuleActivationHandlers(e).onActivations.add(t,r)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,r){t._map.set(r,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new st,onDeactivations:new st}},e}(),ct=function(){return ct=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ct.apply(this,arguments)},ut=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},ht=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},dt=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=k;else if(t.defaultScope!==S&&t.defaultScope!==k&&t.defaultScope!==x)throw new Error('Invalid Container option. Default scope must be a string ("singleton" or "transient").');if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=M(),this._bindingDictionary=new st,this._snapshots=[],this._middleware=null,this._activations=new st,this._deactivations=new st,this.parent=null,this._metadataReader=new re,this._moduleActivationStore=new lt}return e.merge=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=new e,o=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([t,r],n,!0).map((function(e){return xe(e)})),s=xe(a);return o.forEach((function(e){var t;t=s,e.traverse((function(e,r){r.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this._getContainerModuleHelpersFactory(),n=0,i=e;n<i.length;n++){var a=i[n],o=r(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ut(this,void 0,void 0,(function(){var t,r,n,i,a;return ht(this,(function(o){switch(o.label){case 0:t=this._getContainerModuleHelpersFactory(),r=0,n=e,o.label=1;case 1:return r<n.length?(i=n[r],a=t(i.id),[4,i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach((function(t){var r=e._removeModuleBindings(t.id);e._deactivateSingletons(r),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ut(this,void 0,void 0,(function(){var t,r,n,i;return ht(this,(function(a){switch(a.label){case 0:t=0,r=e,a.label=1;case 1:return t<r.length?(n=r[t],i=this._removeModuleBindings(n.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(n.id),a.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||k,r=new P(e,t);return this._bindingDictionary.add(e,r),new at(r)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return ut(this,void 0,void 0,(function(){return ht(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return ut(this,void 0,void 0,(function(){var t;return ht(this,(function(r){switch(r.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,r){e._deactivateSingletons(r)})),this._bindingDictionary=new st},e.prototype.unbindAllAsync=function(){return ut(this,void 0,void 0,(function(){var e,t=this;return ht(this,(function(r){switch(r.label){case 0:return e=[],this._bindingDictionary.traverse((function(r,n){e.push(t._deactivateSingletonsAsync(n))})),[4,Promise.all(e)];case 1:return r.sent(),this._bindingDictionary=new st,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,$,t)},e.prototype.isBoundTagged=function(e,t,r){var n=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),a=function(e,t,r,n){var i=new ge(I.Variable,"",t,new he(r,n)),a=new ue(e);return new Ee(t,a,null,[],i)}(this,e,t,r);n=i.some((function(e){return e.constraint(a)}))}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,t,r)),n},e.prototype.snapshot=function(){this._snapshots.push(ot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var r=new e(t||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),r)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return ut(this,void 0,void 0,(function(){var t;return ht(this,(function(r){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,r){var n=this._getNotAllArgs(e,!1,t,r);return this._getButThrowIfAsync(n)},e.prototype.getTaggedAsync=function(e,t,r){return ut(this,void 0,void 0,(function(){var n;return ht(this,(function(i){return n=this._getNotAllArgs(e,!1,t,r),[2,this._get(n)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,$,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,$,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,r){var n=this._getNotAllArgs(e,!0,t,r);return this._getButThrowIfAsync(n)},e.prototype.getAllTaggedAsync=function(e,t,r){var n=this._getNotAllArgs(e,!0,t,r);return this._getAll(n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,$,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,$,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var r=this.get(e);return t||this.unbind(e),r},e.prototype._preDestroy=function(e,t){var r,n;if(Reflect.hasMetadata(ee,e))return null===(n=(r=t)[Reflect.getMetadata(ee,e).value])||void 0===n?void 0:n.call(r)},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var r=this,n=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(Ie(i))return this._handleDeactivationError(i.then((function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,n)})),n)}var a=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,n);if(Ie(a))return this._handleDeactivationError(a,n)}catch(e){if(e instanceof Error)throw new Error(q(n.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return ut(this,void 0,void 0,(function(){var r;return ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return n.sent(),[3,3];case 2:if((r=n.sent())instanceof Error)throw new Error(q(t.name,r.message));return[3,3];case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var r=this,n=t.next();n.value;){var i=n.value(e);if(Ie(i))return i.then((function(){return r._deactivateContainerAsync(e,t)}));n=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return ut(this,void 0,void 0,(function(){var r;return ht(this,(function(n){switch(n.label){case 0:r=t.next(),n.label=1;case 1:return r.value?[4,r.value(e)]:[3,3];case 2:return n.sent(),r=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},r=function(r){return function(n){var i=e.rebind(n);return t(i,r),i}},n=function(t){return function(r,n){e._moduleActivationStore.addActivation(t,r,n),e.onActivation(r,n)}},i=function(t){return function(r,n){e._moduleActivationStore.addDeactivation(t,r,n),e.onDeactivation(r,n)}};return function(a){return{bindFunction:(o=a,function(r){var n=e.bind(r);return t(n,o),n}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:n(a),onDeactivationFunction:i(a),rebindFunction:r(a),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var o}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=ct(ct({},e),{contextInterceptor:function(e){return e},targetType:I.Variable});if(this._middleware){var r=this._middleware(t);if(null==r)throw new Error("Invalid return type in middleware. Middleware must return!");return r}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(Te(t))throw new Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,r,n){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:r,value:n}},e.prototype._planAndResolve=function(){var e=this;return function(t){var r=function(e,t,r,n,i,a,o,s){void 0===s&&(s=!1);var l=new ue(t),c=function(e,t,r,n,i,a){var o=new he(e?Q:J,r),s=new ge(t,"",r,o);if(void 0!==i){var l=new he(i,a);s.metadata.push(l)}return s}(r,n,i,0,a,o);try{return ke(e,s,i,l,null,c),l}catch(e){throw ie(e)&&le(l.plan.rootRequest),e}}(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(e){return Ve(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}(r=t.contextInterceptor(r))}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return Ie(e.cache)?e.cache.then((function(r){return t._deactivate(e,r)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(Ie(this._deactivateIfSingleton(n)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return ut(this,void 0,void 0,(function(){var t=this;return ht(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return r.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,r){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,r)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,r){return ut(this,void 0,void 0,(function(){return ht(this,(function(n){switch(n.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,r)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+ae(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,r){var n=this;if("function"==typeof e.onDeactivation){var i=e.onDeactivation(t);if(Ie(i))return i.then((function(){return n._preDestroy(r,t)}))}return this._preDestroy(r,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,r){return ut(this,void 0,void 0,(function(){return ht(this,(function(n){switch(n.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:n.sent(),n.label=2;case 2:return[4,this._preDestroy(r,t)];case 3:return n.sent(),[2]}}))}))},e}();function ft(){return function(e){if(Reflect.hasOwnMetadata(Z,e))throw new Error("Cannot apply @injectable decorator multiple times.");var t=Reflect.getMetadata("design:paramtypes",e)||[];return Reflect.defineMetadata(Z,t,e),e}}let pt=class{async get(e,t){return E.findByPk(e,t)}async put(e,t){return await e.save(t),e}async remove(e,t){await e.destroy(t)}};function gt(e,t,r,n){var i=function(e){var t=[];if(Array.isArray(e)){var r=function(e){for(var t=new Set,r=0,n=e;r<n.length;r++){var i=n[r];if(t.has(i))return i;t.add(i)}}((t=e).map((function(e){return e.key})));if(void 0!==r)throw new Error(C+" "+r.toString())}else t=[e];return t}(n),a={};Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var o=a[r];if(void 0===o)o=[];else for(var s=function(e){if(i.some((function(t){return t.key===e.key})))throw new Error(C+" "+e.key.toString())},l=0,c=o;l<c.length;l++)s(c[l]);o.push.apply(o,i),a[r]=o,Reflect.defineMetadata(e,a,t)}function mt(e){return function(t,r,n){"number"==typeof n?function(e,t,r,n){!function(e){if(void 0!==e)throw new Error(F)}(t),gt(K,e,r.toString(),n)}(t,r,n,e):function(e,t,r){if(void 0!==e.prototype)throw new Error(F);gt(Y,e.constructor,t,r)}(t,r,e)}}pt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft()],pt);var bt,yt=(bt=J,function(e){return function(t,r,n){if(void 0===e){var i="function"==typeof t?t.name:t.constructor.name;throw new Error("@inject called with undefined this could mean that the class "+i+" has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation.")}return mt(new he(bt,e))(t,r,n)}}),vt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},wt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let _t=class{syncStatusRepository;pluginModules;constructor(){}async get(e,t){return this.syncStatusRepository.get(e,t)}async put(e,t){return this.syncStatusRepository.put(e,t)}async remove(e,t){return this.syncStatusRepository.remove(e,t)}async getFilepaths(e,t){t||(t=[]);let r=a().readdirSync(e);for(let n of r)if(a().statSync(e+"/"+n).isDirectory())t=await this.getFilepaths(e+"/"+n,t);else{let r=s().join("/",e,"/",n);t.push(r)}return t}async getFileStatus(e){let t=await this.getFilepaths(e),r={};for(let e of t){let t=a().statSync(e);r[e]={path:e,lastModified:t.mtime}}return r}async getOrCreate(e,t){let r=await this.syncStatusRepository.get(e,t);return r||(r=Object.assign(new E,{_id:e})),r}async getChangedFiles(e,t){let r=await this.getFileStatus(e),n=[];for(let e of Object.keys(r)){let i=r[e].lastModified;(!t||i>t)&&n.push(e)}return n}async handleChangedFiles(e,t,r){let n=await this.getChangedFiles(t,r);for(let r of this.pluginModules)await r.handledChangedFiles({slug:e,publicPath:t,changedFiles:n})}};vt([yt("SyncStatusRepository"),wt("design:type",Object)],_t.prototype,"syncStatusRepository",void 0),vt([yt("pluginModules"),wt("design:type",Array)],_t.prototype,"pluginModules",void 0),_t=vt([ft(),wt("design:paramtypes",[])],_t);const At=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("child_process");let Et=class{constructor(){}async runProcess(e){return new Promise((function(t,r){e.stdout.on("data",(e=>{process.stdout.write(e.toString())})),e.stderr.on("data",(e=>{process.stderr.write(e.toString())})),e.on("close",(r=>{t(e)}))}))}async spawnGenerateScript(e){let t=["--"];t.push(...process.argv?.slice(2)),await this.runProcess((0,At.spawn)("npm run generate",t,{shell:!0,cwd:e}))}async spawnSyncScript(e){let t=["--"];t.push(...process.argv?.slice(2)),await this.runProcess((0,At.spawn)("npm run sync",t,{shell:!0,cwd:e}))}async spawnGenerate(e,t,r){r.push("--channel-dir"),r.push(t),await this.runProcess((0,At.spawn)(`node ${e}/node_modules/large-nft/public/large/generate/index.js`,r,{shell:!0,cwd:e}))}async spawnSync(e,t,r){r.push("--channel-dir"),r.push(t),await this.runProcess((0,At.spawn)(`node ${e}/node_modules/large-nft/public/large/sync/index.js`,r,{shell:!0,cwd:e}))}async spawnGenerateAndSyncScripts(e){await this.spawnGenerateScript(e),await this.spawnSyncScript(e)}};Et=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],Et);var xt=__webpack_require__(86492),St=__webpack_require__.n(xt),kt=__webpack_require__(20910);const Rt=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("events");var It=__webpack_require__.n(Rt);function Tt(e){if(void 0===e)return!1;if("function"!=typeof e)throw new TypeError("Callback must be a function");return!0}function Mt(e,t){if("string"==typeof e&&(e=new Error(e)),"function"==typeof t)return t.call(this,e);throw e}function Pt(e,t,r,n,i,a){t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i);for(let o=r;o<r+i;o++)for(let r=t;r<t+n;r++){const t=e.bitmap.width*o+r<<2;a.call(e,r,o,t)}return e}var Ct=__webpack_require__(40964),Ot=__webpack_require__.n(Ct),Lt=__webpack_require__(40148),Nt=__webpack_require__.n(Lt);function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}var Dt=/^\s+/,Ut=/\s+$/;function Vt(e,t){if(t=t||{},(e=e||"")instanceof Vt)return e;if(!(this instanceof Vt))return new Vt(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return"string"==typeof e&&(e=function(e){e=e.replace(Dt,"").replace(Ut,"").toLowerCase();var t,r=!1;if(rr[e])e=rr[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=gr.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=gr.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=gr.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=gr.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=gr.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=gr.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=gr.hex8.exec(e))?{r:sr(t[1]),g:sr(t[2]),b:sr(t[3]),a:hr(t[4]),format:r?"name":"hex8"}:(t=gr.hex6.exec(e))?{r:sr(t[1]),g:sr(t[2]),b:sr(t[3]),format:r?"name":"hex"}:(t=gr.hex4.exec(e))?{r:sr(t[1]+""+t[1]),g:sr(t[2]+""+t[2]),b:sr(t[3]+""+t[3]),a:hr(t[4]+""+t[4]),format:r?"name":"hex8"}:!!(t=gr.hex3.exec(e))&&{r:sr(t[1]+""+t[1]),g:sr(t[2]+""+t[2]),b:sr(t[3]+""+t[3]),format:r?"name":"hex"}}(e)),"object"==Bt(e)&&(mr(e.r)&&mr(e.g)&&mr(e.b)?(t=function(e,t,r){return{r:255*ar(e,255),g:255*ar(t,255),b:255*ar(r,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):mr(e.h)&&mr(e.s)&&mr(e.v)?(n=cr(e.s),i=cr(e.v),t=function(e,t,r){e=6*ar(e,360),t=ar(t,100),r=ar(r,100);var n=Math.floor(e),i=e-n,a=r*(1-t),o=r*(1-i*t),s=r*(1-(1-i)*t),l=n%6;return{r:255*[r,o,a,a,s,r][l],g:255*[s,r,r,o,a,a][l],b:255*[a,a,s,r,r,o][l]}}(e.h,n,i),o=!0,s="hsv"):mr(e.h)&&mr(e.s)&&mr(e.l)&&(n=cr(e.s),a=cr(e.l),t=function(e,t,r){var n,i,a;function o(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=ar(e,360),t=ar(t,100),r=ar(r,100),0===t)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(e.h,n,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=ir(r),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function Ft(e,t,r){e=ar(e,255),t=ar(t,255),r=ar(r,255);var n,i,a=Math.max(e,t,r),o=Math.min(e,t,r),s=(a+o)/2;if(a==o)n=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:s}}function jt(e,t,r){e=ar(e,255),t=ar(t,255),r=ar(r,255);var n,i,a=Math.max(e,t,r),o=Math.min(e,t,r),s=a,l=a-o;if(i=0===a?0:l/a,a==o)n=0;else{switch(a){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,v:s}}function qt(e,t,r,n){var i=[lr(Math.round(e).toString(16)),lr(Math.round(t).toString(16)),lr(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function zt(e,t,r,n){return[lr(ur(n)),lr(Math.round(e).toString(16)),lr(Math.round(t).toString(16)),lr(Math.round(r).toString(16))].join("")}function $t(e,t){t=0===t?0:t||10;var r=Vt(e).toHsl();return r.s-=t/100,r.s=or(r.s),Vt(r)}function Ht(e,t){t=0===t?0:t||10;var r=Vt(e).toHsl();return r.s+=t/100,r.s=or(r.s),Vt(r)}function Gt(e){return Vt(e).desaturate(100)}function Wt(e,t){t=0===t?0:t||10;var r=Vt(e).toHsl();return r.l+=t/100,r.l=or(r.l),Vt(r)}function Jt(e,t){t=0===t?0:t||10;var r=Vt(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),Vt(r)}function Qt(e,t){t=0===t?0:t||10;var r=Vt(e).toHsl();return r.l-=t/100,r.l=or(r.l),Vt(r)}function Kt(e,t){var r=Vt(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,Vt(r)}function Yt(e){var t=Vt(e).toHsl();return t.h=(t.h+180)%360,Vt(t)}function Zt(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Vt(e).toHsl(),n=[Vt(e)],i=360/t,a=1;a<t;a++)n.push(Vt({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function Xt(e){var t=Vt(e).toHsl(),r=t.h;return[Vt(e),Vt({h:(r+72)%360,s:t.s,l:t.l}),Vt({h:(r+216)%360,s:t.s,l:t.l})]}function er(e,t,r){t=t||6,r=r||30;var n=Vt(e).toHsl(),i=360/r,a=[Vt(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(Vt(n));return a}function tr(e,t){t=t||6;for(var r=Vt(e).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/t;t--;)o.push(Vt({h:n,s:i,v:a})),a=(a+s)%1;return o}Vt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=ir(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=jt(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=jt(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=Ft(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ft(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return qt(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var a=[lr(Math.round(e).toString(16)),lr(Math.round(t).toString(16)),lr(Math.round(r).toString(16)),lr(ur(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*ar(this._r,255))+"%",g:Math.round(100*ar(this._g,255))+"%",b:Math.round(100*ar(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*ar(this._r,255))+"%, "+Math.round(100*ar(this._g,255))+"%, "+Math.round(100*ar(this._b,255))+"%)":"rgba("+Math.round(100*ar(this._r,255))+"%, "+Math.round(100*ar(this._g,255))+"%, "+Math.round(100*ar(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(nr[qt(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+zt(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=Vt(e);r="#"+zt(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Vt(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Wt,arguments)},brighten:function(){return this._applyModification(Jt,arguments)},darken:function(){return this._applyModification(Qt,arguments)},desaturate:function(){return this._applyModification($t,arguments)},saturate:function(){return this._applyModification(Ht,arguments)},greyscale:function(){return this._applyModification(Gt,arguments)},spin:function(){return this._applyModification(Kt,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(er,arguments)},complement:function(){return this._applyCombination(Yt,arguments)},monochromatic:function(){return this._applyCombination(tr,arguments)},splitcomplement:function(){return this._applyCombination(Xt,arguments)},triad:function(){return this._applyCombination(Zt,[3])},tetrad:function(){return this._applyCombination(Zt,[4])}},Vt.fromRatio=function(e,t){if("object"==Bt(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:cr(e[n]));e=r}return Vt(e,t)},Vt.equals=function(e,t){return!(!e||!t)&&Vt(e).toRgbString()==Vt(t).toRgbString()},Vt.random=function(){return Vt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Vt.mix=function(e,t,r){r=0===r?0:r||50;var n=Vt(e).toRgb(),i=Vt(t).toRgb(),a=r/100;return Vt({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},Vt.readability=function(e,t){var r=Vt(e),n=Vt(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},Vt.isReadable=function(e,t,r){var n,i,a,o,s,l=Vt.readability(e,t);switch(i=!1,(a=r,"AA"!==(o=((a=a||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==o&&(o="AA"),"small"!==(s=(a.size||"small").toLowerCase())&&"large"!==s&&(s="small"),n={level:o,size:s}).level+n.size){case"AAsmall":case"AAAlarge":i=l>=4.5;break;case"AAlarge":i=l>=3;break;case"AAAsmall":i=l>=7}return i},Vt.mostReadable=function(e,t,r){var n,i,a,o,s=null,l=0;i=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var c=0;c<t.length;c++)(n=Vt.readability(e,t[c]))>l&&(l=n,s=Vt(t[c]));return Vt.isReadable(e,s,{level:a,size:o})||!i?s:(r.includeFallbackColors=!1,Vt.mostReadable(e,["#fff","#000"],r))};var rr=Vt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nr=Vt.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(rr);function ir(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ar(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function or(e){return Math.min(1,Math.max(0,e))}function sr(e){return parseInt(e,16)}function lr(e){return 1==e.length?"0"+e:""+e}function cr(e){return e<=1&&(e=100*e+"%"),e}function ur(e){return Math.round(255*parseFloat(e)).toString(16)}function hr(e){return sr(e)/255}var dr,fr,pr,gr=(fr="[\\s|\\(]+("+(dr="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+dr+")[,|\\s]+("+dr+")\\s*\\)?",pr="[\\s|\\(]+("+dr+")[,|\\s]+("+dr+")[,|\\s]+("+dr+")[,|\\s]+("+dr+")\\s*\\)?",{CSS_UNIT:new RegExp(dr),rgb:new RegExp("rgb"+fr),rgba:new RegExp("rgba"+pr),hsl:new RegExp("hsl"+fr),hsla:new RegExp("hsla"+pr),hsv:new RegExp("hsv"+fr),hsva:new RegExp("hsva"+pr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function mr(e){return!!gr.CSS_UNIT.exec(e)}function br(e,t){this.size=this.size||e,this.smallerSize=this.smallerSize||t,function(e){for(let t=1;t<e;t++)vr[t]=1;vr[0]=1/Math.sqrt(2)}(this.size)}function yr(e){const t={};return t.r=Math.floor(e/Math.pow(256,3)),t.g=Math.floor((e-t.r*Math.pow(256,3))/Math.pow(256,2)),t.b=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2))/Math.pow(256,1)),t.a=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2)-t.b*Math.pow(256,1))/Math.pow(256,0)),t}br.prototype.size=32,br.prototype.smallerSize=8,br.prototype.distance=function(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]!==t[n]&&r++;return r/e.length},br.prototype.getHash=function(e){(e=e.clone().resize(this.size,this.size)).grayscale();const t=[];for(let r=0;r<e.bitmap.width;r++){t[r]=[];for(let n=0;n<e.bitmap.height;n++)t[r][n]=yr(e.getPixelColor(r,n)).b}const r=function(e,t){const r=t,n=[];for(let t=0;t<r;t++){n[t]=[];for(let i=0;i<r;i++){let a=0;for(let n=0;n<r;n++)for(let o=0;o<r;o++)a+=Math.cos((2*n+1)/(2*r)*t*Math.PI)*Math.cos((2*o+1)/(2*r)*i*Math.PI)*e[n][o];a*=vr[t]*vr[i]/4,n[t][i]=a}}return n}(t,this.size);let n=0;for(let e=0;e<this.smallerSize;e++)for(let t=0;t<this.smallerSize;t++)n+=r[e][t];const i=n/(this.smallerSize*this.smallerSize);let a="";for(let e=0;e<this.smallerSize;e++)for(let t=0;t<this.smallerSize;t++)a+=r[e][t]>i?"1":"0";return a};const vr=[],wr=br;__webpack_require__(94301);var _r=__webpack_require__(8971).ZP;const Ar=-1,Er=1,xr=2,Sr=4,kr=8,Rr=16,Ir=32,Tr="srcOver",Mr="dstOver",Pr="multiply",Cr="add",Or="screen",Lr="overlay",Nr="darken",Br="lighten",Dr="hardLight",Ur="difference",Vr="exclusion",Fr=1,jr=2,qr=3;function zr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/n,g:(e.g*e.a+t.g*t.a*(1-e.a))/n,b:(e.b*e.a+t.b*t.a*(1-e.a))/n,a:n}}function $r(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/n,g:(t.g*t.a+e.g*e.a*(1-t.a))/n,b:(t.b*t.a+e.b*e.a*(1-t.a))/n,a:n}}function Hr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(i*s+i*(1-t.a)+s*(1-e.a))/n,g:(a*l+a*(1-t.a)+l*(1-e.a))/n,b:(o*c+o*(1-t.a)+c*(1-e.a))/n,a:n}}function Gr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a;return{r:(i+t.r*t.a)/n,g:(a+t.g*t.a)/n,b:(o+t.b*t.a)/n,a:n}}function Wr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(i*t.a+s*e.a-i*s+i*(1-t.a)+s*(1-e.a))/n,g:(a*t.a+l*e.a-a*l+a*(1-t.a)+l*(1-e.a))/n,b:(o*t.a+c*e.a-o*c+o*(1-t.a)+c*(1-e.a))/n,a:n}}function Jr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(2*s<=t.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/n,g:(2*l<=t.a?2*a*l+a*(1-t.a)+l*(1-e.a):a*(1+t.a)+l*(1+e.a)-2*l*a-t.a*e.a)/n,b:(2*c<=t.a?2*o*c+o*(1-t.a)+c*(1-e.a):o*(1+t.a)+c*(1+e.a)-2*c*o-t.a*e.a)/n,a:n}}function Qr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(Math.min(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/n,g:(Math.min(a*t.a,l*e.a)+a*(1-t.a)+l*(1-e.a))/n,b:(Math.min(o*t.a,c*e.a)+o*(1-t.a)+c*(1-e.a))/n,a:n}}function Kr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(Math.max(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/n,g:(Math.max(a*t.a,l*e.a)+a*(1-t.a)+l*(1-e.a))/n,b:(Math.max(o*t.a,c*e.a)+o*(1-t.a)+c*(1-e.a))/n,a:n}}function Yr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(2*i<=e.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/n,g:(2*a<=e.a?2*a*l+a*(1-t.a)+l*(1-e.a):a*(1+t.a)+l*(1+e.a)-2*l*a-t.a*e.a)/n,b:(2*o<=e.a?2*o*c+o*(1-t.a)+c*(1-e.a):o*(1+t.a)+c*(1+e.a)-2*c*o-t.a*e.a)/n,a:n}}function Zr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(i+s-2*Math.min(i*t.a,s*e.a))/n,g:(a+l-2*Math.min(a*t.a,l*e.a))/n,b:(o+c-2*Math.min(o*t.a,c*e.a))/n,a:n}}function Xr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=r;const n=t.a+e.a-t.a*e.a,i=e.r*e.a,a=e.g*e.a,o=e.b*e.a,s=t.r*t.a,l=t.g*t.a,c=t.b*t.a;return{r:(i*t.a+s*e.a-2*i*s+i*(1-t.a)+s*(1-e.a))/n,g:(a*t.a+l*e.a-2*a*l+a*(1-t.a)+l*(1-e.a))/n,b:(o*t.a+c*e.a-2*o*c+o*(1-t.a)+c*(1-e.a))/n,a:n}}const en=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return new Promise(((r,i)=>{n.push(((e,t)=>{e&&i(e),r(t)})),e.bind(t)(...n)}))},tn={},rn=(e,t)=>{tn[e]=t},nn=e=>{const t=e.split("/").slice(-1);var r;return(r=t[t.length-1].split(".").pop(),Object.entries(tn).find((e=>e[1].includes(r)))||[])[0]};var an=__webpack_require__(97769),on=__webpack_require__.n(an),sn=__webpack_require__(72594),ln=__webpack_require__.n(sn);function cn(e){return e._exif&&e._exif.tags&&e._exif.tags.Orientation||1}async function un(e,t,r){const n=await async function(e,t){const r=await on().fromBuffer(e);return r?r.mime:t?nn(t):null}(e,t);if("string"!=typeof n)return r(new Error("Could not find MIME for Buffer <"+t+">"));this._originalMime=n.toLowerCase();try{const t=this.getMIME();if(!this.constructor.decoders[t])return Mt.call(this,"Unsupported MIME type: "+t,r);this.bitmap=this.constructor.decoders[t](e)}catch(e){return r.call(this,e,this)}try{this._exif=ln().create(e).parse(),function(e){if(cn(e)<2)return;const t=function(e){const t=e.getWidth(),r=e.getHeight();switch(cn(e)){case 1:default:return null;case 2:return function(e,r){return[t-e-1,r]};case 3:return function(e,n){return[t-e-1,r-n-1]};case 4:return function(e,t){return[e,r-t-1]};case 5:return function(e,t){return[t,e]};case 6:return function(e,t){return[t,r-e-1]};case 7:return function(e,n){return[t-n-1,r-e-1]};case 8:return function(e,r){return[t-r-1,e]}}}(e),r=cn(e)>4;!function(e,t,r,n){const i=e.bitmap.data,a=e.bitmap.width,o=Buffer.alloc(i.length);for(let e=0;e<t;e++)for(let s=0;s<r;s++){const[r,l]=n(e,s),c=t*s+e<<2,u=a*l+r<<2,h=i.readUInt32BE(u);o.writeUInt32BE(h,c)}e.bitmap.data=o,e.bitmap.width=t,e.bitmap.height=r}(e,r?e.bitmap.height:e.bitmap.width,r?e.bitmap.width:e.bitmap.height,t)}(this)}catch(e){}return r.call(this,null,this),this}function hn(e,t){if(e===Ar&&(e=this.getMIME()),"string"!=typeof e)return Mt.call(this,"mime must be a string",t);if("function"!=typeof t)return Mt.call(this,"cb must be a function",t);if(e=e.toLowerCase(),this._rgba&&this.constructor.hasAlpha[e]?this.bitmap.data=Buffer.from(this.bitmap.data):this.bitmap.data=function(e,t){return new e(t.bitmap.width,t.bitmap.height,t._background).composite(t,0,0).bitmap}(this.constructor,this).data,!this.constructor.encoders[e])return Mt.call(this,"Unsupported MIME type: "+e,t);{const r=this.constructor.encoders[e](this);r instanceof Promise?r.then((e=>{t.call(this,null,e)})):t.call(this,null,r)}return this}function dn(e){return en(hn,this,e)}function fn(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",gn=[NaN,NaN];for(let e=2;e<65;e++){const t=Ot()(Ot().BIN,pn.slice(0,e))(new Array(65).join("1"));gn.push(t.length)}function mn(){}function bn(e){return Object.prototype.toString.call(e).toLowerCase().indexOf("arraybuffer")>-1}function yn(e){const t=Buffer.alloc(e.byteLength),r=new Uint8Array(e);for(let e=0;e<t.length;++e)t[e]=r[e];return t}function vn(e,t){((e,t)=>{let{url:r,...n}=e;_r(r,n).then((e=>{if(e.ok)return e.arrayBuffer().catch((e=>{throw new Error(`Response is not a buffer for url ${r}. Error: ${e.message}`)}));throw new Error(`HTTP Status ${e.status} for url ${r}`)})).then((e=>t(null,e))).catch((e=>t(e)))})(e,((r,n)=>r?t(r):"object"==typeof n&&Buffer.isBuffer(n)?t(null,n):"object"==typeof n&&bn(n)?t(null,yn(n)):new Error(`Could not load Buffer from <${e.url}>`)))}const wn={data:null,width:null,height:null};class _n extends(It()){constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];super(),fn(this,"bitmap",wn),fn(this,"_background",0),fn(this,"_originalMime",_n.MIME_PNG),fn(this,"_exif",null),fn(this,"_rgba",!0),fn(this,"writeAsync",(e=>en(this.write,this,e))),fn(this,"getBase64Async",(e=>en(this.getBase64,this,e))),fn(this,"getBuffer",hn),fn(this,"getBufferAsync",dn),fn(this,"getPixelColour",this.getPixelColor),fn(this,"setPixelColour",this.setPixelColor);const n=this;let i=mn;function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a]=t;(a||{}).methodName="constructor",setTimeout((()=>{a&&i===mn?n.emitError("constructor",a):a||n.emitMulti("constructor","initialized"),i.call(n,...t)}),1)}if(bn(t[0])&&(t[0]=yn(t[0])),"number"==typeof t[0]&&"number"==typeof t[1]||parseInt(t[0],10)&&parseInt(t[1],10)){const e=parseInt(t[0],10),r=parseInt(t[1],10);if(i=t[2],"number"==typeof t[2]&&(this._background=t[2],i=t[3]),"string"==typeof t[2]&&(this._background=_n.cssColorToHex(t[2]),i=t[3]),void 0===i&&(i=mn),"function"!=typeof i)return Mt.call(this,"cb must be a function",o);this.bitmap={data:Buffer.alloc(e*r*4),width:e,height:r};for(let e=0;e<this.bitmap.data.length;e+=4)this.bitmap.data.writeUInt32BE(this._background,e);o(null,this)}else if("object"==typeof t[0]&&t[0].url){if(i=t[1]||mn,"function"!=typeof i)return Mt.call(this,"cb must be a function",o);vn(t[0],((e,r)=>{if(e)return Mt.call(this,e,o);this.parseBitmap(r,t[0].url,o)}))}else if(t[0]instanceof _n){const[e]=t;if(i=t[1],void 0===i&&(i=mn),"function"!=typeof i)return Mt.call(this,"cb must be a function",o);this.bitmap={data:Buffer.from(e.bitmap.data),width:e.bitmap.width,height:e.bitmap.height},this._quality=e._quality,this._deflateLevel=e._deflateLevel,this._deflateStrategy=e._deflateStrategy,this._filterType=e._filterType,this._rgba=e._rgba,this._background=e._background,this._originalMime=e._originalMime,o(null,this)}else if((s=t[0])&&"object"==typeof s&&"number"==typeof s.width&&"number"==typeof s.height&&(Buffer.isBuffer(s.data)||s.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&s.data instanceof Uint8ClampedArray)&&(s.data.length===s.width*s.height*4||s.data.length===s.width*s.height*3)){const[e]=t;i=t[1]||mn;const r=e.width*e.height*4===e.data.length?Buffer.from(e.data):function(e){if(e.length%3!=0)throw new Error("Buffer length is incorrect");const t=Buffer.allocUnsafe(e.length/3*4);let r=0;for(let n=0;n<e.length;n++)t[r]=e[n],(n+1)%3==0&&(t[++r]=255),r++;return t}(e.data);this.bitmap={data:r,width:e.width,height:e.height},o(null,this)}else if("string"==typeof t[0]){const e=t[0];if(i=t[1],void 0===i&&(i=mn),"function"!=typeof i)return Mt.call(this,"cb must be a function",o);!function(e,t){a()&&"function"==typeof a().readFile&&!e.match(/^(http|ftp)s?:\/\/./)?a().readFile(e,t):vn({url:e},t)}(e,((t,r)=>{if(t)return Mt.call(this,t,o);this.parseBitmap(r,e,o)}))}else if("object"==typeof t[0]&&Buffer.isBuffer(t[0])){const e=t[0];if(i=t[1],"function"!=typeof i)return Mt.call(this,"cb must be a function",o);this.parseBitmap(e,null,o)}else{i=t[t.length-1],"function"!=typeof i&&(i=t[t.length-2],"function"!=typeof i&&(i=mn));const e=_n.__extraConstructors.find((e=>e.test(...t)));if(!e)return Mt.call(this,"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",o);new Promise(((r,n)=>{e.run.call(this,r,n,...t)})).then((()=>o(null,this))).catch(o)}var s}parseBitmap(e,t,r){un.call(this,e,null,r)}rgba(e,t){return"boolean"!=typeof e?Mt.call(this,"bool must be a boolean, true for RGBA or false for RGB",t):(this._rgba=e,Tt(t)&&t.call(this,null,this),this)}emitMulti(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:e,eventName:t}),this.emit("any",r),e&&this.emit(e,r),this.emit(t,r)}emitError(e,t){this.emitMulti(e,"error",t)}getHeight(){return this.bitmap.height}getWidth(){return this.bitmap.width}inspect(){return"<Jimp "+(this.bitmap===wn?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}getMIME(){return this._originalMime||_n.MIME_PNG}getExtension(){const e=this.getMIME();return(tn[e.toLowerCase()]||[])[0]}write(e,t){if(!a()||!a().createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof e)return Mt.call(this,"path must be a string",t);if(void 0===t&&(t=mn),"function"!=typeof t)return Mt.call(this,"cb must be a function",t);const r=nn(e)||this.getMIME(),n=s().parse(e);return n.dir&&a().mkdirSync(n.dir,{recursive:!0}),this.getBuffer(r,((r,n)=>{if(r)return Mt.call(this,r,t);const i=a().createWriteStream(e);i.on("open",(()=>{i.write(n),i.end()})).on("error",(e=>Mt.call(this,e,t))),i.on("finish",(()=>{t.call(this,null,this)}))})),this}getBase64(e,t){return e===_n.AUTO&&(e=this.getMIME()),"string"!=typeof e?Mt.call(this,"mime must be a string",t):"function"!=typeof t?Mt.call(this,"cb must be a function",t):(this.getBuffer(e,(function(r,n){if(r)return Mt.call(this,r,t);const i="data:"+e+";base64,"+n.toString("base64");t.call(this,null,i)})),this)}hash(e,t){if("function"==typeof(e=e||64)&&(t=e,e=64),"number"!=typeof e)return Mt.call(this,"base must be a number",t);if(e<2||e>64)return Mt.call(this,"base must be a number between 2 and 64",t);let r=this.pHash();for(r=Ot()(Ot().BIN,pn.slice(0,e))(r);r.length<gn[e];)r="0"+r;return Tt(t)&&t.call(this,null,r),r}pHash(){return(new wr).getHash(this)}distanceFromHash(e){const t=new wr,r=t.getHash(this);return t.distance(r,e)}getPixelIndex(e,t,r,n){let i,a;if("function"==typeof r&&void 0===n&&(n=r,r=null),r||(r=_n.EDGE_EXTEND),"number"!=typeof e||"number"!=typeof t)return Mt.call(this,"x and y must be numbers",n);i=e=Math.round(e),a=t=Math.round(t),r===_n.EDGE_EXTEND&&(e<0&&(i=0),e>=this.bitmap.width&&(i=this.bitmap.width-1),t<0&&(a=0),t>=this.bitmap.height&&(a=this.bitmap.height-1)),r===_n.EDGE_WRAP&&(e<0&&(i=this.bitmap.width+e),e>=this.bitmap.width&&(i=e%this.bitmap.width),t<0&&(a=this.bitmap.height+t),t>=this.bitmap.height&&(a=t%this.bitmap.height));let o=this.bitmap.width*a+i<<2;return(i<0||i>=this.bitmap.width)&&(o=-1),(a<0||a>=this.bitmap.height)&&(o=-1),Tt(n)&&n.call(this,null,o),o}getPixelColor(e,t,r){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"x and y must be numbers",r);e=Math.round(e),t=Math.round(t);const n=this.getPixelIndex(e,t),i=this.bitmap.data.readUInt32BE(n);return Tt(r)&&r.call(this,null,i),i}setPixelColor(e,t,r,n){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof r)return Mt.call(this,"hex, x and y must be numbers",n);t=Math.round(t),r=Math.round(r);const i=this.getPixelIndex(t,r);return this.bitmap.data.writeUInt32BE(e,i),Tt(n)&&n.call(this,null,this),this}hasAlpha(){for(let e=0;e<this.bitmap.height;e++)for(let t=0;t<this.bitmap.width;t++){const r=this.bitmap.width*e+t<<2;if(255!==this.bitmap.data[r+3])return!0}return!1}scanIterator(e,t,r,n){return"number"!=typeof e||"number"!=typeof t?Mt.call(this,"x and y must be numbers"):"number"!=typeof r||"number"!=typeof n?Mt.call(this,"w and h must be numbers"):function*(e,t,r,n,i){t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i);for(let a=r;a<r+i;a++)for(let r=t;r<t+n;r++){const t=e.bitmap.width*a+r<<2;yield{x:r,y:a,idx:t,image:e}}}(this,e,t,r,n)}}function An(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;Object.entries(e).forEach((e=>{let[r,n]=e;t[r]=n}))}function En(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;Object.entries(e).forEach((e=>{let[r,n]=e;t.prototype[r]=n}))}function xn(e,t,r){const n="before-"+t,i=t.replace(/e$/,"")+"ed";_n.prototype[e]=function(){let t;for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];const l=o[r.length-1],c=this;let u;"function"==typeof l?(t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const[a,o]=r;a?c.emitError(e,a):c.emitMulti(e,i,{[e]:o}),l.apply(this,r)},o[o.length-1]=t):t=!1,this.emitMulti(e,n);try{u=r.apply(this,o),t||this.emitMulti(e,i,{[e]:u})}catch(t){t.methodName=e,this.emitError(e,t)}return u},_n.prototype[e+"Quiet"]=r}function Sn(e,t){xn(e,"change",t)}if(An(e),En({composite:function(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;if("function"==typeof i&&(a=i,i={}),!(e instanceof this.constructor))return Mt.call(this,"The source must be a Jimp image",a);if("number"!=typeof r||"number"!=typeof n)return Mt.call(this,"x and y must be numbers",a);let{mode:o,opacitySource:s,opacityDest:l}=i;o||(o=Tr),("number"!=typeof s||s<0||s>1)&&(s=1),("number"!=typeof l||l<0||l>1)&&(l=1);const c=t[o];r=Math.round(r),n=Math.round(n);const u=this;return 1!==l&&u.opacity(l),e.scanQuiet(0,0,e.bitmap.width,e.bitmap.height,(function(e,t,i){const a=u.getPixelIndex(r+e,n+t,qr);if(-1===a)return;const o=c({r:this.bitmap.data[i+0]/255,g:this.bitmap.data[i+1]/255,b:this.bitmap.data[i+2]/255,a:this.bitmap.data[i+3]/255},{r:u.bitmap.data[a+0]/255,g:u.bitmap.data[a+1]/255,b:u.bitmap.data[a+2]/255,a:u.bitmap.data[a+3]/255},s);u.bitmap.data[a+0]=this.constructor.limit255(255*o.r),u.bitmap.data[a+1]=this.constructor.limit255(255*o.g),u.bitmap.data[a+2]=this.constructor.limit255(255*o.b),u.bitmap.data[a+3]=this.constructor.limit255(255*o.a)})),Tt(a)&&a.call(this,null,this),this}}),_n.__extraConstructors=[],_n.appendConstructorOption=function(e,t,r){_n.__extraConstructors.push({name:e,test:t,run:r})},_n.read=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(((e,r)=>{new _n(...t,((t,n)=>{t?r(t):e(n)}))}))},_n.create=_n.read,_n.rgbaToInt=function(e,t,r,n,i){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof r||"number"!=typeof n)return Mt.call(this,"r, g, b and a must be numbers",i);if(e<0||e>255)return Mt.call(this,"r must be between 0 and 255",i);if((t<0||t>255)&&Mt.call(this,"g must be between 0 and 255",i),r<0||r>255)return Mt.call(this,"b must be between 0 and 255",i);if(n<0||n>255)return Mt.call(this,"a must be between 0 and 255",i);e=Math.round(e),r=Math.round(r),t=Math.round(t),n=Math.round(n);const a=e*Math.pow(256,3)+t*Math.pow(256,2)+r*Math.pow(256,1)+n*Math.pow(256,0);return Tt(i)&&i.call(this,null,a),a},_n.intToRGBA=function(e,t){if("number"!=typeof e)return Mt.call(this,"i must be a number",t);const r={};return r.r=Math.floor(e/Math.pow(256,3)),r.g=Math.floor((e-r.r*Math.pow(256,3))/Math.pow(256,2)),r.b=Math.floor((e-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1)),r.a=Math.floor((e-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0)),Tt(t)&&t.call(this,null,r),r},_n.cssColorToHex=function(e){return"number"==typeof(e=e||0)?Number(e):parseInt(Vt(e).toHex8(),16)},_n.limit255=function(e){return e=Math.max(e,0),Math.min(e,255)},_n.diff=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(e instanceof _n&&t instanceof _n))return Mt.call(this,"img1 and img2 must be an Jimp images");const n=e.bitmap,i=t.bitmap;if(n.width===i.width&&n.height===i.height||(n.width*n.height>i.width*i.height?e=e.cloneQuiet().resize(i.width,i.height):t=t.cloneQuiet().resize(n.width,n.height)),"number"!=typeof r||r<0||r>1)return Mt.call(this,"threshold must be a number between 0 and 1");const a=new _n(n.width,n.height,4294967295);return{percent:Nt()(n.data,i.data,a.bitmap.data,a.bitmap.width,a.bitmap.height,{threshold:r})/(a.bitmap.width*a.bitmap.height),image:a}},_n.distance=function(e,t){const r=new wr,n=r.getHash(e),i=r.getHash(t);return r.distance(n,i)},_n.compareHashes=function(e,t){return(new wr).distance(e,t)},_n.colorDiff=function(e,t){const r=e=>Math.pow(e,2),{max:n}=Math;return 0===e.a||e.a||(e.a=255),0===t.a||t.a||(t.a=255),(n(r(e.r-t.r),r(e.r-t.r-e.a+t.a))+n(r(e.g-t.g),r(e.g-t.g-e.a+t.a))+n(r(e.b-t.b),r(e.b-t.b-e.a+t.a)))/195075},xn("clone","clone",(function(e){const t=new _n(this);return Tt(e)&&e.call(t,null,t),t})),Sn("background",(function(e,t){return"number"!=typeof e?Mt.call(this,"hex must be a hexadecimal rgba value",t):(this._background=e,Tt(t)&&t.call(this,null,this),this)})),Sn("scan",(function(e,t,r,n,i,a){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"x and y must be numbers",a);if("number"!=typeof r||"number"!=typeof n)return Mt.call(this,"w and h must be numbers",a);if("function"!=typeof i)return Mt.call(this,"f must be a function",a);const o=Pt(this,e,t,r,n,i);return Tt(a)&&a.call(this,null,o),o})),"BROWSER"===process.env.ENVIRONMENT){let e;"undefined"!=typeof window&&"object"==typeof window&&(e=window),"undefined"!=typeof self&&"object"==typeof self&&(e=self),e.Jimp=_n,e.Buffer=Buffer}const kn=_n;var Rn=__webpack_require__(7011),In=__webpack_require__(87870),Tn=__webpack_require__.n(In);const Mn="image/jpeg",Pn=()=>({mime:{[Mn]:["jpeg","jpg","jpe"]},constants:{MIME_JPEG:Mn},decoders:{[Mn]:Tn().decode},encoders:{[Mn]:e=>Tn().encode(e.bitmap,e._quality).data},class:{_quality:100,quality(e,t){return"number"!=typeof e?Mt.call(this,"n must be a number",t):e<0||e>100?Mt.call(this,"n must be a number 0 - 100",t):(this._quality=Math.round(e),Tt(t)&&t.call(this,null,this),this)}}});var Cn=__webpack_require__(35477);const On="image/png",Ln=()=>({mime:{[On]:["png"]},constants:{MIME_PNG:On,PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:{[On]:!0},decoders:{[On]:Cn.y.sync.read},encoders:{[On](e){const t=new Cn.y({width:e.bitmap.width,height:e.bitmap.height});return t.data=e.bitmap.data,Cn.y.sync.write(t,{deflateLevel:e._deflateLevel,deflateStrategy:e._deflateStrategy,filterType:e._filterType,colorType:"number"==typeof e._colorType?e._colorType:e._rgba?6:2,inputHasAlpha:e._rgba})}},class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel(e,t){return"number"!=typeof e?Mt.call(this,"l must be a number",t):e<0||e>9?Mt.call(this,"l must be a number 0 - 9",t):(this._deflateLevel=Math.round(e),Tt(t)&&t.call(this,null,this),this)},deflateStrategy(e,t){return"number"!=typeof e?Mt.call(this,"s must be a number",t):e<0||e>3?Mt.call(this,"s must be a number 0 - 3",t):(this._deflateStrategy=Math.round(e),Tt(t)&&t.call(this,null,this),this)},filterType(e,t){return"number"!=typeof e?Mt.call(this,"n must be a number",t):e<-1||e>4?Mt.call(this,"n must be -1 (auto) or a number 0 - 4",t):(this._filterType=Math.round(e),Tt(t)&&t.call(this,null,this),this)},colorType(e,t){return"number"!=typeof e?Mt.call(this,"s must be a number",t):0!==e&&2!==e&&4!==e&&6!==e?Mt.call(this,"s must be a number 0, 2, 4, 6.",t):(this._colorType=Math.round(e),Tt(t)&&t.call(this,null,this),this)}}});var Nn=__webpack_require__(70784),Bn=__webpack_require__.n(Nn);const Dn="image/bmp",Un="image/x-ms-bmp",Vn=e=>{return Pt({bitmap:t=Bn().decode(e)},0,0,t.width,t.height,(function(e,r,n){const i=this.bitmap.data[n+0],a=this.bitmap.data[n+1],o=this.bitmap.data[n+2],s=this.bitmap.data[n+3];this.bitmap.data[n+0]=s,this.bitmap.data[n+1]=o,this.bitmap.data[n+2]=a,this.bitmap.data[n+3]=t.is_with_alpha?i:255})).bitmap;var t},Fn=e=>Bn().encode(function(e){return Pt(e,0,0,e.bitmap.width,e.bitmap.height,(function(e,t,r){const n=this.bitmap.data[r+0],i=this.bitmap.data[r+1],a=this.bitmap.data[r+2],o=this.bitmap.data[r+3];this.bitmap.data[r+0]=o,this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=i,this.bitmap.data[r+3]=n})).bitmap}(e)).data;var jn=__webpack_require__(55847),qn=__webpack_require__.n(jn);const zn="image/tiff";var $n=__webpack_require__(11494),Hn=__webpack_require__(31702);const Gn="image/gif",Wn=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],Jn=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];function Qn(e,t,r,n){const i=[0,0,0],a=(t.length-1)/2;for(let o=0;o<t.length;o+=1)for(let s=0;s<t[o].length;s+=1){const l=e.getPixelIndex(r+o-a,n+s-a);i[0]+=e.bitmap.data[l]*t[o][s],i[1]+=e.bitmap.data[l+1]*t[o][s],i[2]+=e.bitmap.data[l+2]*t[o][s]}return i}const Kn=e=>null!=e;function Yn(e){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){const n=parseInt(.2126*this.bitmap.data[r]+.7152*this.bitmap.data[r+1]+.0722*this.bitmap.data[r+2],10);this.bitmap.data[r]=n,this.bitmap.data[r+1]=n,this.bitmap.data[r+2]=n})),Tt(e)&&e.call(this,null,this),this}function Zn(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:(t.r-e.r)*(r/100)+e.r,g:(t.g-e.g)*(r/100)+e.g,b:(t.b-e.b)*(r/100)+e.b}}function Xn(e,t){return e&&Array.isArray(e)?(e=e.map((e=>("xor"!==e.apply&&"mix"!==e.apply||(e.params[0]=Vt(e.params[0]).toRgb()),e))),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,((r,n,i)=>{let a={r:this.bitmap.data[i],g:this.bitmap.data[i+1],b:this.bitmap.data[i+2]};const o=(e,t)=>this.constructor.limit255(a[e]+t);e.forEach((e=>{if("mix"===e.apply)a=Zn(a,e.params[0],e.params[1]);else if("tint"===e.apply)a=Zn(a,{r:255,g:255,b:255},e.params[0]);else if("shade"===e.apply)a=Zn(a,{r:0,g:0,b:0},e.params[0]);else if("xor"===e.apply)a={r:a.r^e.params[0].r,g:a.g^e.params[0].g,b:a.b^e.params[0].b};else if("red"===e.apply)a.r=o("r",e.params[0]);else if("green"===e.apply)a.g=o("g",e.params[0]);else if("blue"===e.apply)a.b=o("b",e.params[0]);else{if("hue"===e.apply&&(e.apply="spin"),a=Vt(a),!a[e.apply])return Mt.call(this,"action "+e.apply+" not supported",t);a=a[e.apply](...e.params).toRgb()}})),this.bitmap.data[i]=a.r,this.bitmap.data[i+1]=a.g,this.bitmap.data[i+2]=a.b})),Tt(t)&&t.call(this,null,this),this):Mt.call(this,"actions must be an array",t)}function ei(e){const t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,r,n){const i=t[((3&r)<<2)+e%4];this.bitmap.data[n]=Math.min(this.bitmap.data[n]+i,255),this.bitmap.data[n+1]=Math.min(this.bitmap.data[n+1]+i,255),this.bitmap.data[n+2]=Math.min(this.bitmap.data[n+2]+i,255)})),Tt(e)&&e.call(this,null,this),this}function ti(e,t,r){if("boolean"!=typeof e||"boolean"!=typeof t)return Mt.call(this,"horizontal and vertical must be Booleans",r);const n=Buffer.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(r,i,a){const o=e?this.bitmap.width-1-r:r,s=t?this.bitmap.height-1-i:i,l=this.bitmap.width*s+o<<2,c=this.bitmap.data.readUInt32BE(a);n.writeUInt32BE(c,l)})),this.bitmap.data=Buffer.from(n),Tt(r)&&r.call(this,null,this),this}function ri(){const e={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,r,n){e.r[this.bitmap.data[n+0]]++,e.g[this.bitmap.data[n+1]]++,e.b[this.bitmap.data[n+2]]++})),e}Object.freeze({LIGHTEN:"lighten",BRIGHTEN:"brighten",DARKEN:"darken",DESATURATE:"desaturate",SATURATE:"saturate",GREYSCALE:"greyscale",SPIN:"spin",HUE:"hue",MIX:"mix",TINT:"tint",SHADE:"shade",XOR:"xor",RED:"red",GREEN:"green",BLUE:"blue"});const ni=function(e,t,r){return 255*(e-t)/(r-t)},ii=function(e){return[e.findIndex((e=>e>0)),255-e.slice().reverse().findIndex((e=>e>0))]};var ai=__webpack_require__(19902),oi=__webpack_require__.n(ai);function si(e,t){let r=0;for(let n=0;n<t.length;n++)if(e.chars[t[n]]){const i=e.kernings[t[n]]&&e.kernings[t[n]][t[n+1]]?e.kernings[t[n]][t[n+1]]:0;r+=(e.chars[t[n]].xadvance||0)+i}return r}function li(e,t,r){const n=t.split(" "),i=[];let a=[],o=0;return n.forEach((t=>{const n=[...a,t].join(" "),s=si(e,n);s<=r?(s>o&&(o=s),a.push(t)):(i.push(a),a=[t])})),i.push(a),{lines:i,longestLine:o}}function ci(e,t,r){const{lines:n}=li(e,t,r);return n.length*e.common.lineHeight}function ui(e,t,r,n,i){if(i.width>0&&i.height>0){const a=t.pages[i.page];e.blit(a,r+i.xoffset,n+i.yoffset,i.x,i.y,i.width,i.height)}return e}function hi(e,t,r,n,i){for(let a=0;a<n.length;a++){let o;o=e.chars[n[a]]?n[a]:/\s/.test(n[a])?"":"?";const s=e.chars[o]||{},l=e.kernings[o];ui(this,e,t,r,s||{}),t+=(l&&l[n[a+1]]?l[n[a+1]]:0)+(s.xadvance||i)}}const di=process.env.DIRNAME||"//../";function fi(e,t,r,n,i,a,o){this.widthOriginal=Math.abs(Math.floor(e)||0),this.heightOriginal=Math.abs(Math.floor(t)||0),this.targetWidth=Math.abs(Math.floor(r)||0),this.targetHeight=Math.abs(Math.floor(n)||0),this.colorChannels=i?4:3,this.interpolationPass=Boolean(a),this.resizeCallback="function"==typeof o?o:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}fi.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},fi.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},fi.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){const r=t?4:3,n=this.ratioWeightWidthPass,i=this.widthBuffer;let a,o,s=0,l=0,c=0,u=0,h=0;for(a=0;s<1/3;a+=r,s+=n)for(l=a,c=0;l<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l]=e[c],i[l+1]=e[c+1],i[l+2]=e[c+2],t&&(i[l+3]=e[c+3]);for(s-=1/3,o=this.widthOriginal-1;s<o;a+=r,s+=n)for(h=s%1,u=1-h,l=a,c=Math.floor(s)*r;l<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l+0]=e[c+0]*u+e[c+r+0]*h,i[l+1]=e[c+1]*u+e[c+r+1]*h,i[l+2]=e[c+2]*u+e[c+r+2]*h,t&&(i[l+3]=e[c+3]*u+e[c+r+3]*h);for(o=this.originalWidthMultipliedByChannels-r;a<this.targetWidthMultipliedByChannels;a+=r)for(l=a,c=o;l<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l]=e[c],i[l+1]=e[c+1],i[l+2]=e[c+2],t&&(i[l+3]=e[c+3]);return i},fi.prototype._resizeWidthRGBChannels=function(e,t){const r=t?4:3,n=this.ratioWeightWidthPass,i=1/n,a=this.originalWidthMultipliedByChannels-r+1,o=this.targetWidthMultipliedByChannels-r+1,s=this.outputWidthWorkBench,l=this.widthBuffer,c=this.outputWidthWorkBenchOpaquePixelsCount;let u=0,h=0,d=0,f=0,p=0,g=0,m=0,b=1,y=0,v=0,w=0,_=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)s[p++]=0,s[p++]=0,s[p++]=0,t&&(s[p++]=0,c[p/r-1]=0);u=n;do{for(h=1+d-f,b=Math.min(u,h),p=0,g=d;p<this.originalHeightMultipliedByChannels;g+=a)y=e[g],v=e[++g],w=e[++g],_=t?e[++g]:255,s[p++]+=(_?y:0)*b,s[p++]+=(_?v:0)*b,s[p++]+=(_?w:0)*b,t&&(s[p++]+=_*b,c[p/r-1]+=_?b:0);if(!(u>=h)){f+=u;break}d+=r,f=d,u-=h}while(u>0&&d<this.originalWidthMultipliedByChannels);for(p=0,g=m;p<this.originalHeightMultipliedByChannels;g+=o)u=t?c[p/r]:1,b=t?u?1/u:0:i,l[g]=s[p++]*b,l[++g]=s[p++]*b,l[++g]=s[p++]*b,t&&(l[++g]=s[p++]*i);m+=r}while(m<this.targetWidthMultipliedByChannels);return l},fi.prototype._resizeHeightRGBChannels=function(e,t){const r=this.ratioWeightHeightPass,n=1/r,i=this.outputHeightWorkBench,a=this.heightBuffer,o=this.outputHeightWorkBenchOpaquePixelsCount;let s=0,l=0,c=0,u=0,h=0,d=0,f=0,p=1,g=0,m=0,b=0,y=0;do{for(h=0;h<this.targetWidthMultipliedByChannels;)i[h++]=0,i[h++]=0,i[h++]=0,t&&(i[h++]=0,o[h/4-1]=0);s=r;do{for(l=1+c-u,p=Math.min(s,l),f=c,h=0;h<this.targetWidthMultipliedByChannels;)g=e[f++],m=e[f++],b=e[f++],y=t?e[f++]:255,i[h++]+=(y?g:0)*p,i[h++]+=(y?m:0)*p,i[h++]+=(y?b:0)*p,t&&(i[h++]+=y*p,o[h/4-1]+=y?p:0);if(!(s>=l)){u+=s;break}c=f,u=c,s-=l}while(s>0&&c<this.widthPassResultSize);for(h=0;h<this.targetWidthMultipliedByChannels;)s=t?o[h/4]:1,p=t?s?1/s:0:n,a[d++]=Math.round(i[h++]*p),a[d++]=Math.round(i[h++]*p),a[d++]=Math.round(i[h++]*p),t&&(a[d++]=Math.round(i[h++]*n))}while(d<this.finalResultSize);return a},fi.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!1)},fi.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!0)},fi.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,!1)},fi.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,!0)},fi.prototype.resizeHeightInterpolated=function(e){const t=this.ratioWeightHeightPass,r=this.heightBuffer;let n,i=0,a=0,o=0,s=0,l=0,c=0,u=0;for(;i<1/3;i+=t)for(o=0;o<this.targetWidthMultipliedByChannels;)r[a++]=Math.round(e[o++]);for(i-=1/3,n=this.heightOriginal-1;i<n;i+=t)for(u=i%1,c=1-u,s=Math.floor(i)*this.targetWidthMultipliedByChannels,l=s+this.targetWidthMultipliedByChannels,o=0;o<this.targetWidthMultipliedByChannels;++o)r[a++]=Math.round(e[s++]*c+e[l++]*u);for(;a<this.finalResultSize;)for(o=0,s=n*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)r[a++]=Math.round(e[s++]);return r},fi.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,!1)},fi.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,!0)},fi.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},fi.prototype.bypassResizer=function(e){return e},fi.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),e||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},fi.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),e||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},fi.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(e){return[]}},fi.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(e){return[]}},fi.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(e){return[]}};const pi=fi,gi={nearestNeighbor(e,t){const r=e.width,n=e.height,i=t.width,a=t.height,o=e.data,s=t.data;for(let e=0;e<a;e++)for(let t=0;t<i;t++){let l=4*(e*i+t),c=4*(Math.floor(e*n/a)*r+Math.floor(t*r/i));s[l++]=o[c++],s[l++]=o[c++],s[l++]=o[c++],s[l++]=o[c++]}},bilinearInterpolation(e,t){const r=e.width,n=e.height,i=t.width,a=t.height,o=e.data,s=t.data,l=function(e,t,r,n,i){return t===n?r:Math.round((e-t)*i+(n-e)*r)},c=function(e,t,n,i,a,c,u,h){let d=4*(u*r+i)+t,f=4*(u*r+a)+t;const p=l(n,i,o[d],a,o[f]);if(h===u)s[e+t]=p;else{d=4*(h*r+i)+t,f=4*(h*r+a)+t;const g=l(n,i,o[d],a,o[f]);s[e+t]=l(c,u,p,h,g)}};for(let e=0;e<a;e++)for(let t=0;t<i;t++){const o=4*(e*i+t),s=t*r/i,l=Math.floor(s),u=Math.min(Math.ceil(s),r-1),h=e*n/a,d=Math.floor(h),f=Math.min(Math.ceil(h),n-1);c(o,0,s,l,u,h,d,f),c(o,1,s,l,u,h,d,f),c(o,2,s,l,u,h,d,f),c(o,3,s,l,u,h,d,f)}},_interpolate2D(e,t,r,n){const i=e.data,a=t.data,o=e.width,s=e.height,l=t.width,c=t.height,u=Math.max(1,Math.floor(o/l)),h=l*u,d=Math.max(1,Math.floor(s/c)),f=c*d,p=Buffer.alloc(h*s*4);for(let e=0;e<s;e++)for(let t=0;t<h;t++){const r=t*(o-1)/h,a=Math.floor(r),s=r-a,l=4*(e*o+a),c=4*(e*h+t);for(let e=0;e<4;e++){const t=l+e,r=a>0?i[t-4]:2*i[t]-i[t+4],u=i[t],h=i[t+4],d=a<o-2?i[t+8]:2*i[t+4]-i[t];p[c+e]=n(r,u,h,d,s)}}const g=Buffer.alloc(h*f*4);for(let e=0;e<f;e++)for(let t=0;t<h;t++){const r=e*(s-1)/f,i=Math.floor(r),a=r-i,o=4*(i*h+t),l=4*(e*h+t);for(let e=0;e<4;e++){const t=o+e,r=i>0?p[t-4*h]:2*p[t]-p[t+4*h],c=p[t],u=p[t+4*h],d=i<s-2?p[t+8*h]:2*p[t+4*h]-p[t];g[l+e]=n(r,c,u,d,a)}}const m=u*d;if(m>1)for(let e=0;e<c;e++)for(let t=0;t<l;t++){let r=0,n=0,i=0,o=0,s=0;for(let a=0;a<d;a++){const l=e*d+a;for(let e=0;e<u;e++){const a=4*(l*h+(t*u+e)),c=g[a+3];c&&(r+=g[a],n+=g[a+1],i+=g[a+2],s++),o+=c}}const c=4*(e*l+t);a[c]=s?Math.round(r/s):0,a[c+1]=s?Math.round(n/s):0,a[c+2]=s?Math.round(i/s):0,a[c+3]=Math.round(o/m)}else t.data=g},bicubicInterpolation(e,t,r){return this._interpolate2D(e,t,r,(function(e,t,r,n,i){const a=n-r-e+t,o=e-t-a,s=r-e,l=t;return Math.max(0,Math.min(255,a*(i*i*i)+o*(i*i)+s*i+l))}))},hermiteInterpolation(e,t,r){return this._interpolate2D(e,t,r,(function(e,t,r,n,i){const a=t,o=.5*(r-e),s=e-2.5*t+2*r-.5*n,l=.5*(n-e)+1.5*(t-r);return Math.max(0,Math.min(255,Math.round(((l*i+s)*i+o)*i+a)))}))},bezierInterpolation(e,t,r){return this._interpolate2D(e,t,r,(function(e,t,r,n,i){const a=1-i,o=t*a*a*a,s=3*(t+(r-e)/4)*a*a*i,l=3*(r-(n-t)/4)*a*i*i,c=r*i*i*i;return Math.max(0,Math.min(255,Math.round(o+s+l+c)))}))}},mi=gi;function bi(e){if(Math.abs(e)%90!=0)throw new Error("Unsupported matrix rotation degree");if(e%=360,0===Math.abs(e))return;const t=this.bitmap.width,r=this.bitmap.height;let n;switch(e){case 90:case-270:n=90;break;case 180:case-180:n=180;break;case 270:case-90:n=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const i=180===n?t:r,a=180===n?r:t,o=Buffer.alloc(this.bitmap.data.length);function s(e,t){return function(t,r){return r*e+t<<2}}const l=s(t),c=s(i);for(let e=0;e<t;e++)for(let i=0;i<r;i++){const a=l(e,i),s=this.bitmap.data.readUInt32BE(a);let u;switch(n){case 90:u=c(i,t-e-1);break;case-90:u=c(r-i-1,e);break;case 180:u=c(t-e-1,r-i-1);break;default:throw new Error("Unsupported matrix rotation angle")}o.writeUInt32BE(s,u)}this.bitmap.data=o,this.bitmap.width=i,this.bitmap.height=a}function yi(e,t){const r=(e%=360)*Math.PI/180,n=Math.cos(r),i=Math.sin(r);let a=this.bitmap.width,o=this.bitmap.height;if(!0===t||"string"==typeof t){a=Math.ceil(Math.abs(this.bitmap.width*n)+Math.abs(this.bitmap.height*i))+1,o=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*n))+1,a%2!=0&&a++,o%2!=0&&o++;const e=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data.writeUInt32BE(this._background,r)}));const r=Math.max(a,o,this.bitmap.width,this.bitmap.height);this.resize(r,r,t),this.blit(e,this.bitmap.width/2-e.bitmap.width/2,this.bitmap.height/2-e.bitmap.height/2)}const s=this.bitmap.width,l=this.bitmap.height,c=Buffer.alloc(this.bitmap.data.length);function u(e,t){return function(r,n){return{x:r+e,y:n+t}}}const h=u(-s/2,-l/2),d=u(s/2+.5,l/2+.5);for(let e=1;e<=l;e++)for(let t=1;t<=s;t++){const r=h(t,e),a=d(n*r.x-i*r.y,n*r.y+i*r.x),o=s*(e-1)+t-1<<2;if(a.x>=0&&a.x<s&&a.y>=0&&a.y<l){const e=(s*(0|a.y)+a.x|0)<<2,t=this.bitmap.data.readUInt32BE(e);c.writeUInt32BE(t,o)}else c.writeUInt32BE(this._background,o)}if(this.bitmap.data=c,!0===t||"string"==typeof t){const e=s/2-a/2,t=l/2-o/2;this.crop(e,t,a,o)}}const vi=[()=>({blit(e,t,r,n,i,a,o,s){if(!(e instanceof this.constructor))return Mt.call(this,"The source must be a Jimp image",s);if("number"!=typeof t||"number"!=typeof r)return Mt.call(this,"x and y must be numbers",s);if("function"==typeof n)s=n,n=0,i=0,a=e.bitmap.width,o=e.bitmap.height;else{if(typeof n!=typeof i||typeof i!=typeof a||typeof a!=typeof o)return Mt.call(this,"srcx, srcy, srcw, srch must be numbers",s);n=n||0,i=i||0,a=a||e.bitmap.width,o=o||e.bitmap.height}t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),a=Math.round(a),o=Math.round(o);const l=this.bitmap.width,c=this.bitmap.height,u=this;return e.scanQuiet(n,i,a,o,(function(e,a,o){const s=t+e-n,h=r+a-i;if(s>=0&&h>=0&&l-s>0&&c-h>0){const e=u.getPixelIndex(s,h),t={r:this.bitmap.data[o],g:this.bitmap.data[o+1],b:this.bitmap.data[o+2],a:this.bitmap.data[o+3]},r={r:u.bitmap.data[e],g:u.bitmap.data[e+1],b:u.bitmap.data[e+2],a:u.bitmap.data[e+3]};u.bitmap.data[e]=(t.a*(t.r-r.r)-r.r+255>>8)+r.r,u.bitmap.data[e+1]=(t.a*(t.g-r.g)-r.g+255>>8)+r.g,u.bitmap.data[e+2]=(t.a*(t.b-r.b)-r.b+255>>8)+r.b,u.bitmap.data[e+3]=this.constructor.limit255(r.a+t.a)}})),Tt(s)&&s.call(this,null,this),this}}),()=>({blur(e,t){if("number"!=typeof e)return Mt.call(this,"r must be a number",t);if(e<1)return Mt.call(this,"r must be greater than 0",t);let r,n,i,a,o,s,l,c,u,h,d,f,p,g;const m=this.bitmap.width-1,b=this.bitmap.height-1,y=e+1,v=Wn[e],w=Jn[e],_=[],A=[],E=[],x=[],S=[],k=[];let R=2;for(;R-- >0;){for(f=0,p=0,s=0;s<this.bitmap.height;s++){for(r=this.bitmap.data[p]*y,n=this.bitmap.data[p+1]*y,i=this.bitmap.data[p+2]*y,a=this.bitmap.data[p+3]*y,l=1;l<=e;l++)c=p+((l>m?m:l)<<2),r+=this.bitmap.data[c++],n+=this.bitmap.data[c++],i+=this.bitmap.data[c++],a+=this.bitmap.data[c];for(o=0;o<this.bitmap.width;o++)_[f]=r,A[f]=n,E[f]=i,x[f]=a,0===s&&(S[o]=((c=o+y)<m?c:m)<<2,k[o]=(c=o-e)>0?c<<2:0),u=p+S[o],h=p+k[o],r+=this.bitmap.data[u++]-this.bitmap.data[h++],n+=this.bitmap.data[u++]-this.bitmap.data[h++],i+=this.bitmap.data[u++]-this.bitmap.data[h++],a+=this.bitmap.data[u]-this.bitmap.data[h],f++;p+=this.bitmap.width<<2}for(o=0;o<this.bitmap.width;o++){for(d=o,r=_[d]*y,n=A[d]*y,i=E[d]*y,a=x[d]*y,l=1;l<=e;l++)d+=l>b?0:this.bitmap.width,r+=_[d],n+=A[d],i+=E[d],a+=x[d];for(f=o<<2,s=0;s<this.bitmap.height;s++)g=a*v>>>w,this.bitmap.data[f+3]=g,g>255&&(this.bitmap.data[f+3]=255),g>0?(g=255/g,this.bitmap.data[f]=(r*v>>>w)*g,this.bitmap.data[f+1]=(n*v>>>w)*g,this.bitmap.data[f+2]=(i*v>>>w)*g):(this.bitmap.data[f+2]=0,this.bitmap.data[f+1]=0,this.bitmap.data[f]=0),0===o&&(S[s]=((c=s+y)<b?c:b)*this.bitmap.width,k[s]=(c=s-e)>0?c*this.bitmap.width:0),u=o+S[s],h=o+k[s],r+=_[u]-_[h],n+=A[u]-A[h],i+=E[u]-E[h],a+=x[u]-x[h],f+=this.bitmap.width<<2}}return Tt(t)&&t.call(this,null,this),this}}),()=>({circle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(t=e,e={});const r=e.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,n="number"==typeof e.x?e.x:this.bitmap.width/2,i="number"==typeof e.y?e.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,a){const o=Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2));r-o<=0?this.bitmap.data[a+3]=0:r-o<1&&(this.bitmap.data[a+3]=255*(r-o))})),Tt(t)&&t.call(this,null,this),this}}),()=>({brightness(e,t){return"number"!=typeof e?Mt.call(this,"val must be numbers",t):e<-1||e>1?Mt.call(this,"val must be a number between -1 and +1",t):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,r,n){e<0?(this.bitmap.data[n]*=1+e,this.bitmap.data[n+1]*=1+e,this.bitmap.data[n+2]*=1+e):(this.bitmap.data[n]+=(255-this.bitmap.data[n])*e,this.bitmap.data[n+1]+=(255-this.bitmap.data[n+1])*e,this.bitmap.data[n+2]+=(255-this.bitmap.data[n+2])*e)})),Tt(t)&&t.call(this,null,this),this)},contrast(e,t){if("number"!=typeof e)return Mt.call(this,"val must be numbers",t);if(e<-1||e>1)return Mt.call(this,"val must be a number between -1 and +1",t);const r=(e+1)/(1-e);function n(e){return(e=Math.floor(r*(e-127)+127))<0?0:e>255?255:e}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data[r]=n(this.bitmap.data[r]),this.bitmap.data[r+1]=n(this.bitmap.data[r+1]),this.bitmap.data[r+2]=n(this.bitmap.data[r+2])})),Tt(t)&&t.call(this,null,this),this},posterize(e,t){return"number"!=typeof e?Mt.call(this,"n must be numbers",t):(e<2&&(e=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,r,n){this.bitmap.data[n]=Math.floor(this.bitmap.data[n]/255*(e-1))/(e-1)*255,this.bitmap.data[n+1]=Math.floor(this.bitmap.data[n+1]/255*(e-1))/(e-1)*255,this.bitmap.data[n+2]=Math.floor(this.bitmap.data[n+2]/255*(e-1))/(e-1)*255})),Tt(t)&&t.call(this,null,this),this)},greyscale:Yn,grayscale:Yn,opacity(e,t){return"number"!=typeof e?Mt.call(this,"f must be a number",t):e<0||e>1?Mt.call(this,"f must be a number from 0 to 1",t):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,r,n){const i=this.bitmap.data[n+3]*e;this.bitmap.data[n+3]=i})),Tt(t)&&t.call(this,null,this),this)},sepia(e){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){let n=this.bitmap.data[r],i=this.bitmap.data[r+1],a=this.bitmap.data[r+2];n=.393*n+.769*i+.189*a,i=.349*n+.686*i+.168*a,a=.272*n+.534*i+.131*a,this.bitmap.data[r]=n<255?n:255,this.bitmap.data[r+1]=i<255?i:255,this.bitmap.data[r+2]=a<255?a:255})),Tt(e)&&e.call(this,null,this),this},fade(e,t){return"number"!=typeof e?Mt.call(this,"f must be a number",t):e<0||e>1?Mt.call(this,"f must be a number from 0 to 1",t):(this.opacity(1-e),Tt(t)&&t.call(this,null,this),this)},convolution(e,t,r){"function"==typeof t&&void 0===r&&(r=t,t=null),t||(t=this.constructor.EDGE_EXTEND);const n=Buffer.from(this.bitmap.data),i=e.length,a=e[0].length,o=Math.floor(i/2),s=Math.floor(a/2),l=-o,c=-s;let u,h,d,f,p,g,m,b,y,v;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(r,i,a){f=0,d=0,h=0;for(let n=l;n<=o;n++)for(let a=c;a<=s;a++)b=r+a,y=i+n,u=e[n+o][a+s],v=this.getPixelIndex(b,y,t),-1===v?(m=0,g=0,p=0):(p=this.bitmap.data[v+0],g=this.bitmap.data[v+1],m=this.bitmap.data[v+2]),h+=u*p,d+=u*g,f+=u*m;h<0&&(h=0),d<0&&(d=0),f<0&&(f=0),h>255&&(h=255),d>255&&(d=255),f>255&&(f=255),n[a+0]=h,n[a+1]=d,n[a+2]=f})),this.bitmap.data=n,Tt(r)&&r.call(this,null,this),this},opaque(e){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data[r+3]=255})),Tt(e)&&e.call(this,null,this),this},pixelate(e,t,r,n,i,a){if("function"==typeof t)a=t,i=null,n=null,r=null,t=null;else{if("number"!=typeof e)return Mt.call(this,"size must be a number",a);if(Kn(t)&&"number"!=typeof t)return Mt.call(this,"x must be a number",a);if(Kn(r)&&"number"!=typeof r)return Mt.call(this,"y must be a number",a);if(Kn(n)&&"number"!=typeof n)return Mt.call(this,"w must be a number",a);if(Kn(i)&&"number"!=typeof i)return Mt.call(this,"h must be a number",a)}const o=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]];t=t||0,r=r||0,n=Kn(n)?n:this.bitmap.width-t,i=Kn(i)?i:this.bitmap.height-r;const s=this.cloneQuiet();return this.scanQuiet(t,r,n,i,(function(t,r,n){t=e*Math.floor(t/e),r=e*Math.floor(r/e);const i=Qn(s,o,t,r);this.bitmap.data[n]=i[0],this.bitmap.data[n+1]=i[1],this.bitmap.data[n+2]=i[2]})),Tt(a)&&a.call(this,null,this),this},convolute(e,t,r,n,i,a){if(!Array.isArray(e))return Mt.call(this,"the kernel must be an array",a);if("function"==typeof t)a=t,t=null,r=null,n=null,i=null;else{if(Kn(t)&&"number"!=typeof t)return Mt.call(this,"x must be a number",a);if(Kn(r)&&"number"!=typeof r)return Mt.call(this,"y must be a number",a);if(Kn(n)&&"number"!=typeof n)return Mt.call(this,"w must be a number",a);if(Kn(i)&&"number"!=typeof i)return Mt.call(this,"h must be a number",a)}t=Kn(t)?t:0,r=Kn(r)?r:0,n=Kn(n)?n:this.bitmap.width-t,i=Kn(i)?i:this.bitmap.height-r;const o=this.cloneQuiet();return this.scanQuiet(t,r,n,i,(function(t,r,n){const i=Qn(o,e,t,r);this.bitmap.data[n]=this.constructor.limit255(i[0]),this.bitmap.data[n+1]=this.constructor.limit255(i[1]),this.bitmap.data[n+2]=this.constructor.limit255(i[2])})),Tt(a)&&a.call(this,null,this),this},color:Xn,colour:Xn}),()=>({contain(e,t,r,n,i){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"w and h must be numbers",i);"string"==typeof r&&("function"==typeof n&&void 0===i&&(i=n),n=r,r=null),"function"==typeof r&&(void 0===i&&(i=r),n=null,r=null),"function"==typeof n&&void 0===i&&(i=n,n=null);const a=7&(r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),o=r>>3;if((0===a||a&a-1)&&(0===o||o&o-1))return Mt.call(this,"only use one flag per alignment direction",i);const s=a>>1,l=o>>1,c=e/t>this.bitmap.width/this.bitmap.height?t/this.bitmap.height:e/this.bitmap.width,u=this.cloneQuiet().scale(c,n);return this.resize(e,t,n),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data.writeUInt32BE(this._background,r)})),this.blit(u,(this.bitmap.width-u.bitmap.width)/2*s,(this.bitmap.height-u.bitmap.height)/2*l),Tt(i)&&i.call(this,null,this),this}}),()=>({cover(e,t,r,n,i){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"w and h must be numbers",i);r&&"function"==typeof r&&void 0===i?(i=r,r=null,n=null):"function"==typeof n&&void 0===i&&(i=n,n=null);const a=7&(r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),o=r>>3;if((0===a||a&a-1)&&(0===o||o&o-1))return Mt.call(this,"only use one flag per alignment direction",i);const s=a>>1,l=o>>1,c=e/t>this.bitmap.width/this.bitmap.height?e/this.bitmap.width:t/this.bitmap.height;return this.scale(c,n),this.crop((this.bitmap.width-e)/2*s,(this.bitmap.height-t)/2*l,e,t),Tt(i)&&i.call(this,null,this),this}}),function(e){return e("crop",(function(e,t,r,n,i){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"x and y must be numbers",i);if("number"!=typeof r||"number"!=typeof n)return Mt.call(this,"w and h must be numbers",i);if(e=Math.round(e),t=Math.round(t),r=Math.round(r),n=Math.round(n),0===e&&r===this.bitmap.width){const i=r*t+e<<2,a=i+(n*r<<2);this.bitmap.data=this.bitmap.data.slice(i,a)}else{const i=Buffer.allocUnsafe(r*n*4);let a=0;this.scanQuiet(e,t,r,n,(function(e,t,r){const n=this.bitmap.data.readUInt32BE(r,!0);i.writeUInt32BE(n,a,!0),a+=4})),this.bitmap.data=i}return this.bitmap.width=r,this.bitmap.height=n,Tt(i)&&i.call(this,null,this),this})),{class:{autocrop(){const e=this.bitmap.width,t=this.bitmap.height;let r,n=0,i=2e-4,a=!0,o=!1,s={north:!1,south:!1,east:!1,west:!1};for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];for(let e=0,t=c.length;e<t;e++)if("number"==typeof c[e]&&(i=c[e]),"boolean"==typeof c[e]&&(a=c[e]),"function"==typeof c[e]&&(r=c[e]),"object"==typeof c[e]){const t=c[e];void 0!==t.tolerance&&({tolerance:i}=t),void 0!==t.cropOnlyFrames&&({cropOnlyFrames:a}=t),void 0!==t.cropSymmetric&&({cropSymmetric:o}=t),void 0!==t.leaveBorder&&({leaveBorder:n}=t),void 0!==t.ignoreSides&&({ignoreSides:s}=t)}let h=this.getPixelColor(0,0);const d=this.constructor.intToRGBA(h);let f=0,p=0,g=0,m=0;if(h=this.getPixelColor(0,0),!s.north)e:for(let r=0;r<t-1;r++){for(let t=0;t<e;t++){const e=this.getPixelColor(t,r),n=this.constructor.intToRGBA(e);if(this.constructor.colorDiff(d,n)>i)break e}f++}if(h=this.getPixelColor(e,0),!s.west)e:for(let r=0;r<e-1;r++){for(let e=0+f;e<t;e++){const t=this.getPixelColor(r,e),n=this.constructor.intToRGBA(t);if(this.constructor.colorDiff(d,n)>i)break e}m++}if(h=this.getPixelColor(0,t),!s.south)e:for(let r=t-1;r>=f+1;r--){for(let t=e-p-1;t>=0;t--){const e=this.getPixelColor(t,r),n=this.constructor.intToRGBA(e);if(this.constructor.colorDiff(d,n)>i)break e}g++}if(h=this.getPixelColor(e,t),!s.east)e:for(let r=e-1;r>=0+m+1;r--){for(let e=t-1;e>=0+f;e--){const t=this.getPixelColor(r,e),n=this.constructor.intToRGBA(t);if(this.constructor.colorDiff(d,n)>i)break e}p++}let b=!1;if(m-=n,p-=n,f-=n,g-=n,o){const e=Math.min(p,m),t=Math.min(f,g);m=e,p=e,f=t,g=t}m=m>=0?m:0,p=p>=0?p:0,f=f>=0?f:0,g=g>=0?g:0;const y=e-(m+p),v=t-(g+f);return b=a?0!==p&&0!==f&&0!==m&&0!==g:0!==p||0!==f||0!==m||0!==g,b&&this.crop(m,f,y,v),Tt(r)&&r.call(this,null,this),this}}}},()=>({displace(e,t,r){if("object"!=typeof e||e.constructor!==this.constructor)return Mt.call(this,"The source must be a Jimp image",r);if("number"!=typeof t)return Mt.call(this,"factor must be a number",r);const n=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(r,i,a){let o=e.bitmap.data[a]/256*t;o=Math.round(o);const s=this.getPixelIndex(r+o,i);this.bitmap.data[s]=n.bitmap.data[a],this.bitmap.data[s+1]=n.bitmap.data[a+1],this.bitmap.data[s+2]=n.bitmap.data[a+2]})),Tt(r)&&r.call(this,null,this),this}}),()=>({dither565:ei,dither16:ei}),()=>({fisheye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},t=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(t=e,e={r:2.5});const r=this.cloneQuiet(),{width:n,height:i}=r.bitmap;return r.scanQuiet(0,0,n,i,((t,a)=>{const o=t/n,s=a/i,l=Math.sqrt(Math.pow(o-.5,2)+Math.pow(s-.5,2)),c=2*Math.pow(l,e.r),u=(o-.5)/l,h=(s-.5)/l,d=Math.round((c*u+.5)*n),f=Math.round((c*h+.5)*i),p=r.getPixelColor(d,f);this.setPixelColor(p,t,a)})),this.setPixelColor(r.getPixelColor(n/2,i/2),n/2,i/2),Tt(t)&&t.call(this,null,this),this}}),()=>({flip:ti,mirror:ti}),()=>({gaussian(e,t){if("number"!=typeof e)return Mt.call(this,"r must be a number",t);if(e<1)return Mt.call(this,"r must be greater than 0",t);const r=Math.ceil(2.57*e),n=2*r+1,i=e*e*2,a=i*Math.PI,o=[];for(let e=0;e<n;e++){o[e]=[];for(let t=0;t<n;t++){const n=(t-r)**2+(e-r)**2;o[e][t]=Math.exp(-n/i)/a}}for(let e=0;e<this.bitmap.height;e++)for(let t=0;t<this.bitmap.width;t++){let i=0,a=0,s=0,l=0,c=0;for(let u=0;u<n;u++){for(let h=0;h<n;h++){const n=Math.min(this.bitmap.width-1,Math.max(0,h+t-r)),d=Math.min(this.bitmap.height-1,Math.max(0,u+e-r)),f=o[u][h],p=d*this.bitmap.width+n<<2;i+=this.bitmap.data[p]*f,a+=this.bitmap.data[p+1]*f,s+=this.bitmap.data[p+2]*f,l+=this.bitmap.data[p+3]*f,c+=f}const h=e*this.bitmap.width+t<<2;this.bitmap.data[h]=Math.round(i/c),this.bitmap.data[h+1]=Math.round(a/c),this.bitmap.data[h+2]=Math.round(s/c),this.bitmap.data[h+3]=Math.round(l/c)}}return Tt(t)&&t.call(this,null,this),this}}),()=>({invert(e){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data[r]=255-this.bitmap.data[r],this.bitmap.data[r+1]=255-this.bitmap.data[r+1],this.bitmap.data[r+2]=255-this.bitmap.data[r+2]})),Tt(e)&&e.call(this,null,this),this}}),()=>({mask(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;if(!(e instanceof this.constructor))return Mt.call(this,"The source must be a Jimp image",n);if("number"!=typeof t||"number"!=typeof r)return Mt.call(this,"x and y must be numbers",n);t=Math.round(t),r=Math.round(r);const i=this.bitmap.width,a=this.bitmap.height,o=this;return e.scanQuiet(0,0,e.bitmap.width,e.bitmap.height,(function(e,n,s){const l=t+e,c=r+n;if(l>=0&&c>=0&&l<i&&c<a){const e=o.getPixelIndex(l,c),{data:t}=this.bitmap,r=(t[s+0]+t[s+1]+t[s+2])/3;o.bitmap.data[e+3]*=r/255}})),Tt(n)&&n.call(this,null,this),this}}),()=>({normalize(e){const t=ri.call(this),r={r:ii(t.r),g:ii(t.g),b:ii(t.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,n){const i=this.bitmap.data[n+0],a=this.bitmap.data[n+1],o=this.bitmap.data[n+2];this.bitmap.data[n+0]=ni(i,r.r[0],r.r[1]),this.bitmap.data[n+1]=ni(a,r.g[0],r.g[1]),this.bitmap.data[n+2]=ni(o,r.b[0],r.b[1])})),Tt(e)&&e.call(this,null,this),this}}),()=>({constants:{measureText:si,measureTextHeight:ci,FONT_SANS_8_BLACK:s().join(di,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s().join(di,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s().join(di,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s().join(di,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s().join(di,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s().join(di,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s().join(di,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s().join(di,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s().join(di,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s().join(di,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s().join(di,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s().join(di,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s().join(di,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont(e,t){return"string"!=typeof e?Mt.call(this,"file must be a string",t):new Promise(((r,n)=>{t=t||function(e,t){e?n(e):r(t)},oi()(e,((r,n)=>{const i={},a={};if(r)return Mt.call(this,r,t);for(let e=0;e<n.chars.length;e++)i[String.fromCharCode(n.chars[e].id)]=n.chars[e];for(let e=0;e<n.kernings.length;e++){const t=String.fromCharCode(n.kernings[e].first);a[t]=a[t]||{},a[t][String.fromCharCode(n.kernings[e].second)]=n.kernings[e].amount}(function(e,t,r){const n=r.map((r=>e.read(t+"/"+r)));return Promise.all(n)})(this,s().dirname(e),n.pages).then((e=>{t(null,{chars:i,kernings:a,pages:e,common:n.common,info:n.info})}))}))}))}},class:{print(e,t,r,n,i,a,o){if("function"==typeof i&&void 0===o&&(o=i,i=1/0),void 0===i&&(i=1/0),"function"==typeof a&&void 0===o&&(o=a,a=1/0),void 0===a&&(a=1/0),"object"!=typeof e)return Mt.call(this,"font must be a Jimp loadFont",o);if("number"!=typeof t||"number"!=typeof r||"number"!=typeof i)return Mt.call(this,"x, y and maxWidth must be numbers",o);if("number"!=typeof i)return Mt.call(this,"maxWidth must be a number",o);if("number"!=typeof a)return Mt.call(this,"maxHeight must be a number",o);let s,l;"object"==typeof n&&null!==n.text&&void 0!==n.text?(s=n.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,l=n.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,({text:n}=n)):(s=this.constructor.HORIZONTAL_ALIGN_LEFT,l=this.constructor.VERTICAL_ALIGN_TOP,n=n.toString()),a!==1/0&&l===this.constructor.VERTICAL_ALIGN_BOTTOM?r+=a-ci(e,n,i):a!==1/0&&l===this.constructor.VERTICAL_ALIGN_MIDDLE&&(r+=a/2-ci(e,n,i)/2);const c=Object.entries(e.chars)[0][1].xadvance,{lines:u,longestLine:h}=li(e,n,i);return u.forEach((n=>{const a=n.join(" "),o=function(e,t,r,n,i){return i===e.HORIZONTAL_ALIGN_LEFT?0:i===e.HORIZONTAL_ALIGN_CENTER?(n-si(t,r))/2:n-si(t,r)}(this.constructor,e,a,i,s);hi.call(this,e,t+o,r,a,c),r+=e.common.lineHeight})),Tt(o)&&o.call(this,null,this,{x:t+h,y:r}),this}}}),()=>({constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize(e,t,r,n){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"w and h must be numbers",n);if("function"==typeof r&&void 0===n&&(n=r,r=null),e===this.constructor.AUTO&&t===this.constructor.AUTO)return Mt.call(this,"w and h cannot both be set to auto",n);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(t/this.bitmap.height)),t===this.constructor.AUTO&&(t=this.bitmap.height*(e/this.bitmap.width)),e<0||t<0)return Mt.call(this,"w and h must be positive numbers",n);if(e=Math.round(e)||1,t=Math.round(t)||1,"function"==typeof mi[r]){const n={data:Buffer.alloc(e*t*4),width:e,height:t};mi[r](this.bitmap,n),this.bitmap=n}else{const r=this;new pi(this.bitmap.width,this.bitmap.height,e,t,!0,!0,(n=>{r.bitmap.data=Buffer.from(n),r.bitmap.width=e,r.bitmap.height=t})).resize(this.bitmap.data)}return Tt(n)&&n.call(this,null,this),this}}}),()=>({rotate(e,t,r){return null==t&&(t=!0),"function"==typeof t&&void 0===r&&(r=t,t=!0),"number"!=typeof e?Mt.call(this,"deg must be a number",r):"boolean"!=typeof t&&"string"!=typeof t?Mt.call(this,"mode must be a boolean or a string",r):(e%90!=0||!t&&this.bitmap.width!==this.bitmap.height&&e%180!=0?yi.call(this,e,t,r):bi.call(this,e),Tt(r)&&r.call(this,null,this),this)}}),()=>({scale(e,t,r){if("number"!=typeof e)return Mt.call(this,"f must be a number",r);if(e<0)return Mt.call(this,"f must be a positive number",r);"function"==typeof t&&void 0===r&&(r=t,t=null);const n=this.bitmap.width*e,i=this.bitmap.height*e;return this.resize(n,i,t),Tt(r)&&r.call(this,null,this),this},scaleToFit(e,t,r,n){if("number"!=typeof e||"number"!=typeof t)return Mt.call(this,"w and h must be numbers",n);"function"==typeof r&&void 0===n&&(n=r,r=null);const i=e/t>this.bitmap.width/this.bitmap.height?t/this.bitmap.height:e/this.bitmap.width;return this.scale(i,r),Tt(n)&&n.call(this,null,this),this}}),()=>({shadow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(t=e,e={});const{opacity:r=.7,size:n=1.1,x:i=-25,y:a=25,blur:o=5}=e,s=this.clone(),l=this.clone();return l.scan(0,0,l.bitmap.width,l.bitmap.height,((e,t,n)=>{l.bitmap.data[n]=0,l.bitmap.data[n+1]=0,l.bitmap.data[n+2]=0,l.bitmap.data[n+3]=l.constructor.limit255(l.bitmap.data[n+3]*r),this.bitmap.data[n]=0,this.bitmap.data[n+1]=0,this.bitmap.data[n+2]=0,this.bitmap.data[n+3]=0})),l.resize(l.bitmap.width*n,l.bitmap.height*n).blur(o),this.composite(l,i,a),this.composite(s,0,0),Tt(t)&&t.call(this,null,this),this}}),()=>({threshold(e,t){let{max:r,replace:n=255,autoGreyscale:i=!0}=e;return"number"!=typeof r?Mt.call(this,"max must be a number",t):"number"!=typeof n?Mt.call(this,"replace must be a number",t):"boolean"!=typeof i?Mt.call(this,"autoGreyscale must be a boolean",t):(r=this.constructor.limit255(r),n=this.constructor.limit255(n),i&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,((e,t,i)=>{const a=this.bitmap.data[i]<r?this.bitmap.data[i]:n;this.bitmap.data[i]=a,this.bitmap.data[i+1]=a,this.bitmap.data[i+2]=a})),Tt(t)&&t.call(this,null,this),this)}})],wi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn;const r={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function n(e){Object.entries(e).forEach((e=>{let[t,n]=e;r[t]={...r[t],...n}}))}return e.types&&(e.types.forEach((function(e){const t=e();Array.isArray(t.mime)?rn(...t.mime):Object.entries(t.mime).forEach((e=>rn(...e))),delete t.mime,n(t)})),t.decoders={...t.decoders,...r.decoders},t.encoders={...t.encoders,...r.encoders},t.hasAlpha={...t.hasAlpha,...r.hasAlpha}),e.plugins&&e.plugins.forEach((function(e){const t=e(Sn)||{};t.class||t.constants?n(t):n({class:t})})),En(r.class,t),An(r.constants,t),kn}({types:[()=>(0,Rn.Ee)(Pn(),Ln(),{mime:{[Dn]:["bmp"]},constants:{MIME_BMP:Dn,MIME_X_MS_BMP:Un},decoders:{[Dn]:Vn,[Un]:Vn},encoders:{[Dn]:Fn,[Un]:Fn}},{mime:{[zn]:["tiff","tif"]},constants:{MIME_TIFF:zn},decoders:{[zn]:e=>{const t=qn().decode(e),r=t[0];t.forEach((t=>{qn().decodeImage(e,t)}));const n=qn().toRGBA8(r);return{data:Buffer.from(n),width:r.t256[0],height:r.t257[0]}}},encoders:{[zn]:e=>{const t=qn().encodeImage(e.bitmap.data,e.bitmap.width,e.bitmap.height);return Buffer.from(t)}}},{mime:{[Gn]:["gif"]},constants:{MIME_GIF:Gn},decoders:{[Gn]:e=>{const t=new $n.GifReader(e),r=Buffer.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,r),{data:r,width:t.width,height:t.height}}},encoders:{[Gn]:e=>{const t=new Hn.BitmapImage(e.bitmap);Hn.GifUtil.quantizeDekker(t,256);const r=new Hn.GifFrame(t);return(new Hn.GifCodec).encodeGif([r],{}).then((e=>e.buffer))}}})],plugins:[e=>{const t=vi.map((t=>{let r=t(e)||{};return r.class||r.constants||(r={class:r}),r}));return(0,Rn.Ee)(...t)}]}),_i="6.8.1";function Ai(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}async function Ei(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,n)=>(e[t[n]]=r,e)),{})}function xi(e,t,r){for(let n in t){let i=t[n];const a=r?r[n]:null;a&&Ai(i,a,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Si(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Si).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return Si(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Si(t)}: ${Si(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ki(e,t){return e&&e.code===t}function Ri(e){return ki(e,"CALL_EXCEPTION")}function Ii(e,t,r){let n,i=e;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Si(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];n.push(e+"="+Si(t))}}n.push(`code=${t}`),n.push(`version=${_i}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(e);break;default:n=new Error(e)}return xi(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&xi(n,{shortMessage:i}),n}function Ti(e,t,r,n){if(!e)throw Ii(t,r,n)}function Mi(e,t,r,n){Ti(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function Pi(e,t,r){null==r&&(r=""),r&&(r=": "+r),Ti(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Ti(e<=t,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Ci=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function Oi(e){Ti(Ci.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function Li(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),Ti(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function Ni(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}Mi(!1,"invalid BytesLike value",t||"value",e)}function Bi(e,t){return Ni(e,t,!1)}function Di(e,t){return Ni(e,t,!0)}function Ui(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}function Vi(e){return Ui(e,!0)||e instanceof Uint8Array}const Fi="0123456789abcdef";function ji(e){const t=Bi(e);let r="0x";for(let e=0;e<t.length;e++){const n=t[e];r+=Fi[(240&n)>>4]+Fi[15&n]}return r}function qi(e){return"0x"+e.map((e=>ji(e).substring(2))).join("")}function zi(e){return Ui(e,!0)?(e.length-2)/2:Bi(e).length}function $i(e,t,r){const n=Bi(e);return null!=r&&r>n.length&&Ti(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ji(n.slice(null==t?0:t,null==r?n.length:r))}function Hi(e){let t=ji(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function Gi(e,t,r){const n=Bi(e);Ti(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),ji(i)}function Wi(e,t){return Gi(e,t,!0)}function Ji(e,t){return Gi(e,t,!1)}function Qi(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}const Ki=Object.freeze({error:function(e,t,r,n,i){Mi(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Qi,replace:function(e,t,r,n,i){return"OVERLONG"===e?(Mi("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Qi(e,t,r))}});function Yi(e,t){null==t&&(t=Ki.error);const r=Bi(e,"bytes"),n=[];let i=0;for(;i<r.length;){const e=r[i++];if(e>>7==0){n.push(e);continue}let a=null,o=null;if(192==(224&e))a=1,o=127;else if(224==(240&e))a=2,o=2047;else{if(240!=(248&e)){i+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,r,n);continue}a=3,o=65535}if(i-1+a>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let s=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=r[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,r,n),s=null;break}s=s<<6|63&e,i++}null!==s&&(s>1114111?i+=t("OUT_OF_RANGE",i-1-a,r,n,s):s>=55296&&s<=57343?i+=t("UTF16_SURROGATE",i-1-a,r,n,s):s<=o?i+=t("OVERLONG",i-1-a,r,n,s):n.push(s))}return n}function Zi(e,t){null!=t&&(Oi(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);Mi(t<e.length&&56320==(64512&i),"invalid surrogate pair","str",e);const a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function Xi(e,t){return Yi(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function ea(e,t){return Yi(Zi(e,t))}function ta(e){const t=Zi(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Ji(t,32)}function ra(e){const t=Bi(e,"bytes");if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return Xi(t.slice(0,r))}const na=BigInt(0),ia=BigInt(1),aa=9007199254740991;function oa(e,t){const r=ua(e,"value"),n=BigInt(fa(t,"width"));return Ti(r>>n===na,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-ia?-((~r&(ia<<n)-ia)+ia):r}function sa(e,t){let r=ca(e,"value");const n=BigInt(fa(t,"width")),i=ia<<n-ia;return r<na?(r=-r,Ti(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(ia<<n)-ia)+ia):(Ti(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function la(e,t){const r=ua(e,"value"),n=BigInt(fa(t,"bits"));return r&(ia<<n)-ia}function ca(e,t){switch(typeof e){case"bigint":return e;case"number":return Mi(Number.isInteger(e),"underflow",t||"value",e),Mi(e>=-aa&&e<=aa,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){Mi(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}Mi(!1,"invalid BigNumberish value",t||"value",e)}function ua(e,t){const r=ca(e,t);return Ti(r>=na,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const ha="0123456789abcdef";function da(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=ha[r>>4],t+=ha[15&r];return BigInt(t)}return ca(e)}function fa(e,t){switch(typeof e){case"bigint":return Mi(e>=-aa&&e<=aa,"overflow",t||"value",e),Number(e);case"number":return Mi(Number.isInteger(e),"underflow",t||"value",e),Mi(e>=-aa&&e<=aa,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return fa(BigInt(e),t)}catch(r){Mi(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}Mi(!1,"invalid numeric value",t||"value",e)}function pa(e){return fa(da(e))}function ga(e,t){let r=ua(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const n=fa(t,"width");for(Ti(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function ma(e){const t=ua(e,"value");if(t===na)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}function ba(e){let t=ji(Vi(e)?e:ma(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const ya=32,va=new Uint8Array(ya),wa=["then"],_a={};function Aa(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class Ea extends Array{#s;constructor(...e){const t=e[0];let r=e[1],n=(e[2]||[]).slice(),i=!0;t!==_a&&(r=e,n=[],i=!1),super(r.length),r.forEach(((e,t)=>{this[t]=e}));const a=n.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#s=Object.freeze(r.map(((e,t)=>{const r=n[t];return null!=r&&1===a.get(r)?r:null}))),i)return Object.freeze(this),new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const r=fa(t,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=e[r];return n instanceof Error&&Aa(`index ${r}`,n),n}if(wa.indexOf(t)>=0)return Reflect.get(e,t,r);const n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}})}toArray(){const e=[];return this.forEach(((t,r)=>{t instanceof Error&&Aa(`index ${r}`,t),e.push(t)})),e}toObject(){return this.#s.reduce(((e,t,r)=>(Ti(null!=t,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=[],n=[];for(let i=e;i<t;i++)r.push(this[i]),n.push(this.#s[i]);return new Ea(_a,r,n)}filter(e,t){const r=[],n=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Aa(`index ${i}`,a),e.call(t,a,i,this)&&(r.push(a),n.push(this.#s[i]))}return new Ea(_a,r,n)}map(e,t){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&Aa(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){const t=this.#s.indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&Aa(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new Ea(_a,e,t)}}function xa(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const a=e.slice();a.push(i);try{r(a,n[i])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}function Sa(e){let t=ma(e);return Ti(t.length<=ya,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:ya,offset:t.length}),t.length!==ya&&(t=Di(qi([va.slice(t.length%ya),t]))),t}class ka{name;type;localName;dynamic;constructor(e,t,r,n){xi(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Mi(!1,e,this.localName,t)}}class Ra{#l;#c;constructor(){this.#l=[],this.#c=0}get data(){return qi(this.#l)}get length(){return this.#c}#u(e){return this.#l.push(e),this.#c+=e.length,e.length}appendWriter(e){return this.#u(Di(e.data))}writeBytes(e){let t=Di(e);const r=t.length%ya;return r&&(t=Di(qi([t,va.slice(r)]))),this.#u(t)}writeValue(e){return this.#u(Sa(e))}writeUpdatableValue(){const e=this.#l.length;return this.#l.push(va),this.#c+=ya,t=>{this.#l[e]=Sa(t)}}}class Ia{allowLoose;#l;#h;constructor(e,t){xi(this,{allowLoose:!!t}),this.#l=Di(e),this.#h=0}get data(){return ji(this.#l)}get dataLength(){return this.#l.length}get consumed(){return this.#h}get bytes(){return new Uint8Array(this.#l)}#d(e,t,r){let n=Math.ceil(t/ya)*ya;return this.#h+n>this.#l.length&&(this.allowLoose&&r&&this.#h+t<=this.#l.length?n=t:Ti(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Di(this.#l),length:this.#l.length,offset:this.#h+n})),this.#l.slice(this.#h,this.#h+n)}subReader(e){return new Ia(this.#l.slice(this.#h+e),this.allowLoose)}readBytes(e,t){let r=this.#d(0,e,!!t);return this.#h+=r.length,r.slice(0,e)}readValue(){return da(this.readBytes(ya))}readIndex(){return pa(this.readBytes(ya))}}function Ta(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ma(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Pa(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ta(e.outputLen),Ta(e.blockLen)}function Ca(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Oa(e,t){Ma(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const La=BigInt(2**32-1),Na=BigInt(32);function Ba(e,t=!1){return t?{h:Number(e&La),l:Number(e>>Na&La)}:{h:0|Number(e>>Na&La),l:0|Number(e&La)}}function Da(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:o}=Ba(e[i],t);[r[i],n[i]]=[a,o]}return[r,n]}const Ua=(e,t,r)=>e<<r|t>>>32-r,Va=(e,t,r)=>t<<r|e>>>32-r,Fa=(e,t,r)=>t<<r-32|e>>>64-r,ja=(e,t,r)=>e<<r-32|t>>>64-r,qa={fromBig:Ba,split:Da,toBig:(e,t)=>BigInt(e>>>0)<<Na|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Ua,rotlSL:Va,rotlBH:Fa,rotlBL:ja,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},za=e=>e instanceof Uint8Array,$a=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Ha=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ga=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Wa=async()=>{};async function Ja(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-n;e>=0&&e<t||(await Wa(),n+=e)}}function Qa(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!za(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Ka{clone(){return this._cloneInto()}}const Ya={}.toString;function Za(e,t){if(void 0!==t&&"[object Object]"!==Ya.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Xa(e){const t=t=>e().update(Qa(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const[eo,to,ro]=[[],[],[]],no=BigInt(0),io=BigInt(1),ao=BigInt(2),oo=BigInt(7),so=BigInt(256),lo=BigInt(113);for(let e=0,t=io,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],eo.push(2*(5*n+r)),to.push((e+1)*(e+2)/2%64);let i=no;for(let e=0;e<7;e++)t=(t<<io^(t>>oo)*lo)%so,t&ao&&(i^=io<<(io<<BigInt(e))-io);ro.push(i)}const[co,uo]=Da(ro,!0),ho=(e,t,r)=>r>32?Fa(e,t,r):Ua(e,t,r),fo=(e,t,r)=>r>32?ja(e,t,r):Va(e,t,r);class po extends Ka{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ta(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$a(this.state)}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,a=r[i],o=r[i+1],s=ho(a,o,1)^r[n],l=fo(a,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=to[r],a=ho(t,i,n),o=fo(t,i,n),s=eo[r];t=e[s],i=e[s+1],e[s]=a,e[s+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=co[n],e[1]^=uo[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ca(this);const{blockLen:t,state:r}=this,n=(e=Qa(e)).length;for(let i=0;i<n;){const a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Ca(this,!1),Ma(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ta(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Oa(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new po(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}const go=((e,t,r)=>Xa((()=>new po(t,e,r))))(1,136,32);let mo=!1;const bo=function(e){return go(e)};let yo=bo;function vo(e){const t=Bi(e,"data");return ji(yo(t))}vo._=bo,vo.lock=function(){mo=!0},vo.register=function(e){if(mo)throw new TypeError("keccak256 is locked");yo=e},Object.freeze(vo);const wo=BigInt(0),_o=BigInt(36);function Ao(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=Bi(vo(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Eo={};for(let e=0;e<10;e++)Eo[String(e)]=String(e);for(let e=0;e<26;e++)Eo[String.fromCharCode(65+e)]=String(10+e);const xo=15;function So(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Eo[e])).join("");for(;t.length>=xo;){let e=t.substring(0,xo);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const ko=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function Ro(e){if(Mi("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Ao(e);return Mi(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Mi(e.substring(2,4)===So(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=wo;for(let r=0;r<e.length;r++)t=t*_o+ko[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Ao("0x"+t)}Mi(!1,"invalid address","address",e)}function Io(e){let t=BigInt(Ro(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+So("XE00"+t)+t}const To={};function Mo(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new Oo(To,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function Po(e,t){return new Oo(To,`bytes${t||""}`,e,{size:t})}const Co=Symbol.for("_ethers_typed");class Oo{type;value;#f;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),Li(To,e,"Typed"),xi(this,{_typedSymbol:Co,type:t,value:r}),this.#f=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#f}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#f?-1:!1===this.#f?this.value.length:null}static from(e,t){return new Oo(To,e,t)}static uint8(e){return Mo(e,8)}static uint16(e){return Mo(e,16)}static uint24(e){return Mo(e,24)}static uint32(e){return Mo(e,32)}static uint40(e){return Mo(e,40)}static uint48(e){return Mo(e,48)}static uint56(e){return Mo(e,56)}static uint64(e){return Mo(e,64)}static uint72(e){return Mo(e,72)}static uint80(e){return Mo(e,80)}static uint88(e){return Mo(e,88)}static uint96(e){return Mo(e,96)}static uint104(e){return Mo(e,104)}static uint112(e){return Mo(e,112)}static uint120(e){return Mo(e,120)}static uint128(e){return Mo(e,128)}static uint136(e){return Mo(e,136)}static uint144(e){return Mo(e,144)}static uint152(e){return Mo(e,152)}static uint160(e){return Mo(e,160)}static uint168(e){return Mo(e,168)}static uint176(e){return Mo(e,176)}static uint184(e){return Mo(e,184)}static uint192(e){return Mo(e,192)}static uint200(e){return Mo(e,200)}static uint208(e){return Mo(e,208)}static uint216(e){return Mo(e,216)}static uint224(e){return Mo(e,224)}static uint232(e){return Mo(e,232)}static uint240(e){return Mo(e,240)}static uint248(e){return Mo(e,248)}static uint256(e){return Mo(e,256)}static uint(e){return Mo(e,256)}static int8(e){return Mo(e,-8)}static int16(e){return Mo(e,-16)}static int24(e){return Mo(e,-24)}static int32(e){return Mo(e,-32)}static int40(e){return Mo(e,-40)}static int48(e){return Mo(e,-48)}static int56(e){return Mo(e,-56)}static int64(e){return Mo(e,-64)}static int72(e){return Mo(e,-72)}static int80(e){return Mo(e,-80)}static int88(e){return Mo(e,-88)}static int96(e){return Mo(e,-96)}static int104(e){return Mo(e,-104)}static int112(e){return Mo(e,-112)}static int120(e){return Mo(e,-120)}static int128(e){return Mo(e,-128)}static int136(e){return Mo(e,-136)}static int144(e){return Mo(e,-144)}static int152(e){return Mo(e,-152)}static int160(e){return Mo(e,-160)}static int168(e){return Mo(e,-168)}static int176(e){return Mo(e,-176)}static int184(e){return Mo(e,-184)}static int192(e){return Mo(e,-192)}static int200(e){return Mo(e,-200)}static int208(e){return Mo(e,-208)}static int216(e){return Mo(e,-216)}static int224(e){return Mo(e,-224)}static int232(e){return Mo(e,-232)}static int240(e){return Mo(e,-240)}static int248(e){return Mo(e,-248)}static int256(e){return Mo(e,-256)}static int(e){return Mo(e,-256)}static bytes1(e){return Po(e,1)}static bytes2(e){return Po(e,2)}static bytes3(e){return Po(e,3)}static bytes4(e){return Po(e,4)}static bytes5(e){return Po(e,5)}static bytes6(e){return Po(e,6)}static bytes7(e){return Po(e,7)}static bytes8(e){return Po(e,8)}static bytes9(e){return Po(e,9)}static bytes10(e){return Po(e,10)}static bytes11(e){return Po(e,11)}static bytes12(e){return Po(e,12)}static bytes13(e){return Po(e,13)}static bytes14(e){return Po(e,14)}static bytes15(e){return Po(e,15)}static bytes16(e){return Po(e,16)}static bytes17(e){return Po(e,17)}static bytes18(e){return Po(e,18)}static bytes19(e){return Po(e,19)}static bytes20(e){return Po(e,20)}static bytes21(e){return Po(e,21)}static bytes22(e){return Po(e,22)}static bytes23(e){return Po(e,23)}static bytes24(e){return Po(e,24)}static bytes25(e){return Po(e,25)}static bytes26(e){return Po(e,26)}static bytes27(e){return Po(e,27)}static bytes28(e){return Po(e,28)}static bytes29(e){return Po(e,29)}static bytes30(e){return Po(e,30)}static bytes31(e){return Po(e,31)}static bytes32(e){return Po(e,32)}static address(e){return new Oo(To,"address",e)}static bool(e){return new Oo(To,"bool",!!e)}static bytes(e){return new Oo(To,"bytes",e)}static string(e){return new Oo(To,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Oo(To,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===Co}static dereference(e,t){if(Oo.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class Lo extends ka{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Oo.dereference(t,"string");try{r=Ro(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return Ro(ga(e.readValue(),20))}}class No extends ka{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Bo(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return Ti(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),Ti(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]}))}else Mi(!1,"invalid tuple value","tuple",r);Mi(t.length===n.length,"types/value length mismatch","tuple",r);let i=new Ra,a=new Ra,o=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=a.length;e.encode(a,r);let n=i.writeUpdatableValue();o.push((e=>{n(e+t)}))}else e.encode(i,r)})),o.forEach((e=>{e(i.length)}));let s=e.appendWriter(i);return s+=e.appendWriter(a),s}function Do(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach((t=>{let a=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{a=t.decode(n)}catch(e){if(ki(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(ki(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}if(null==a)throw new Error("investigate");r.push(a),n.push(t.localName||null)})),Ea.fromItems(r,n)}class Uo extends ka{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),xi(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=Oo.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),Pi(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return Bo(e,i,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Ti(t*ya<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*ya,length:e.dataLength}));let r=[];for(let e=0;e<t;e++)r.push(new No(this.coder));return Do(e,r)}}class Vo extends ka{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Oo.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Fo extends ka{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Di(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class jo extends Fo{constructor(e){super("bytes",e)}decode(e){return ji(super.decode(e))}}class qo extends ka{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),xi(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=Di(Oo.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return ji(e.readBytes(this.size))}}const zo=new Uint8Array([]);class $o extends ka{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(zo)}decode(e){return e.readBytes(0),null}}const Ho=BigInt(0),Go=BigInt(1),Wo=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Jo extends ka{size;signed;constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),xi(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=ca(Oo.dereference(t,this.type)),n=la(Wo,256);if(this.signed){let e=la(n,8*this.size-1);(r>e||r<-(e+Go))&&this._throwError("value out-of-bounds",t),r=sa(r,256)}else(r<Ho||r>la(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=la(e.readValue(),8*this.size);return this.signed&&(t=oa(t,8*this.size)),t}}class Qo extends Fo{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Zi(Oo.dereference(t,"string")))}decode(e){return Xi(super.decode(e))}}class Ko extends ka{coders;constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)})),super("tuple","tuple("+n.join(",")+")",t,r),xi(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){const r=Oo.dereference(t,"tuple");return Bo(e,this.coders,r)}decode(e){return Do(e,this.coders)}}function Yo(e){return vo(Zi(e))}function Zo(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Xo=Zo("external public payable".split(" ")),es="constant external internal payable private public pure view",ts=Zo(es.split(" ")),rs="constructor error event fallback function receive struct",ns=Zo(rs.split(" ")),is="calldata memory storage payable indexed",as=Zo(is.split(" ")),os=Zo([rs,is,"tuple returns",es].join(" ").split(" ")),ss={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},ls=new RegExp("^(\\s*)"),cs=new RegExp("^([0-9]+)"),us=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),hs=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ds=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class fs{#h;#p;get offset(){return this.#h}get length(){return this.#p.length-this.#h}constructor(e){this.#h=0,this.#p=e.slice()}clone(){return new fs(this.#p)}reset(){this.#h=0}#g(e=0,t=0){return new fs(this.#p.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#g(this.#h+1,e.match+1);return this.#h=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#h<e.match-1;){const e=this.peek().linkNext;t.push(this.#g(this.#h+1,e)),this.#h=e}return this.#h=e.match+1,t}peek(){if(this.#h>=this.#p.length)throw new Error("out-of-bounds");return this.#p[this.#h]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#h++,e}toString(){const e=[];for(let t=this.#h;t<this.#p.length;t++){const r=this.#p[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function ps(e){const t=[],r=t=>{const r=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error(`invalid token ${r} at ${a}: ${t}`)};let n=[],i=[],a=0;for(;a<e.length;){let o=e.substring(a),s=o.match(ls);s&&(a+=s[1].length,o=e.substring(a));const l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(l);let c=ss[o[0]]||"";if(c){if(l.type=c,l.text=o[0],a++,"OPEN_PAREN"===c)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==c)0===n.length&&r("no matching open bracket"),l.match=n.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const r=t.pop().text;e=r+e,t[t.length-1].value=fa(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(s=o.match(us),s){if(l.text=s[1],a+=l.text.length,os.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(ds)){l.type="TYPE";continue}l.type="ID"}else{if(s=o.match(cs),!s)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`);l.text=s[1],l.type="NUMBER",a+=l.text.length}}return new fs(t.map((e=>Object.freeze(e))))}function gs(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function ms(e,t){if(t.peekKeyword(ns)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function bs(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function ys(e){let t=bs(e,ts);return gs(t,Zo("constant payable nonpayable".split(" "))),gs(t,Zo("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function vs(e,t){return e.popParams().map((e=>Os.from(e,t)))}function ws(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ca(e.pop().text);throw new Error("invalid gas")}return null}function _s(e){if(e.length)throw new Error(`unexpected tokens: ${e.toString()}`)}const As=new RegExp(/^(.*)\[([0-9]*)\]$/);function Es(e){const t=e.match(ds);if(Mi(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const r=parseInt(t[2]);Mi(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);Mi(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}const xs={},Ss=Symbol.for("_ethers_internal"),ks="_ParamTypeInternal",Rs="_ErrorInternal",Is="_EventInternal",Ts="_ConstructorInternal",Ms="_FallbackInternal",Ps="_FunctionInternal",Cs="_StructInternal";class Os{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,a,o,s){if(Li(e,xs,"ParamType"),Object.defineProperty(this,Ss,{value:ks}),a&&(a=Object.freeze(a.slice())),"array"===n){if(null==o||null==s)throw new Error("")}else if(null!=o||null!=s)throw new Error("");if("tuple"===n){if(null==a)throw new Error("")}else if(null!=a)throw new Error("");xi(this,{name:t,type:r,baseType:n,indexed:i,components:a,arrayLength:o,arrayChildren:s})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?("sighash"!==e&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")"):t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,n)=>r.components[n].walk(e,t)))}return t(this.type,e)}#m(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,a=t.slice();return a.forEach(((t,n)=>{i.#m(e,t,r,(e=>{a[n]=e}))})),void n(a)}if(this.isTuple()){const i=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");a=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(a.length!==this.components.length)throw new Error("array is wrong length");return a.forEach(((t,n)=>{i[n].#m(e,t,r,(e=>{a[n]=e}))})),void n(a)}const i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){const r=[],n=[e];return this.#m(r,e,t,(e=>{n[0]=e})),r.length&&await Promise.all(r),n[0]}static from(e,t){if(Os.isParamType(e))return e;if("string"==typeof e)try{return Os.from(ps(e),t)}catch(t){Mi(!1,"invalid param type","obj",e)}else if(e instanceof fs){let r="",n="",i=null;bs(e,Zo(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map((e=>Os.from(e))),r=`tuple(${i.map((e=>e.format())).join(",")})`):(r=Es(e.popType("TYPE")),n=r);let a=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();a=new Os(xs,"",r,n,null,i,o,a),o=t.value,r+=t.text,n="array",i=null}let s=null;if(bs(e,as).has("indexed")){if(!t)throw new Error("");s=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Os(xs,l,r,n,s,i,o,a)}const r=e.name;Mi(!r||"string"==typeof r&&r.match(hs),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(Mi(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,a=i.match(As);if(a){const t=parseInt(a[2]||"-1"),o=Os.from({type:a[1],components:e.components});return new Os(xs,r||"",i,"array",n,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>Os.from(e))):null;return new Os(xs,r||"",i,"tuple",n,t,null,null)}return i=Es(e.type),new Os(xs,r||"",i,i,n,null,null,null)}static isParamType(e){return e&&e[Ss]===ks}}class Ls{type;inputs;constructor(e,t,r){Li(e,xs,"Fragment"),xi(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{Ls.from(JSON.parse(e))}catch(e){}return Ls.from(ps(e))}if(e instanceof fs)switch(e.peekKeyword(ns)){case"constructor":return Vs.from(e);case"error":return Ds.from(e);case"event":return Us.from(e);case"fallback":case"receive":return Fs.from(e);case"function":return js.from(e);case"struct":return qs.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return Vs.from(e);case"error":return Ds.from(e);case"event":return Us.from(e);case"fallback":case"receive":return Fs.from(e);case"function":return js.from(e);case"struct":return qs.from(e)}Ti(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Mi(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Vs.isFragment(e)}static isError(e){return Ds.isFragment(e)}static isEvent(e){return Us.isFragment(e)}static isFunction(e){return js.isFragment(e)}static isStruct(e){return qs.isFragment(e)}}class Ns extends Ls{name;constructor(e,t,r,n){super(e,t,n),Mi("string"==typeof r&&r.match(hs),"invalid identifier","name",r),n=Object.freeze(n.slice()),xi(this,{name:r})}}function Bs(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Ds extends Ns{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Ss,{value:Rs})}get selector(){return Yo(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Bs(e,this.inputs)),t.join(" ")}static from(e){if(Ds.isFragment(e))return e;if("string"==typeof e)return Ds.from(ps(e));if(e instanceof fs){const t=ms("error",e),r=vs(e);return _s(e),new Ds(xs,t,r)}return new Ds(xs,e.name,e.inputs?e.inputs.map(Os.from):[])}static isFragment(e){return e&&e[Ss]===Rs}}class Us extends Ns{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,Ss,{value:Is}),xi(this,{anonymous:n})}get topicHash(){return Yo(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Bs(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>Os.from(e))),new Us(xs,e,t,!1).topicHash}static from(e){if(Us.isFragment(e))return e;if("string"==typeof e)try{return Us.from(ps(e))}catch(t){Mi(!1,"invalid event fragment","obj",e)}else if(e instanceof fs){const t=ms("event",e),r=vs(e,!0),n=!!bs(e,Zo(["anonymous"])).has("anonymous");return _s(e),new Us(xs,t,r,n)}return new Us(xs,e.name,e.inputs?e.inputs.map((e=>Os.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[Ss]===Is}}class Vs extends Ls{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,Ss,{value:Ts}),xi(this,{payable:n,gas:i})}format(e){if(Ti(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${Bs(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Vs.isFragment(e))return e;if("string"==typeof e)try{return Vs.from(ps(e))}catch(t){Mi(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof fs){bs(e,Zo(["constructor"]));const t=vs(e),r=!!bs(e,Xo).has("payable"),n=ws(e);return _s(e),new Vs(xs,"constructor",t,r,n)}return new Vs(xs,"constructor",e.inputs?e.inputs.map(Os.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Ss]===Ts}}class Fs extends Ls{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,Ss,{value:Ms}),xi(this,{payable:r})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Fs.isFragment(e))return e;if("string"==typeof e)try{return Fs.from(ps(e))}catch(t){Mi(!1,"invalid fallback fragment","obj",e)}else if(e instanceof fs){const t=e.toString();if(Mi(e.peekKeyword(Zo(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(Zo(["fallback","receive"]))){const t=vs(e);return Mi(0===t.length,"receive cannot have arguments","obj.inputs",t),bs(e,Zo(["payable"])),_s(e),new Fs(xs,[],!0)}let r=vs(e);r.length?Mi(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((e=>e.format("minimal"))).join(", ")):r=[Os.from("bytes")];const n=ys(e);if(Mi("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),bs(e,Zo(["returns"])).has("returns")){const t=vs(e);Mi(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return _s(e),new Fs(xs,r,"payable"===n)}if("receive"===e.type)return new Fs(xs,[],!0);if("fallback"===e.type){const t=[Os.from("bytes")],r="payable"===e.stateMutability;return new Fs(xs,t,r)}Mi(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Ss]===Ms}}class js extends Ns{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,a){super(e,"function",t,n),Object.defineProperty(this,Ss,{value:Ps}),xi(this,{constant:"view"===r||"pure"===r,gas:a,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Yo(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Bs(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Bs(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>Os.from(e))),new js(xs,e,"view",t,[],null).selector}static from(e){if(js.isFragment(e))return e;if("string"==typeof e)try{return js.from(ps(e))}catch(t){Mi(!1,"invalid function fragment","obj",e)}else if(e instanceof fs){const t=ms("function",e),r=vs(e),n=ys(e);let i=[];bs(e,Zo(["returns"])).has("returns")&&(i=vs(e));const a=ws(e);return _s(e),new js(xs,t,n,r,i,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new js(xs,e.name,t,e.inputs?e.inputs.map(Os.from):[],e.outputs?e.outputs.map(Os.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Ss]===Ps}}class qs extends Ns{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Ss,{value:Cs})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return qs.from(ps(e))}catch(t){Mi(!1,"invalid struct fragment","obj",e)}else if(e instanceof fs){const t=ms("struct",e),r=vs(e);return _s(e),new qs(xs,t,r)}return new qs(xs,e.name,e.inputs?e.inputs.map(Os.from):[])}static isFragment(e){return e&&e[Ss]===Cs}}const zs=new Map;zs.set(0,"GENERIC_PANIC"),zs.set(1,"ASSERT_FALSE"),zs.set(17,"OVERFLOW"),zs.set(18,"DIVIDE_BY_ZERO"),zs.set(33,"ENUM_RANGE_ERROR"),zs.set(34,"BAD_STORAGE_DATA"),zs.set(49,"STACK_UNDERFLOW"),zs.set(50,"ARRAY_RANGE_ERROR"),zs.set(65,"OUT_OF_MEMORY"),zs.set(81,"UNINITIALIZED_FUNCTION_CALL");const $s=new RegExp(/^bytes([0-9]*)$/),Hs=new RegExp(/^(u?int)([0-9]*)$/);let Gs=null;class Ws{#b(e){if(e.isArray())return new Uo(this.#b(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Ko(e.components.map((e=>this.#b(e))),e.name);switch(e.baseType){case"address":return new Lo(e.name);case"bool":return new Vo(e.name);case"string":return new Qo(e.name);case"bytes":return new jo(e.name);case"":return new $o(e.name)}let t=e.type.match(Hs);if(t){let r=parseInt(t[2]||"256");return Mi(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new Jo(r/8,"int"===t[1],e.name)}if(t=e.type.match($s),t){let r=parseInt(t[1]);return Mi(0!==r&&r<=32,"invalid bytes length","param",e),new qo(r,e.name)}Mi(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#b(Os.from(e))));return new Ko(t,"_").defaultValue()}encode(e,t){Pi(t.length,e.length,"types/values length mismatch");const r=e.map((e=>this.#b(Os.from(e)))),n=new Ko(r,"_"),i=new Ra;return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this.#b(Os.from(e))));return new Ko(n,"_").decode(new Ia(t,r))}static defaultAbiCoder(){return null==Gs&&(Gs=new Ws),Gs}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",a=null,o=null;if(r){i="execution reverted";const e=Bi(r);if(r=ji(r),0===e.length)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===ji(e.slice(0,4)))try{a=n.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===ji(e.slice(0,4)))try{const t=Number(n.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${zs.get(t)||"UNKNOWN"}(${t})`,i+=`: ${a}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const s={to:t.to?Ro(t.to):null,data:t.data||"0x"};return t.from&&(s.from=Ro(t.from)),Ii(i,"CALL_EXCEPTION",{action:e,data:r,reason:a,transaction:s,invocation:null,revert:o})}(e,t,r,Ws.defaultAbiCoder())}}class Js{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,i=e.format();xi(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class Qs{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const i=e.name,a=e.format();xi(this,{fragment:e,name:i,args:r,signature:a,selector:t,value:n})}}class Ks{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,i=e.format();xi(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class Ys{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){xi(this,{hash:e,_isIndexed:!0})}}const Zs={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Xs={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Zs[e.toString()]&&(t=Zs[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class el{fragments;deploy;fallback;receive;#y;#v;#w;#_;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#w=new Map,this.#y=new Map,this.#v=new Map;const r=[];for(const e of t)try{r.push(Ls.from(e))}catch(e){console.log("EE",e)}xi(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#_=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void xi(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(Mi(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=e,i=n.payable));case"function":r=this.#w;break;case"event":r=this.#v;break;case"error":r=this.#y;break;default:return}const a=e.format();r.has(a)||r.set(a,e)})),this.deploy||xi(this,{deploy:Vs.from("constructor()")}),xi(this,{fallback:n,receive:i})}format(e){const t=e?"minimal":"full",r=this.fragments.map((e=>e.format(t)));return r}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return Ws.defaultAbiCoder()}#A(e,t,r){if(Ui(e)){const t=e.toLowerCase();for(const e of this.#w.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#w)t.split("(")[0]===e&&n.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,i=!0;Oo.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){const t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(Oo.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}return 0===n.length?null:(n.length>1&&r&&Mi(!1,`ambiguous function description (i.e. matches ${n.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),n[0])}return this.#w.get(js.from(e).format())||null}getFunctionName(e){const t=this.#A(e,null,!1);return Mi(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#A(e,null,!1)}getFunction(e,t){return this.#A(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#w.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#w.get(n),r)}}#E(e,t,r){if(Ui(e)){const t=e.toLowerCase();for(const e of this.#v.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#v)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(Oo.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}return 0===n.length?null:(n.length>1&&r&&Mi(!1,`ambiguous event description (i.e. matches ${n.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),n[0])}return this.#v.get(Us.from(e).format())||null}getEventName(e){const t=this.#E(e,null,!1);return Mi(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#E(e,null,!1)}getEvent(e,t){return this.#E(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#v.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#v.get(n),r)}}getError(e,t){if(Ui(e)){const t=e.toLowerCase();if(Xs[t])return Ds.from(Xs[t].signature);for(const e of this.#y.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,n]of this.#y)r.split("(")[0]===e&&t.push(n);return 0===t.length?"Error"===e?Ds.from("error Error(string)"):"Panic"===e?Ds.from("error Panic(uint256)"):null:(t.length>1&&Mi(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e),t[0])}if("Error(string)"===(e=Ds.from(e).format()))return Ds.from("error Error(string)");if("Panic(uint256)"===e)return Ds.from("error Panic(uint256)");return this.#y.get(e)||null}forEachError(e){const t=Array.from(this.#y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#y.get(n),r)}}_decodeParams(e,t){return this.#_.decode(e,t)}_encodeParams(e,t){return this.#_.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);Mi(t,"unknown error","fragment",e),e=t}return Mi($i(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,$i(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);Mi(t,"unknown error","fragment",e),e=t}return qi([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);Mi(t,"unknown function","fragment",e),e=t}return Mi($i(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,$i(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);Mi(t,"unknown function","fragment",e),e=t}return qi([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);Mi(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const n=Di(t);if(n.length%32==0)try{return this.#_.decode(e.outputs,n)}catch(e){r="could not decode result data"}Ti(!1,r,"BAD_DATA",{value:ji(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=Bi(e,"data"),n=Ws.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const e=ji(r.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#_.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);Mi(t,"unknown function","fragment",e),e=t}return ji(this.#_.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);Mi(t,"unknown event","eventFragment",e),e=t}Ti(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const n=(e,t)=>"string"===e.type?Yo(t):"bytes"===e.type?vo(ji(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=ga(t):e.type.match(/^bytes/)?t=Ji(t,32):"address"===e.type&&this.#_.encode(["address"],[t]),Wi(ji(t),32));for(t.forEach(((t,i)=>{const a=e.inputs[i];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?Mi(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map((e=>n(a,e)))):r.push(n(a,t)):Mi(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);Mi(t,"unknown event","eventFragment",e),e=t}const r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),Mi(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,a)=>{const o=t[a];if(e.indexed)if("string"===e.type)r.push(Yo(o));else if("bytes"===e.type)r.push(vo(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this.#_.encode([e.type],[o]))}else n.push(e),i.push(o)})),{data:this.#_.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){const t=this.getEvent(e);Mi(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;Mi(Ui(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],i=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(Os.from({type:"bytes32",name:e.name})),a.push(!0)):(n.push(e),a.push(!1)):(i.push(e),a.push(!1))}));const o=null!=r?this.#_.decode(n,qi(r)):null,s=this.#_.decode(i,t,!0),l=[],c=[];let u=0,h=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==o)r=new Ys(null);else if(a[t])r=new Ys(o[h++]);else try{r=o[h++]}catch(e){r=e}else try{r=s[u++]}catch(e){r=e}l.push(r),c.push(e.name||null)})),Ea.fromItems(l,c)}parseTransaction(e){const t=Bi(e.data,"tx.data"),r=ca(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(ji(t.slice(0,4)));if(!n)return null;const i=this.#_.decode(n.inputs,t.slice(4));return new Qs(n,n.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Js(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=ji(e),r=this.getError($i(t,0,4));if(!r)return null;const n=this.#_.decode(r.inputs,$i(t,4));return new Ks(r,r.selector,n)}static from(e){return e instanceof el?e:"string"==typeof e?new el(JSON.parse(e)):"function"==typeof e.format?new el(e.format("json")):new el(e)}}function tl(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function rl(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(rl(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=tl(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call(Bi(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=tl(t.length);return r.unshift(183+r.length),r.concat(t)}const nl="0123456789abcdef";function il(e){let t="0x";for(const r of rl(e))t+=nl[r>>4],t+=nl[15&r];return t}function al(e){const t=Ro(e.from);let r=ca(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,Ro($i(vo(il([t,r])),12))}function ol(e,t,r){const n=Ro(e),i=Bi(t,"salt"),a=Bi(r,"initCodeHash");return Mi(32===i.length,"salt must be 32 bytes","salt",t),Mi(32===a.length,"initCodeHash must be 32 bytes","initCodeHash",r),Ro($i(vo(qi(["0xff",n,i,a])),12))}function sl(e){return e&&"function"==typeof e.getAddress}function ll(e){try{return Ro(e),!0}catch(e){}return!1}async function cl(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(Ti("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),Mi(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Ro(r)}function ul(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Ro(e):(Ti(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),cl(e,t.resolveName(e))):sl(e)?cl(e,e.getAddress()):e&&"function"==typeof e.then?cl(e,e):void Mi(!1,"unsupported addressable value","target",e)}const hl="0x0000000000000000000000000000000000000000",dl=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fl=BigInt("1000000000000000000"),pl=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),gl=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),ml=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),bl="0x0000000000000000000000000000000000000000000000000000000000000000",yl="Ξ",vl="Ethereum Signed Message:\n";function wl(e,t){return{address:Ro(e),storageKeys:t.map(((e,t)=>(Mi(Ui(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function _l(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?(Mi(2===t.length,"invalid slot set",`value[${r}]`,t),wl(t[0],t[1])):(Mi(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),wl(t.address,t.storageKeys))));Mi(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return wl(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}const Al=BigInt(0);function El(e){return null==e?null:e}function xl(e){return null==e?null:e.toString()}class Sl{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){xi(this,{gasPrice:El(e),maxFeePerGas:El(t),maxPriorityFeePerGas:El(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:xl(e),maxFeePerGas:xl(t),maxPriorityFeePerGas:xl(r)}}}function kl(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=ji(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=ca(e[n],`request.${n}`));const n="type,nonce".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=fa(e[r],`request.${r}`));return e.accessList&&(t.accessList=_l(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}class Rl{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#x;constructor(e,t){this.#x=e.transactions.map((e=>"string"!=typeof e?new Ml(e,t):e)),xi(this,{provider:t,hash:El(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:El(e.baseFeePerGas)})}get transactions(){return this.#x.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#x.slice();return 0===e.length?[]:(Ti("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:a,miner:o,nonce:s,number:l,parentHash:c,timestamp:u,transactions:h}=this;return{_type:"Block",baseFeePerGas:xl(e),difficulty:xl(t),extraData:r,gasLimit:xl(n),gasUsed:xl(i),hash:a,miner:o,nonce:s,number:l,parentHash:c,timestamp:u,transactions:h}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#x.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#x[e];else{const r=e.toLowerCase();for(const e of this.#x){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;Mi(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}class Il{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());xi(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:o,transactionHash:s,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:o,transactionHash:s,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ti(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ti(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ti(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Tl{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#S;constructor(e,t){this.#S=Object.freeze(e.logs.map((e=>new Il(e,t))));let r=Al;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),xi(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}get logs(){return this.#S}toJSON(){const{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:a,blockNumber:o,logsBloom:s,logs:l,status:c,root:u}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:xl(this.cumulativeGasUsed),from:t,gasPrice:xl(this.gasPrice),gasUsed:xl(this.gasUsed),hash:n,index:i,logs:l,logsBloom:s,root:u,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Cl(this)}reorderedEvent(e){return Ti(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Pl(this,e)}}class Ml{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#k;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.#k=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:a,from:o,nonce:s,data:l,signature:c,accessList:u}=this;return{_type:"TransactionReceipt",accessList:u,blockNumber:e,blockHash:t,chainId:xl(this.chainId),data:l,from:o,gasLimit:xl(this.gasLimit),gasPrice:xl(this.gasPrice),hash:n,maxFeePerGas:xl(this.maxFeePerGas),maxPriorityFeePerGas:xl(this.maxPriorityFeePerGas),nonce:s,signature:c,to:a,index:r,type:i,value:xl(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await Ei({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=null==e?1:e,n=null==t?0:t;let i=this.#k,a=-1,o=-1===i;const s=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await Ei({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===a&&(a=i-3,a<this.#k&&(a=this.#k));a<=e;){if(o)return null;const t=await this.provider.getBlock(a,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){const a=await t.getTransaction(n);if(a.from===this.from&&a.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(a.hash);if(null==t)return;if(e-t.blockNumber+1<r)return;let n="replaced";a.data===this.data&&a.to===this.to&&a.value===this.value?n="repriced":"0x"===a.data&&a.from===a.to&&a.value===Al&&(n="cancelled"),Ti(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:a.replaceableTransaction(i),hash:a.hash,receipt:t})}}a++}},l=e=>{if(null==e||0!==e.status)return e;Ti(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(c);if(c){if(await c.confirmations()>=r)return l(c)}else if(await s(),0===r)return null;const u=new Promise(((e,t)=>{const a=[],c=()=>{a.forEach((e=>e()))};if(a.push((()=>{o=!0})),n>0){const e=setTimeout((()=>{c(),t(Ii("wait for transaction timeout","TIMEOUT"))}),n);a.push((()=>{clearTimeout(e)}))}const u=async n=>{if(await n.confirmations()>=r){c();try{e(l(n))}catch(e){t(e)}}};if(a.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await s()}catch(e){if(ki(e,"TRANSACTION_REPLACED"))return c(),void t(e)}o||this.provider.once("block",e)};a.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return Ti(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Cl(this)}reorderedEvent(e){return Ti(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ti(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Pl(this,e)}replaceableTransaction(e){Mi(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ml(this,this.provider);return t.#k=e,t}}function Pl(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Cl(e){return{orphan:"drop-transaction",tx:e}}class Ol{filter;emitter;#R;constructor(e,t,r){this.#R=t,xi(this,{emitter:e,filter:r})}async removeListener(){null!=this.#R&&await this.emitter.off(this.filter,this.#R)}}class Ll extends Il{interface;fragment;args;constructor(e,t,r){super(e,e.provider),xi(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Nl extends Il{error;constructor(e,t){super(e,e.provider),xi(this,{error:t})}}class Bl extends Tl{#I;constructor(e,t,r){super(r,t),this.#I=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#I.getEvent(e.topics[0]):null;if(t)try{return new Ll(e,this.#I,t)}catch(t){return new Nl(e,t)}return e}))}}class Dl extends Ml{#I;constructor(e,t,r){super(r,t),this.#I=e}async wait(e){const t=await super.wait(e);return null==t?null:new Bl(this.#I,this.provider,t)}}class Ul extends Ol{log;constructor(e,t,r,n){super(e,t,r),xi(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Vl extends Ul{constructor(e,t,r,n,i){super(e,t,r,new Ll(i,e.interface,n)),xi(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Fl=BigInt(0);function jl(e){return e&&"function"==typeof e.call}function ql(e){return e&&"function"==typeof e.estimateGas}function zl(e){return e&&"function"==typeof e.resolveName}function $l(e){return e&&"function"==typeof e.sendTransaction}function Hl(e){if(null!=e){if(zl(e))return e;if(e.provider)return e.provider}}class Gl{#T;fragment;constructor(e,t,r){if(xi(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const n=Wl(e.runner,"resolveName"),i=zl(n)?n:null;this.#T=async function(){const n=await Promise.all(t.inputs.map(((e,t)=>null==r[t]?null:e.walkAsync(r[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>ul(e,i)))):ul(t,i):t)))));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#T}}function Wl(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function Jl(e){return null==e?null:e.provider||null}async function Ql(e,t){const r=Oo.dereference(e,"overrides");Mi("object"==typeof r,"invalid overrides parameter","overrides",e);const n=kl(r);return Mi(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Mi(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Kl(e,t,r){const n=Wl(e,"resolveName"),i=zl(n)?n:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(r[t],((e,t)=>(t=Oo.dereference(t,e),"address"===e?ul(t,i):t))))))}function Yl(e){const t=async function(t){const r=await Ql(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await ul(r.from,Hl(e.runner)));const n=e.interface,i=ca(r.value||Fl,"overrides.value")===Fl,a="0x"===(r.data||"0x");return!n.fallback||n.fallback.payable||!n.receive||a||i||Mi(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),Mi(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),Mi(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),Mi(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=e.runner;Ti($l(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await n.sendTransaction(await t(r)),a=Jl(e.runner);return new Dl(e.interface,a,i)},n=async e=>await r(e);return xi(n,{_contract:e,estimateGas:async function(r){const n=Wl(e.runner,"estimateGas");return Ti(ql(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},populateTransaction:t,send:r,staticCall:async function(r){const n=Wl(e.runner,"call");Ti(jl(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(r);try{return await n.call(i)}catch(t){if(Ri(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}}}),n}const Zl=Symbol.for("_ethersInternal_contract"),Xl=new WeakMap;function ec(e){return Xl.get(e[Zl])}async function tc(e,t){let r,n=null;if(Array.isArray(t)){const n=function(t){if(Ui(t,32))return t;const r=e.interface.getEvent(t);return Mi(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(n):n(e)))}else"*"===t?r=[null]:"string"==typeof t?Ui(t,32)?r=[t]:(n=e.interface.getEvent(t),Mi(n,"unknown fragment","event",t),r=[n.topicHash]):(i=t)&&"object"==typeof i&&"getTopicFilter"in i&&"function"==typeof i.getTopicFilter&&i.fragment?r=await t.getTopicFilter():"fragment"in t?(n=t.fragment,r=[n.topicHash]):Mi(!1,"unknown event name","event",t);var i;return r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:n,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function rc(e,t){const{subs:r}=ec(e);return r.get((await tc(e,t)).tag)||null}async function nc(e,t,r){const n=Jl(e.runner);Ti(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:a,topics:o}=await tc(e,r),{addr:s,subs:l}=ec(e);let c=l.get(a);if(!c){const t={address:s||e,topics:o},u=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){const a=n,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];ac(e,r,o,(n=>new Vl(e,n,r,a,t)))}else ac(e,r,[],(n=>new Ul(e,n,r,t)))};let h=[];c={tag:a,listeners:[],start:()=>{h.length||h.push(n.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),n.off(t,u)}},l.set(a,c)}return c}let ic=Promise.resolve();async function ac(e,t,r,n){try{await ic}catch(e){}const i=async function(e,t,r,n){await ic;const i=await rc(e,t);if(!i)return!1;const a=i.listeners.length;return i.listeners=i.listeners.filter((({listener:t,once:i})=>{const a=Array.from(r);n&&a.push(n(i?null:t));try{t.call(e,...a)}catch(e){}return!i})),0===i.listeners.length&&(i.stop(),ec(e).subs.delete(i.tag)),a>0}(e,t,r,n);return ic=i,await i}const oc=["then"];class sc{target;interface;runner;filters;[Zl];fallback;constructor(e,t,r,n){Mi("string"==typeof e||sl(e),"invalid value for Contract target","target",e),null==r&&(r=null);const i=el.from(t);let a;xi(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,Zl,{value:{}});let o=null,s=null;if(n){const e=Jl(r);s=new Dl(this.interface,e,n)}let l=new Map;if("string"==typeof e)if(Ui(e))o=e,a=Promise.resolve(e);else{const t=Wl(r,"resolveName");if(!zl(t))throw Ii("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=t.resolveName(e).then((t=>{if(null==t)throw Ii("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ec(this).addr=t,t}))}else a=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return ec(this).addr=e,e}));var c;c={addrPromise:a,addr:o,deployTx:s,subs:l},Xl.set(this[Zl],c);const u=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||oc.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!ki(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>oc.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return xi(this,{filters:u}),xi(this,{fallback:i.receive||i.fallback?Yl(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||oc.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!ki(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||oc.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new sc(this.target,this.interface,e)}attach(e){return new sc(e,this.interface,this.runner)}async getAddress(){return await ec(this).addrPromise}async getDeployedCode(){const e=Jl(this.runner);Ti(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Jl(this.runner);return Ti(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",n)}catch(e){r(e)}};n()}))}deploymentTransaction(){return ec(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());const t=function(e,t){const r=function(...r){const n=e.interface.getFunction(t,r);return Ti(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=async function(...t){const n=r(...t);let i={};if(n.inputs.length+1===t.length&&(i=await Ql(t.pop()),i.from&&(i.from=await ul(i.from,Hl(e.runner)))),n.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await Kl(e.runner,n.inputs,t);return Object.assign({},i,await Ei({to:e.getAddress(),data:e.interface.encodeFunctionData(n,a)}))},i=async function(...e){const t=await o(...e);return 1===t.length?t[0]:t},a=async function(...t){const r=e.runner;Ti($l(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await n(...t)),a=Jl(e.runner);return new Dl(e.interface,a,i)},o=async function(...t){const i=Wl(e.runner,"call");Ti(jl(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await n(...t);let o="0x";try{o=await i.call(a)}catch(t){if(Ri(t)&&t.data)throw e.interface.makeError(t.data,a);throw t}const s=r(...t);return e.interface.decodeFunctionResult(s,o)},s=async(...e)=>r(...e).constant?await i(...e):await a(...e);return xi(s,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:async function(...t){const r=Wl(e.runner,"estimateGas");return Ti(ql(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...t))},populateTransaction:n,send:a,staticCall:i,staticCallResult:o}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getFunction(t);return Ti(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),s}(this,e);return t}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const n=e.interface.getEvent(t,r);return Ti(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new Gl(e,r(...t),t)};return xi(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return Ti(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");const{addr:n,addrPromise:i}=ec(this),a=n||await i,{fragment:o,topics:s}=await tc(this,e),l={address:a,topics:s,fromBlock:t,toBlock:r},c=Jl(this.runner);return Ti(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new Ll(e,this.interface,t)}catch(t){return new Nl(e,t)}return new Il(e,c)}))}async on(e,t){const r=await nc(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await nc(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await ac(this,e,t,null)}async listenerCount(e){if(e){const t=await rc(this,e);return t?t.listeners.length:0}const{subs:t}=ec(this);let r=0;for(const{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){const t=await rc(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=ec(this);let r=[];for(const{listeners:e}of t.values())r=r.concat(e.map((({listener:e})=>e)));return r}async off(e,t){const r=await rc(this,e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),ec(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await rc(this,e);if(!t)return this;t.stop(),ec(this).subs.delete(t.tag)}else{const{subs:e}=ec(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends sc{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}class lc extends(function(){return sc}()){}class cc{interface;bytecode;runner;constructor(e,t,r){const n=el.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),xi(this,{bytecode:t=ji(Bi(t)),interface:n,runner:r||null})}attach(e){return new sc(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={};const r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await Ql(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const n=await Kl(this.runner,r.inputs,e),i=qi([this.bytecode,this.interface.encodeDeploy(n)]);return Object.assign({},t,{data:i})}async deploy(...e){const t=await this.getDeployTransaction(...e);Ti(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await this.runner.sendTransaction(t),n=al(r);return new sc(n,this.interface,this.runner,r)}connect(e){return new cc(this.interface,this.bytecode,e)}static fromSolidity(e,t){Mi(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n="";return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}}class uc extends Ka{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Pa(e);const r=Qa(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ca(this),this.iHash.update(e),this}digestInto(e){Ca(this),Ma(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hc=(e,t,r)=>new uc(e,t).update(r).digest();function dc(e,t,r,n){const{c:i,dkLen:a,DK:o,PRF:s,PRFSalt:l}=function(e,t,r,n){Pa(e);const i=Za({dkLen:32,asyncTick:10},n),{c:a,dkLen:o,asyncTick:s}=i;if(Ta(a),Ta(o),Ta(s),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Qa(t),c=Qa(r),u=new Uint8Array(o),h=hc.create(e,l),d=h._cloneInto().update(c);return{c:a,dkLen:o,asyncTick:s,DK:u,PRF:h,PRFSalt:d}}(e,t,r,n);let c;const u=new Uint8Array(4),h=Ha(u),d=new Uint8Array(s.outputLen);for(let e=1,t=0;t<a;e++,t+=s.outputLen){const r=o.subarray(t,t+s.outputLen);h.setInt32(0,e,!1),(c=l._cloneInto(c)).update(u).digestInto(d),r.set(d.subarray(0,r.length));for(let e=1;e<i;e++){s._cloneInto(c).update(d).digestInto(d);for(let e=0;e<r.length;e++)r[e]^=d[e]}}return function(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}(s,l,o,c,d)}hc.create=(e,t)=>new uc(e,t);class fc extends Ka{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ha(this.buffer)}update(e){Ca(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Qa(e)).length;for(let a=0;a<i;){const o=Math.min(n-this.pos,i-a);if(o!==n)r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Ha(e);for(;n<=i-a;a+=n)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ca(this),Oa(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),l=n?4:0,c=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+c,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Ha(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}const pc=(e,t,r)=>e&t^~e&r,gc=(e,t,r)=>e&t^e&r^t&r,mc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yc=new Uint32Array(64);class vc extends fc{constructor(){super(64,32,8,!1),this.A=0|bc[0],this.B=0|bc[1],this.C=0|bc[2],this.D=0|bc[3],this.E=0|bc[4],this.F=0|bc[5],this.G=0|bc[6],this.H=0|bc[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:a,G:o,H:s}=this;return[e,t,r,n,i,a,o,s]}set(e,t,r,n,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)yc[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=yc[e-15],r=yc[e-2],n=Ga(t,7)^Ga(t,18)^t>>>3,i=Ga(r,17)^Ga(r,19)^r>>>10;yc[e]=i+yc[e-7]+n+yc[e-16]|0}let{A:r,B:n,C:i,D:a,E:o,F:s,G:l,H:c}=this;for(let e=0;e<64;e++){const t=c+(Ga(o,6)^Ga(o,11)^Ga(o,25))+pc(o,s,l)+mc[e]+yc[e]|0,u=(Ga(r,2)^Ga(r,13)^Ga(r,22))+gc(r,n,i)|0;c=l,l=s,s=o,o=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,o,s,l,c)}roundClean(){yc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wc=Xa((()=>new vc)),[_c,Ac]=(()=>qa.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ec=new Uint32Array(80),xc=new Uint32Array(80);class Sc extends fc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:o,Dl:s,Eh:l,El:c,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,a,o,s,l,c,u,h,d,f,p,g]}set(e,t,r,n,i,a,o,s,l,c,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|o,this.Dl=0|s,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)Ec[r]=e.getUint32(t),xc[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Ec[e-15],r=0|xc[e-15],n=qa.rotrSH(t,r,1)^qa.rotrSH(t,r,8)^qa.shrSH(t,r,7),i=qa.rotrSL(t,r,1)^qa.rotrSL(t,r,8)^qa.shrSL(t,r,7),a=0|Ec[e-2],o=0|xc[e-2],s=qa.rotrSH(a,o,19)^qa.rotrBH(a,o,61)^qa.shrSH(a,o,6),l=qa.rotrSL(a,o,19)^qa.rotrBL(a,o,61)^qa.shrSL(a,o,6),c=qa.add4L(i,l,xc[e-7],xc[e-16]),u=qa.add4H(c,n,s,Ec[e-7],Ec[e-16]);Ec[e]=0|u,xc[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:o,Cl:s,Dh:l,Dl:c,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:b}=this;for(let e=0;e<80;e++){const t=qa.rotrSH(u,h,14)^qa.rotrSH(u,h,18)^qa.rotrBH(u,h,41),y=qa.rotrSL(u,h,14)^qa.rotrSL(u,h,18)^qa.rotrBL(u,h,41),v=u&d^~u&p,w=h&f^~h&g,_=qa.add5L(b,y,w,Ac[e],xc[e]),A=qa.add5H(_,m,t,v,_c[e],Ec[e]),E=0|_,x=qa.rotrSH(r,n,28)^qa.rotrBH(r,n,34)^qa.rotrBH(r,n,39),S=qa.rotrSL(r,n,28)^qa.rotrBL(r,n,34)^qa.rotrBL(r,n,39),k=r&i^r&o^i&o,R=n&a^n&s^a&s;m=0|p,b=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=qa.add(0|l,0|c,0|A,0|E)),l=0|o,c=0|s,o=0|i,s=0|a,i=0|r,a=0|n;const I=qa.add3L(E,S,R);r=qa.add3H(I,A,x,k),n=0|I}({h:r,l:n}=qa.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=qa.add(0|this.Bh,0|this.Bl,0|i,0|a)),({h:o,l:s}=qa.add(0|this.Ch,0|this.Cl,0|o,0|s)),({h:l,l:c}=qa.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=qa.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=qa.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=qa.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:b}=qa.add(0|this.Hh,0|this.Hl,0|m,0|b)),this.set(r,n,i,a,o,s,l,c,u,h,d,f,p,g,m,b)}roundClean(){Ec.fill(0),xc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const kc=Xa((()=>new Sc)),Rc=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),Ic=Rc.crypto||Rc.msCrypto;function Tc(e){switch(e){case"sha256":return wc.create();case"sha512":return kc.create()}Mi(!1,"invalid hashing algorithm name","algorithm",e)}let Mc=!1;const Pc=function(e,t,r){return function(e,t){const r={sha256:wc,sha512:kc}[e];return Mi(null!=r,"invalid hmac algorithm","algorithm",e),hc.create(r,t)}(e,t).update(r).digest()};let Cc=Pc;function Oc(e,t,r){const n=Bi(t,"key"),i=Bi(r,"data");return ji(Cc(e,n,i))}Oc._=Pc,Oc.lock=function(){Mc=!0},Oc.register=function(e){if(Mc)throw new Error("computeHmac is locked");Cc=e},Object.freeze(Oc);const Lc=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Nc=Uint8Array.from({length:16},((e,t)=>t));let Bc=[Nc],Dc=[Nc.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[Bc,Dc])t.push(t[e].map((e=>Lc[e])));const Uc=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Vc=Bc.map(((e,t)=>e.map((e=>Uc[t][e])))),Fc=Dc.map(((e,t)=>e.map((e=>Uc[t][e])))),jc=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),qc=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),zc=(e,t)=>e<<t|e>>>32-t;function $c(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const Hc=new Uint32Array(16);class Gc extends fc{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)Hc[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,a=i,o=0|this.h2,s=o,l=0|this.h3,c=l,u=0|this.h4,h=u;for(let e=0;e<5;e++){const t=4-e,d=jc[e],f=qc[e],p=Bc[e],g=Dc[e],m=Vc[e],b=Fc[e];for(let t=0;t<16;t++){const n=zc(r+$c(e,i,o,l)+Hc[p[t]]+d,m[t])+u|0;r=u,u=l,l=0|zc(o,10),o=i,i=n}for(let e=0;e<16;e++){const r=zc(n+$c(t,a,s,c)+Hc[g[e]]+f,b[e])+h|0;n=h,h=c,c=0|zc(s,10),s=a,a=r}}this.set(this.h1+o+c|0,this.h2+l+h|0,this.h3+u+n|0,this.h4+r+a|0,this.h0+i+s|0)}roundClean(){Hc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Wc=Xa((()=>new Gc));let Jc=!1;const Qc=function(e){return Wc(e)};let Kc=Qc;function Yc(e){const t=Bi(e,"data");return ji(Kc(t))}Yc._=Qc,Yc.lock=function(){Jc=!0},Yc.register=function(e){if(Jc)throw new TypeError("ripemd160 is locked");Kc=e},Object.freeze(Yc);let Zc=!1;const Xc=function(e,t,r,n,i){return function(e,t,r,n,i){const a={sha256:wc,sha512:kc}[i];return Mi(null!=a,"invalid pbkdf2 algorithm","algorithm",i),dc(a,e,t,{c:r,dkLen:n})}(e,t,r,n,i)};let eu=Xc;function tu(e,t,r,n,i){const a=Bi(e,"password"),o=Bi(t,"salt");return ji(eu(a,o,r,n,i))}tu._=Xc,tu.lock=function(){Zc=!0},tu.register=function(e){if(Zc)throw new Error("pbkdf2 is locked");eu=e},Object.freeze(tu);let ru=!1;const nu=function(e){return new Uint8Array(function(e){Ti(null!=Ic,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Mi(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return Ic.getRandomValues(t),t}(e))};let iu=nu;function au(e){return iu(e)}au._=nu,au.lock=function(){ru=!0},au.register=function(e){if(ru)throw new Error("randomBytes is locked");iu=e},Object.freeze(au);const ou=(e,t)=>e<<t|e>>>32-t;function su(e,t,r,n,i,a){let o=e[t++]^r[n++],s=e[t++]^r[n++],l=e[t++]^r[n++],c=e[t++]^r[n++],u=e[t++]^r[n++],h=e[t++]^r[n++],d=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],g=e[t++]^r[n++],m=e[t++]^r[n++],b=e[t++]^r[n++],y=e[t++]^r[n++],v=e[t++]^r[n++],w=e[t++]^r[n++],_=e[t++]^r[n++],A=o,E=s,x=l,S=c,k=u,R=h,I=d,T=f,M=p,P=g,C=m,O=b,L=y,N=v,B=w,D=_;for(let e=0;e<8;e+=2)k^=ou(A+L|0,7),M^=ou(k+A|0,9),L^=ou(M+k|0,13),A^=ou(L+M|0,18),P^=ou(R+E|0,7),N^=ou(P+R|0,9),E^=ou(N+P|0,13),R^=ou(E+N|0,18),B^=ou(C+I|0,7),x^=ou(B+C|0,9),I^=ou(x+B|0,13),C^=ou(I+x|0,18),S^=ou(D+O|0,7),T^=ou(S+D|0,9),O^=ou(T+S|0,13),D^=ou(O+T|0,18),E^=ou(A+S|0,7),x^=ou(E+A|0,9),S^=ou(x+E|0,13),A^=ou(S+x|0,18),I^=ou(R+k|0,7),T^=ou(I+R|0,9),k^=ou(T+I|0,13),R^=ou(k+T|0,18),O^=ou(C+P|0,7),M^=ou(O+C|0,9),P^=ou(M+O|0,13),C^=ou(P+M|0,18),L^=ou(D+B|0,7),N^=ou(L+D|0,9),B^=ou(N+L|0,13),D^=ou(B+N|0,18);i[a++]=o+A|0,i[a++]=s+E|0,i[a++]=l+x|0,i[a++]=c+S|0,i[a++]=u+k|0,i[a++]=h+R|0,i[a++]=d+I|0,i[a++]=f+T|0,i[a++]=p+M|0,i[a++]=g+P|0,i[a++]=m+C|0,i[a++]=b+O|0,i[a++]=y+L|0,i[a++]=v+N|0,i[a++]=w+B|0,i[a++]=_+D|0}function lu(e,t,r,n,i){let a=n+0,o=n+16*i;for(let n=0;n<16;n++)r[o+n]=e[t+16*(2*i-1)+n];for(let n=0;n<i;n++,a+=16,t+=16)su(r,o,e,t,r,a),n>0&&(o+=16),su(r,a,e,t+=16,r,o)}function cu(e,t,r){const n=Za({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:a,p:o,dkLen:s,asyncTick:l,maxmem:c,onProgress:u}=n;if(Ta(i),Ta(a),Ta(o),Ta(s),Ta(l),Ta(c),void 0!==u&&"function"!=typeof u)throw new Error("progressCb should be function");const h=128*a,d=h/4;if(i<=1||0!=(i&i-1)||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>137438953440/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||s>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=h*(i+o);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);const p=dc(wc,e,t,{c:1,dkLen:h*o}),g=$a(p),m=$a(new Uint8Array(h*i)),b=$a(new Uint8Array(h));let y=()=>{};if(u){const e=2*i*o,t=Math.max(Math.floor(e/1e4),1);let r=0;y=()=>{r++,!u||r%t&&r!==e||u(r/e)}}return{N:i,r:a,p:o,dkLen:s,blockSize32:d,V:m,B32:g,B:p,tmp:b,blockMixCb:y,asyncTick:l}}function uu(e,t,r,n,i){const a=dc(wc,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),a}let hu=!1,du=!1;const fu=async function(e,t,r,n,i,a,o){return await async function(e,t,r){const{N:n,r:i,p:a,dkLen:o,blockSize32:s,V:l,B32:c,B:u,tmp:h,blockMixCb:d,asyncTick:f}=cu(e,t,r);for(let e=0;e<a;e++){const t=s*e;for(let e=0;e<s;e++)l[e]=c[t+e];let r=0;await Ja(n-1,f,(()=>{lu(l,r,l,r+=s,i),d()})),lu(l,(n-1)*s,c,t,i),d(),await Ja(n,f,(()=>{const e=c[t+s-16]%n;for(let r=0;r<s;r++)h[r]=c[t+r]^l[e*s+r];lu(h,0,c,t,i),d()}))}return uu(e,o,u,l,h)}(e,t,{N:r,r:n,p:i,dkLen:a,onProgress:o})},pu=function(e,t,r,n,i,a){return function(e,t,r){const{N:n,r:i,p:a,dkLen:o,blockSize32:s,V:l,B32:c,B:u,tmp:h,blockMixCb:d}=cu(e,t,r);for(let e=0;e<a;e++){const t=s*e;for(let e=0;e<s;e++)l[e]=c[t+e];for(let e=0,t=0;e<n-1;e++)lu(l,t,l,t+=s,i),d();lu(l,(n-1)*s,c,t,i),d();for(let e=0;e<n;e++){const e=c[t+s-16]%n;for(let r=0;r<s;r++)h[r]=c[t+r]^l[e*s+r];lu(h,0,c,t,i),d()}}return uu(e,o,u,l,h)}(e,t,{N:r,r:n,p:i,dkLen:a})};let gu=fu,mu=pu;async function bu(e,t,r,n,i,a,o){const s=Bi(e,"passwd"),l=Bi(t,"salt");return ji(await gu(s,l,r,n,i,a,o))}function yu(e,t,r,n,i,a){const o=Bi(e,"passwd"),s=Bi(t,"salt");return ji(mu(o,s,r,n,i,a))}bu._=fu,bu.lock=function(){du=!0},bu.register=function(e){if(du)throw new Error("scrypt is locked");gu=e},Object.freeze(bu),yu._=pu,yu.lock=function(){hu=!0},yu.register=function(e){if(hu)throw new Error("scryptSync is locked");mu=e},Object.freeze(yu);const vu=function(e){return Tc("sha256").update(e).digest()},wu=function(e){return Tc("sha512").update(e).digest()};let _u=vu,Au=wu,Eu=!1,xu=!1;function Su(e){const t=Bi(e,"data");return ji(_u(t))}function ku(e){const t=Bi(e,"data");return ji(Au(t))}function Ru(){Oc.lock(),vo.lock(),tu.lock(),au.lock(),Yc.lock(),bu.lock(),yu.lock(),Su.lock(),ku.lock(),au.lock()}Su._=vu,Su.lock=function(){Eu=!0},Su.register=function(e){if(Eu)throw new Error("sha256 is locked");_u=e},Object.freeze(Su),ku._=wu,ku.lock=function(){xu=!0},ku.register=function(e){if(xu)throw new Error("sha512 is locked");Au=e},Object.freeze(Su);const Iu=BigInt(0),Tu=BigInt(1),Mu=BigInt(2),Pu=BigInt(27),Cu=BigInt(28),Ou=BigInt(35),Lu={};function Nu(e){return Wi(ma(e),32)}class Bu{#M;#P;#C;#O;get r(){return this.#M}set r(e){Mi(32===zi(e),"invalid r","value",e),this.#M=ji(e)}get s(){return this.#P}set s(e){Mi(32===zi(e),"invalid s","value",e);const t=ji(e);Mi(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#P=t}get v(){return this.#C}set v(e){const t=fa(e,"value");Mi(27===t||28===t,"invalid v","v",e),this.#C=t}get networkV(){return this.#O}get legacyChainId(){const e=this.networkV;return null==e?null:Bu.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Bi(this.s);return this.yParity&&(e[0]|=128),ji(e)}get compactSerialized(){return qi([this.r,this.yParityAndS])}get serialized(){return qi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){Li(e,Lu,"Signature"),this.#M=t,this.#P=r,this.#C=n,this.#O=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Bu(Lu,this.r,this.s,this.v);return this.networkV&&(e.#O=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=ca(e,"v");return t==Pu||t==Cu?Iu:(Mi(t>=Ou,"invalid EIP-155 v","v",e),(t-Ou)/Mu)}static getChainIdV(e,t){return ca(e)*Mu+BigInt(35+t-27)}static getNormalizedV(e){const t=ca(e);return t===Iu||t===Pu?27:t===Tu||t===Cu?28:(Mi(t>=Ou,"invalid v","v",e),t&Tu?27:28)}static from(e){function t(t,r){Mi(t,r,"signature",e)}if(null==e)return new Bu(Lu,bl,bl,27);if("string"==typeof e){const r=Bi(e,"signature");if(64===r.length){const e=ji(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new Bu(Lu,e,ji(t),n)}if(65===r.length){const e=ji(r.slice(0,32)),n=r.slice(32,64);t(0==(128&n[0]),"non-canonical s");const i=Bu.getNormalizedV(r[64]);return new Bu(Lu,e,ji(n),i)}t(!1,"invalid raw signature length")}if(e instanceof Bu)return e.clone();const r=e.r;t(null!=r,"missing r");const n=Nu(r),i=function(e,r){if(null!=e)return Nu(e);if(null!=r){t(Ui(r,32),"invalid yParityAndS");const e=Bi(r);return e[0]&=127,ji(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&Bi(i)[0]),"non-canonical s");const{networkV:a,v:o}=function(e,r,n){if(null!=e){const t=ca(e);return{networkV:t>=Ou?t:void 0,v:Bu.getNormalizedV(t)}}if(null!=r)return t(Ui(r,32),"invalid yParityAndS"),{v:128&Bi(r)[0]?28:27};if(null!=n){switch(fa(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),s=new Bu(Lu,n,i,o);return a&&(s.#O=a),t(null==e.yParity||fa(e.yParity,"sig.yParity")===s.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===s.yParityAndS,"yParityAndS mismatch"),s}}function Du(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Uu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Vu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Fu="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ju=e=>e instanceof Uint8Array,qu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),zu=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function $u(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!ju(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Hu{clone(){return this._cloneInto()}}function Gu(e){const t=t=>e().update($u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Wu(e=32){if(Fu&&"function"==typeof Fu.getRandomValues)return Fu.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Ju extends Hu{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qu(this.buffer)}update(e){Vu(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=$u(e)).length;for(let a=0;a<i;){const o=Math.min(n-this.pos,i-a);if(o!==n)r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=qu(e);for(;n<=i-a;a+=n)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vu(this),function(e,t){Uu(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),l=n?4:0,c=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+c,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=qu(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}const Qu=(e,t,r)=>e&t^~e&r,Ku=(e,t,r)=>e&t^e&r^t&r,Yu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xu=new Uint32Array(64);class eh extends Ju{constructor(){super(64,32,8,!1),this.A=0|Zu[0],this.B=0|Zu[1],this.C=0|Zu[2],this.D=0|Zu[3],this.E=0|Zu[4],this.F=0|Zu[5],this.G=0|Zu[6],this.H=0|Zu[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:a,G:o,H:s}=this;return[e,t,r,n,i,a,o,s]}set(e,t,r,n,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)Xu[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Xu[e-15],r=Xu[e-2],n=zu(t,7)^zu(t,18)^t>>>3,i=zu(r,17)^zu(r,19)^r>>>10;Xu[e]=i+Xu[e-7]+n+Xu[e-16]|0}let{A:r,B:n,C:i,D:a,E:o,F:s,G:l,H:c}=this;for(let e=0;e<64;e++){const t=c+(zu(o,6)^zu(o,11)^zu(o,25))+Qu(o,s,l)+Yu[e]+Xu[e]|0,u=(zu(r,2)^zu(r,13)^zu(r,22))+Ku(r,n,i)|0;c=l,l=s,s=o,o=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,o,s,l,c)}roundClean(){Xu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const th=Gu((()=>new eh)),rh=(BigInt(0),BigInt(1)),nh=BigInt(2),ih=e=>e instanceof Uint8Array,ah=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function oh(e){if(!ih(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ah[e[r]];return t}function sh(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function lh(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[t]=a}return r}function ch(e){return sh(oh(e))}function uh(e){if(!ih(e))throw new Error("Uint8Array expected");return sh(oh(Uint8Array.from(e).reverse()))}function hh(e,t){return lh(e.toString(16).padStart(2*t,"0"))}function dh(e,t){return hh(e,t).reverse()}function fh(e,t,r){let n;if("string"==typeof t)try{n=lh(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!ih(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function ph(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!ih(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}const gh=e=>(nh<<BigInt(e-1))-rh,mh=e=>new Uint8Array(e),bh=e=>Uint8Array.from(e);function yh(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=mh(e),i=mh(e),a=0;const o=()=>{n.fill(1),i.fill(0),a=0},s=(...e)=>r(i,n,...e),l=(e=mh())=>{i=s(bh([0]),e),n=s(),0!==e.length&&(i=s(bh([1]),e),n=s())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=s();const t=n.slice();r.push(t),e+=n.length}return ph(...r)};return(e,t)=>{let r;for(o(),l(e);!(r=t(c()));)l();return o(),r}}const vh={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function wh(e,t,r={}){const n=(t,r,n)=>{const i=vh[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const a=e[t];if(!(n&&void 0===a||i(a,e)))throw new Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}const _h=BigInt(0),Ah=BigInt(1),Eh=BigInt(2),xh=BigInt(3),Sh=BigInt(4),kh=BigInt(5),Rh=BigInt(8);function Ih(e,t){const r=e%t;return r>=_h?r:t+r}function Th(e,t,r){if(r<=_h||t<_h)throw new Error("Expected power/modulo > 0");if(r===Ah)return _h;let n=Ah;for(;t>_h;)t&Ah&&(n=n*e%r),e=e*e%r,t>>=Ah;return n}function Mh(e,t,r){let n=e;for(;t-- >_h;)n*=n,n%=r;return n}function Ph(e,t){if(e===_h||t<=_h)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ih(e,t),n=t,i=_h,a=Ah,o=Ah,s=_h;for(;r!==_h;){const e=n/r,t=n%r,l=i-o*e,c=a-s*e;n=r,r=t,i=o,a=s,o=l,s=c}if(n!==Ah)throw new Error("invert: does not exist");return Ih(i,t)}BigInt(9),BigInt(16);const Ch=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oh(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Lh(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Nh(e){const t=Lh(e);return t+Math.ceil(t/2)}class Bh extends Hu{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Du(e.outputLen),Du(e.blockLen)}(e);const r=$u(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Vu(this),this.iHash.update(e),this}digestInto(e){Vu(this),Uu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Dh=(e,t,r)=>new Bh(e,t).update(r).digest();Dh.create=(e,t)=>new Bh(e,t);const Uh=BigInt(0),Vh=BigInt(1);function Fh(e){return wh(e.Fp,Ch.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),wh(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Oh(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:jh,hexToBytes:qh}=r,zh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=zh;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:jh(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=zh,r="string"==typeof e?qh(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:a}=zh._parseInt(r.subarray(2)),{d:o,l:s}=zh._parseInt(a);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),a=n.length/2,o=i.length/2,s=r(a),l=r(o);return`30${r(o+a+4)}02${l}${i}02${s}${n}`}},$h=BigInt(0),Hh=BigInt(1),Gh=(BigInt(2),BigInt(3));function Wh(e){const t=function(e){const t=Fh(e);return wh(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function o(e){return Ih(e,n)}function s(e){return Ph(e,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=function(e){const t=function(e){const t=Fh(e);wh(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return ph(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function a(e){const{a:n,b:i}=t,a=r.sqr(e),o=r.mul(a,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"==typeof e&&$h<e&&e<t.n}function s(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:a}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=oh(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let o;try{o="bigint"==typeof e?e:ch(fh("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=Ih(o,a)),s(o),o}const c=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(fh("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=a(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:a,py:o,pz:s}=e,l=r.eql(r.mul(t,s),r.mul(a,i)),c=r.eql(r.mul(n,s),r.mul(o,i));return l&&c}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,Gh),{px:a,py:o,pz:s}=this;let l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(a,a),f=r.mul(o,o),p=r.mul(s,s),g=r.mul(a,o);return g=r.add(g,g),u=r.mul(a,s),u=r.add(u,u),l=r.mul(e,u),c=r.mul(i,p),c=r.add(l,c),l=r.sub(f,c),c=r.add(f,c),c=r.mul(l,c),l=r.mul(g,l),u=r.mul(i,u),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),c=r.add(c,d),p=r.mul(o,s),p=r.add(p,p),d=r.mul(p,g),l=r.sub(l,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new h(l,c,u)}add(e){u(e);const{px:n,py:i,pz:a}=this,{px:o,py:s,pz:l}=e;let c=r.ZERO,d=r.ZERO,f=r.ZERO;const p=t.a,g=r.mul(t.b,Gh);let m=r.mul(n,o),b=r.mul(i,s),y=r.mul(a,l),v=r.add(n,i),w=r.add(o,s);v=r.mul(v,w),w=r.add(m,b),v=r.sub(v,w),w=r.add(n,a);let _=r.add(o,l);return w=r.mul(w,_),_=r.add(m,y),w=r.sub(w,_),_=r.add(i,a),c=r.add(s,l),_=r.mul(_,c),c=r.add(b,y),_=r.sub(_,c),f=r.mul(p,w),c=r.mul(g,y),f=r.add(c,f),c=r.sub(b,f),f=r.add(b,f),d=r.mul(c,f),b=r.add(m,m),b=r.add(b,m),y=r.mul(p,y),w=r.mul(g,w),b=r.add(b,y),y=r.sub(m,y),y=r.mul(p,y),w=r.add(w,y),m=r.mul(b,w),d=r.add(d,m),m=r.mul(_,w),c=r.mul(v,c),c=r.sub(c,m),m=r.mul(v,b),f=r.mul(_,f),f=r.add(f,m),new h(c,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,c,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}))}multiplyUnsafe(e){const n=h.ZERO;if(e===$h)return n;if(s(e),e===Hh)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:a,k1:o,k2neg:l,k2:c}=i.splitScalar(e),u=n,d=n,p=this;for(;o>$h||c>$h;)o&Hh&&(u=u.add(p)),c&Hh&&(d=d.add(p)),p=p.double(),o>>=Hh,c>>=Hh;return a&&(u=u.negate()),l&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){s(e);let n,i,a=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:s,k2:l}=o.splitScalar(a);let{p:c,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(l);c=f.constTimeNegate(e,c),d=f.constTimeNegate(s,d),d=new h(r.mul(d.px,o.beta),d.py,d.pz),n=c.add(d),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(a);n=e,i=t}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=h.BASE,i=(e,t)=>t!==$h&&t!==Hh&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){const{px:t,py:n,pz:i}=this,a=this.is0();null==e&&(e=a?r.ONE:r.inv(i));const o=r.mul(t,e),s=r.mul(n,e),l=r.mul(i,e);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:o,y:s}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Hh)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Hh?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(h,this,e)}toHex(e=!0){return oh(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,f=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>Uh;)r&Vh&&(n=n.add(i)),i=i.double(),r>>=Vh;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),a=[];let o=e,s=o;for(let e=0;e<r;e++){s=o,a.push(s);for(let e=1;e<i;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(t,i,a){const{windows:o,windowSize:s}=n(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){const t=e*s;let n=Number(a&u);a>>=d,n>s&&(n-=h,a+=Vh);const o=t,f=t+Math.abs(n)-1,p=e%2!=0,g=n<0;0===n?c=c.add(r(p,i[o])):l=l.add(r(g,i[f]))}return{p:l,f:c}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let a=t.get(e);return a||(a=this.precomputeWindow(e,i),1!==i&&t.set(e,n(a))),this.wNAF(i,a,r)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:o}}({...t,toBytes(e,t,n){const i=t.toAffine(),a=r.toBytes(i.x),o=ph;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===a&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}{const e=ch(o);if(!($h<(s=e)&&s<r.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=r.sqrt(t);return 1==(1&n)!=((i&Hh)===Hh)&&(i=r.neg(i)),{x:e,y:i}}var s}}),d=e=>oh(hh(e,t.nByteLength));function f(e){return e>n>>Hh}const p=(e,t,r)=>ch(e.slice(t,r));class g{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=fh("compactSignature",e,2*r),new g(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=zh.toSig(fh("DER",e));return new g(t,r)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:a}=this,c=v(fh("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const u=2===a||3===a?n+t.n:n;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0==(1&a)?"02":"03",f=l.fromHex(h+d(u)),p=s(u),g=o(-c*p),m=o(i*p),b=l.BASE.multiplyAndAddUnsafe(f,g,m);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return lh(this.toDERHex())}toDERHex(){return zh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return lh(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=Nh(t.n);return function(e,t,r=!1){const n=e.length,i=Lh(t),a=Nh(t);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const o=Ih(r?ch(e):uh(e),t-Ah)+Ah;return r?dh(o,i):hh(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===a:r?n===2*i||n===2*a:e instanceof l}const y=t.bits2int||function(e){const r=ch(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return o(y(e))},w=gh(t.nBitLength);function _(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!($h<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return hh(e,t.nByteLength)}const A={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,n,i=A){const{seed:a,k2sig:u}=function(e,n,i=A){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:u}=t;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),e=fh("msgHash",e),p&&(e=fh("prehashed msgHash",a(e)));const b=v(e),w=c(n),E=[_(w),_(b)];if(null!=m){const e=!0===m?u(r.BYTES):m;E.push(fh("extraEntropy",e))}const x=ph(...E),S=b;return{seed:x,k2sig:function(e){const t=y(e);if(!h(t))return;const r=s(t),n=l.BASE.multiply(t).toAffine(),i=o(n.x);if(i===$h)return;const a=o(r*o(S+i*w));if(a===$h)return;let c=(n.x===i?0:2)|Number(n.y&Hh),u=a;return d&&f(a)&&(u=function(e){return f(e)?o(-e):e}(a),c^=1),new g(i,u,c)}}}(e,n,i),d=t;return yh(d.hash.outputLen,d.nByteLength,d.hmac)(a,u)},verify:function(e,r,n,i=E){const a=e;if(r=fh("msgHash",r),n=fh("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=i;let h,d;try{if("string"==typeof a||a instanceof Uint8Array)try{h=g.fromDER(a)}catch(e){if(!(e instanceof zh.Err))throw e;h=g.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;h=new g(e,t)}}d=l.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&h.hasHighS())return!1;u&&(r=t.hash(r));const{r:f,s:p}=h,m=v(r),b=s(p),y=o(m*b),w=o(f*b),_=l.BASE.multiplyAndAddUnsafe(d,y,w)?.toAffine();return!!_&&o(_.x)===f},ProjectivePoint:l,Signature:g,utils:m}}function Jh(e){return{hash:e,hmac:(t,...r)=>Dh(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!ju(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}(...r)),randomBytes:Wu}}BigInt(4);const Qh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Kh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yh=BigInt(1),Zh=BigInt(2),Xh=(e,t)=>(e+t/Zh)/t;const ed=function(e,t,r=!1,n={}){if(e<=_h)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:a}=Oh(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=function(e){if(e%Sh===xh){const t=(e+Ah)/Sh;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Rh===kh){const t=(e-kh)/Rh;return function(e,r){const n=e.mul(r,Eh),i=e.pow(n,t),a=e.mul(r,i),o=e.mul(e.mul(a,Eh),i),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Ah)/Eh;let r,n,i;for(r=e-Ah,n=0;r%Eh===_h;r/=Eh,n++);for(i=Eh;i<e&&Th(i,t,e)!==e-Ah;i++);if(1===n){const t=(e+Ah)/Sh;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const a=(r+Ah)/Eh;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,l=e.pow(e.mul(e.ONE,i),r),c=e.pow(o,a),u=e.pow(o,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(l,Ah<<BigInt(s-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),s=t}return c}}(e)}(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:gh(i),ZERO:_h,ONE:Ah,create:t=>Ih(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return _h<=t&&t<e},is0:e=>e===_h,isOdd:e=>(e&Ah)===Ah,neg:t=>Ih(-t,e),eql:(e,t)=>e===t,sqr:t=>Ih(t*t,e),add:(t,r)=>Ih(t+r,e),sub:(t,r)=>Ih(t-r,e),mul:(t,r)=>Ih(t*r,e),pow:(e,t)=>function(e,t,r){if(r<_h)throw new Error("Expected power > 0");if(r===_h)return e.ONE;if(r===Ah)return t;let n=e.ONE,i=t;for(;r>_h;)r&Ah&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ah;return n}(s,e,t),div:(t,r)=>Ih(t*Ph(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ph(t,e),sqrt:n.sqrt||(e=>o(s,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(s,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?dh(e,a):hh(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return r?uh(e):ch(e)}});return Object.freeze(s)}(Qh,void 0,void 0,{sqrt:function(e){const t=Qh,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,h=Mh(u,r,t)*u%t,d=Mh(h,r,t)*u%t,f=Mh(d,Zh,t)*c%t,p=Mh(f,i,t)*f%t,g=Mh(p,a,t)*p%t,m=Mh(g,s,t)*g%t,b=Mh(m,l,t)*m%t,y=Mh(b,s,t)*g%t,v=Mh(y,r,t)*u%t,w=Mh(v,o,t)*p%t,_=Mh(w,n,t)*c%t,A=Mh(_,Zh,t);if(!ed.eql(ed.sqr(A),e))throw new Error("Cannot find square root");return A}}),td=function(e,t){const r=t=>Wh({...e,...Jh(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:ed,n:Kh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Kh,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Yh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=BigInt("0x100000000000000000000000000000000"),s=Xh(a*e,t),l=Xh(-n*e,t);let c=Ih(e-s*r-l*i,t),u=Ih(-s*n-l*a,t);const h=c>o,d=u>o;if(h&&(c=t-c),d&&(u=t-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},th);BigInt(0),td.ProjectivePoint;class rd{#L;constructor(e){Mi(32===zi(e),"invalid private key","privateKey","[REDACTED]"),this.#L=ji(e)}get privateKey(){return this.#L}get publicKey(){return rd.computePublicKey(this.#L)}get compressedPublicKey(){return rd.computePublicKey(this.#L,!0)}sign(e){Mi(32===zi(e),"invalid digest length","digest",e);const t=td.sign(Di(e),Di(this.#L),{lowS:!0});return Bu.from({r:ga(t.r,32),s:ga(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=rd.computePublicKey(e);return ji(td.getSharedSecret(Di(this.#L),Bi(t),!1))}static computePublicKey(e,t){let r=Bi(e,"key");if(32===r.length)return ji(td.getPublicKey(r,!!t));if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return ji(td.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){Mi(32===zi(e),"invalid digest length","digest",e);const r=Bu.from(t);let n=td.Signature.fromCompact(Di(qi([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const i=n.recoverPublicKey(Di(e));return Mi(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){const n=td.ProjectivePoint.fromHex(rd.computePublicKey(e).substring(2)),i=td.ProjectivePoint.fromHex(rd.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}var nd="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const id=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ad=4;function od(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let o=r(),s=t;t+=o;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const h=2**31,d=h>>>1,f=h-1;let p=0;for(let e=0;e<31;e++)p=p<<1|u();let g=[],m=0,b=h;for(;;){let e=Math.floor(((p-m+1)*i-1)/b),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;g.push(t);let o=m+Math.floor(b*a[t]/i),s=m+Math.floor(b*a[t+1]/i)-1;for(;0==((o^s)&d);)p=p<<1&f|u(),o=o<<1&f,s=s<<1&f|1;for(;o&~s&536870912;)p=p&d|p<<1&f>>>1|u(),o=o<<1^d,s=(s^d)<<1|d|1;m=o,b=1+s-o}let y=n-4;return g.map((t=>{switch(t-y){case 3:return y+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return y+256+(e[s++]<<8|e[s++]);case 1:return y+e[s++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,a=0,o=0,s=0;i<r;i++)s=s<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(n[a++]=s>>(o-=8));return n}(e)))}function sd(e){return 1&e?~e>>1:e>>1}function ld(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=sd(t());return r}function cd(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function ud(e){return dd((()=>{let t=cd(e);if(t.length)return t}))}function hd(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(pd(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(gd(r,e))}return t.flat()}function dd(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function fd(e,t,r){let n=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)ld(e,r).forEach(((e,t)=>n[t].push(e)));return n}function pd(e,t){let r=1+t(),n=t(),i=dd(t);return fd(i.length,1+e,t).flatMap(((e,t)=>{let[a,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*n;return[a+t*r,o.map((e=>e+i))]}))}))}function gd(e,t){return fd(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function md(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function bd(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function yd(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}var vd="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const wd=44032,_d=4352,Ad=4449,Ed=4519,xd=28,Sd=21*xd,kd=wd+19*Sd,Rd=_d+19,Id=Ad+21,Td=Ed+xd;function Md(e){return e>>24&255}function Pd(e){return 16777215&e}let Cd,Od,Ld,Nd;function Bd(e){return e>=wd&&e<kd}function Dd(e,t){if(e>=_d&&e<Rd&&t>=Ad&&t<Id)return wd+(e-_d)*Sd+(t-Ad)*xd;if(Bd(e)&&t>Ed&&t<Td&&(e-wd)%xd==0)return e+(t-Ed);{let r=Nd.get(e);return r&&(r=r.get(t),r)?r:-1}}function Ud(e){Cd||function(){let e=od(vd);Cd=new Map(ud(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Od=new Set(cd(e)),Ld=new Map,Nd=new Map;for(let[t,r]of hd(e)){if(!Od.has(t)&&2==r.length){let[e,n]=r,i=Nd.get(e);i||(i=new Map,Nd.set(e,i)),i.set(n,t)}Ld.set(t,r.reverse())}}();let t=[],r=[],n=!1;function i(e){let r=Cd.get(e);r&&(n=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(Bd(n)){let e=n-wd,t=e%Sd/xd|0,r=e%xd;i(_d+(e/Sd|0)),i(Ad+t),r>0&&i(Ed+r)}else{let e=Ld.get(n);e?r.push(...e):i(n)}if(!r.length)break;n=r.pop()}if(n&&t.length>1){let e=Md(t[0]);for(let r=1;r<t.length;r++){let n=Md(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i)break;if(e=Md(t[--i]),e<=n)break}e=Md(t[r])}}return t}function Vd(e){return Ud(e).map(Pd)}function Fd(e){return function(e){let t=[],r=[],n=-1,i=0;for(let a of e){let e=Md(a),o=Pd(a);if(-1==n)0==e?n=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),i=e;else{let a=Dd(n,o);a>=0?n=a:0==i&&0==e?(t.push(n),n=o):(r.push(o),i=e)}}return n>=0&&t.push(n,...r),t}(Ud(e))}const jd=45,qd=".",zd=65039,$d=1,Hd=e=>Array.from(e);function Gd(e,t){return e.P.has(t)||e.Q.has(t)}class Wd extends Array{get is_emoji(){return!0}}let Jd,Qd,Kd,Yd,Zd,Xd,ef,tf,rf,nf,af,of;function sf(){if(Jd)return;let e=od(nd);const t=()=>cd(e),r=()=>new Set(t());Jd=new Map(hd(e)),Qd=r(),Kd=t(),Yd=new Set(t().map((e=>Kd[e]))),Kd=new Set(Kd),Zd=r(),Xd=r();let n=ud(e),i=e();const a=()=>new Set(t().flatMap((e=>n[e])).concat(t()));ef=dd((t=>{let r=dd(e).map((e=>e+96));if(r.length){let n=t>=i;return r[0]-=32,r=bd(r),n&&(r=`Restricted[${r}]`),{N:r,P:a(),Q:a(),M:!e(),R:n}}})),tf=r(),rf=new Map;let o=t().concat(Hd(tf)).sort(((e,t)=>e-t));o.forEach(((t,r)=>{let n=e(),i=o[r]=n?o[r-n]:{V:[],M:new Map};i.V.push(t),tf.has(t)||rf.set(t,i)}));for(let{V:e,M:t}of new Set(rf.values())){let r=[];for(let t of e){let e=ef.filter((e=>Gd(e,t))),n=r.find((({G:t})=>e.some((e=>t.has(e)))));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),e.forEach((e=>n.G.add(e)))}let n=r.flatMap((e=>Hd(e.G)));for(let{G:e,V:i}of r){let r=new Set(n.filter((t=>!e.has(t))));for(let e of i)t.set(e,r)}}let s=new Set,l=new Set;const c=e=>s.has(e)?l.add(e):s.add(e);for(let e of ef){for(let t of e.P)c(t);for(let t of e.Q)c(t)}for(let e of s)rf.has(e)||l.has(e)||rf.set(e,$d);nf=new Set(Hd(s).concat(Hd(Vd(s)))),af=function(e){let t=[],r=cd(e);return function e({S:r,B:n},i,a){if(!(4&r&&a===i[i.length-1])){2&r&&(a=i[i.length-1]),1&r&&t.push(i);for(let t of n)for(let r of t.Q)e(t,[...i,r],a)}}(function t(n){return{S:e(),B:dd((()=>{let n=cd(e).map((e=>r[e]));if(n.length)return t(n)})),Q:n}}([]),[]),t}(e).map((e=>Wd.from(e))).sort(yd),of=new Map;for(let e of af){let t=[of];for(let r of e){let e=t.map((e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t}));r===zd?t.push(...e):t=e}for(let r of t)r.V=e}}function lf(e){return(hf(e)?"":`${cf(uf([e]))} `)+md(e)}function cf(e){return`"${e}"‎`}function uf(e,t=md){let r=[];var n;n=e[0],sf(),Kd.has(n)&&r.push("◌");let i=0,a=e.length;for(let n=0;n<a;n++){let a=e[n];hf(a)&&(r.push(bd(e.slice(i,n))),r.push(t(a)),i=n+1)}return r.push(bd(e.slice(i,a))),r.join("")}function hf(e){return sf(),Zd.has(e)}function df(e,t,r){if(!e)return[];sf();let n=0;return e.split(qd).map((e=>{let i=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),a={input:i,offset:n};n+=i.length+1;try{let e,n=a.tokens=function(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let a=bf(e);if(a)i.length&&(n.push(t(i)),i=[]),n.push(r(a));else{let t=e.pop();if(nf.has(t))i.push(t);else{let e=Jd.get(t);if(e)i.push(...e);else if(!Qd.has(t))throw ff(t)}}}return i.length&&n.push(t(i)),n}(i,t,r),o=n.length;if(!o)throw new Error("empty label");let s=a.output=n.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(s),!(a.emoji=o>1||n[0].is_emoji)&&s.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==jd&&e[3]==jd)throw new Error(`invalid label extension: "${bd(e.slice(0,4))}"`)}(s),e="ASCII";else{let t=n.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Kd.has(s[0]))throw gf("leading combining mark");for(let e=1;e<o;e++){let t=n[e];if(!t.is_emoji&&Kd.has(t[0]))throw gf(`emoji + combining mark: "${bd(n[e-1])} + ${uf([t[0]])}"`)}!function(e){let t=e[0],r=id.get(t);if(r)throw gf(`leading ${r}`);let n=e.length,i=-1;for(let a=1;a<n;a++){t=e[a];let n=id.get(t);if(n){if(i==a)throw gf(`${r} + ${n}`);i=a+1,r=n}}if(i==n)throw gf(`trailing ${r}`)}(s);let r=Hd(new Set(t)),[i]=function(e){let t=ef;for(let r of e){let e=t.filter((e=>Gd(e,r)));if(!e.length)throw ef.some((e=>Gd(e,r)))?pf(t[0],r):ff(r);if(t=e,1==e.length)break}return t}(r);!function(e,t){for(let r of t)if(!Gd(e,r))throw pf(e,r);if(e.M){let e=Vd(t);for(let t=1,r=e.length;t<r;t++)if(Yd.has(e[t])){let n=t+1;for(let i;n<r&&Yd.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw new Error(`duplicate non-spacing marks: ${lf(i)}`);if(n-t>ad)throw new Error(`excessive non-spacing marks: ${cf(uf(e.slice(t-1,n)))} (${n-t}/${ad})`);t=n}}}(i,t),function(e,t){let r,n=[];for(let e of t){let t=rf.get(e);if(t===$d)return;if(t){let n=t.M.get(e);if(r=r?r.filter((e=>n.has(e))):Hd(n),!r.length)return}else n.push(e)}if(r)for(let t of r)if(n.every((e=>Gd(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(i,r),e=i.N}else e="Emoji"}a.type=e}catch(e){a.error=e}return a}))}function ff(e){return new Error(`disallowed character: ${lf(e)}`)}function pf(e,t){let r=lf(t),n=ef.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function gf(e){return new Error(`illegal placement: ${e}`)}function mf(e){return e.filter((e=>e!=zd))}function bf(e,t){let r,n=of,i=e.length;for(;i&&(n=n.get(e[--i]),n);){let{V:a}=n;a&&(r=a,t&&t.push(...e.slice(i).reverse()),e.length=i)}return r}const yf=new Uint8Array(32);function vf(e){return Mi(0!==e.length,"invalid ENS name; empty component","comp",e),e}function wf(e){const t=Zi(_f(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(vf(t.slice(n,e))),n=e+1);return Mi(n<t.length,"invalid ENS name; empty component","name",e),r.push(vf(t.slice(n))),r}function _f(e){try{if(0===e.length)throw new Error("empty label");return function(e){return function(e){return e.map((({input:t,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==e.length?n:`Invalid label ${cf(uf(t))}: ${n}`)}return bd(n)})).join(qd)}(df(e,Fd,mf))}(e)}catch(t){Mi(!1,`invalid ENS name (${t.message})`,"name",e)}}function Af(e){try{return 0!==wf(e).length}catch(e){}return!1}function Ef(e){Mi("string"==typeof e,"invalid ENS name; not a string","name",e),Mi(e.length,"invalid ENS name (empty label)","name",e);let t=yf;const r=wf(e);for(;r.length;)t=vo(qi([t,vo(r.pop())]));return ji(t)}function xf(e){return ji(qi(wf(e).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}function Sf(e){let t;return t="string"==typeof e?rd.computePublicKey(e,!1):e.publicKey,Ro(vo("0x"+t.substring(4)).substring(26))}function kf(e,t){return Sf(rd.recoverPublicKey(e,t))}function Rf(e){return"string"==typeof e&&(e=Zi(e)),vo(qi([Zi(vl),Zi(String(e.length)),e]))}function If(e,t){return kf(Rf(e),t)}yf.fill(0);const Tf=new RegExp("^bytes([0-9]+)$"),Mf=new RegExp("^(u?int)([0-9]*)$"),Pf=new RegExp("^(.*)\\[([0-9]*)\\]$");function Cf(e,t,r){switch(e){case"address":return Bi(r?Wi(t,32):Ro(t));case"string":return Zi(t);case"bytes":return Bi(t);case"bool":return t=t?"0x01":"0x00",Bi(r?Wi(t,32):t)}let n=e.match(Mf);if(n){let i="int"===n[1],a=parseInt(n[2]||"256");return Mi((!n[2]||n[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",e),r&&(a=256),i&&(t=sa(t,a)),Bi(Wi(ma(t),a/8))}if(n=e.match(Tf),n){const i=parseInt(n[1]);return Mi(String(i)===n[1]&&0!==i&&i<=32,"invalid bytes type","type",e),Mi(zi(t)===i,`invalid value for ${e}`,"value",t),r?Bi(Ji(t,32)):t}if(n=e.match(Pf),n&&Array.isArray(t)){const r=n[1];Mi(parseInt(n[2]||String(t.length))===t.length,`invalid array length for ${e}`,"value",t);const i=[];return t.forEach((function(e){i.push(Cf(r,e,!0))})),Bi(qi(i))}Mi(!1,"invalid type","type",e)}function Of(e,t){Mi(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(Cf(e,t[n]))})),ji(qi(r))}function Lf(e,t){return vo(Of(e,t))}function Nf(e,t){return Su(Of(e,t))}const Bf=new Uint8Array(32);Bf.fill(0);const Df=BigInt(-1),Uf=BigInt(0),Vf=BigInt(1),Ff=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),jf=ga(Vf,32),qf=ga(Uf,32),zf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},$f=["name","version","chainId","verifyingContract","salt"];function Hf(e){return function(t){return Mi("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Gf={name:Hf("name"),version:Hf("version"),chainId:function(e){const t=ca(e,"domain.chainId");return Mi(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):ba(t)},verifyingContract:function(e){try{return Ro(e).toLowerCase()}catch(e){}Mi(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Bi(e,"domain.salt");return Mi(32===t.length,'invalid domain value "salt"',"domain.salt",e),ji(t)}};function Wf(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");Mi(n%8==0&&0!==n&&n<=256&&(null==t[2]||t[2]===String(n)),"invalid numeric width","type",e);const i=la(Ff,r?n-1:n),a=r?(i+Vf)*Df:Uf;return function(t){const n=ca(t,"value");return Mi(n>=a&&n<=i,`value out-of-bounds for ${e}`,"value",n),ga(r?sa(n,256):n,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return Mi(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return Mi(Bi(t).length===r,`invalid length for ${e}`,"value",t),function(e){const t=Bi(e),r=t.length%32;return r?qi([t,Bf.slice(r)]):ji(t)}(t)}}}switch(e){case"address":return function(e){return Wi(Ro(e),32)};case"bool":return function(e){return e?jf:qf};case"bytes":return function(e){return vo(e)};case"string":return function(e){return Yo(e)}}return null}function Jf(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class Qf{primaryType;#N;get types(){return JSON.parse(this.#N)}#B;#D;constructor(e){this.#N=JSON.stringify(e),this.#B=new Map,this.#D=new Map;const t=new Map,r=new Map,n=new Map;Object.keys(e).forEach((e=>{t.set(e,new Set),r.set(e,[]),n.set(e,new Set)}));for(const n in e){const i=new Set;for(const a of e[n]){Mi(!i.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(n)}`,"types",e),i.add(a.name);const o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Mi(o!==n,`circular type reference to ${JSON.stringify(o)}`,"types",e),Wf(o)||(Mi(r.has(o),`unknown type ${JSON.stringify(o)}`,"types",e),r.get(o).push(n),t.get(n).add(o))}}const i=Array.from(r.keys()).filter((e=>0===r.get(e).length));Mi(0!==i.length,"missing primary type","types",e),Mi(1===i.length,`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),xi(this,{primaryType:i[0]}),function i(a,o){Mi(!o.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),o.add(a);for(const e of t.get(a))if(r.has(e)){i(e,o);for(const t of o)n.get(t).add(e)}o.delete(a)}(this.primaryType,new Set);for(const[t,r]of n){const n=Array.from(r);n.sort(),this.#B.set(t,Jf(t,e[t])+n.map((t=>Jf(t,e[t]))).join(""))}}getEncoder(e){let t=this.#D.get(e);return t||(t=this.#U(e),this.#D.set(e,t)),t}#U(e){{const t=Wf(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e);return n=>{Mi(!t[3]||parseInt(t[3])===n.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",n);let i=n.map(r);return this.#B.has(e)&&(i=i.map(vo)),vo(qi(i))}}const r=this.types[e];if(r){const t=Yo(this.#B.get(e));return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this.#B.has(r)?vo(n):n}));return n.unshift(t),qi(n)}}Mi(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#B.get(e);return Mi(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return vo(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Wf(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n)return Mi(!n[3]||parseInt(n[3])===t.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",t),t.map((e=>this._visit(n[1],e,r)));const i=this.types[e];if(i)return i.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{});Mi(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Qf(e)}static getPrimaryType(e){return Qf.from(e).primaryType}static hashStruct(e,t,r){return Qf.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const n=zf[r];Mi(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>$f.indexOf(e.name)-$f.indexOf(t.name))),Qf.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return qi(["0x1901",Qf.hashDomain(e),Qf.from(t).hash(r)])}static hash(e,t,r){return vo(Qf.encode(e,t,r))}static async resolveNames(e,t,r,n){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const i={};e.verifyingContract&&!Ui(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Qf.from(t);a.visit(r,((e,t)=>("address"!==e||Ui(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=a.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,r){Qf.hashDomain(e);const n={},i=[];$f.forEach((t=>{const r=e[t];null!=r&&(n[t]=Gf[t](r),i.push({name:t,type:zf[t]}))}));const a=Qf.from(t),o=Object.assign({},t);return Mi(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,a.encode(r),{types:o,domain:n,primaryType:a.primaryType,message:a.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return ji(Bi(t));if(e.match(/^u?int/))return ca(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Mi("string"==typeof t,"invalid string","value",t),t}Mi(!1,"unsupported type","type",e)}))}}}function Kf(e,t,r,n){return kf(Qf.hash(e,t,r),n)}function Yf(e){e=atob(e);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return Bi(t)}function Zf(e){const t=Bi(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}var Xf=__webpack_require__(8971).ZP;function ep(e){return async function(e,t){const r=e.url.split(":")[0].toLowerCase();let n;if(Ti("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Ti("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;n=e.signal,t.addListener((()=>{e.abort()}))}const i={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:n},a=await Xf(e.url,i),o={};a.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e}));const s=await a.arrayBuffer(),l=null==s?null:new Uint8Array(s);return{statusCode:a.status,statusMessage:a.statusText,headers:o,body:l}}}ep();let tp=ep();const rp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),np=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ip=!1;async function ap(e,t){try{const t=e.match(rp);if(!t)throw new Error("invalid data");return new dp(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?Yf(t[3]):Zi(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new dp(599,"BAD REQUEST (invalid data: URI)",{},null,new hp(e))}}function op(e){return async function(t,r){try{const r=t.match(np);if(!r)throw new Error("invalid link");return new hp(`${e}${r[2]}`)}catch(e){return new dp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new hp(t))}}}const sp={data:ap,ipfs:op("https://gateway.ipfs.io/ipfs/")},lp=new WeakMap;class cp{#V;#F;constructor(e){this.#V=[],this.#F=!1,lp.set(e,(()=>{if(!this.#F){this.#F=!0;for(const e of this.#V)setTimeout((()=>{e()}),0);this.#V=[]}}))}addListener(e){Ti(!this.#F,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#V.push(e)}get cancelled(){return this.#F}checkSignal(){Ti(!this.cancelled,"cancelled","CANCELLED",{})}}function up(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class hp{#j;#q;#z;#$;#H;#G;#W;#J;#Q;#K;#Y;#Z;#X;#ee;#te;get url(){return this.#G}set url(e){this.#G=String(e)}get body(){return null==this.#W?null:new Uint8Array(this.#W)}set body(e){if(null==e)this.#W=void 0,this.#J=void 0;else if("string"==typeof e)this.#W=Zi(e),this.#J="text/plain";else if(e instanceof Uint8Array)this.#W=e,this.#J="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#W=Zi(JSON.stringify(e)),this.#J="application/json"}}hasBody(){return null!=this.#W}get method(){return this.#$?this.#$:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#$=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#z);return this.#Q&&(e.authorization=`Basic ${Zf(Zi(this.#Q))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#J&&(e["content-type"]=this.#J),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#z[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#z={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#Q||null}setCredentials(e,t){Mi(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#Q=`${e}:${t}`}get allowGzip(){return this.#q}set allowGzip(e){this.#q=!!e}get allowInsecureAuthentication(){return!!this.#j}set allowInsecureAuthentication(e){this.#j=!!e}get timeout(){return this.#H}set timeout(e){Mi(e>=0,"timeout must be non-zero","timeout",e),this.#H=e}get preflightFunc(){return this.#K||null}set preflightFunc(e){this.#K=e}get processFunc(){return this.#Y||null}set processFunc(e){this.#Y=e}get retryFunc(){return this.#Z||null}set retryFunc(e){this.#Z=e}get getUrlFunc(){return this.#te||tp}set getUrlFunc(e){this.#te=e}constructor(e){this.#G=String(e),this.#j=!1,this.#q=!0,this.#z={},this.#$="",this.#H=3e5,this.#ee={slotInterval:250,maxAttempts:12},this.#te=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#W?ji(this.#W):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#ee.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#ee.maxAttempts=e.maxAttempts)}async#re(e,t,r,n,i){if(e>=this.#ee.maxAttempts)return i.makeServerError("exceeded maximum retry limit");Ti(fp()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in sp){const e=await sp[o](a.url,up(n.#X));if(e instanceof dp){let t=e;if(this.processFunc){up(n.#X);try{t=await this.processFunc(a,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}a=e}this.preflightFunc&&(a=await this.preflightFunc(a));const s=await this.getUrlFunc(a,up(n.#X));let l=new dp(s.statusCode,s.statusMessage,s.headers,s.body,n);if(301===l.statusCode||302===l.statusCode){try{const r=l.headers.location||"";return a.redirect(r).#re(e+1,t,0,n,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(a,l,e))){const r=l.headers["retry-after"];let i=this.#ee.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),a.clone().#re(e+1,t,i,n,l)}if(this.processFunc){up(n.#X);try{l=await this.processFunc(a,l)}catch(r){null!=r.throttle&&"number"==typeof r.stall||l.makeServerError("error in post-processing function",r).assertOk();let i=this.#ee.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return r.stall>=0&&(i=r.stall),a.clone().#re(e+1,t,i,n,l)}}return l}send(){return Ti(null==this.#X,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#X=new cp(this),this.#re(0,fp()+this.timeout,0,this,new dp(0,"",{},null,this))}cancel(){Ti(null!=this.#X,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=lp.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Ti("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const n=new hp(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#z=Object.assign({},this.#z),this.#W&&(n.#W=new Uint8Array(this.#W)),n.#J=this.#J,n}clone(){const e=new hp(this.url);return e.#$=this.#$,this.#W&&(e.#W=this.#W),e.#J=this.#J,e.#z=Object.assign({},this.#z),e.#Q=this.#Q,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#K=this.#K,e.#Y=this.#Y,e.#Z=this.#Z,e.#te=this.#te,e}static lockConfig(){ip=!0}static getGateway(e){return sp[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ip)throw new Error("gateways locked");sp[e]=t}static registerGetUrl(e){if(ip)throw new Error("gateways locked");tp=e}static createGetUrlFunc(e){return ep()}static createDataGateway(){return ap}static createIpfsGatewayFunc(e){return op(e)}}class dp{#ne;#ie;#z;#W;#ae;#oe;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#W?ji(this.#W):"null"}>`}get statusCode(){return this.#ne}get statusMessage(){return this.#ie}get headers(){return Object.assign({},this.#z)}get body(){return null==this.#W?null:new Uint8Array(this.#W)}get bodyText(){try{return null==this.#W?"":Xi(this.#W)}catch(e){Ti(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){Ti(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#ne=e,this.#ie=t,this.#z=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#W=null==n?null:new Uint8Array(n),this.#ae=i||null,this.#oe={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const n=new dp(599,r,this.headers,this.body,this.#ae||void 0);return n.#oe={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:Mi(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw xi(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#W}get request(){return this.#ae}ok(){return""===this.#oe.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#oe;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`),Ti(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}}function fp(){return(new Date).getTime()}const pp=new Set;function gp(e){pp.has(e)||(pp.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}class mp{name;constructor(e){xi(this,{name:e})}clone(){return new mp(this.name)}}class bp extends mp{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function n(e,n){let i=(t||{})[e];null==i&&(i=n),Mi("number"==typeof i,`invalud value for ${e}`,"costs",t),r[e]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),xi(this,r)}clone(){return new bp(this.effectiveBlock,this)}}class yp extends mp{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),xi(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new yp(this.address,this.targetNetwork)}}class vp extends mp{#se;get feeDataFunc(){return this.#se}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#se=e}async getFeeData(e){return await this.#se(e)}clone(){return new vp(this.#se)}}class wp extends mp{#G;#le;get url(){return this.#G}get processFunc(){return this.#le}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#G=e,this.#le=t}clone(){return this}}const _p=new Map;class Ap{#t;#ce;#ue;constructor(e,t){this.#t=e,this.#ce=ca(t),this.#ue=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(e){this.#t=e}get chainId(){return this.#ce}set chainId(e){this.#ce=ca(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===ca(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===ca(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===ca(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#ue.values())}attachPlugin(e){if(this.#ue.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#ue.set(e.name,e.clone()),this}getPlugin(e){return this.#ue.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Ap(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new bp;let r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const n=_l(e.accessList);for(const e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){var e;Sp||(Sp=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[xp("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[xp("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[(e=BigInt("1000000"),new wp("data:",(async(t,r,n)=>{const i=await t();if(null==i.maxFeePerGas||null==i.maxPriorityFeePerGas)return i;const a=i.maxFeePerGas-i.maxPriorityFeePerGas;return{gasPrice:i.gasPrice,maxFeePerGas:a+e,maxPriorityFeePerGas:e}})))]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1}));function t(e,t,r){const n=function(){const n=new Ap(e,t);return null!=r.ensNetwork&&n.attachPlugin(new yp(null,r.ensNetwork)),n.attachPlugin(new bp),(r.plugins||[]).forEach((e=>{n.attachPlugin(e)})),n};Ap.register(e,n),Ap.register(t,n),r.altNames&&r.altNames.forEach((e=>{Ap.register(e,n)}))}}(),null==e)return Ap.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=_p.get(e);if(t)return t();if("bigint"==typeof e)return new Ap("unknown",e);Mi(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){Mi("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Ap(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new yp(e.ensAddress,e.ensNetwork)),t}Mi(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const r=_p.get(e);r&&Mi(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),_p.set(e,t)}}function Ep(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function xp(e){return new wp(e,(async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([r.send(),e()]);n=t;const a=n.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Ep(a.maxFee,9),maxPriorityFeePerGas:Ep(a.maxPriorityFee,9)}}catch(e){Ti(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}}))}let Sp=!1;function kp(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Rp(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function Ip(e,t,r,n){const i=[];for(;r<t+1+n;){const a=Tp(e,r);i.push(a.result),Ti((r+=a.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function Tp(e,t){Ti(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{Ti(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const n=e[t]-247;r(t+1+n);const i=Rp(e,t+1,n);return r(t+1+n+i),Ip(e,t,t+1+n,n+i)}if(e[t]>=192){const n=e[t]-192;return r(t+1+n),Ip(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;r(t+1+n);const i=Rp(e,t+1,n);return r(t+1+n+i),{consumed:1+n+i,result:ji(e.slice(t+1+n,t+1+n+i))}}if(e[t]>=128){const n=e[t]-128;return r(t+1+n),{consumed:1+n,result:ji(e.slice(t+1,t+1+n))}}return{consumed:1,result:kp(e[t])}}function Mp(e){const t=Bi(e,"data"),r=Tp(t,0);return Mi(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}const Pp=BigInt(0),Cp=BigInt(2),Op=BigInt(27),Lp=BigInt(28),Np=BigInt(35),Bp=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Dp(e){return"0x"===e?null:Ro(e)}function Up(e,t){try{return _l(e)}catch(r){Mi(!1,r.message,t,e)}}function Vp(e,t){return"0x"===e?0:fa(e,t)}function Fp(e,t){if("0x"===e)return Pp;const r=ca(e,t);return Mi(r<=Bp,"value exceeds uint size",t,r),r}function jp(e,t){const r=ca(e,"value"),n=ma(r);return Mi(n.length<=32,"value too large",`tx.${t}`,r),n}function qp(e){return _l(e).map((e=>[e.address,e.storageKeys]))}function zp(e,t){const r=[jp(e.nonce||0,"nonce"),jp(e.gasPrice||0,"gasPrice"),jp(e.gasLimit||0,"gasLimit"),null!=e.to?Ro(e.to):"0x",jp(e.value||0,"value"),e.data||"0x"];let n=Pp;if(e.chainId!=Pp)n=ca(e.chainId,"tx.chainId"),Mi(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==Pp&&(r.push(ma(n)),r.push("0x"),r.push("0x")),il(r);let i=BigInt(27+t.yParity);return n!==Pp?i=Bu.getChainIdV(n,t.v):BigInt(t.v)!==i&&Mi(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(ma(i)),r.push(ma(t.r)),r.push(ma(t.s)),il(r)}function $p(e,t){let r;try{if(r=Vp(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(e){Mi(!1,"invalid yParity","yParity",t[0])}const n=Wi(t[1],32),i=Wi(t[2],32),a=Bu.from({r:n,s:i,yParity:r});e.signature=a}function Hp(e,t){const r=[jp(e.chainId||0,"chainId"),jp(e.nonce||0,"nonce"),jp(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jp(e.maxFeePerGas||0,"maxFeePerGas"),jp(e.gasLimit||0,"gasLimit"),null!=e.to?Ro(e.to):"0x",jp(e.value||0,"value"),e.data||"0x",qp(e.accessList||[])];return t&&(r.push(jp(t.yParity,"yParity")),r.push(ma(t.r)),r.push(ma(t.s))),qi(["0x02",il(r)])}function Gp(e,t){const r=[jp(e.chainId||0,"chainId"),jp(e.nonce||0,"nonce"),jp(e.gasPrice||0,"gasPrice"),jp(e.gasLimit||0,"gasLimit"),null!=e.to?Ro(e.to):"0x",jp(e.value||0,"value"),e.data||"0x",qp(e.accessList||[])];return t&&(r.push(jp(t.yParity,"recoveryParam")),r.push(ma(t.r)),r.push(ma(t.s))),qi(["0x01",il(r)])}class Wp{#n;#he;#l;#de;#fe;#pe;#ge;#me;#be;#ce;#ye;#ve;get type(){return this.#n}set type(e){switch(e){case null:this.#n=null;break;case 0:case"legacy":this.#n=0;break;case 1:case"berlin":case"eip-2930":this.#n=1;break;case 2:case"london":case"eip-1559":this.#n=2;break;default:Mi(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#he}set to(e){this.#he=null==e?null:Ro(e)}get nonce(){return this.#de}set nonce(e){this.#de=fa(e,"value")}get gasLimit(){return this.#fe}set gasLimit(e){this.#fe=ca(e)}get gasPrice(){const e=this.#pe;return null!=e||0!==this.type&&1!==this.type?e:Pp}set gasPrice(e){this.#pe=null==e?null:ca(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#ge;return null==e?2===this.type?Pp:null:e}set maxPriorityFeePerGas(e){this.#ge=null==e?null:ca(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#me;return null==e?2===this.type?Pp:null:e}set maxFeePerGas(e){this.#me=null==e?null:ca(e,"maxFeePerGas")}get data(){return this.#l}set data(e){this.#l=ji(e)}get value(){return this.#be}set value(e){this.#be=ca(e,"value")}get chainId(){return this.#ce}set chainId(e){this.#ce=ca(e)}get signature(){return this.#ye||null}set signature(e){this.#ye=null==e?null:Bu.from(e)}get accessList(){const e=this.#ve||null;return null==e?1===this.type||2===this.type?[]:null:e}set accessList(e){this.#ve=null==e?null:_l(e)}constructor(){this.#n=null,this.#he=null,this.#de=0,this.#fe=BigInt(0),this.#pe=null,this.#ge=null,this.#me=null,this.#l="0x",this.#be=BigInt(0),this.#ce=BigInt(0),this.#ye=null,this.#ve=null}get hash(){return null==this.signature?null:vo(this.serialized)}get unsignedHash(){return vo(this.unsignedSerialized)}get from(){return null==this.signature?null:kf(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:rd.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(Ti(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return zp(this,this.signature);case 1:return Gp(this,this.signature);case 2:return Hp(this,this.signature)}Ti(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return zp(this);case 1:return Gp(this);case 2:return Hp(this)}Ti(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Ti(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ti(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ti(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return null!=this.type?n.push(this.type):t?n.push(2):e?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(n.push(0),n.push(1),n.push(2)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return Wp.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Wp;if("string"==typeof e){const t=Bi(e);if(t[0]>=127)return Wp.from(function(e){const t=Mp(e);Mi(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:Vp(t[0],"nonce"),gasPrice:Fp(t[1],"gasPrice"),gasLimit:Fp(t[2],"gasLimit"),to:Dp(t[3]),value:Fp(t[4],"value"),data:ji(t[5]),chainId:Pp};if(6===t.length)return r;const n=Fp(t[6],"v"),i=Fp(t[7],"r"),a=Fp(t[8],"s");if(i===Pp&&a===Pp)r.chainId=n;else{let i=(n-Np)/Cp;i<Pp&&(i=Pp),r.chainId=i,Mi(i!==Pp||n===Op||n===Lp,"non-canonical legacy v","v",t[6]),r.signature=Bu.from({r:Wi(t[7],32),s:Wi(t[8],32),v:n}),r.hash=vo(e)}return r}(t));switch(t[0]){case 1:return Wp.from(function(e){const t=Mp(Bi(e).slice(1));Mi(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",ji(e));const r={type:1,chainId:Fp(t[0],"chainId"),nonce:Vp(t[1],"nonce"),gasPrice:Fp(t[2],"gasPrice"),gasLimit:Fp(t[3],"gasLimit"),to:Dp(t[4]),value:Fp(t[5],"value"),data:ji(t[6]),accessList:Up(t[7],"accessList")};return 8===t.length||(r.hash=vo(e),$p(r,t.slice(8))),r}(t));case 2:return Wp.from(function(e){const t=Mp(Bi(e).slice(1));Mi(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",ji(e));const r=Fp(t[2],"maxPriorityFeePerGas"),n=Fp(t[3],"maxFeePerGas"),i={type:2,chainId:Fp(t[0],"chainId"),nonce:Vp(t[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Fp(t[4],"gasLimit"),to:Dp(t[5]),value:Fp(t[6],"value"),data:ji(t[7]),accessList:Up(t[8],"accessList")};return 9===t.length||(i.hash=vo(e),$p(i,t.slice(9))),i}(t))}Ti(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Wp;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Bu.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.hash&&(Mi(t.isSigned(),"unsigned transaction cannot define hash","tx",e),Mi(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(Mi(t.isSigned(),"unsigned transaction cannot define from","tx",e),Mi(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Jp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Qp=null;function Kp(e){if(null==Qp){Qp={};for(let e=0;e<Jp.length;e++)Qp[Jp[e]]=BigInt(e)}const t=Qp[e];return Mi(null!=t,"invalid base58 value","letter",e),t}const Yp=BigInt(0),Zp=BigInt(58);function Xp(e){let t=da(Bi(e)),r="";for(;t;)r=Jp[Number(t%Zp)]+r,t/=Zp;return r}function eg(e){let t=Yp;for(let r=0;r<e.length;r++)t*=Zp,t+=Kp(e[r]);return t}function tg(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Mi(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class rg{name;constructor(e){xi(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const ng=new RegExp("^(ipfs)://(.*)$","i"),ig=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ng,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class ag{provider;address;name;#we;#_e;constructor(e,t,r){xi(this,{provider:e,address:t,name:r}),this.#we=null,this.#_e=new lc(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#we&&(this.#we=(async()=>{try{return await this.#_e.supportsInterface("0x9061b923")}catch(e){if(ki(e,"CALL_EXCEPTION"))return!1;throw this.#we=null,e}})()),await this.#we}async#Ae(e,t){t=(t||[]).slice();const r=this.#_e.interface;t.unshift(Ef(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(e),Ti(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[xf(this.name),r.encodeFunctionData(n,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#_e[e](...t);return n?r.decodeFunctionResult(n,i)[0]:i}catch(e){if(!ki(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Ae("addr(bytes32)");return null==e||e===hl?null:e}catch(e){if(ki(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const r=await this.#Ae("addr(bytes32,uint)",[t]);if(Ui(r,20))return Ro(r)}let t=null;for(const r of this.provider.plugins)if(r instanceof rg&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;const r=await this.#Ae("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;const n=await t.decodeAddress(e,r);if(null!=n)return n;Ti(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#Ae("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Ae("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${Xp("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;Ti(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<ig.length;r++){const n=t.match(ig[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const r=tg(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{const r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(n[2]||"").split("/");if(2!==o.length)return e.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:e};const s=o[1],l=new lc(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){const t=await l.ownerOf(s);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){const t=await l.balanceOf(a,s);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await l[r](s);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===i&&(c=c.replace("{id}",ga(s,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=tg(c)),e.push({type:"metadata-url",value:c});let u={};const h=await new hp(c).send();h.assertOk();try{u=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const r=h.body;return r&&e.push({type:"!metadata",value:ji(r)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let d=u.image;if("string"!=typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(ng))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=tg(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return Ti(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#Ee(e,t){const r=await ag.getEnsAddress(e);try{const n=new lc(r,["function resolver(bytes32) view returns (address)"],e),i=await n.resolver(Ef(t),{enableCcipRead:!0});return i===hl?null:i}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const n=await ag.#Ee(e,r);if(null!=n){const i=new ag(e,n,t);return r===t||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}const og=BigInt(0);function sg(e,t){return function(r){return null==r?t:e(r)}}function lg(e){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map((t=>e(t)))}}function cg(e,t){return r=>{const n={};for(const i in e){let a=i;if(t&&i in t&&!(a in r))for(const e of t[i])if(e in r){a=e;break}try{const t=e[i](r[a]);void 0!==t&&(n[i]=t)}catch(e){Ti(!1,`invalid value for value.${i} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return n}}function ug(e){return Mi(Ui(e,!0),"invalid data","value",e),e}function hg(e){return Mi(Ui(e,32),"invalid hash","value",e),e}const dg=cg({address:Ro,blockHash:hg,blockNumber:fa,data:ug,index:fa,removed:sg((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Mi(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:lg(hg),transactionHash:hg,transactionIndex:fa},{index:["logIndex"]}),fg=cg({hash:sg(hg),parentHash:hg,number:fa,timestamp:fa,nonce:sg(ug),difficulty:ca,gasLimit:ca,gasUsed:ca,miner:sg(Ro),extraData:ug,baseFeePerGas:sg(ca)}),pg=cg({transactionIndex:fa,blockNumber:fa,transactionHash:hg,address:Ro,topics:lg(hg),data:ug,index:fa,blockHash:hg},{index:["logIndex"]}),gg=cg({to:sg(Ro,null),from:sg(Ro,null),contractAddress:sg(Ro,null),index:fa,root:sg(ji),gasUsed:ca,logsBloom:sg(ug),blockHash:hg,hash:hg,logs:lg((function(e){return pg(e)})),blockNumber:fa,cumulativeGasUsed:ca,effectiveGasPrice:sg(ca),status:sg(fa),type:sg(fa,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function mg(e){e.to&&ca(e.to)===og&&(e.to="0x0000000000000000000000000000000000000000");const t=cg({hash:hg,type:e=>"0x"===e||null==e?0:fa(e),accessList:sg(_l,null),blockHash:sg(hg,null),blockNumber:sg(fa,null),transactionIndex:sg(fa,null),from:Ro,gasPrice:sg(ca),maxPriorityFeePerGas:sg(ca),maxFeePerGas:sg(ca),gasLimit:ca,to:sg(Ro,null),value:ca,nonce:fa,data:ug,creates:sg(Ro,null),chainId:sg(ca,null)},{data:["input"],gasLimit:["gas"]})(e);if(null==t.to&&null==t.creates&&(t.creates=al(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Bu.from(e.signature):t.signature=Bu.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&ca(t.blockHash)===og&&(t.blockHash=null),t}function bg(e){return JSON.parse(JSON.stringify(e))}class yg{#xe;#Se;#ke;#Re;constructor(e){this.#xe=e,this.#Se=null,this.#ke=4e3,this.#Re=-2}get pollingInterval(){return this.#ke}set pollingInterval(e){this.#ke=e}async#Ie(){try{const e=await this.#xe.getBlockNumber();if(-2===this.#Re)return void(this.#Re=e);if(e!==this.#Re){for(let t=this.#Re+1;t<=e;t++){if(null==this.#Se)return;await this.#xe.emit("block",t)}this.#Re=e}}catch(e){}null!=this.#Se&&(this.#Se=this.#xe._setTimeout(this.#Ie.bind(this),this.#ke))}start(){this.#Se||(this.#Se=this.#xe._setTimeout(this.#Ie.bind(this),this.#ke),this.#Ie())}stop(){this.#Se&&(this.#xe._clearTimeout(this.#Se),this.#Se=null)}pause(e){this.stop(),e&&(this.#Re=-2)}resume(){this.start()}}class vg{#xe;#Ie;#Te;constructor(e){this.#xe=e,this.#Te=!1,this.#Ie=e=>{this._poll(e,this.#xe)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Te||(this.#Te=!0,this.#Ie(-2),this.#xe.on("block",this.#Ie))}stop(){this.#Te&&(this.#Te=!1,this.#xe.off("block",this.#Ie))}pause(e){this.stop()}resume(){this.start()}}class wg extends vg{#T;constructor(e,t){super(e),this.#T=bg(t)}async _poll(e,t){throw new Error("@TODO")}}class _g extends vg{#Me;constructor(e,t){super(e),this.#Me=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Me);r&&t.emit(this.#Me,r)}}class Ag{#xe;#T;#Se;#Te;#Re;constructor(e,t){this.#xe=e,this.#T=bg(t),this.#Se=this.#Ie.bind(this),this.#Te=!1,this.#Re=-2}async#Ie(e){if(-2===this.#Re)return;const t=bg(this.#T);t.fromBlock=this.#Re+1,t.toBlock=e;const r=await this.#xe.getLogs(t);if(0!==r.length)for(const e of r)this.#xe.emit(this.#T,e),this.#Re=e.blockNumber;else this.#Re<e-60&&(this.#Re=e-60)}start(){this.#Te||(this.#Te=!0,-2===this.#Re&&this.#xe.getBlockNumber().then((e=>{this.#Re=e})),this.#xe.on("block",this.#Se))}stop(){this.#Te&&(this.#Te=!1,this.#xe.off("block",this.#Se))}pause(e){this.stop(),e&&(this.#Re=-2)}resume(){this.start()}}const Eg=BigInt(2);function xg(e){return e&&"function"==typeof e.then}function Sg(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class kg{name;constructor(e){xi(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Rg(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Ig(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"pending":case"debug":case"error":case"network":return{type:e,tag:e}}if(Ui(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Sg("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Sg("orphan",t),filter:(r=t,JSON.parse(JSON.stringify(r)))}}var r;if(e.address||e.topics){const r=e,n={topics:(r.topics||[]).map((e=>null==e?null:Array.isArray(e)?Rg(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(r.address){const e=[],i=[],a=r=>{Ui(r)?e.push(r):i.push((async()=>{e.push(await ul(r,t))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=Rg(e.map((e=>e.toLowerCase())))}return{filter:n,tag:Sg("event",n),type:"event"}}Mi(!1,"unknown ProviderEvent","event",e)}function Tg(){return(new Date).getTime()}const Mg={cacheTimeout:250,pollingInterval:4e3};class Pg{#Pe;#ue;#Ce;#Oe;#Le;#Ne;#Be;#De;#Ue;#Ve;#Fe;#f;constructor(e,t){if(this.#f=Object.assign({},Mg,t||{}),"any"===e)this.#Ne=!0,this.#Le=null;else if(e){const t=Ap.from(e);this.#Ne=!1,this.#Le=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Ne=!1,this.#Le=null;this.#De=-1,this.#Be=new Map,this.#Pe=new Map,this.#ue=new Map,this.#Ce=null,this.#Oe=!1,this.#Ue=1,this.#Ve=new Map,this.#Fe=!1}get pollingInterval(){return this.#f.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#ue.values())}attachPlugin(e){if(this.#ue.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#ue.set(e.name,e.connect(this)),this}getPlugin(e){return this.#ue.get(e)||null}get disableCcipRead(){return this.#Fe}set disableCcipRead(e){this.#Fe=!!e}async#je(e){const t=this.#f.cacheTimeout;if(t<0)return await this._perform(e);const r=Sg(e.method,e);let n=this.#Be.get(r);return n||(n=this._perform(e),this.#Be.set(r,n),setTimeout((()=>{this.#Be.get(r)===n&&this.#Be.delete(r)}),t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let t=0;t<r.length;t++){const o=r[t],s=o.replace("{sender}",n).replace("{data}",i),l=new hp(s);-1===o.indexOf("{data}")&&(l.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let c="unknown error";const u=await l.send();try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(c=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}Ti(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:c}}),a.push(c)}Ti(!1,`error encountered during CCIP fetch: ${a.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,t){return new Rl(function(e){const t=fg(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:mg(e))),t}(e),this)}_wrapLog(e,t){return new Il(function(e){return dg(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Tl(function(e){return gg(e)}(e),this)}_wrapTransactionResponse(e,t){return new Ml(mg(e),this)}_detectNetwork(){Ti(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ti(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=fa(await this.#je({method:"getBlockNumber"}),"%response");return this.#De>=0&&(this.#De=e),e}_getAddress(e){return ul(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}return Ui(e)?Ui(e,32)?e:ba(e):("bigint"==typeof e&&(e=fa(e,"blockTag")),"number"==typeof e?e>=0?ba(e):this.#De>=0?ba(this.#De+e):this.getBlockNumber().then((t=>ba(t+e))):void Mi(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?Rg(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,n=(e,n,i)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const o={};return a&&(o.address=a),t.length&&(o.topics=t),n&&(o.fromBlock=n),i&&(o.toBlock=i),r&&(o.blockHash=r),o};let i,a,o=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)o.push(this._getAddress(t));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!=typeof e)).length||null!=i&&"string"!=typeof i||null!=a&&"string"!=typeof a?Promise.all([Promise.all(o),i,a]).then((e=>n(e[0],e[1],e[2]))):n(o,i,a)}_getTransactionRequest(e){const t=kl(e),r=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const n=ul(t[e],this);xg(n)?r.push(async function(){t[e]=await n}()):t[e]=n})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);xg(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#Le){const e=this._detectNetwork().then((e=>(this.emit("network",e,null),e)),(t=>{throw this.#Le===e&&(this.#Le=null),t}));return this.#Le=e,(await e).clone()}const e=this.#Le,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#Ne?(this.emit("network",r,t),this.#Le===e&&(this.#Le=Promise.resolve(r))):Ti(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r}=await Ei({_block:this.#qe("latest",!1),gasPrice:(async()=>{try{return ca(await this.#je({method:"getGasPrice"}),"%response")}catch(e){}return null})()});let n=null,i=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(i=BigInt("1000000000"),n=a.baseFeePerGas*Eg+i),new Sl(r,n,i)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new hp(r.url),n=await r.processFunc(t,this,e);return new Sl(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return xg(t)&&(t=await t),ca(await this.#je({method:"estimateGas",transaction:t}),"%response")}async#ze(e,t,r){Ti(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const n=kl(e);try{return ji(await this._perform({method:"call",transaction:n,blockTag:t}))}catch(e){if(!this.disableCcipRead&&Ri(e)&&e.data&&r>=0&&"latest"===t&&null!=n.to&&"0x556f1830"===$i(e.data,0,4)){const i=e.data,a=await ul(n.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ti(zi(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=$i(e,0,32);Ti($i(r,0,12)===$i(Ug,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=$i(r,12);try{const r=[],n=fa($i(e,32,64)),i=fa($i(e,n,n+32)),a=$i(e,n+32);for(let e=0;e<i;e++){const t=Cg(a,32*e);if(null==t)throw new Error("abort");r.push(t)}t.urls=r}catch(e){Ti(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Og(e,64);if(null==r)throw new Error("abort");t.calldata=r}catch(e){Ti(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ti($i(e,100,128)===$i(Ug,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=$i(e,96,100);try{const r=Og(e,128);if(null==r)throw new Error("abort");t.extraData=r}catch(e){Ti(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}($i(e.data,4))}catch(e){Ti(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:i}})}Ti(o.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const s=await this.ccipReadFetch(n,o.calldata,o.urls);Ti(null!=s,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:e.data,errorArgs:o.errorArgs}});const l={to:a,data:qi([o.selector,Dg([s,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#ze(l,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async#$e(e){const{value:t}=await Ei({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await Ei({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#$e(this.#ze(t,r,e.enableCcipRead?0:-1))}async#He(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof i||([n,i]=await Promise.all([n,i])),await this.#$e(this.#je(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return ca(await this.#He({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return fa(await this.#He({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return ji(await this.#He({method:"getCode"},e,t))}async getStorage(e,t,r){const n=ca(t,"position");return ji(await this.#He({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:n}=await Ei({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Wp.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(t)}async#qe(e,t){if(Ui(e,32))return await this.#je({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#je({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:n}=await Ei({network:this.getNetwork(),params:this.#qe(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){const{network:t,params:r}=await Ei({network:this.getNetwork(),params:this.#je({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await Ei({network:this.getNetwork(),params:this.#je({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#je({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await Ei({network:this.getNetwork(),result:this.#je({method:"getTransactionResult",hash:e})});return null==t?null:ji(t)}async getLogs(e){let t=this._getFilter(e);xg(t)&&(t=await t);const{network:r,params:n}=await Ei({network:this.getNetwork(),params:this.#je({method:"getLogs",filter:t})});return n.map((e=>this._wrapLog(e,r)))}_getProvider(e){Ti(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ag.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Ef((e=Ro(e)).substring(2).toLowerCase()+".addr.reverse");try{const r=await ag.getEnsAddress(this),n=new lc(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(t);if(null==i||i===hl)return null;const a=new lc(i,["function name(bytes32) view returns (string)"],this),o=await a.name(t);return await this.resolveName(o)!==e?null:o}catch(e){if(ki(e,"BAD_DATA")&&"0x"===e.value)return null;if(ki(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){const n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let a=null;const o=async r=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n)return t(i),void(a&&(clearTimeout(a),a=null))}catch(e){console.log("EEE",e)}this.once("block",o)};null!=r&&(a=setTimeout((()=>{null!=a&&(a=null,this.off("block",o),i(Ii("timeout","TIMEOUT",{reason:"timeout"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(e){Ti(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ve.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ve.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#Ue++,n=()=>{this.#Ve.delete(r),e()};if(this.paused)this.#Ve.set(r,{timer:null,func:n,time:t});else{const e=setTimeout(n,t);this.#Ve.set(r,{timer:e,func:n,time:Tg()})}return r}_forEachSubscriber(e){for(const t of this.#Pe.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new kg(e.type);case"block":{const e=new yg(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new Ag(this,e.filter);case"transaction":return new _g(this,e.hash);case"orphan":return new wg(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#Pe.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#Ce&&t.pause(this.#Ce);break}}async#Ge(e,t){let r=await Ig(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await Ig({orphan:"drop-log",log:t[0]},this)),this.#Pe.get(r.tag)||null}async#We(e){const t=await Ig(e,this),r=t.tag;let n=this.#Pe.get(r);return n||(n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Pe.set(r,n)),n}async on(e,t){const r=await this.#We(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ce&&r.subscriber.pause(this.#Ce)),this}async once(e,t){const r=await this.#We(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ce&&r.subscriber.pause(this.#Ce)),this}async emit(e,...t){const r=await this.#Ge(e,t);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const i=new Ol(this,n?null:r,e);try{r.call(this,...t,i)}catch(e){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Pe.delete(r.tag)),n>0}async listenerCount(e){if(e){const t=await this.#Ge(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#Pe.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#Ge(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#Pe.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const r=await this.#Ge(e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Pe.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:n}=await this.#We(e);r&&n.stop(),this.#Pe.delete(t)}else for(const[e,{started:t,subscriber:r}]of this.#Pe)t&&r.stop(),this.#Pe.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Oe}destroy(){this.removeAllListeners();for(const e of this.#Ve.keys())this._clearTimeout(e);this.#Oe=!0}get paused(){return null!=this.#Ce}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#De=-1,null!=this.#Ce){if(this.#Ce==!!e)return;Ti(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Ce=!!e;for(const e of this.#Ve.values())e.timer&&clearTimeout(e.timer),e.time=Tg()-e.time}resume(){if(null!=this.#Ce){this._forEachSubscriber((e=>e.resume())),this.#Ce=null;for(const e of this.#Ve.values()){let t=e.time;t<0&&(t=0),e.time=Tg(),setTimeout(e.func,t)}}}}function Cg(e,t){try{const r=Og(e,t);if(r)return Xi(r)}catch(e){}return null}function Og(e,t){if("0x"===e)return null;try{const r=fa($i(e,t,t+32)),n=fa($i(e,r,r+32));return $i(e,r+32,r+32+n)}catch(e){}return null}function Lg(e){const t=ma(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function Ng(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Bg=new Uint8Array([]);function Dg(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(Bg),r+=32;for(let n=0;n<e.length;n++){const i=Bi(e[n]);t[n]=Lg(r),t.push(Lg(i.length)),t.push(Ng(i)),r+=32+32*Math.ceil(i.length/32)}return qi(t)}const Ug="0x0000000000000000000000000000000000000000000000000000000000000000";function Vg(e,t){if(e.provider)return e.provider;Ti(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Fg(e,t){let r=kl(t);if(null!=r.to&&(r.to=ul(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),ul(t,e)]).then((([e,t])=>(Mi(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else r.from=e.getAddress();return await Ei(r)}class jg{provider;constructor(e){xi(this,{provider:e||null})}async getNonce(e){return Vg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Fg(this,e)}async populateTransaction(e){const t=Vg(this,"populateTransaction"),r=await Fg(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();null!=r.chainId?Mi(ca(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=n.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||Mi(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):Mi(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();Ti(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Ti(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):Ti(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await Ei(r)}async estimateGas(e){return Vg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Vg(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Vg(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Vg(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const n=Wp.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class qg extends jg{address;constructor(e,t){super(t),xi(this,{address:e})}async getAddress(){return this.address}connect(e){return new qg(this.address,e)}#Je(e,t){Ti(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#Je("transactions","signTransaction")}async signMessage(e){this.#Je("messages","signMessage")}async signTypedData(e,t,r){this.#Je("typed-data","signTypedData")}}class zg{#xe;#Qe;#Se;#Te;#Ke;#Ye;constructor(e){this.#xe=e,this.#Qe=null,this.#Se=this.#Ie.bind(this),this.#Te=!1,this.#Ke=null,this.#Ye=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Ie(e){try{null==this.#Qe&&(this.#Qe=this._subscribe(this.#xe));let e=null;try{e=await this.#Qe}catch(e){if(!ki(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#Qe=null,void this.#xe._recoverSubscriber(this,this._recover(this.#xe));const t=await this.#xe.getNetwork();if(this.#Ke||(this.#Ke=t),this.#Ke.chainId!==t.chainId)throw new Error("chaid changed");if(this.#Ye)return;const r=await this.#xe.send("eth_getFilterChanges",[e]);await this._emitResults(this.#xe,r)}catch(e){console.log("@TODO",e)}this.#xe.once("block",this.#Se)}#Ze(){const e=this.#Qe;e&&(this.#Qe=null,e.then((e=>{this.#xe.send("eth_uninstallFilter",[e])})))}start(){this.#Te||(this.#Te=!0,this.#Ie(-2))}stop(){this.#Te&&(this.#Te=!1,this.#Ye=!0,this.#Ze(),this.#xe.off("block",this.#Se))}pause(e){e&&this.#Ze(),this.#xe.off("block",this.#Se)}resume(){this.start()}}class $g extends zg{#Xe;constructor(e,t){var r;super(e),this.#Xe=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new Ag(e,this.#Xe)}async _subscribe(e){return await e.send("eth_newFilter",[this.#Xe])}async _emitResults(e,t){for(const r of t)e.emit(this.#Xe,e._wrapLog(r,e._network))}}class Hg extends zg{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const Gg="bigint,boolean,function,number,string,symbol".split(/,/g);function Wg(e){if(null==e||Gg.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Wg);if("object"==typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Jg(e){return new Promise((t=>{setTimeout(t,e)}))}function Qg(e){return e?e.toLowerCase():e}function Kg(e){return e&&"number"==typeof e.pollingInterval}const Yg={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Zg extends jg{address;constructor(e,t){super(e),xi(this,{address:t=Ro(t)})}connect(e){Ti(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Wg(e),r=[];if(t.from){const n=t.from;r.push((async()=>{const r=await ul(n,this.provider);Mi(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;r.push((async()=>{t.to=await ul(e,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,n)=>{const i=[1e3,100],a=async()=>{const n=await this.provider.getTransaction(r);null==n?this.provider._setTimeout((()=>{a()}),i.pop()||4e3):e(n.replaceableTransaction(t))};a()}))}async signTransaction(e){const t=Wg(e);if(t.from){const r=await ul(t.from,this.provider);Mi(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t="string"==typeof e?Zi(e):e;return await this.provider.send("personal_sign",[ji(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const n=Wg(r),i=await Qf.resolveNames(e,t,n,(async e=>{const t=await ul(e);return Mi(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Qf.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?Zi(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ji(t)])}}class Xg extends Pg{#f;#et;#tt;#rt;#nt;#Ke;#it(){if(this.#rt)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#rt=setTimeout((()=>{this.#rt=null;const e=this.#tt;for(this.#tt=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#f.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#f.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:n,payload:i}of t){if(this.destroyed){n(Ii("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=r.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?n(this.getRpcError(i,t)):e(t.result);else{const e=Ii("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),n(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:r}of t)r(e)}})()}}),e)}constructor(e,t){super(e,t),this.#et=1,this.#f=Object.assign({},Yg,t||{}),this.#tt=[],this.#rt=null,this.#Ke=null;{let e=null;const t=new Promise((t=>{e=t}));this.#nt={promise:t,resolve:e}}const r=this._getOption("staticNetwork");r&&(Mi(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#Ke=r)}_getOption(e){return this.#f[e]}get _network(){return Ti(this.#Ke,"network is not available yet","NETWORK_ERROR"),this.#Ke}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&ca(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return Ap.from(ca(await this.send("eth_chainId",[])));const t={id:this.#et++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:t});try{r=(await this._send(t))[0]}catch(e){throw this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Ap.from(ca(r.result));throw this.getRpcError(t,r)}_start(){null!=this.#nt&&null!=this.#nt.resolve&&(this.#nt.resolve(),this.#nt=null,(async()=>{for(;null==this.#Ke&&!this.destroyed;)try{this.#Ke=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ii("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Jg(1e3)}this.#it()})())}async _waitUntilReady(){if(null!=this.#nt)return await this.#nt.promise}_getSubscriber(e){return"pending"===e.type?new Hg(this):"event"===e.type?this._getOption("polling")?new Ag(this,e.filter):new $g(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new kg("orphan"):super._getSubscriber(e)}get ready(){return null==this.#nt}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=ba(ca(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=ji(e[r]))})),e.accessList&&(t.accessList=_l(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Qg(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Qg(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Qg(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Qg(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Qg):e.filter.address=Qg(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:n}=t;if("eth_estimateGas"===r&&n.message){const t=n.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Ii("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){const t=rm(n),i=Ws.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:n,payload:e},i}const i=JSON.stringify(function(e){const t=[];return nm(e,t),t}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i))return Ii("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:n}});if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Ii("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:n}});if(i.match(/nonce/i)&&i.match(/too low/i))return Ii("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:n}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Ii("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:n}});if(i.match(/only replay-protected/i))return Ii("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:n}}})}let a=!!i.match(/the method .* does not exist/i);return a||n&&n.details&&n.details.startsWith("Unauthorized method:")&&(a=!0),a?Ii("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:n,payload:e}}):Ii("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Ii("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#et++,n=new Promise(((n,i)=>{this.#tt.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#it(),n}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const r=await t;if(e>=r.length)throw new Error("no such account");return new Zg(this,r[e])}const{accounts:r}=await Ei({network:this.getNetwork(),accounts:t});e=Ro(e);for(const t of r)if(Ro(t)===e)return new Zg(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Zg(this,e)))}destroy(){this.#rt&&(clearTimeout(this.#rt),this.#rt=null);for(const{payload:e,reject:t}of this.#tt)t(Ii("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#tt=[],super.destroy()}}class em extends Xg{#at;constructor(e,t){super(e,t),this.#at=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return Kg(t)&&(t.pollingInterval=this.#at),t}get pollingInterval(){return this.#at}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#at=e,this._forEachSubscriber((e=>{Kg(e)&&(e.pollingInterval=this.#at)}))}}class tm extends em{#ot;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),this.#ot="string"==typeof e?new hp(e):e.clone()}_getConnection(){return this.#ot.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const r=await t.send();r.assertOk();let n=r.bodyJson;return Array.isArray(n)||(n=[n]),n}}function rm(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&Ui(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const r=rm(e[t]);if(r)return r}return null}if("string"==typeof e)try{return rm(JSON.parse(e))}catch(e){}return null}function nm(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const r in e)nm(e[r],t);if("string"==typeof e)try{return nm(JSON.parse(e),t)}catch(e){}}}const im="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class am extends tm{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=Ap.from(e);null==t&&(t=im);const n={polling:!0,staticNetwork:r};super(am.getRequest(r,t),r,n),xi(this,{apiKey:t})}_getProvider(e){try{return new am(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=im);const r=new hp(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"matic":return"rpc.ankr.com/polygon";case"arbitrum":return"rpc.ankr.com/arbitrum"}Mi(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===im&&(r.retryFunc=async(e,t,r)=>(gp("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===im}}const om="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class sm extends tm{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=Ap.from(e);null==t&&(t=om),super(sm.getRequest(r,t),r,{staticNetwork:r}),xi(this,{apiKey:t})}_getProvider(e){try{return new sm(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){const{trace:t,tx:r}=await Ei({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==t||null==r)return null;let n,i=!1;try{n=t[0].result.output,i="Reverted"===t[0].error}catch(e){}if(n)return Ti(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:n,reason:null,transaction:r,invocation:null,revert:null}),n;Ti(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===om}static getRequest(e,t){null==t&&(t=om);const r=new hp(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com"}Mi(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===om&&(r.retryFunc=async(e,t,r)=>(gp("alchemy"),!0)),r}}class lm extends tm{constructor(e){null==e&&(e="mainnet");const t=Ap.from(e);Mi("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}const cm="org.ethers.plugins.provider.Etherscan";class um extends mp{baseUrl;constructor(e){super(cm),xi(this,{baseUrl:e})}clone(){return new um(this.baseUrl)}}const hm=["enableCcipRead"];let dm=1;class fm extends Pg{network;apiKey;#st;constructor(e,t){const r=null!=t?t:null;super();const n=Ap.from(e);this.#st=n.getPlugin(cm),xi(this,{apiKey:r,network:n}),this.getBaseUrl()}getBaseUrl(){if(this.#st)return this.#st.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"matic":return"https://api.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";case"bnb":return"http://api.bscscan.com";case"bnbt":return"http://api-testnet.bscscan.com"}Mi(!1,"unsupported network","network",this.network)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}async detectNetwork(){return this.network}async fetch(e,t,r){const n=dm++,i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:n,url:i,payload:a});const o=new hp(i);o.setThrottleParams({slotInterval:1e3}),o.retryFunc=(e,t,r)=>(this.isCommunityResource()&&gp("Etherscan"),Promise.resolve(!0)),o.processFunc=async(t,r)=>{const i=r.hasBody()?JSON.parse(Xi(r.body)):{},a=("string"==typeof i.result?i.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?i&&0==i.status&&"NOTOK"==i.message&&a&&(this.emit("debug",{action:"receiveError",id:n,reason:"proxy-NOTOK",error:i}),r.throwThrottleError(i.result,2e3)):a&&(this.emit("debug",{action:"receiveError",id:n,reason:"null result",error:i.result}),r.throwThrottleError(i.result,2e3)),r},a&&(o.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),o.body=Object.keys(a).map((e=>`${e}=${a[e]}`)).join("&"));const s=await o.send();try{s.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:n,error:e,reason:"assertOk"}),Ti(!1,"response error","SERVER_ERROR",{request:o,response:s})}s.hasBody()||(this.emit("debug",{action:"receiveError",id:n,error:"missing body",reason:"null body"}),Ti(!1,"missing response","SERVER_ERROR",{request:o,response:s}));const l=JSON.parse(Xi(s.body));return"proxy"===e?("2.0"!=l.jsonrpc&&(this.emit("debug",{action:"receiveError",id:n,result:l,reason:"invalid JSON-RPC"}),Ti(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:o,response:s,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:n,result:l,reason:"JSON-RPC error"}),Ti(!1,"error response","SERVER_ERROR",{request:o,response:s,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:n,result:l}),l.result):0!=l.status||"No records found"!==l.message&&"No transactions found"!==l.message?((1!=l.status||"string"==typeof l.message&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:n,result:l}),Ti(!1,"error response","SERVER_ERROR",{request:o,response:s,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:n,result:l}),l.result):(this.emit("debug",{action:"receiveRequest",id:n,result:l}),l.result)}_getTransactionPostData(e){const t={};for(let r in e){if(hm.indexOf(r)>=0)continue;if(null==e[r])continue;let n=e[r];"type"===r&&0===n||"blockTag"===r&&"latest"===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?ba(n):"accessList"===r?"["+_l(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":ji(n),t[r]=n)}return t}_checkError(e,t,r){let n="";if(ki(t,"SERVER_ERROR")){try{n=t.info.result.error.message}catch(e){}if(!n)try{n=t.info.message}catch(e){}}if("estimateGas"===e.method&&!n.match(/revert/i)&&n.match(/insufficient funds/i)&&Ti(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&n.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(t){}const n=Ws.getBuiltinCallException(e.method,e.transaction,r);throw n.info={request:e,error:t},n}if(n&&"broadcastTransaction"===e.method){const t=Wp.from(e.signedTransaction);n.match(/replacement/i)&&n.match(/underpriced/i)&&Ti(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),n.match(/insufficient funds/)&&Ti(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Ti(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>this._checkError(e,t,e.signedTransaction)));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});Ti(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);var r;(r=t)&&"function"==typeof r.then&&(t=await t);try{const e=await this.fetch("contract",{action:"getabi",address:t}),r=JSON.parse(e);return new lc(t,r,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}const pm=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}().WebSocket;class gm{#xe;#T;get filter(){return JSON.parse(this.#T)}#lt;#ct;#ut;constructor(e,t){this.#xe=e,this.#T=JSON.stringify(t),this.#lt=null,this.#ct=null,this.#ut=null}start(){this.#lt=this.#xe.send("eth_subscribe",this.filter).then((e=>(this.#xe._register(e,this),e)))}stop(){this.#lt.then((e=>{this.#xe.send("eth_unsubscribe",[e])})),this.#lt=null}pause(e){Ti(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#ct=!!e}resume(){this.#ct=null}_handleMessage(e){if(null!=this.#lt&&null===this.#ct){let t=this.#ut;t=null==t?this._emit(this.#xe,e):t.then((async()=>{await this._emit(this.#xe,e)})),this.#ut=t.then((()=>{this.#ut===t&&(this.#ut=null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}}class mm extends gm{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class bm extends gm{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class ym extends gm{#ht;get logFilter(){return JSON.parse(this.#ht)}constructor(e,t){super(e,["logs",t]),this.#ht=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class vm extends Xg{#dt;#Pe;#ft;constructor(e){super(e,{batchMaxCount:1}),this.#dt=new Map,this.#Pe=new Map,this.#ft=new Map}_getSubscriber(e){switch(e.type){case"close":return new kg("close");case"block":return new mm(this);case"pending":return new bm(this);case"event":return new ym(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new kg("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#Pe.set(e,t);const r=this.#ft.get(e);if(r){for(const e of r)t._handleMessage(e);this.#ft.delete(e)}}async _send(e){Mi(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const t=new Promise(((t,r)=>{this.#dt.set(e.id,{payload:e,resolve:t,reject:r})}));return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){const t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){const e=this.#dt.get(t.id);if(null==e)return void this.emit("error",Ii("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#dt.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",Ii("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));{const e=t.params.subscription,r=this.#Pe.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#ft.get(e);null==r&&(r=[],this.#ft.set(e,r)),r.push(t.params.result)}}}}async _write(e){throw new Error("sub-classes must override this")}}class wm extends vm{#ot;#pt;get websocket(){if(null==this.#pt)throw new Error("websocket closed");return this.#pt}constructor(e,t){super(t),"string"==typeof e?(this.#ot=()=>new pm(e),this.#pt=this.#ot()):"function"==typeof e?(this.#ot=e,this.#pt=e()):(this.#ot=null,this.#pt=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#pt&&(this.#pt.close(),this.#pt=null),super.destroy()}}const _m="84842078b09946638c03157f83405213";class Am extends wm{projectId;projectSecret;constructor(e,t){const r=new Em(e,t),n=r._getConnection();Ti(!n.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),xi(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===_m}}class Em extends tm{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=Ap.from(e);null==t&&(t=_m),null==r&&(r=null),super(Em.getRequest(n,t,r),n,{staticNetwork:n}),xi(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new Em(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===_m}static getWebSocketProvider(e,t){return new Am(e,t)}static getRequest(e,t,r){null==t&&(t=_m),null==r&&(r=null);const n=new hp(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io"}Mi(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===_m&&(n.retryFunc=async(e,t,r)=>(gp("InfuraProvider"),!0)),n}}const xm="919b412a057b5e9c9b6dce193c5a60242d6efadb";class Sm extends tm{token;constructor(e,t){null==e&&(e="mainnet");const r=Ap.from(e);null==t&&(t=xm),super(Sm.getRequest(r,t),r,{staticNetwork:r}),xi(this,{token:t})}_getProvider(e){try{return new Sm(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===xm}static getRequest(e,t){null==t&&(t=xm);const r=new hp(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro"}Mi(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===xm&&(r.retryFunc=async(e,t,r)=>(gp("QuickNodeProvider"),!0)),r}}const km=BigInt("1"),Rm=BigInt("2");function Im(){return(new Date).getTime()}function Tm(e){return JSON.stringify(e,((e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t))}const Mm={stallTimeout:400,priority:1,weight:1},Pm={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};function Cm(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(Cm).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return Cm(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{"+t.map((t=>`${JSON.stringify(t)}:${Cm(e[t])}`)).join(",")+"}"}}throw console.log("Could not serialize",e),new Error("Hmm...")}function Om(e){if("error"in e){const t=e.error;return{tag:Cm(t),value:t}}const t=e.result;return{tag:Cm(t),value:t}}function Lm(e,t){const r=new Map;for(const{value:e,tag:n,weight:i}of t){const t=r.get(n)||{value:e,weight:0};t.weight+=i,r.set(n,t)}let n=null;for(const t of r.values())t.weight>=e&&(!n||t.weight>n.weight)&&(n=t);if(n)return n.value}function Nm(e,t){let r=0;const n=new Map;let i=null;const a=[];for(const{value:e,tag:o,weight:s}of t)if(e instanceof Error){const t=n.get(o)||{value:e,weight:0};t.weight+=s,n.set(o,t),(null==i||t.weight>i.weight)&&(i=t)}else a.push(BigInt(e)),r+=s;if(r<e)return i&&i.weight>=e?i.value:void 0;a.sort(((e,t)=>e<t?-1:t>e?1:0));const o=Math.floor(a.length/2);return a.length%2?a[o]:(a[o-1]+a[o]+km)/Rm}function Bm(e,t){const r=Lm(e,t);if(void 0!==r)return r;for(const e of t)if(e.value)return e.value}class Dm extends Pg{quorum;eventQuorum;eventWorkers;#gt;#mt;#bt;constructor(e,t,r){super(t,r),this.#gt=e.map((e=>e instanceof Pg?Object.assign({provider:e},Mm,Pm):Object.assign({},Mm,e,Pm))),this.#mt=-2,this.#bt=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#gt.reduce(((e,t)=>e+t.weight),0)/2),this.eventQuorum=1,this.eventWorkers=1,Mi(this.quorum<=this.#gt.reduce(((e,t)=>e+t.weight),0),"quorum exceed provider wieght","quorum",this.quorum)}get providerConfigs(){return this.#gt.map((e=>{const t=Object.assign({},e);for(const e in t)"_"===e[0]&&delete t[e];return t}))}async _detectNetwork(){return Ap.from(ca(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{const r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#yt(e){const t=Array.from(e).map((e=>e.config)),r=this.#gt.slice();!function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}}(r),r.sort(((e,t)=>e.priority-t.priority));for(const e of r)if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#vt(e,t){const r=this.#yt(e);if(null==r)return null;const n={config:r,result:null,didBump:!1,perform:null,staller:null},i=Im();return n.perform=(async()=>{try{r.requests++;const e=await this._translatePerform(r.provider,t);n.result={result:e}}catch(e){r.errorResponses++,n.result={error:e}}const e=Im()-i;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,n.perform=null})(),n.staller=(async()=>{var e;await(e=r.stallTimeout,new Promise((t=>{setTimeout(t,e)}))),n.staller=null})(),e.add(n),n}async#wt(){let e=this.#bt;if(!e){const t=[];this.#gt.forEach((e=>{t.push((async()=>{await async function(e,t){for(;(e.blockNumber<0||e.blockNumber<0)&&(e._updateNumber||(e._updateNumber=(async()=>{try{const t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=Im()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}(e),e._lastFatalError||(e._network=await e.provider.getNetwork())})())})),this.#bt=e=(async()=>{await Promise.all(t);let e=null;for(const t of this.#gt){if(t._lastFatalError)continue;const r=t._network;null==e?e=r.chainId:r.chainId!==e&&Ti(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#_t(e,t){const r=[];for(const t of e)if(null!=t.result){const{tag:e,value:n}=Om(t.result);r.push({tag:e,value:n,weight:t.config.weight})}if(!(r.reduce(((e,t)=>e+t.weight),0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#mt&&(this.#mt=Math.ceil(fa(Nm(this.quorum,this.#gt.filter((e=>!e._lastFatalError)).map((e=>({value:e.blockNumber,tag:fa(e.blockNumber).toString(),weight:e.weight})))))));const e=function(e,t){if(1===e)return fa(Nm(e,t),"%internal");const r=new Map,n=(e,t)=>{const n=r.get(e)||{result:e,weight:0};n.weight+=t,r.set(e,n)};for(const{weight:e,value:r}of t){const t=fa(r);n(t-1,e),n(t,e),n(t+1,e)}let i,a=0;for(const{weight:t,result:n}of r.values())t>=e&&(t>a||null!=i&&t===a&&n>i)&&(a=t,i=n);return i}(this.quorum,r);if(void 0===e)return;return e>this.#mt&&(this.#mt=e),this.#mt}case"getGasPrice":case"estimateGas":return Nm(this.quorum,r);case"getBlock":return"blockTag"in t&&"pending"===t.blockTag?Bm(this.quorum,r):Lm(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return Lm(this.quorum,r);case"broadcastTransaction":return Bm(this.quorum,r)}Ti(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${Tm(t.method)})`})}}async#At(e,t){if(0===e.size)throw new Error("no runners?!");const r=[];let n=0;for(const t of e)t.perform&&r.push(t.perform),t.staller?r.push(t.staller):t.didBump||(t.didBump=!0,n++);const i=await this.#_t(e,t);if(void 0!==i){if(i instanceof Error)throw i;return i}for(let r=0;r<n;r++)this.#vt(e,t);return Ti(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map((e=>Tm(e.result)))}}),await Promise.race(r),await this.#At(e,t)}async _perform(e){if("broadcastTransaction"===e.method){const t=await Promise.all(this.#gt.map((async({provider:t,weight:r})=>{try{const n=await t._perform(e);return Object.assign(Om({result:n}),{weight:r})}catch(e){return Object.assign(Om({error:e}),{weight:r})}}))),r=Bm(this.quorum,t);if(Ti(void 0!==r,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(Tm)}}),r instanceof Error)throw r;return r}await this.#wt();const t=new Set;for(let r=0;r<this.quorum;r++)this.#vt(t,e);const r=await this.#At(t,e);for(const e of t)e.perform&&null==e.result&&e.config.lateResponses++;return r}async destroy(){for(const{provider:e}of this.#gt)e.destroy();super.destroy()}}const Um="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Vm(e,t){null==t&&(t={});const r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new tm(e);if("string"==typeof e&&e.match(/^wss?:/)||(n=e)&&"function"==typeof n.send&&"function"==typeof n.close)return new wm(e);var n;let i=null;try{i=Ap.from(e)}catch(e){}const a=[];if(r("publicPolygon")&&i&&"matic"===i.name&&a.push(new tm("https://polygon-rpc.com/",i,{staticNetwork:i})),r("alchemy"))try{a.push(new sm(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{a.push(new am(e,t.ankr))}catch(e){}if(r("cloudflare"))try{a.push(new lm(e))}catch(e){}if(r("etherscan"))try{a.push(new fm(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,n=t.infura;"object"==typeof n&&(r=n.projectSecret,n=n.projectId),a.push(new Em(e,n,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;a.push(new Sm(e,r))}catch(e){}if(Ti(a.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===a.length)return a[0];let o=Math.floor(a.length/2);return o>2&&(o=2),i&&-1!==Um.indexOf(i.name)&&(o=1),t&&t.quorum&&(o=t.quorum),new Dm(a,void 0,{quorum:o})}class Fm extends jg{signer;#Et;#xt;constructor(e){super(e.provider),xi(this,{signer:e}),this.#Et=null,this.#xt=0}async getAddress(){return this.signer.getAddress()}connect(e){return new Fm(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#Et&&(this.#Et=super.getNonce("pending"));const e=this.#xt;return await this.#Et+e}return super.getNonce(e)}increment(){this.#xt++}reset(){this.#xt=0,this.#Et=null}async sendTransaction(e){const t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}class jm extends em{#ae;constructor(e,t){super(t,{batchMaxCount:1}),this.#ae=async(t,r)=>{const n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){Mi(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#ae(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#ae("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}const qm="62e1ad51b37b8e00394bda3b";class zm extends tm{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=Ap.from(e);null==t&&(t=qm),null==r&&(r=null);const i={staticNetwork:n};super(zm.getRequest(n,t,r),n,i),xi(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new zm(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=qm);const n=new hp(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}Mi(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===qm&&(n.retryFunc=async(e,t,r)=>(gp("PocketProvider"),!0)),n}isCommunityResource(){return this.applicationId===qm}}const $m=void 0,Hm=BigInt(-1),Gm=BigInt(0),Wm=BigInt(1),Jm=BigInt(5),Qm={};let Km="0000";for(;Km.length<80;)Km+=Km;function Ym(e){let t=Km;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function Zm(e,t,r){const n=BigInt(t.width);if(t.signed){const t=Wm<<n-Wm;Ti(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>Gm?oa(la(e,n),n):-oa(la(-e,n),n)}else{const t=Wm<<n;Ti(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-Wm}return e}function Xm(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Mi(i,"invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){const i=e,a=(e,t,r)=>null==i[e]?r:(Mi(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=a("signed","boolean",t),r=a("width","number",r),n=a("decimals","number",n)}return Mi(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),Mi(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n),{signed:t,width:r,decimals:n,name:(t?"":"u")+"fixed"+String(r)+"x"+String(n)}}class eb{format;#St;#kt;#Rt;_value;constructor(e,t,r){Li(e,Qm,"FixedNumber"),this.#kt=t,this.#St=r;const n=function(e,t){let r="";e<Gm&&(r="-",e*=Hm);let n=e.toString();if(0===t)return r+n;for(;n.length<=t;)n=Km+n;const i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(t,r.decimals);xi(this,{format:r.name,_value:n}),this.#Rt=Ym(r.decimals)}get signed(){return this.#St.signed}get width(){return this.#St.width}get decimals(){return this.#St.decimals}get value(){return this.#kt}#It(e){Mi(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#Tt(e,t){return e=Zm(e,this.#St,t),new eb(Qm,e,this.#St)}#Mt(e,t){return this.#It(e),this.#Tt(this.#kt+e.#kt,t)}addUnsafe(e){return this.#Mt(e)}add(e){return this.#Mt(e,"add")}#Pt(e,t){return this.#It(e),this.#Tt(this.#kt-e.#kt,t)}subUnsafe(e){return this.#Pt(e)}sub(e){return this.#Pt(e,"sub")}#Ct(e,t){return this.#It(e),this.#Tt(this.#kt*e.#kt/this.#Rt,t)}mulUnsafe(e){return this.#Ct(e)}mul(e){return this.#Ct(e,"mul")}mulSignal(e){this.#It(e);const t=this.#kt*e.#kt;return Ti(t%this.#Rt===Gm,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#Tt(t/this.#Rt,"mulSignal")}#Ot(e,t){return Ti(e.#kt!==Gm,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#It(e),this.#Tt(this.#kt*this.#Rt/e.#kt,t)}divUnsafe(e){return this.#Ot(e)}div(e){return this.#Ot(e,"div")}divSignal(e){Ti(e.#kt!==Gm,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#It(e);const t=this.#kt*this.#Rt;return Ti(t%e.#kt===Gm,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#Tt(t/e.#kt,"divSignal")}cmp(e){let t=this.value,r=e.value;const n=this.decimals-e.decimals;return n>0?r*=Ym(n):n<0&&(t*=Ym(-n)),t<r?-1:t>r?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#kt;return this.#kt<Gm&&(e-=this.#Rt-Wm),e=this.#kt/this.#Rt*this.#Rt,this.#Tt(e,"floor")}ceiling(){let e=this.#kt;return this.#kt>Gm&&(e+=this.#Rt-Wm),e=this.#kt/this.#Rt*this.#Rt,this.#Tt(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=Jm*Ym(t-1);let n=this.value+r;const i=Ym(t);return n=n/i*i,Zm(n,this.#St,"round"),new eb(Qm,n,this.#St)}isZero(){return this.#kt===Gm}isNegative(){return this.#kt<Gm}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return eb.fromString(this.toString(),e)}static fromValue(e,t,r){const n=null==t?0:fa(t),i=Xm(r);let a=ca(e,"value");const o=n-i.decimals;if(o>0){const t=Ym(o);Ti(a%t===Gm,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=t}else o<0&&(a*=Ym(-o));return Zm(a,i,"fromValue"),new eb(Qm,a,i)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Mi(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const n=Xm(t);let i=r[2]||"0",a=r[3]||"";for(;a.length<n.decimals;)a+=Km;Ti(a.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,n.decimals);const o=BigInt(r[1]+i+a);return Zm(o,n,"fromString"),new eb(Qm,o,n)}static fromBytes(e,t){let r=da(Bi(e,"value"));const n=Xm(t);return n.signed&&(r=oa(r,n.width)),Zm(r,n,"fromBytes"),new eb(Qm,r,n)}}const tb=["wei","kwei","mwei","gwei","szabo","finney","ether"];function rb(e,t){let r=18;if("string"==typeof t){const e=tb.indexOf(t);Mi(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=fa(t,"unit"));return eb.fromValue(e,r,{decimals:r,width:512}).toString()}function nb(e,t){Mi("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){const e=tb.indexOf(t);Mi(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=fa(t,"unit"));return eb.fromString(e,{decimals:r,width:512}).value}function ib(e){return rb(e,18)}function ab(e){return nb(e,18)}function ob(e){const t=Bi(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=ji(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const sb=" !#$%&'()*+,-./<=>?@[]^_`{|}~",lb=/^[a-z]*$/i;function cb(e,t){let r=97;return e.reduce(((e,n)=>(n===t?r++:n.match(lb)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e)),[])}function ub(e){return Mi("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let r=sb.length-1;r>=0;r--)e=e.split(sb[r]).join(t.substring(2*r,2*r+2));const r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,((e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""}));if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return cb(cb(r,";"),":")}(e.substring(1+2*sb.length),e.substring(1,1+2*sb.length))}class hb{locale;constructor(e){xi(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class db extends hb{#l;#Lt;constructor(e,t,r){super(e),this.#l=t,this.#Lt=r,this.#Nt=null}get _data(){return this.#l}_decodeWords(){return ub(this.#l)}#Nt;#Bt(){if(null==this.#Nt){const e=this._decodeWords();if(Yo(e.join("\n")+"\n")!==this.#Lt)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#Nt=e}return this.#Nt}getWord(e){const t=this.#Bt();return Mi(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#Bt().indexOf(e)}}let fb=null;class pb extends db{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==fb&&(fb=new pb),fb}}function gb(e){return(1<<e)-1<<8-e&255}function mb(e,t){Oi("NFKD"),null==t&&(t=pb.wordlist());const r=t.split(e);Mi(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*r.length/8));let i=0;for(let e=0;e<r.length;e++){let a=t.getWordIndex(r[e].normalize("NFKD"));Mi(a>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)a&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}const a=32*r.length/3,o=gb(r.length/3);return Mi((Bi(Su(n.slice(0,a/8)))[0]&o)==(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ji(n.slice(0,a/8))}function bb(e,t){Mi(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=pb.wordlist());const r=[0];let n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&(1<<8-n)-1&255),n+=3);const i=e.length/4,a=parseInt(Su(e).substring(2,4),16)&gb(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,t.join(r.map((e=>t.getWord(e))))}const yb={};class vb{phrase;password;wordlist;entropy;constructor(e,t,r,n,i){null==n&&(n=""),null==i&&(i=pb.wordlist()),Li(e,yb,"Mnemonic"),xi(this,{phrase:r,password:n,wordlist:i,entropy:t})}computeSeed(){const e=Zi("mnemonic"+this.password,"NFKD");return tu(Zi(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const n=mb(e,r);return e=bb(Bi(n),r),new vb(yb,n,e,t,r)}static fromEntropy(e,t,r){const n=Bi(e,"entropy"),i=bb(n,r);return new vb(yb,ji(n),i,t,r)}static entropyToPhrase(e,t){return bb(Bi(e,"entropy"),t)}static phraseToEntropy(e,t){return mb(e,t)}static isValidMnemonic(e,t){try{return mb(e,t),!0}catch(e){}return!1}}class wb extends jg{address;#Dt;constructor(e,t){super(t),Mi(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#Dt=e,xi(this,{address:Sf(this.signingKey.publicKey)})}get signingKey(){return this.#Dt}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new wb(this.#Dt,e)}async signTransaction(e){const{to:t,from:r}=await Ei({to:e.to?ul(e.to,this.provider):void 0,from:e.from?ul(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&(Mi(Ro(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const n=Wp.from(e);return n.signature=this.signingKey.sign(n.unsignedHash),n.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(Rf(e)).serialized}async signTypedData(e,t,r){const n=await Qf.resolveNames(e,t,r,(async e=>{Ti(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return Ti(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t}));return this.signingKey.sign(Qf.hash(n.domain,t,n.value)).serialized}}var _b,Ab,Eb,xb=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},Sb=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};const kb={16:10,24:12,32:14},Rb=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Ib=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Tb=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Mb=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Pb=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Cb=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Ob=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Lb=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Nb=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Bb=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Db=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Ub=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Vb=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Fb=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],jb=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function qb(e){const t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class zb{get key(){return xb(this,_b,"f").slice()}constructor(e){if(_b.set(this,void 0),Ab.set(this,void 0),Eb.set(this,void 0),!(this instanceof zb))throw Error("AES must be instanitated with `new`");Sb(this,_b,new Uint8Array(e),"f");const t=kb[this.key.length];if(null==t)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Sb(this,Eb,[],"f"),Sb(this,Ab,[],"f");for(let e=0;e<=t;e++)xb(this,Eb,"f").push([0,0,0,0]),xb(this,Ab,"f").push([0,0,0,0]);const r=4*(t+1),n=this.key.length/4,i=qb(this.key);let a;for(let e=0;e<n;e++)a=e>>2,xb(this,Eb,"f")[a][e%4]=i[e],xb(this,Ab,"f")[t-a][e%4]=i[e];let o,s=0,l=n;for(;l<r;){if(o=i[n-1],i[0]^=Ib[o>>16&255]<<24^Ib[o>>8&255]<<16^Ib[255&o]<<8^Ib[o>>24&255]^Rb[s]<<24,s+=1,8!=n)for(let e=1;e<n;e++)i[e]^=i[e-1];else{for(let e=1;e<n/2;e++)i[e]^=i[e-1];o=i[n/2-1],i[n/2]^=Ib[255&o]^Ib[o>>8&255]<<8^Ib[o>>16&255]<<16^Ib[o>>24&255]<<24;for(let e=n/2+1;e<n;e++)i[e]^=i[e-1]}let e,a,c=0;for(;c<n&&l<r;)e=l>>2,a=l%4,xb(this,Eb,"f")[e][a]=i[c],xb(this,Ab,"f")[t-e][a]=i[c++],l++}for(let e=1;e<t;e++)for(let t=0;t<4;t++)o=xb(this,Ab,"f")[e][t],xb(this,Ab,"f")[e][t]=Ub[o>>24&255]^Vb[o>>16&255]^Fb[o>>8&255]^jb[255&o]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=xb(this,Eb,"f").length-1,r=[0,0,0,0];let n=qb(e);for(let e=0;e<4;e++)n[e]^=xb(this,Eb,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=Mb[n[t]>>24&255]^Pb[n[(t+1)%4]>>16&255]^Cb[n[(t+2)%4]>>8&255]^Ob[255&n[(t+3)%4]]^xb(this,Eb,"f")[e][t];n=r.slice()}const i=new Uint8Array(16);let a=0;for(let e=0;e<4;e++)a=xb(this,Eb,"f")[t][e],i[4*e]=255&(Ib[n[e]>>24&255]^a>>24),i[4*e+1]=255&(Ib[n[(e+1)%4]>>16&255]^a>>16),i[4*e+2]=255&(Ib[n[(e+2)%4]>>8&255]^a>>8),i[4*e+3]=255&(Ib[255&n[(e+3)%4]]^a);return i}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=xb(this,Ab,"f").length-1,r=[0,0,0,0];let n=qb(e);for(let e=0;e<4;e++)n[e]^=xb(this,Ab,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=Lb[n[t]>>24&255]^Nb[n[(t+3)%4]>>16&255]^Bb[n[(t+2)%4]>>8&255]^Db[255&n[(t+1)%4]]^xb(this,Ab,"f")[e][t];n=r.slice()}const i=new Uint8Array(16);let a=0;for(let e=0;e<4;e++)a=xb(this,Ab,"f")[t][e],i[4*e]=255&(Tb[n[e]>>24&255]^a>>24),i[4*e+1]=255&(Tb[n[(e+3)%4]>>16&255]^a>>16),i[4*e+2]=255&(Tb[n[(e+2)%4]>>8&255]^a>>8),i[4*e+3]=255&(Tb[255&n[(e+1)%4]]^a);return i}}_b=new WeakMap,Ab=new WeakMap,Eb=new WeakMap;class $b{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new zb(t)},name:{enumerable:!0,value:e}})}}var Hb,Gb,Wb=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},Jb=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class Qb extends $b{constructor(e,t){if(super("ECC",e,Qb),Hb.set(this,void 0),Gb.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Wb(this,Hb,new Uint8Array(t),"f")}else Wb(this,Hb,new Uint8Array(16),"f");Wb(this,Gb,this.iv,"f")}get iv(){return new Uint8Array(Jb(this,Hb,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)Jb(this,Gb,"f")[t]^=e[r+t];Wb(this,Gb,this.aes.encrypt(Jb(this,Gb,"f")),"f"),t.set(Jb(this,Gb,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const n=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=n[i]^Jb(this,Gb,"f")[i],Jb(this,Gb,"f")[i]=e[r+i]}return t}}Hb=new WeakMap,Gb=new WeakMap;new WeakMap,new WeakMap,new WeakSet;var Kb,Yb,Zb,Xb=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},ey=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class ty extends $b{constructor(e,t){super("CTR",e,ty),Kb.set(this,void 0),Yb.set(this,void 0),Zb.set(this,void 0),Xb(this,Zb,new Uint8Array(16),"f"),ey(this,Zb,"f").fill(0),Xb(this,Kb,ey(this,Zb,"f"),"f"),Xb(this,Yb,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(ey(this,Zb,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)ey(this,Zb,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");ey(this,Zb,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==ey(this,Zb,"f")[e]){ey(this,Zb,"f")[e]++;break}ey(this,Zb,"f")[e]=0}}encrypt(e){var t,r;const n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===ey(this,Yb,"f")&&(Xb(this,Kb,this.aes.encrypt(ey(this,Zb,"f")),"f"),Xb(this,Yb,0,"f"),this.increment()),n[e]^=ey(this,Kb,"f")[(Xb(this,Yb,(r=ey(this,Yb,"f"),t=r++,r),"f"),t)];return n}decrypt(e){return this.encrypt(e)}}function ry(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),Di(e)}function ny(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function iy(e){return"string"==typeof e?Zi(e,"NFKC"):Di(e)}function ay(e,t){const r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);Mi(null!=r,"invalid path","path",t);const n=r[1],i=r[3],a="!"===r[4];let o=e;for(const e of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!e.match(/^[0-9]+$/))break;o=o[parseInt(e)]}else if("object"==typeof o){let t=null;for(const r in o)if(r.toLowerCase()===e){t=o[r];break}o=t}else o=null;if(null==o)break}if(Mi(!a||null!=o,"missing required value","path",n),i&&null!=o){if("int"===i){if("string"==typeof o&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if("number"===i&&"string"==typeof o&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if("data"===i&&"string"==typeof o)return ry(o);if("array"===i&&Array.isArray(o))return o;if(i===typeof o)return o;Mi(!1,`wrong type found for ${i} `,"path",n)}return o}Kb=new WeakMap,Yb=new WeakMap,Zb=new WeakMap,new WeakMap,new WeakMap,new WeakMap;const oy="m/44'/60'/0'/0/0";function sy(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(e){}return!1}function ly(e,t){const r=Bi(t),n=ay(e,"crypto.ciphertext:data!");Mi(ji(vo(qi([r.slice(16,32),n]))).substring(2)===ay(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=function(e,t,r){if("aes-128-ctr"===ay(e,"crypto.cipher:string")){const n=ay(e,"crypto.cipherparams.iv:data!");return ji(new ty(t,n).decrypt(r))}Ti(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),n),a=Sf(i);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),Mi(Ro(t)===a,"keystore address/privateKey mismatch","address",e.address)}const o={address:a,privateKey:i};if("0.1"===ay(e,"x-ethers.version:string")){const t=r.slice(32,64),n=ay(e,"x-ethers.mnemonicCiphertext:data!"),i=ay(e,"x-ethers.mnemonicCounter:data!"),a=new ty(t,i);o.mnemonic={path:ay(e,"x-ethers.path:string")||oy,locale:ay(e,"x-ethers.locale:string")||"en",entropy:ji(Bi(a.decrypt(n)))}}return o}function cy(e){const t=ay(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){const r=ay(e,"crypto.kdfparams.salt:data!"),n=ay(e,"crypto.kdfparams.n:int!"),i=ay(e,"crypto.kdfparams.r:int!"),a=ay(e,"crypto.kdfparams.p:int!");Mi(n>0&&0==(n&n-1),"invalid kdf.N","kdf.N",n),Mi(i>0&&a>0,"invalid kdf","kdf",t);const o=ay(e,"crypto.kdfparams.dklen:int!");return Mi(32===o,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:r,N:n,r:i,p:a,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=ay(e,"crypto.kdfparams.salt:data!"),r=ay(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();Mi("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);const i=ay(e,"crypto.kdfparams.c:int!"),a=ay(e,"crypto.kdfparams.dklen:int!");return Mi(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:i,dkLen:a,algorithm:n}}}Mi(!1,"unsupported key-derivation function","kdf",t)}function uy(e,t){const r=JSON.parse(e),n=iy(t),i=cy(r);if("pbkdf2"===i.name){const{salt:e,count:t,dkLen:a,algorithm:o}=i;return ly(r,tu(n,e,t,a,o))}Ti("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:o,r:s,p:l,dkLen:c}=i;return ly(r,yu(n,a,o,s,l,c))}function hy(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}async function dy(e,t,r){const n=JSON.parse(e),i=iy(t),a=cy(n);if("pbkdf2"===a.name){r&&(r(0),await hy(0));const{salt:e,count:t,dkLen:o,algorithm:s}=a,l=tu(i,e,t,o,s);return r&&(r(1),await hy(0)),ly(n,l)}Ti("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:o,N:s,r:l,p:c,dkLen:u}=a;return ly(n,await bu(i,o,s,l,c,u,r))}function fy(e){const t=null!=e.salt?Bi(e.salt,"options.salt"):au(32);let r=1<<17,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),Mi("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),Mi("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),Mi("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function py(e,t,r,n){const i=Bi(r.privateKey,"privateKey"),a=null!=n.iv?Bi(n.iv,"options.iv"):au(16);Mi(16===a.length,"invalid options.iv length","options.iv",n.iv);const o=null!=n.uuid?Bi(n.uuid,"options.uuid"):au(16);Mi(16===o.length,"invalid options.uuid length","options.uuid",n.iv);const s=e.slice(0,16),l=e.slice(16,32),c=Bi(new ty(s,a).encrypt(i)),u=vo(qi([l,c])),h={address:r.address.substring(2).toLowerCase(),id:ob(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ji(a).substring(2)},ciphertext:ji(c).substring(2),kdf:"scrypt",kdfparams:{salt:ji(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:u.substring(2)}};if(r.mnemonic){const t=null!=n.client?n.client:`ethers/${_i}`,i=r.mnemonic.path||oy,a=r.mnemonic.locale||"en",o=e.slice(32,64),s=Bi(r.mnemonic.entropy,"account.mnemonic.entropy"),l=au(16),c=Bi(new ty(o,l).encrypt(s)),u=new Date,d="UTC--"+u.getUTCFullYear()+"-"+ny(u.getUTCMonth()+1,2)+"-"+ny(u.getUTCDate(),2)+"T"+ny(u.getUTCHours(),2)+"-"+ny(u.getUTCMinutes(),2)+"-"+ny(u.getUTCSeconds(),2)+".0Z--"+h.address;h["x-ethers"]={client:t,gethFilename:d,path:i,locale:a,mnemonicCounter:ji(l).substring(2),mnemonicCiphertext:ji(c).substring(2),version:"0.1"}}return JSON.stringify(h)}function gy(e,t,r){null==r&&(r={});const n=iy(t),i=fy(r);return py(Bi(yu(n,i.salt,i.N,i.r,i.p,64)),i,e,r)}async function my(e,t,r){null==r&&(r={});const n=iy(t),i=fy(r);return py(Bi(await bu(n,i.salt,i.N,i.r,i.p,64,r.progressCallback)),i,e,r)}const by="m/44'/60'/0'/0/0",yy=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),vy=2147483648,wy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function _y(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function Ay(e){const t=Bi(e);return Xp(qi([t,$i(Su(Su(t)),0,4)]))}const Ey={};function xy(e,t,r,n){const i=new Uint8Array(37);e&vy?(Ti(null!=n,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Bi(n),1)):i.set(Bi(r));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;const a=Bi(Oc("sha512",t,i));return{IL:a.slice(0,32),IR:a.slice(32)}}function Sy(e,t){const r=t.split("/");Mi(r.length>0&&("m"===r[0]||e.depth>0),"invalid path","path",t),"m"===r[0]&&r.shift();let n=e;for(let e=0;e<r.length;e++){const t=r[e];if(t.match(/^[0-9]+'$/)){const r=parseInt(t.substring(0,t.length-1));Mi(r<vy,"invalid path index",`path[${e}]`,t),n=n.deriveChild(vy+r)}else if(t.match(/^[0-9]+$/)){const r=parseInt(t);Mi(r<vy,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else Mi(!1,"invalid path component",`path[${e}]`,t)}return n}class ky extends wb{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,n,i,a,o,s,l){super(t,l),Li(e,Ey,"HDNodeWallet"),xi(this,{publicKey:t.compressedPublicKey}),xi(this,{parentFingerprint:r,fingerprint:$i(Yc(Su(this.publicKey)),0,4),chainCode:n,path:i,index:a,depth:o}),xi(this,{mnemonic:s})}connect(e){return new ky(Ey,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#Ut(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await my(this.#Ut(),e,{progressCallback:t})}encryptSync(e){return gy(this.#Ut(),e)}get extendedKey(){return Ti(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ay(qi(["0x0488ADE4",_y(this.depth,1),this.parentFingerprint,_y(this.index,4),this.chainCode,qi(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new Ry(Ey,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=fa(e,"index");Mi(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~vy),t&vy&&(r+="'"));const{IR:n,IL:i}=xy(t,this.chainCode,this.publicKey,this.privateKey),a=new rd(ga((da(i)+BigInt(this.privateKey))%wy,32));return new ky(Ey,a,this.fingerprint,ji(n),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return Sy(this,e)}static#Vt(e,t){Mi(Vi(e),"invalid seed","seed","[REDACTED]");const r=Bi(e,"seed");Mi(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");const n=Bi(Oc("sha512",yy,r)),i=new rd(ji(n.slice(0,32)));return new ky(Ey,i,"0x00000000",ji(n.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=ma(eg(e));Mi(82===t.length||Ay(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const r=t[4],n=ji(t.slice(5,9)),i=parseInt(ji(t.slice(9,13)).substring(2),16),a=ji(t.slice(13,45)),o=t.slice(45,78);switch(ji(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=ji(o);return new Ry(Ey,Sf(e),e,n,a,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new ky(Ey,new rd(o.slice(1)),n,a,null,i,r,null,null)}Mi(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=by),null==r&&(r=pb.wordlist());const n=vb.fromEntropy(au(16),e,r);return ky.#Vt(n.computeSeed(),n).derivePath(t)}static fromMnemonic(e,t){return t||(t=by),ky.#Vt(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,n){null==t&&(t=""),null==r&&(r=by),null==n&&(n=pb.wordlist());const i=vb.fromPhrase(e,t,n);return ky.#Vt(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return ky.#Vt(e,null)}}class Ry extends qg{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,n,i,a,o,s,l){super(t,l),Li(e,Ey,"HDNodeVoidWallet"),xi(this,{publicKey:r}),xi(this,{publicKey:r,fingerprint:$i(Yc(Su(r)),0,4),parentFingerprint:n,chainCode:i,path:a,index:o,depth:s})}connect(e){return new Ry(Ey,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return Ti(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ay(qi(["0x0488B21E",_y(this.depth,1),this.parentFingerprint,_y(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const t=fa(e,"index");Mi(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~vy),t&vy&&(r+="'"));const{IR:n,IL:i}=xy(t,this.chainCode,this.publicKey,null),a=rd.addPoints(i,this.publicKey,!0),o=Sf(a);return new Ry(Ey,o,a,this.fingerprint,ji(n),r,t,this.depth+1,this.provider)}derivePath(e){return Sy(this,e)}}function Iy(e){const t=fa(e,"index");return Mi(t>=0&&t<vy,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function Ty(e){const t=fa(e,"index");return Mi(t>=0&&t<vy,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}function My(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function Py(e,t){const r=JSON.parse(e),n=iy(t),i=Ro(ay(r,"ethaddr:string!")),a=ry(ay(r,"encseed:string!"));Mi(a&&a.length%16==0,"invalid encseed","json",e);const o=Bi(tu(n,n,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),l=a.slice(16),c=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}(Bi(new Qb(o,s).decrypt(l)));let u="";for(let e=0;e<c.length;e++)u+=String.fromCharCode(c[e]);return{address:i,privateKey:Yo(u)}}function Cy(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}class Oy extends wb{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new rd(e):e,t)}connect(e){return new Oy(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await my(r,e,{progressCallback:t})}encryptSync(e){return gy({address:this.address,privateKey:this.privateKey},e)}static#Ft(e){if(Mi(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=vb.fromEntropy(e.mnemonic.entropy),r=ky.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new Oy(e.privateKey);return Mi(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let n=null;return sy(e)?n=await dy(e,t,r):My(e)&&(r&&(r(0),await Cy(0)),n=Py(e,t),r&&(r(1),await Cy(0))),Oy.#Ft(n)}static fromEncryptedJsonSync(e,t){let r=null;return sy(e)?r=uy(e,t):My(e)?r=Py(e,t):Mi(!1,"invalid JSON wallet","json","[ REDACTED ]"),Oy.#Ft(r)}static createRandom(e){const t=ky.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=ky.fromPhrase(e);return t?r.connect(t):r}}class Ly extends db{#jt;constructor(e,t,r,n){super(e,t,n),this.#jt=r}get _accent(){return this.#jt}_decodeWords(){return function(e,t){let r=ub(e).join(",");return t.split(/,/g).forEach((e=>{const n=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);Mi(null!==n,"internal error parsing accents","accents",t);let i=0;const a=function(e,t){const r=(1<<e)-1,n=[];let i=0,a=0,o=0;for(let s=0;s<t.length;s++)for(i=i<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[s]),a+=6;a>=e;){const t=i>>a-e;i&=(1<<a-e)-1,a-=e,0===t?o+=r:(n.push(t+o),o=0)}return n}(parseInt(n[3]),n[4]),o=parseInt(n[2]),s=new RegExp(`([${n[1]}])`,"g");r=r.replace(s,((e,t)=>(0==--a[i]&&(t=String.fromCharCode(t.charCodeAt(0),o),i++),t)))})),r.split(",")}(this._data,this._accent)}}const Ny={en:pb.wordlist()};var By=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Dy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Uy=class{staticPageRepository;constructor(){}async get(e){return this.staticPageRepository.get(e)}async listByLocation(e,t){return this.staticPageRepository.listByLocation(e,t)}async listRoutablePages(){let e=[];if(e=e.concat(await this.staticPageRepository.listByLocation("navbar",0)),e=e.concat(await this.staticPageRepository.listByLocation("links",0)),e=JSON.parse(JSON.stringify(e)),e?.length>0)for(let t of e)delete t?.content,delete t?.contentHTML,delete t?.contentMarkdown;return e}};By([yt("StaticPageRepository"),Dy("design:type",Object)],Uy.prototype,"staticPageRepository",void 0),Uy=By([ft(),Dy("design:paramtypes",[])],Uy);var Vy=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Fy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let jy=class{animationRepository;constructor(){}async get(e){return this.animationRepository.get(e)}};Vy([yt("AnimationRepository"),Fy("design:type",Object)],jy.prototype,"animationRepository",void 0),jy=Vy([ft(),Fy("design:paramtypes",[])],jy);var qy=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},zy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let $y=class{authorRepository;walletService;constructor(){}async get(e){return this.authorRepository.get(e)}getDisplayName(e){if(e)return e.name?e.name:this.walletService.truncateEthAddress(e._id)}};qy([yt("AuthorRepository"),zy("design:type",Object)],$y.prototype,"authorRepository",void 0),qy([yt("WalletService"),zy("design:type",Object)],$y.prototype,"walletService",void 0),$y=qy([ft(),zy("design:paramtypes",[])],$y);var Hy=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Gy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Wy=class{channelRepository;constructor(){}async get(){return this.channelRepository.get()}};Hy([yt("ChannelRepository"),Gy("design:type",Object)],Wy.prototype,"channelRepository",void 0),Wy=Hy([ft(),Gy("design:paramtypes",[])],Wy);var Jy=__webpack_require__(88554),Qy=__webpack_require__(99810);let Ky=class{constructor(){}async translateContent(e){if(!e?.ops)return"";const t=new Jy.bc(e.ops,{});return t.renderCustomWith((function(e,t){if("divider"===e.insert.type)return"<hr />";if("ipfsimage"===e.insert.type){let t=`<img src="${e.insert.value.src}" `;return e.insert.value.width&&(t+=`width="${e.insert.value.width}" `),e.insert.value.height&&(t+=`height="${e.insert.value.height}" `),e.insert.value.style&&(t+=`style="${e.insert.value.style}"`),t+="/>",t}})),t.convert()}async generateMarkdown(e){return(0,Qy.deltaToMarkdown)(e)}};Ky=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],Ky);var Yy=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Zy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Xy=class{itemRepository;channelRepository;authorRepository;imageRepository;animationRepository;staticPageRepository;readerSettingsRepository;rowItemViewModelRepository;attributeTotalRepository;componentStateRepository;constructor(){}async load(e){const t=this.getRepositories();for(let r of e){let e=t.filter((e=>e.dbName==r))[0];await(e?.load())}}async reloadAll(){const e=this.getRepositories();for(let t of e)await t.load()}getRepositories(){const e=[];return e.push(this.itemRepository),e.push(this.channelRepository),e.push(this.authorRepository),e.push(this.imageRepository),e.push(this.animationRepository),e.push(this.staticPageRepository),e.push(this.readerSettingsRepository),e.push(this.staticPageRepository),e.push(this.readerSettingsRepository),e.push(this.attributeTotalRepository),e.push(this.componentStateRepository),e.push(this.rowItemViewModelRepository),e}async loadWallet(e){console.log(`Loading wallet: ${e}`)}};Yy([yt("ItemRepository"),Zy("design:type",Object)],Xy.prototype,"itemRepository",void 0),Yy([yt("ChannelRepository"),Zy("design:type",Object)],Xy.prototype,"channelRepository",void 0),Yy([yt("AuthorRepository"),Zy("design:type",Object)],Xy.prototype,"authorRepository",void 0),Yy([yt("ImageRepository"),Zy("design:type",Object)],Xy.prototype,"imageRepository",void 0),Yy([yt("AnimationRepository"),Zy("design:type",Object)],Xy.prototype,"animationRepository",void 0),Yy([yt("StaticPageRepository"),Zy("design:type",Object)],Xy.prototype,"staticPageRepository",void 0),Yy([yt("ReaderSettingsRepository"),Zy("design:type",Object)],Xy.prototype,"readerSettingsRepository",void 0),Yy([yt("RowItemViewModelRepository"),Zy("design:type",Object)],Xy.prototype,"rowItemViewModelRepository",void 0),Yy([yt("AttributeTotalRepository"),Zy("design:type",Object)],Xy.prototype,"attributeTotalRepository",void 0),Yy([yt("ComponentStateRepository"),Zy("design:type",Object)],Xy.prototype,"componentStateRepository",void 0),Xy=Yy([ft(),Zy("design:paramtypes",[])],Xy);var ev=__webpack_require__(42555),tv=__webpack_require__.n(ev),rv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},nv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let iv=class{imageRepository;constructor(){}async get(e){return this.imageRepository.get(e)}async list(){return this.imageRepository.list()}async getUrl(e){return e.buffer||e.svg?e.buffer?this.bufferToDataURL("image/jpg",e.buffer):e.svg?this.getSVGURL(e):void 0:""}async getSVGURL(e){return e.svg?this.svgToDataURL(e.svg):""}svgToDataURL(e){return tv()(e)}bufferToDataURL(e,t){return`data:${e};base64,${t.toString("base64")}`}};rv([yt("ImageRepository"),nv("design:type",Object)],iv.prototype,"imageRepository",void 0),iv=rv([ft(),nv("design:paramtypes",[])],iv);var av=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},ov=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let sv=class{attributeTotalRepository;constructor(){}async get(e){return this.attributeTotalRepository.get(e)}async put(e){return this.attributeTotalRepository.put(e)}async getByIds(e){return this.attributeTotalRepository.getByIds(e)}async list(){return this.attributeTotalRepository.list()}async buildAttributeTotals(e,t){let r=[],n=new Set(t.map((e=>e.attributeSelections.map((e=>`${e.traitType}:::${e.value}`)))).flat());for(let e of n){let t={_id:e,traitType:e.substring(0,e.indexOf(":::")),value:e.substring(e.indexOf(":::")+3,e.length),count:0,tokenIds:[]};r.push(t)}for(let e of t)for(let t of e.attributeSelections){let n=r.filter((e=>e.traitType==t.traitType&&e.value==t.value))[0];n.tokenIds.push(e.tokenId),n.count++}for(let t of r)t.categoryPercent=new Intl.NumberFormat("default",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.count/e.itemCount);return r.sort(((e,t)=>t.count-e.count)),r}};av([yt("AttributeTotalRepository"),ov("design:type",Object)],sv.prototype,"attributeTotalRepository",void 0),sv=av([ft(),ov("design:paramtypes",[])],sv);var lv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},cv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let uv=class{itemRepository;rowItemViewModelRepository;attributeTotalService;constructor(){}async get(e){return this.itemRepository.get(e)}async list(e,t){return this.itemRepository.list(e,t)}async query(e){return this.itemRepository.query(e)}async all(){return this.itemRepository.all()}async getByTokenId(e){return this.itemRepository.getByTokenId(e)}async getByTokenIds(e){return this.itemRepository.getByTokenIds(e)}async getRowItemViewModelsByAttribute(e,t,r){return this.itemRepository.getRowItemViewModelsByAttribute(e,t,r)}async getRowItemViewModelsByOwner(e,t){return this.itemRepository.getRowItemViewModelsByOwner(e,t)}async getRowItemViewModelsByTokenIds(e){return this.itemRepository.getRowItemViewModelsByTokenIds(e)}async getRowItemViewModelsByTokenId(e){return this.itemRepository.getRowItemViewModelsByTokenId(e)}async listByTokenId(e,t=10){return this.itemRepository.listByTokenId(e,t)}async buildAttributeTotals(e){let t=await this.all();return this.attributeTotalService.buildAttributeTotals(e,t)}async searchTokenIds(e){return this.rowItemViewModelRepository.getByTokenIds(e)}};lv([yt("ItemRepository"),cv("design:type",Object)],uv.prototype,"itemRepository",void 0),lv([yt("RowItemViewModelRepository"),cv("design:type",Object)],uv.prototype,"rowItemViewModelRepository",void 0),lv([yt("AttributeTotalService"),cv("design:type",sv)],uv.prototype,"attributeTotalService",void 0),uv=lv([ft(),cv("design:paramtypes",[])],uv);var hv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},dv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let fv=class{itemPageRepository;constructor(){}async get(e){return this.itemPageRepository.get(e)}};hv([yt("ItemPageRepository"),dv("design:type",Object)],fv.prototype,"itemPageRepository",void 0),fv=hv([ft(),dv("design:paramtypes",[])],fv);var pv=__webpack_require__(3969),gv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},mv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const bv=new pv.DOMParser;let yv=class{itemService;channelService;authorService;imageService;schemaService;quillService;animationService;itemPageService;attributeTotalService;allTokensCache;constructor(){}async get(e){let t=await this.itemService.get(e);const r=await this.channelService.get(),n=await this.attributeTotalService.list();return this.getViewModel(t,r,n)}async getByTokenId(e){return this.itemService.getByTokenId(e)}async getViewModel(e,t,r){let n,i,a,o,s=[];if(t.authorId&&(n=await this.authorService.get(t.authorId)),t.attributeOptions.length>0)for(let n of t.attributeOptions){let t=e?.attributeSelections?.filter((e=>n?.traitType==e?.traitType)),i=t?.length>0?t[0].value:void 0,a=r.filter((e=>e.traitType==n.traitType)),o=a?.filter((e=>e.value==i));s.push({id:n.id,traitType:n.traitType,values:n.values,value:i,attributeTotal:o?.length>0?o[0]:void 0})}if(e.coverImageId&&(i=await this.imageService.get(e.coverImageId)),e.animationId&&!e.coverImageAsAnimation){a=await this.animationService.get(e.animationId);let t=bv.parseFromString(a.content,"text/html").getElementsByTagName("body")[0];o=St().unescape((new pv.B).serializeToString(t)),o="<div"+o.slice(5),o=o.substring(0,o.length-7)+"</div>"}if(e.content?.ops?.length>0){let t=[];for(let r of e.content.ops){if(r.insert&&r.insert.ipfsimage){let e=await this.imageService.get(r.insert.ipfsimage.cid);r.insert.ipfsimage.src=await this.imageService.getUrl(e)}t.push(r)}e.content.ops=t}return{item:e,animation:a,animationContentHTML:o,contentHTML:await this.quillService.translateContent(e.content),channel:t,author:n,authorDisplayName:this.authorService.getDisplayName(n),attributeSelections:s,coverImage:i}}async getMintViewModel(e,t){let r;return e.coverImageId&&(r=await this.imageService.get(e.coverImageId)),{item:e,animation:void 0,channel:t,author:void 0,attributeSelections:[],coverImage:r}}async getSearchViewModel(e,t){return{item:e,animation:void 0,channel:t,author:void 0,attributeSelections:[]}}async getExploreAttributeOptions(e){await this.schemaService.load(["channels","authors","attribute-totals"]);const t=await this.channelService.get();let r=await this.attributeTotalService.list(),n=t.attributeOptions,i=[];for(let t of n){let n=[];for(let i of t.values.sort()){let a=JSON.parse(JSON.stringify(e));delete a[t.traitType];let o=await this._paramsToFilteredIds(a,r),s=r.filter((e=>e.traitType==t.traitType&&e.value==i))[0];s&&n.push({value:i,count:s.tokenIds.filter((e=>o.includes(e))).length})}n.sort(((e,t)=>t.count-e.count));let a={id:t.id,traitType:t.traitType,values:n};i.push(a)}return i}async exploreList(e,t,r){if(await this.schemaService.load(["channels","authors","attribute-totals","row-item-view-models"]),e&&Object.keys(e)?.length>0)return this.exploreQuery(e,t,r);{let e=t/r,n=await this.itemPageService.get(e),i=await this.channelService.get();return{items:n.items,totalMatches:i.itemCount,limit:r,skip:t}}}async exploreQuery(e,t,r){await this.schemaService.load(["channels","authors","attribute-totals","row-item-view-models"]);let n=await this.attributeTotalService.list(),i=await this._paramsToFilteredIds(e,n),a=i.length;return i=i.slice(t,t+r),{items:await this.itemService.searchTokenIds(i),totalMatches:a,limit:r,skip:t}}async _paramsToFilteredIds(e,t){let r=[];for(let t of Object.keys(e))r.push(`${t}:::${e[t]}`);let n=t?.filter((e=>r?.includes(e._id)));return n?.length>0?n.map((e=>e.tokenIds)).reduce(((e,t)=>e.filter((e=>t.includes(e))))):(this.allTokensCache||(this.allTokensCache=Array.from(new Set(t.map((e=>e.tokenIds)).flat()))),this.allTokensCache)}async list(e,t){let r=[];const n=await this.channelService.get(),i=await this.itemService.buildAttributeTotals(n);let a=await this.itemService.list(e,t);for(let e of a)r.push(await this.getViewModel(e,n,i));return r}async mintList(e,t){let r=[];const n=await this.channelService.get();let i=await this.itemService.list(e,t);for(let e of i)r.push(await this.getMintViewModel(e,n));return r}async itemPage(e){return this.itemPageService.get(e)}async attributeItemPage(e,t,r){return this.itemService.getRowItemViewModelsByAttribute(e,t,r)}async ownerItemPage(e,t){return this.itemService.getRowItemViewModelsByOwner(e,t)}async query(e){await this.schemaService.load(["items","channels"]);let t=await this.itemService.query(e);const r=await this.channelService.get();let n=[];for(let e of t)n.push(await this.getSearchViewModel(e,r));return n}async buildItemPages(e,t){let r=[],n=[];for(let t of e){let e=t.item;n.push({_id:e._id,coverImageGenerated:!!t.coverImage.generated,coverImageId:t.coverImage._id,title:`${e.title?e.title:`#${e.tokenId}`}`,tokenId:e.tokenId})}for(let e=0;e<n.length;e+=t)r.push({items:n.slice(e,e+t)});return r}async buildAttributeTotals(e){return this.itemService.buildAttributeTotals(e)}async getRowItemViewModelsByTokenIds(e){return this.itemService.getRowItemViewModelsByTokenIds(e)}translateRowItemViewModel(e,t){return{_id:e._id,coverImageGenerated:!!t.generated,coverImageId:t._id,title:`${e.title?e.title:`#${e.tokenId}`}`,tokenId:e.tokenId}}};gv([yt("ItemService"),mv("design:type",uv)],yv.prototype,"itemService",void 0),gv([yt("ChannelService"),mv("design:type",Wy)],yv.prototype,"channelService",void 0),gv([yt("AuthorService"),mv("design:type",$y)],yv.prototype,"authorService",void 0),gv([yt("ImageService"),mv("design:type",iv)],yv.prototype,"imageService",void 0),gv([yt("SchemaService"),mv("design:type",Xy)],yv.prototype,"schemaService",void 0),gv([yt("QuillService"),mv("design:type",Ky)],yv.prototype,"quillService",void 0),gv([yt("AnimationService"),mv("design:type",jy)],yv.prototype,"animationService",void 0),gv([yt("ItemPageService"),mv("design:type",fv)],yv.prototype,"itemPageService",void 0),gv([yt("AttributeTotalService"),mv("design:type",sv)],yv.prototype,"attributeTotalService",void 0),yv=gv([ft(),mv("design:paramtypes",[])],yv);const vv='<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let staticPage = it.staticPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        <%= staticPage.name %>\r\n    </title>\r\n  \r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: staticPage.name,\r\n        url: `${staticPage.slug}.html`,\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: staticPage.contentHTML,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="static-page-<%=staticPage._id %>">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="<%=staticPage.name%>"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="fixed-width-content center">\r\n                        \r\n                        <div class="card">\r\n                            <div class="card-content card-content-padding">\r\n                                <%~ staticPage.contentHTML %>\r\n                            </div>\r\n                        </div>\r\n    \r\n                        <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">    \r\n\r\n        //pageInitScripts\r\n        \r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let owner\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "<%=staticPage.name%>"\r\n            }]\r\n            \r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n            })          \r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: staticPage.name,\r\n                    url: `${staticPage.slug}.html`,\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: staticPage.contentHTML,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "<%= staticPage.name %>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render;\r\n\r\n        }\r\n        \r\n        ///pageInitScripts\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>';var wv=function(e,t){return function(r,n){t(r,n,e)}};let _v=class{itemService;itemWebService;staticPageService;itemRepository;staticPageRepository;convert;constructor(e,t,r,n,i,a){this.itemService=e,this.itemWebService=t,this.staticPageService=r,this.itemRepository=n,this.staticPageRepository=i,this.convert=a}async load(){await this.itemRepository.load(),await this.staticPageRepository.load()}async getGenerateViewModel(e,t){let r={itemViewModels:t,firstPageExploreItems:(await this.itemWebService.exploreList({},0,40)).items,routablePages:await this.staticPageService.listRoutablePages(),base64Version:Buffer.from(JSON.stringify(e.VERSION)).toString("base64"),bodyContents:"",headEndContents:""};return e.libraryURL?r.headEndContents=`\n          <script defer src="/large/library/browser/js/runtime.library.js?v=${e.VERSION}"><\/script>\n          <script defer src="/large/library/browser/js/vendors.library.js?v=${e.VERSION}"><\/script>\n          <script defer src="/large/library/browser/js/main.library.js?v=${e.VERSION}"><\/script>\n\n          <link rel="preload" href="/large/library/browser/css/vendors.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n          <link rel="preload" href="/large/library/browser/css/main.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n\n          `:r.headEndContents=`\n          <script defer src="${e.baseURL}large/reader/browser/js/runtime.reader.js?v=${e.VERSION}"><\/script>\n          <script defer src="${e.baseURL}large/reader/browser/js/vendors.reader.js?v=${e.VERSION}"><\/script>\n          <script defer src="${e.baseURL}large/reader/browser/js/main.reader.js?v=${e.VERSION}"><\/script>\n\n          <link rel="preload" href="${e.baseURL}large/reader/browser/css/vendors.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n          <link rel="preload" href="${e.baseURL}large/reader/browser/css/main.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n\n          `,r}async generateImages(e,t){if(await a().promises.mkdir(`${e.publicPath}/backup/generated/images/50x50`,{recursive:!0}),await a().promises.mkdir(`${e.publicPath}/backup/generated/images/100x100`,{recursive:!0}),t.coverImage.generated)await this.generatePNGForItem(e,t);else{let r=`${e.publicPath}/backup/export/images/${t.coverImage._id}.jpg`;await this.generateWebp(e,r,t.coverImage._id,50)}}async generatePNGForItem(e,t){let r=`${e.publicPath}/backup/generated/images/${t.coverImage._id}.png`;return a().existsSync(r)?console.log(`Skipping ${t.coverImage._id}.png`):(console.log(`Converting SVG to PNG: ${r}`),await this.generatePNGFromSVG(t.coverImage.svg,r,1200,1200)),r}async generatePNGFromSVG(e,t,r,n){let i=await this.convert(e,{height:r,width:n,puppeteer:{args:["--no-sandbox","--disable-setuid-sandbox"]}});await a().promises.writeFile(t,i)}async generateWebp(e,t,r,n){let i=`${e.publicPath}/backup/generated/images${n?`/${n}x${n}/`:"/"}${r}.webp`;if(a().existsSync(i))console.log(`Skipping thumbnail ${r}.png`);else try{console.log(`Creating webp at: ${i} from ${t}`);let e=await wi.read(t);n?e.resize(n,n).write(i):e.write(i)}catch(e){console.log(`Error creating webp at: ${i} from ${t}`,e.message)}}async generateCollage(e,t){}async generateManifest(e,t){a().writeFileSync(`${e.publicPath}/manifest-icon.svg`,`<svg viewBox='0 0 1200 1200' xmlns='http://www.w3.org/2000/svg' version='1.1' style="background-color:rgb(28,28,29);">\n            \n            <style>\n              .logo { fill:#FCB827; font-size: 800px; font-weight:600; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }\n            </style>\n            \n            <g>\n              <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" class="logo">${t.channel.symbol.substring(0,1)}</text>    \n\n            </g>\n        </svg>`),a().writeFileSync(`${e.publicPath}/app.webmanifest`,JSON.stringify({name:t.channel.title,"short-name":t.channel.symbol,description:`Browse ${t.channel.title}`,display:"standalone",theme_color:"#FCB827","theme-color":"#FCB827",background_color:"#808080",icons:[{src:"manifest-icon.svg",sizes:"150x150",type:"image/svg+xml",purpose:"any"}],start_url:"index.html"}))}async generateAppleTouchIcon(e){let t=a().readFileSync(`${e.publicPath}/manifest-icon.svg`);await this.generatePNGFromSVG(t.toString(),`${e.publicPath}/apple-touch-icon.png`,180,180)}async writeAttributeRowItems(e,t,r,n){const i=e=>e.replace(/[^a-z0-9]/gi,"_").toLowerCase();let o=`${n}/${i(e)}/${i(t)}`;a().mkdirSync(o,{recursive:!0});let s=[];for(let e=0;e<r.length;e+=35){let t=r.slice(e,e+35);s.push(t)}let l=1;for(let e of s)a().writeFileSync(`${o}/${l}.json`,Buffer.from(JSON.stringify({items:e,totalMatches:r.length}))),l++}async generateAttributeItems(e,t){for(let r of t){let t=await this.itemService.getRowItemViewModelsByTokenIds(r.tokenIds);await this.writeAttributeRowItems(r.traitType,r.value,t,`${e.publicPath}/attributes/items`)}}async generateItemPages(e,t){let r=await this.itemWebService.buildItemPages(t,40),n=0;await a().promises.mkdir(`${e.publicPath}/itemPages`,{recursive:!0});for(let t of r)await a().promises.writeFile(`${e.publicPath}/itemPages/${n}.json`,JSON.stringify(t)),n++}async generateAttributeTotals(e,t){let r=await this.itemWebService.buildAttributeTotals(t.channel);return await a().promises.writeFile(`${e.publicPath}/attributeTotals.json`,JSON.stringify(r)),r}async defineEtaTemplates(e,t){let r,n;kt.templates.define("_init",kt.compile("<% \n\n    let hostname = it.hostname\n    let baseURL = it.baseURL\n    let libraryURL = it.libraryURL\n    let routablePages = it.routablePages\n    let base64Version = it.base64Version\n    let channelId = it.channelId\n%>\n\n<% if (libraryURL) { %>\n\n    <script type=\"module\" id=\"page-scripts\">\n\n        let initLibrary = () => {\n\n            let baseURL = '<%= baseURL %>'\n\n            <% if (libraryURL) { %>\n            let libraryURL = '<%= libraryURL %>'\n            <% } %>\n\n            let hostname = '<%= hostname %>'\n            let version = atob('<%= base64Version %>').replace('\"', '').replace('\"', '')\n            let channelId = '<%= channelId ? channelId : \"\" %>'    \n\n            let app = library.initLibrary(libraryURL, baseURL, hostname, version, channelId)\n        }\n\n        initLibrary()\n\n        \n    <\/script>\n\n\n\n<% } else { %>\n\n    <script type=\"module\" id=\"page-scripts\">\n\n        let init = () => {\n\n            let baseURL = '<%= baseURL %>'\n            let hostname = '<%= hostname %>'\n            let version = atob('<%= base64Version %>').replace('\"', '').replace('\"', '')\n            let channelId = '<%= channelId %>'    \n\n            let app = reader.initReader(baseURL, hostname, version, channelId)\n        }\n\n        init()\n\n    \n        \n    <\/script>\n\n\n<% } %>    \n\n\n\n")),kt.templates.define("_meta_tags",kt.compile('<%\n\n    const escapeExcerpt = (excerpt) => {\n\n        excerpt = excerpt?.replace(/<(?![br]\\s*\\/?)[^>]+>/g, \'\')\n\n        excerpt = excerpt?.replaceAll(\'<br />\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br/>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'"\', \'&quot;\')\n\n        return excerpt\n\n    }\n\n\n    let baseURL = it.baseURL\n\n%>\n\n        <link rel="manifest" href="<%~ baseURL %>app.webmanifest">\n        <link rel="icon" href="<%~ baseURL %>manifest-icon.svg">\n        <link rel="apple-touch-icon" href="<%~ baseURL %>apple-touch-icon.png">\n        <meta name="theme-color" content="#FCB827">\n\n\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=1, user-scalable=yes, minimal-ui, viewport-fit=cover">\n        <meta name="apple-mobile-web-app-capable" content="yes">\n\n        <meta name="description" content="<%~ escapeExcerpt(it.descriptionHTML) %>" >\n\n\n        <meta property="og:title" content="<%~it.title%>" />\n        <meta property="og:type" content="website" />\n        <meta property="og:url" content="<%= it.url %>" />\n        <meta property="og:image" content="<%= it.imageUrl %>" />\n        <meta property="og:description" content="<%~ escapeExcerpt(it.descriptionHTML) %>" />\n\n        <meta property="twitter:card" content="summary_large_image" />\n        <meta property="twitter:url" content="<%= it.url %>" />\n        <meta property="twitter:title" content="<%~it.title%>" />\n        <meta property="twitter:description" content="<%~ escapeExcerpt(it.descriptionHTML) %>" />\n        <meta property="twitter:image" content="<%= it.imageUrl %>" />')),kt.templates.define("_meta_tags_js",kt.compile('<%\n\n    const escapeExcerpt = (excerpt) => {\n\n        excerpt = excerpt?.replace(/<(?![br]\\s*\\/?)[^>]+>/g, \'\')\n\n        excerpt = excerpt?.replaceAll(\'<br />\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br/>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'"\', \'&quot;\')\n\n        return excerpt\n\n    }\n\n\n%>\n\n\ndocument.querySelector(\'meta[property="og:title"]\').setAttribute("content", "<%~it.title%>")\ndocument.querySelector(\'meta[property="og:url"]\').setAttribute("content", "<%= it.url %>")\ndocument.querySelector(\'meta[property="og:image"]\').setAttribute("content", "<%= it.imageUrl %>")\ndocument.querySelector(\'meta[property="og:description"]\').setAttribute("content", "<%~  escapeExcerpt(it.descriptionHTML) %>")\n\ndocument.querySelector(\'meta[property="twitter:url"]\').setAttribute("content", "<%= it.url %>")\ndocument.querySelector(\'meta[property="twitter:title"]\').setAttribute("content", "<%~it.title%>")\ndocument.querySelector(\'meta[property="twitter:image"]\').setAttribute("content", "<%= it.imageUrl %>")\ndocument.querySelector(\'meta[property="twitter:description"]\').setAttribute("content", "<%~  escapeExcerpt(it.descriptionHTML) %>" )\n'));try{r=await a().promises.readFile(s().resolve(t,e.headStart))}catch(e){}kt.templates.define("headStart",kt.compile(r?r?.toString():""));try{n=await a().promises.readFile(s().resolve(t,e.footer))}catch(e){}kt.templates.define("footer",kt.compile(n?n?.toString():'<% \n  let baseURL = it.baseURL\n%>\n\n<div class="block block-strong inset">\n\n    <span class="footer-link">\n      <strong>Large NFT</strong> code licensed under <a href="https://github.com/LargeNFT/large-nft/blob/master/LICENSE.md" class="external">MIT</a>\n    </span>\n\n    <span class="footer-link">\n      <a href="https://github.com/LargeNFT/large-nft" class="external">GitHub</a>\n    </span>\n\n    <span class="footer-link">\n      <a href="https://twitter.com/large_nft" class="external">Twitter</a>\n    </span>\n\n</div>\n'))}async generateLibraryPages(e,t){a().existsSync(`${t}${e.libraryURL}`)||a().mkdirSync(`${t}${e.libraryURL}`),await this.defineEtaTemplates(e,process.env.INIT_CWD);let r={routablePages:[],baseURL:e.baseURL,hostname:e.hostname,base64Version:Buffer.from(JSON.stringify(e.VERSION)).toString("base64"),logo:e.logo,libraryURL:e.libraryURL,largeURL:e.largeURL,headEndContents:`\n      <script defer src="${e.largeURL}/library/browser/js/runtime.library.js?v=${e.VERSION}"><\/script>\n      <script defer src="${e.largeURL}/library/browser/js/vendors.library.js?v=${e.VERSION}"><\/script>\n      <script defer src="${e.largeURL}/library/browser/js/main.library.js?v=${e.VERSION}"><\/script>\n\n      <link rel="preload" href="${e.largeURL}/library/browser/css/vendors.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n      <link rel="preload" href="${e.largeURL}/library/browser/css/main.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n\n\n        `,bodyContents:""};await this.renderPage(e,'<% \n\n    let channelViewModel = it.baseViewModel.channelViewModel \n    let hostname = it.baseViewModel.hostname\n    let baseURL = it.baseViewModel.baseURL\n    let routablePages = it.baseViewModel.routablePages\n    let base64Version = it.baseViewModel.base64Version\n\n    let logo = it.baseViewModel.logo\n\n\n    const link = (href) => {\n        return `${baseURL + href}`\n    }   \n\n\n    const absoluteLink = (href) => {\n      return `${hostname + baseURL + href}`\n    }   \n    \n%>\n\n<!DOCTYPE html>\n<html lang="en">\n\n  <head>\n\n    <style>\n      html {\n        visibility: hidden;\n        opacity: 0;\n      }\n    </style>\n\n\n    <title>\n      <%= it.title %>\n    </title>\n\n    <%~ \n      include("_meta_tags", {\n        title: it.title,\n        url: \'index.html\',\n        imageUrl: \'\',\n        descriptionHTML: \'\',\n        hostname: hostname,\n        baseURL: baseURL,\n        excerptHtml: it.baseViewModel.excerptHtml,\n        he: it.baseViewModel.he\n      }) \n    %>\n\n\n    <%~ it.baseViewModel.headEndContents %>\n    \n\n  </head>\n\n  <body>\n\n    <div id="app">\n\n      <div class="view view-main">\n\n        \x3c!--pageContent--\x3e\n        <div class="page" data-name="library-home">\n\n          <nav-bar\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\n            title="<%= it.title %>"\n            show_mint_page="false"\n            show_activity_page="false"\n            hide_menu="true"\n          >\n          </nav-bar>\n\n          <div class="toolbar toolbar-bottom">\n            <div class="toolbar-inner">\n              <%~ include("footer", {baseURL: baseURL}) %>\n            </div>\n          </div>\n\n\n\n          <div class="page-content hide-toolbar-on-scroll">\n\n            <div class="main-split">\n\n              <div class="left">\n                \n                <div class="hidden-on-load">\n\n                  <div class="card data-table">\n  \n                    <div class="card-header">Collections</div>\n\n                    <div class="card-content">\n  \n                        <table class="collections-table">\n  \n                          <thead>\n                            <tr>\n                              <th>Collection</th>\n                              <th class="value">24H</th>\n                              <th class="medium-only value">Month</th>\n                              <th class="medium-only value">Year</th>\n                              <th class="medium-only value">Total</th>\n                            </tr>\n                          </thead>\n  \n                          <tbody>\n    \n                            ${channels?.map( channelValue => $h`\n                              <tr>\n                                <td>\n                                  <a href="/r/${channelValue._id}/">\n                                    ${channelValue.coverImageId ? $h`\n                                      <img src="/r/${channelValue._id}/backup/generated/images/${channelValue.coverImageId}.webp" class="avatar" />\n                                    ` : $h`\n                                      <i class="material-icons avatar">image</i>\n                                    `}\n    \n                                    <span class="title">${channelValue.title}</span>\n                                  </a>\n  \n                                </td> \n                                <td class="value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.dayTotalsEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.dayTotalsUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                                <td class="medium-only value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.monthTotalsEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.monthTotalsUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                                <td class="medium-only value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.yearTotalsEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.yearTotalsUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                                <td class="medium-only value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.totalEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.totalUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                              </tr>  \n                            `)}\n    \n                            </tbody>\n                        </table>\n    \n                    </div>\n                  \n                  </div>\n\n                </div>\n\n                <div class="hide-on-pageinit">\n\n                  <div class="card skeleton-text">\n                      <div class="card-header">Collections</div>\n                      <div class="card-content card-content-padding data-table">\n                          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\n                          lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\n                      </div>\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class="right">\n\n                <div class="card card-header-divider">\n                  <div class="card-header">Links</div>\n                  <div class="card-content card-content-padding">\n                    <div class="list">\n                      <ul>\n                        <li>\n                          <div class="item-content">\n                            <div class="item-inner">\n                              <div class="item-title">\n                                <a class="link external" href="https://discord.gg/yJtjqHvqXm">Discord</a>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                        <li>\n                          <div class="item-content">\n                            <div class="item-inner">\n                              <div class="item-title">\n                                <a class="link external" href="https://twitter.com/large_nft">Twitter</a>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n  \n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n\n\n          </div>\n\n        </div>\n        \x3c!--/pageContent--\x3e\n\n      </div>\n\n    </div>\n\n    <%~ it.baseViewModel.bodyContents %>\n    \n    <script type="module" id="page-init-scripts">\n\n      //pageInitScripts\n\n      const init = (props, { $, $f7, $h, $on, $update }) => {\n              \n            let channelWebService = globalThis.container.get("ChannelWebService")\n            let baseURI = globalThis.container.get("baseURI")\n            let hostname = globalThis.container.get("hostname")\n\n            let homeWebService = globalThis.container.get("HomeWebService")\n\n            let uiService = globalThis.container.get("UiService")\n\n            let breadcrumbs\n\n            let channels = []\n\n            const link = (href) => {\n              return baseURI() + href\n            }   \n\n            $on(\'pageAfterOut\', (e, page) => {\n            })\n\n            $on(\'pageInit\', async (e, page) => {\n\n              await channelWebService.loadChannel(\n                undefined,\n                undefined,\n                \'<%= hostname %>\'\n              )\n\n\n              uiService.showSpinner("Loading...")\n\n              channelsShown = 0\n              pageCounter = 0\n              hasMoreChannels = true\n              loadingInProgress = false\n\n              channels = await homeWebService.get()\n\n              await $update()\n\n              $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\n              $(\'.hide-on-pageinit\').hide()\n\n              uiService.hideSpinner()\n\n            })\n\n            <%~ \n              include("_meta_tags_js", {\n                title: it.title,\n                url: \'index.html\',\n                imageUrl: \'\',\n                descriptionHTML: \'\',\n                hostname: hostname,\n                baseURL: baseURL,\n                excerptHtml: it.baseViewModel.excerptHtml,\n                he: it.baseViewModel.he\n              }) \n            %>\n\n\n\n            $f7.preloader.hide()\n\n            return $render\n\n      }\n\n      ///pageInitScripts\n\n    <\/script>\n\n    <%~ \n      include("_init", {\n        hostname: hostname,\n        baseURL: baseURL,\n        libraryURL: it.baseViewModel.libraryURL,\n        routablePages: routablePages,\n        base64Version: base64Version\n      }) \n    %>\n\n\n\n  </body>\n\n</html>',{baseViewModel:r,title:e.title},`${t}${e.libraryURL}/index.html`),await this.renderPage(e,'<% \n\n    let channelViewModel = it.baseViewModel.channelViewModel \n    let hostname = it.baseViewModel.hostname\n    let baseURL = it.baseViewModel.baseURL\n    let routablePages = it.baseViewModel.routablePages\n    let base64Version = it.baseViewModel.base64Version\n\n    let logo = it.baseViewModel.logo\n\n\n    const link = (href) => {\n        return `${baseURL + href}`\n    }   \n\n\n    const absoluteLink = (href) => {\n      return `${hostname + baseURL + href}`\n    }   \n    \n%>\n\n<!DOCTYPE html>\n<html lang="en">\n\n  <head>\n\n    <style>\n      html {\n        visibility: hidden;\n        opacity: 0;\n      }\n    </style>\n\n\n    <title>\n      <%= it.title %>\n    </title>\n\n\n    <%~ it.baseViewModel.headEndContents %>\n    \n\n  </head>\n\n  <body>\n\n    <div id="app">\n\n      <div class="view view-main">\n\n        \x3c!--pageContent--\x3e\n        <div class="page" data-name="home">\n\n          <nav-bar\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\n            title="<%= it.title %>"\n            show_mint_page="false"\n            show_activity_page="false"\n            baseURI="${baseURI}"\n            hostname="${hostname}"\n          >\n          </nav-bar>\n\n\n          <div class="page-content">\n\n            <div class="main-split">\n\n              <div class="left">\n\n                <div class="card">\n\n                  <div class="card-content card-content-padding">\n                    404 Page Not Found.\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class="right">\n\n              </div>\n\n              <div class="left">\n                <%~ include("footer", {baseURL: baseURL}) %>\n              </div>\n\n            </div>\n\n\n          </div>\n\n        </div>\n        \x3c!--/pageContent--\x3e\n\n      </div>\n\n    </div>\n\n    <%~ it.baseViewModel.bodyContents %>\n    \n    <script type="module" id="page-init-scripts">\n      //pageInitScripts\n      const init = (props, { $, $f7, $h, $on, $update }) => {\n              \n            let channelWebService = globalThis.container.get("ChannelWebService")\n            let baseURI = globalThis.container.get("baseURI")\n            let hostname = globalThis.container.get("hostname")\n\n            let breadcrumbs\n\n            const link = (href) => {\n              return baseURI + href\n            }   \n\n   \n            $on(\'pageInit\', async () => {\n\n              await channelWebService.loadChannel(\n                undefined,\n                \'/\',\n                \'<%= hostname %>\'\n              )\n\n\n\n            })\n\n            $f7.preloader.hide()\n\n            return $render\n\n      }\n      ///pageInitScripts\n\n    <\/script>\n\n    <%~ \n      include("_init", {\n        hostname: hostname,\n        baseURL: baseURL,\n        libraryURL: it.baseViewModel.libraryURL,\n        routablePages: routablePages,\n        base64Version: base64Version\n      }) \n    %>\n\n\n\n  </body>\n\n</html>',{baseViewModel:r,title:"404 Page Not Found"},`${t}${e.libraryURL}/404.html`)}async generatePages(e,t,r,i){if(a().mkdirSync(`${e.publicPath}/attributes`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/attribute`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/activity`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/leaderboard`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/sales`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/u`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/u/activity`,{recursive:!0}),a().mkdirSync(`${e.publicPath}/transaction`,{recursive:!0}),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }   \r\n\r\n\r\n    const absoluteLink = (href) => {\r\n      return `${hostname + baseURL + href}`\r\n    }   \r\n    \r\n\r\n    const marketplaceLink = (marketplace) => {\r\n\r\n      let link = marketplace.link \r\n\r\n      //Replace contract if we find it \r\n      if (channelViewModel.channel.contractAddress) {\r\n        link = link.replace("{contractId}", channelViewModel.channel.contractAddress)\r\n      }\r\n\r\n      return link\r\n    }\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n      html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n      }\r\n    </style>\r\n\r\n\r\n    <title>\r\n      <%= it.title %>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: channelViewModel.channel.title,\r\n        url: \'index.html\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: channelViewModel.channel.descriptionHTML,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n\r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        \x3c!--pageContent--\x3e\r\n        <div class="page" data-name="reader-home">\r\n\r\n          <nav-bar\r\n            logo="${logo}"\r\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n            title="<%=channelViewModel.channel.title%>"\r\n            show_mint_page="<%=showMintPage%>"\r\n            show_activity_page="<%=showActivityPage%>"\r\n            breadcrumbs="${breadcrumbs}"\r\n          >\r\n          </nav-bar>\r\n\r\n\r\n          <token-toolbar\r\n            token_id="0"\r\n            item_count="<%= channelViewModel.channel.itemCount %>" \r\n          >\r\n          </token-toolbar>\r\n\r\n\r\n          <div class="page-content">\r\n\r\n            <div class="main-split">\r\n\r\n              <div class="left">\r\n\r\n                <div class="card channel-card-show">\r\n\r\n                  <div class="card-header banner" id="banner" <% if(channelViewModel?.channel.coverBannerId) { %>\r\n                        style="background-image: url(\'<%= link(`backup/generated/images/${channelViewModel.channel.coverBannerId}.webp`) %>\')"\r\n                      <% } else { %>\r\n                        style="background: #cccccc;"\r\n\r\n                      <% } %>\r\n                        >\r\n    \r\n                        <a href="<%= link(\'index.html\') %>">\r\n                          <% if (channelViewModel?.channel.coverImageId) { %>\r\n                            <img src="<%= link(`backup/generated/images/100x100/${channelViewModel.channel.coverImageId}.webp`) %>" alt="Primary avatar" class="avatar" />\r\n                          <% } else { %>\r\n                            <i class="f7-icons avatar">photo</i>\r\n                          <% } %>\r\n                        </a>\r\n    \r\n                  </div>\r\n    \r\n                  <div class="card-content card-content-padding">\r\n    \r\n                    <div class="title">\r\n                      <%= channelViewModel.channel.title %>\r\n                    </div>\r\n    \r\n                    <% if(channelViewModel?.authorDisplayName) { %>\r\n                      <div class="name">\r\n                        By <%= channelViewModel?.authorDisplayName %>\r\n                      </div>\r\n                    <% } %>\r\n    \r\n                    <div class="description" id="channel-show-description-<%=channelViewModel.channel._id%>">\r\n                      <%~ channelViewModel.channel?.descriptionHTML %>\r\n                    </div>\r\n    \r\n    \r\n                    <div class="start-buttons">\r\n                      <a href="<%= link(`t/${it.firstPost.item.tokenId}`) %>" class="button button-fill text-color-white ready-button" data-transition="f7-cover">Browse Collection</a>\r\n                      <a href="<%= link(`explore.html`) %>" class="button button-outline ready-button" data-transition="f7-cover">Explore</a>\r\n\r\n                    </div>\r\n    \r\n    \r\n                  </div>\r\n    \r\n                </div>\r\n    \r\n                <div class="hidden-on-load">\r\n    \r\n                  <% if (showMintPage) { %>\r\n                    <mint-info\r\n                      baseurl="<%= baseURL %>"\r\n                    ></mint-info>\r\n                  <% } %>\r\n\r\n\r\n                  <% if(channelViewModel.channel?.contractAddress) { %>\r\n\r\n                    <div class="card card-header-divider">\r\n                      <div class="card-header">Overall Stats</div>\r\n                      <div class="card-content card-content-padding">\r\n\r\n                        <div class="block block-strong inset stats">\r\n      \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Number of Sales (Lifetime)\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.totals?.events ? homeViewModel?.salesReport?.totals?.events : 0)}</strong>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Average Sale\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.totals?.averageEthValue ? homeViewModel?.salesReport?.totals?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.totals?.averageUsdValue ? homeViewModel?.salesReport?.totals?.averageUsdValue : 0, 2)}</span>\r\n                            </div>\r\n                            \r\n        \r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Total Value of All Sales (Lifetime)\r\n                            </div>\r\n                            \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.totals?.ethValue ? homeViewModel?.salesReport?.totals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.totals?.usdValue ? homeViewModel?.salesReport?.totals?.usdValue : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n                              \r\n                            <div>\r\n                              Value of Sales (24 Hours)\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.dayTotals?.ethValue ? homeViewModel?.salesReport?.dayTotals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.dayTotals?.usdValue ? homeViewModel?.salesReport?.dayTotals?.usdValue?.toFixed(2) : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Value of Sales (Month)\r\n                            </div>\r\n        \r\n                            \r\n                            <div class="col-50 large-100 price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.monthTotals?.ethValue ? homeViewModel?.salesReport?.monthTotals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.monthTotals?.usdValue ? homeViewModel?.salesReport?.monthTotals?.usdValue?.toFixed(2) : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n                            \r\n                            <div>\r\n                              Value of Sales (Year)\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.yearTotals?.ethValue ? homeViewModel?.salesReport?.yearTotals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.yearTotals?.usdValue ? homeViewModel?.salesReport?.yearTotals?.usdValue?.toFixed(2) : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n          \r\n        \r\n                        </div>\r\n        \r\n                        <div class="block split-row-both">\r\n                          <a class="button button-outline margin-bottom" href="${link(\'leaderboard\')}">Top Owners</a>\r\n                          <a class="button button-outline margin-bottom" href="${link(\'attributes\')}">All Attributes</a>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  <% } %>\r\n  \r\n  \r\n                  \r\n  \r\n  \r\n  \r\n                  ${homeViewModel?.largestSales && homeViewModel.largestSales?.sales?.length > 0 ? $h`\r\n\r\n                    <div class="card card-header-divider data-table">\r\n                      <div class="card-header">Largest Sales</div>\r\n                      <div class="card-content card-content-padding">\r\n                        <largest-sales largest_sales="${homeViewModel?.largestSales}"></largest-sales>\r\n                      </div>\r\n                    </div>\r\n  \r\n  \r\n                    <div class="block save-row">\r\n                      <div class="large-only"></div>\r\n                      <a href="${link(\'sales\')}" class="button button-fill">View Top 100</a>\r\n                    </div>\r\n  \r\n                  ` : $h` `}\r\n  \r\n  \r\n                  ${homeViewModel?.recent?.transactions?.length > 0 ? $h`\r\n    \r\n                    <transaction-row transactions="${homeViewModel.recent}" items="${homeViewModel?.recent.rowItemViewModels}">\r\n\r\n                      <div class="card-header">\r\n                        Recent Activity\r\n                        <div class="last-updated">Updated: ${dayjs(homeViewModel?.recent.lastUpdated).fromNow()}</div>\r\n                      </div>\r\n\r\n                    </transaction-row>\r\n  \r\n                    <div class="block save-row">\r\n                      <div class="large-only"></div>\r\n                      <a href="${link(\'activity\')}" class="button button-fill">View All</a>\r\n                    </div>\r\n              \r\n                  ` : $h`<span />`}\r\n    \r\n    \r\n                </div>\r\n                \r\n                <div class="hide-on-pageinit">\r\n    \r\n                  <div class="card skeleton-text">\r\n                    <div class="card-header">Overall Stats</div>\r\n                    <div class="card-content card-content-padding data-table">\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n  \r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n  \r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n  \r\n                    </div>\r\n  \r\n                  </div>\r\n  \r\n  \r\n                  <div class="card skeleton-text">\r\n                    <div class="card-header">Overall Stats</div>\r\n                    <div class="card-content card-content-padding data-table">\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                    </div>\r\n  \r\n                  </div>\r\n  \r\n  \r\n                  <div class="card skeleton-text">\r\n                    <div class="card-header">Overall Stats</div>\r\n                    <div class="card-content card-content-padding data-table">\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                    </div>\r\n  \r\n                  </div>\r\n  \r\n  \r\n                  <div class="card skeleton-text">\r\n                      <div class="card-header">Recent Activity</div>\r\n                      <div class="card-content card-content-padding data-table">\r\n                          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                          lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                      </div>\r\n    \r\n                  </div>\r\n    \r\n                </div>\r\n    \r\n  \r\n                <% \r\n                  if (channelViewModel.staticPagesViewModel.index?.length > 0) {\r\n    \r\n                    for (let staticPage of channelViewModel.staticPagesViewModel.index) {\r\n                 %>\r\n    \r\n                  <div class="card static-page-card">   \r\n                    <div class="card-content card-content-padding">\r\n                      <%~ staticPage.contentHTML %>\r\n                    </div>               \r\n                  </div>\r\n    \r\n                <%\r\n                    }\r\n                  }                  \r\n                %>\r\n    \r\n    \r\n  \r\n  \r\n                <% if (channelViewModel?.channel.licenseHTML?.length > 13) { %>\r\n    \r\n                  <div class="card">\r\n                    <div class="card-content card-content-padding license">\r\n                      <%~ channelViewModel?.channel.licenseHTML %>\r\n                    </div>\r\n                  </div>\r\n    \r\n                <% } %>\r\n  \r\n\r\n              </div>\r\n\r\n              <div class="right">\r\n\r\n                <div class="hidden-on-load">\r\n      \r\n                  <% if(channelViewModel.channel?.contractAddress) { %>\r\n\r\n                    <div class="card card-header-divider">\r\n                      <div class="card-header">Links</div>\r\n                      <div class="card-content card-content-padding">\r\n                        <div class="list">\r\n                          <ul>\r\n              \r\n                            <% if(channelViewModel.channel?.contractAddress) { %>\r\n      \r\n                              <li>\r\n                                <div class="item-content">\r\n                                  <div class="item-inner">\r\n                                    <div class="item-title">\r\n                                      <a class="link external" href="https://etherscan.io/address/<%=channelViewModel.channel?.contractAddress%>">Etherscan</a>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </li>\r\n                            <% } %>\r\n        \r\n                            <% for (let externalLink of externalLinks) { %>\r\n      \r\n                              <li>\r\n                                <div class="item-content">\r\n                                  <div class="item-inner">\r\n                                    <div class="item-title">\r\n                                      <a class="link external" href="<%= externalLink.link %>"><%= externalLink.name %></a>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </li>\r\n      \r\n                            <% } %>\r\n    \r\n    \r\n                            <%\r\n                            if (channelViewModel?.staticPagesViewModel?.links?.length > 0) {\r\n                            %>\r\n                              \r\n                              <%\r\n                                  for (let staticPage of channelViewModel.staticPagesViewModel.links) {\r\n                              %>\r\n        \r\n                                    <li>\r\n                                      <div class="item-content">\r\n                                        <div class="item-inner">\r\n                                          <div class="item-title">\r\n                                            <a class="link" href="<%= link(`s/${staticPage.slug}.html`) %>"><%= staticPage.name %></a>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </li>\r\n        \r\n                              <%\r\n                                  }\r\n                              %> \r\n        \r\n                            <%\r\n                            }\r\n                            %> \r\n      \r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  <% } %>\r\n\r\n\r\n                  <% \r\n                    if (marketplaces?.length > 0) {\r\n                  %>\r\n\r\n                    <div class="card card-header-divider">\r\n                      <div class="card-header">Marketplaces</div>\r\n                      <div class="card-content card-content-padding">\r\n                        <div class="list">           \r\n                          <ul>\r\n                              <% \r\n                              for (let marketplace of marketplaces) { \r\n                              %>  \r\n        \r\n                                <li>\r\n                                  <div class="item-content">\r\n                                    <div class="item-inner">\r\n                                      <div class="item-title">\r\n                                        <a class="link external" href="<%= marketplaceLink(marketplace) %>"><%= marketplace.name %></a>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </li>\r\n                              <%\r\n                              }\r\n                              %>\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  <% } %>\r\n  \r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="left">\r\n                <%~ include("footer", {baseURL: baseURL}) %>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n        \x3c!--/pageContent--\x3e\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n          let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n          let baseURI = globalThis.container.get("baseURI")\r\n          let hostname = globalThis.container.get("hostname")\r\n\r\n          let transactionWebService = globalThis.container.get("TransactionWebService")\r\n          let itemWebService = globalThis.container.get("ItemWebService")\r\n          let tokenOwnerPageService = globalThis.container.get("TokenOwnerPageService")\r\n          let readerSettingsService = globalThis.container.get("ReaderSettingsService")\r\n\r\n          let walletService = globalThis.container.get("WalletService")\r\n          let mintWebService = globalThis.container.get("MintWebService")\r\n\r\n          let breadcrumbs\r\n\r\n          let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n          const PER_PAGE = 35\r\n\r\n          let homeViewModel\r\n          let mintingViewModel \r\n\r\n          let loading = true\r\n\r\n          let firstPageExploreItems \r\n\r\n          const link = (href) => {\r\n            return baseURI() + href\r\n          }   \r\n\r\n          const loadActivity = async () => {\r\n\r\n            loading = true\r\n\r\n            try  {\r\n\r\n              homeViewModel = await transactionWebService.getHomeViewModel()\r\n\r\n              //Last updated won\'t be right because this only gets written when it actually changes.\r\n              let latest = await transactionWebService.getLatest()\r\n              \r\n              if (homeViewModel?.largestSales) {\r\n                homeViewModel.largestSales.lastUpdated = latest?.lastUpdated\r\n              }\r\n  \r\n              await $update()\r\n\r\n            } catch(ex) { console.log(ex) }\r\n\r\n            $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n            loading = false\r\n\r\n            await $update()\r\n\r\n\r\n          }\r\n\r\n          const loadMintingViewModel = async () => {\r\n      \r\n            try  {\r\n\r\n              if (!walletService.provider) {\r\n                await walletService.initProvider()\r\n              }\r\n\r\n              //Might still not have a provider. \r\n              if (walletService.provider) {\r\n                hasProvider = true\r\n                mintingViewModel = await mintWebService.getHomeMintingViewModel()\r\n              } \r\n\r\n            } catch(ex) {\r\n              console.log(ex)\r\n            }\r\n            \r\n            $f7.emit(\'minting-view-model-updated\', mintingViewModel)\r\n\r\n\r\n          }\r\n\r\n          $on(\'pageInit\', async () => {\r\n\r\n            console.log("Loading channel")\r\n            await channelWebService.loadChannel(\r\n                    "<%= channelViewModel.channel._id %>",\r\n                    \'<%= baseURL %>\',\r\n                    \'<%= hostname %>\'\r\n            )\r\n\r\n            let readerSettings = await readerSettingsService.get()\r\n            $f7.emit(\'current-page-updated\', readerSettings.currentPage)\r\n\r\n            \r\n            <% if (showMintPage) { %>\r\n              console.log("Loading mint view model")\r\n              await loadMintingViewModel()\r\n              await $update()\r\n            <% } %>\r\n\r\n            console.log("Loading activity")\r\n            await loadActivity()\r\n            $update()\r\n\r\n            $(\'.hide-on-pageinit\').hide()\r\n\r\n            $update()\r\n\r\n            //Set empty alt for any decorative image tags that are missing it. \r\n            $("img:not([alt])").attr("alt", "")\r\n          })\r\n\r\n          $on(\'pageBeforeOut\', async () => {\r\n          })\r\n\r\n          <%~ \r\n            include("_meta_tags_js", {\r\n              title: channelViewModel.channel.title,\r\n              url: \'index.html\',\r\n              imageUrl: coverImageLink,\r\n              descriptionHTML: channelViewModel.channel.descriptionHTML,\r\n              hostname: hostname,\r\n              baseURL: baseURL,\r\n              excerptHtml: it.baseViewModel.excerptHtml,\r\n              he: it.baseViewModel.he\r\n            }) \r\n          %>\r\n\r\n          document.querySelector(\'title\').innerHTML = "<%=channelViewModel.channel.title%>"\r\n\r\n          $f7.preloader.hide()\r\n\r\n          return $render\r\n\r\n          \r\n\r\n      }\r\n\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("_init", {\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: routablePages,\r\n        base64Version: base64Version,\r\n        channelId: channelId\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n  </body>\r\n\r\n</html>',{title:t.channel.title,firstPost:r.itemViewModels[0],baseViewModel:i},`${e.publicPath}/index.html`),e.showMintPage&&await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n\r\n  \r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }   \r\n\r\n\r\n\r\n    const absoluteLink = (href) => {\r\n      return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    \r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n      html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n      }\r\n    </style>\r\n\r\n\r\n    <title>\r\n      <%= it.title %>\r\n    </title>\r\n\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: channelViewModel.channel.title,\r\n        url: \'mint.html\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Mint \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    \r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        \x3c!--pageContent--\x3e\r\n        <div class="page" data-name="mint">\r\n\r\n          <nav-bar\r\n              logo="${logo}"\r\n              library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n              large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n              title="Mint"\r\n              active="Mint"\r\n              show_mint_page="<%=showMintPage%>"\r\n              show_activity_page="<%=showActivityPage%>"\r\n              breadcrumbs="${breadcrumbs}"\r\n              base_uri="${baseURI}"\r\n              hostname="${hostname}"\r\n          >\r\n          </nav-bar>\r\n\r\n          <div class="page-content infinite-scroll-content" id="mint-list-infinite-scroll">\r\n\r\n            <div class="fixed-width-content center">\r\n\r\n              <div class="card channel-card-show">\r\n\r\n                <div class="card-header banner" <% if(channelViewModel?.channel.coverBannerId) { %>\r\n                  style="background-image: url(\'<%= link(`backup/export/images/${channelViewModel.channel.coverBannerId}.jpg`) %>\')"\r\n                    <% } %>\r\n                      >\r\n\r\n                      <a href="<%= link(\'index.html\') %>">\r\n\r\n                        <% if (channelViewModel?.channel.coverImageId) { %>\r\n                          <img src="<%= link(`backup/export/images/${channelViewModel.channel.coverImageId}.jpg`) %>" class="avatar" />\r\n                        <% } else { %>\r\n                          <i class="f7-icons avatar">photo</i>\r\n                        <% } %>\r\n\r\n                      </a>\r\n\r\n                </div> \r\n\r\n                <div class="card-content card-content-padding">\r\n\r\n                  <div class="title">\r\n                    <a href="<%= link(\'index.html\') %>"><%= channelViewModel.channel.title %></a>\r\n                  </div>\r\n\r\n                  <% if(channelViewModel?.authorDisplayName) { %>\r\n                    <div class="name">\r\n                      By <%= channelViewModel?.authorDisplayName %>\r\n                    </div>\r\n                  <% } %>\r\n  \r\n                </div>\r\n\r\n              </div>\r\n              \r\n              <mint-list \r\n                baseurl="<%= baseURL %>"\r\n                last_minted="${lastMinted}"\r\n              >\r\n\r\n              </mint-list>\r\n\r\n\r\n              <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n\r\n          </div>\r\n    \r\n          </div>\r\n\r\n        </div>\r\n        \x3c!--/pageContent--\x3e\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {  \r\n\r\n        let channelWebService = globalThis.container.get("ChannelWebService")\r\n        \r\n        let baseURI = globalThis.container.get("baseURI")\r\n        let hostname = globalThis.container.get("hostname")\r\n\r\n        let itemWebService = globalThis.container.get("ItemWebService")\r\n        let mintWebService = globalThis.container.get("MintWebService")\r\n        let walletService = globalThis.container.get("WalletService")\r\n\r\n        let totalItemCount = parseInt(\'<%= channelViewModel.itemCount %>\')\r\n\r\n        const PER_PAGE = 35\r\n\r\n        let itemsShown = 0\r\n        let hasMoreItems = true\r\n        let loadingInProgress = false\r\n        let pageCounter=0\r\n\r\n        let virtualList\r\n        // let swiper\r\n        let items = []\r\n        let mintingViewModel \r\n\r\n        let lastMinted \r\n\r\n        let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n        let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Mint"\r\n        }]\r\n\r\n        const resizeListener = (e) => {\r\n          const viewPortWidth = getWidth()\r\n\r\n          if (virtualList) {\r\n            virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n            virtualList.update()\r\n          }\r\n\r\n          // if (swiper) {\r\n          //   swiper.params.slidesPerView = viewPortWidth >= 1024 ? 5 : 2\r\n          //   swiper.update()\r\n          // }\r\n\r\n\r\n          console.log("Resized...")\r\n\r\n        }\r\n\r\n        const getWidth = () => {\r\n          return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n        }\r\n\r\n        const virtualListParams = {\r\n          el: \'#mint-list\',\r\n          createUl: false,\r\n          renderItem(item) {\r\n              return getTemplate(item)\r\n          },\r\n          height: 300,\r\n          items: items,                    \r\n          cols: getWidth() >= 1024 ? 5 : 2,\r\n          emptyTemplate: `\r\n              <li class="item-content">\r\n                  <div class="item-inner">\r\n                      Loading...\r\n                  </div>\r\n              </li>\r\n              `\r\n        }\r\n\r\n        $on(\'pageInit\', async () => {\r\n\r\n          await channelWebService.loadChannel(\r\n                  "<%= channelViewModel.channel._id %>",\r\n                  \'<%= baseURL %>\',\r\n                  \'<%= hostname %>\'\r\n          )\r\n\r\n          await $update()\r\n\r\n\r\n          window.addEventListener(\'resize\', resizeListener)\r\n          \r\n        })\r\n\r\n        $on(\'pageBeforeOut\', async () => {\r\n          window.removeEventListener(\'resize\', resizeListener)\r\n        })        \r\n\r\n        const createVirtualList = () => {\r\n          \r\n          if (virtualList) return\r\n\r\n          virtualList = $f7.virtualList.create(virtualListParams)\r\n\r\n          if (virtualList.items?.length <= totalItemCount) {\r\n              document.getElementById("mint-list-infinite-scroll").addEventListener( \'infinite\', infiniteScroll )\r\n          } else {\r\n              $(\'.infinite-scroll-preloader\').hide()\r\n          }\r\n\r\n        }\r\n\r\n        function unloadInfiniteScroll() {\r\n\r\n          console.log("Unload infinite scroll")\r\n\r\n          // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n          $f7.infiniteScroll.destroy(\'#mint-list-infinite-scroll\')\r\n          $f7.virtualList.destroy(\'#mint-list\')\r\n          virtualList = undefined\r\n\r\n          $(\'.infinite-scroll-preloader\').hide()\r\n        \r\n        }\r\n\r\n        async function infiniteScroll(e) {\r\n\r\n          // Exit, if loading in progress\r\n          if (loadingInProgress || !hasMoreItems) return\r\n\r\n          console.log(`Infinite scrolling...`)\r\n\r\n          // Set loading flag\r\n          loadingInProgress = true\r\n\r\n          try {\r\n              \r\n              let itemPage = await itemWebService.itemPage(pageCounter)\r\n\r\n              //Count actual items                    \r\n              itemsShown += itemPage.items.length\r\n\r\n              if (itemsShown >= totalItemCount) {\r\n                  hasMoreItems = false\r\n              }\r\n\r\n              virtualList.appendItems(itemPage.items)\r\n              pageCounter++\r\n\r\n          } catch (ex) {\r\n              console.log(ex)\r\n          }\r\n\r\n          $f7.preloader.hide()\r\n\r\n          if (!hasMoreItems) {\r\n              unloadInfiniteScroll()\r\n          }\r\n\r\n          loadingInProgress = false\r\n\r\n\r\n        }\r\n\r\n        function getTemplate(rowItemViewModel) {\r\n          \r\n          let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n          let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n          let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n          let title = rowItemViewModel.title\r\n\r\n          return `<li class="flex-card">\r\n                      <a href="${tokenLink}" class="item-link">\r\n                          <div class="card" >\r\n                              <div class="card-content">\r\n                                  <div class="square">\r\n                                      <img src="${imageLink}"/>\r\n                                  </div>\r\n                              </div>\r\n\r\n                              <div class="card-footer">\r\n                                  ${title}\r\n                              </div>\r\n                          </div>\r\n                      </a>\r\n                  </li>\r\n          `\r\n        }\r\n\r\n        const countItems = (itemRows) => {\r\n          //Count actual items\r\n          let itemCount = 0\r\n\r\n          for (let itemRow of itemRows) {\r\n              itemCount += itemRow.items?.length\r\n          }\r\n\r\n          return itemCount\r\n        }\r\n\r\n        const selectPreviews = (amount) => {\r\n\r\n          let selected = 0\r\n\r\n          $(\'.flex-card\').each( (ele) => {\r\n            \r\n            //Remove selected from all\r\n            $(ele).removeClass(\'selected\')\r\n\r\n            if (selected < amount ) {\r\n              $(ele).addClass(\'selected\')\r\n              selected++\r\n              // console.log(ele)\r\n            }\r\n\r\n          })\r\n\r\n        }\r\n\r\n        const link = (href) => {\r\n          return `${baseURI() + href}`\r\n        } \r\n\r\n        document.addEventListener(\'mint-view-model-loaded\', async (e) => {\r\n\r\n          console.log("Loaded...")\r\n          \r\n          mintingViewModel = e?.mintingViewModel\r\n\r\n          if (mintingViewModel) {\r\n\r\n            //Get the total minted \r\n            let totalMinted = e?.mintingViewModel.totalMinted\r\n\r\n            //Get the start page\r\n            let startPage = parseInt(totalMinted / PER_PAGE)\r\n            let lastPage = parseInt(totalItemCount / PER_PAGE)\r\n\r\n            while (items.length < PER_PAGE && pageCounter <= lastPage) {\r\n              \r\n              let itemPage = await itemWebService.itemPage(pageCounter)\r\n\r\n              let unminted = itemPage.items.filter( item => parseInt(item.tokenId) > totalMinted)\r\n\r\n              //Remove any that are below totalMinted\r\n              items.push(...unminted)\r\n\r\n              pageCounter++\r\n\r\n            }\r\n\r\n            createVirtualList()\r\n\r\n            if (items?.length > 0) {\r\n              \r\n              //Count actual items                    \r\n              itemsShown += items.length\r\n\r\n              if (itemsShown >= totalItemCount) {\r\n                  hasMoreItems = false\r\n              }\r\n\r\n              if (!hasMoreItems) {\r\n                unloadInfiniteScroll()\r\n              }\r\n\r\n            }\r\n\r\n\r\n            // swiper = $f7.swiper.create(\'#latest-mints-swiper\', {\r\n            //   pagination: {\r\n            //     el: ".swiper-pagination",\r\n            //     clickable: true,\r\n            //     dynamicBullets: true\r\n            //   },\r\n            //   scrollbar: {\r\n            //     el: \'.swiper-scrollbar\',\r\n            //     dragSize: 50,\r\n            //     draggable: true,\r\n            //     hide: false\r\n            //   },\r\n            //   spaceBetween:0,\r\n            //   slidesPerView:getWidth() >= 1024 ? 5 : 2,\r\n            // })\r\n\r\n            // if (document.getElementById(\'latest-mints-swiper\')) {\r\n            //   document.getElementById(\'latest-mints-swiper\').style.display="block"\r\n            // }\r\n\r\n\r\n            selectPreviews(1)\r\n\r\n\r\n            const stepperMintAmount = $f7.stepper.create({\r\n                el: \'.stepper\',\r\n                min: 1,\r\n                max: 10,\r\n                value: 1\r\n            })\r\n\r\n\r\n            await $update()\r\n\r\n          }\r\n\r\n        })\r\n\r\n        document.addEventListener(\'mint-view-model-refreshed\', async (e) => {\r\n\r\n          mintingViewModel = e?.mintingViewModel\r\n\r\n          for (let latest of mintingViewModel.lastMinted) {\r\n                 \r\n            let removed = false\r\n\r\n            //Loop through virtual list items and get the index to remove\r\n            for (let i=0; i < virtualList.items?.length; i++) {\r\n              \r\n              // console.log(`${latest.item.tokenId} / ${virtualList.items[i].tokenId}`)\r\n\r\n              if (virtualList.items[i].tokenId == latest.item.tokenId) {\r\n                console.log("Deleting item")\r\n                virtualList.deleteItem(i)\r\n                removed = true\r\n                break\r\n              }\r\n\r\n            }\r\n\r\n            //If we didn\'t find this one we\'re not gonna find the next either since it\'s lower. Just break\r\n            if (!removed) break\r\n\r\n          }\r\n\r\n          //Reselect the right quantity\r\n          selectPreviews(e.quantity)\r\n\r\n          await $update()\r\n\r\n          // if (document.getElementById(\'latest-mints-swiper\')) {\r\n          //     document.getElementById(\'latest-mints-swiper\').style.display="block"\r\n          // }\r\n\r\n        })\r\n\r\n        <%~ \r\n          include("_meta_tags_js", {\r\n            title: channelViewModel.channel.title,\r\n            url: \'mint.html\',\r\n            imageUrl: coverImageLink,\r\n            descriptionHTML: `Mint \'${channelViewModel.channel.title}\' NFTs`,\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            excerptHtml: it.baseViewModel.excerptHtml,\r\n            he: it.baseViewModel.he\r\n          }) \r\n        %>\r\n\r\n        document.querySelector(\'title\').innerHTML = "Mint \'<%=channelViewModel.channel.title%>\' NFTs."\r\n\r\n        $f7.preloader.hide()\r\n    \r\n        return $render\r\n\r\n\r\n      }\r\n\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("_init", {\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: routablePages,\r\n        base64Version: base64Version,\r\n        channelId: channelId\r\n      }) \r\n    %>\r\n\r\n\r\n  </body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/mint.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }   \r\n\r\n\r\n    const absoluteLink = (href) => {\r\n      return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n      html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n      }\r\n    </style>\r\n\r\n    \x3c!-- Required meta tags--\x3e\r\n    <meta charset="utf-8">\r\n    <meta name="viewport"\r\n    content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=1, user-scalable=yes, minimal-ui, viewport-fit=cover">\r\n    <meta name="apple-mobile-web-app-capable" content="yes">\r\n    \x3c!-- Color theme for statusbar --\x3e\r\n    <title>\r\n      <%= it.title %>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: channelViewModel.channel.title,\r\n        url: \'search.html\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Search \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n\r\n    \r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        <div class="page" data-name="mint">\r\n\r\n          <nav-bar\r\n              logo="${logo}"\r\n              library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n              large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n              title="Search"\r\n              show_mint_page="<%=showMintPage%>"\r\n              show_activity_page="<%=showActivityPage%>"\r\n              breadcrumbs="${breadcrumbs}"\r\n              base_uri="${baseURI}"\r\n              hostname="${hostname}"\r\n          >\r\n          </nav-bar>\r\n\r\n          <div class="page-content">\r\n\r\n            <div class="row">\r\n\r\n              <div class="col-100 large-66 center">\r\n\r\n                <search-list></search-list>\r\n\r\n              </div>\r\n\r\n              <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {   \r\n\r\n        let channelWebService = globalThis.container.get("ChannelWebService")\r\n        let baseURI = globalThis.container.get("baseURI")\r\n        let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n\r\n        let itemWebService = globalThis.container.get("ItemWebService")\r\n\r\n        let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n        let searching = false\r\n\r\n        let results = []\r\n\r\n        let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: "index.html"\r\n            }, {\r\n                text: "Search"\r\n        }]\r\n\r\n        $on(\'pageInit\', async () => {\r\n\r\n\r\n          await channelWebService.loadChannel(\r\n              "<%= channelViewModel.channel._id %>",\r\n              \'<%= baseURL %>\',\r\n              \'<%= hostname %>\'\r\n          )\r\n\r\n          await $update()\r\n\r\n\r\n          // const params = new Proxy(new URLSearchParams(window.location.search), {\r\n          //   get: (searchParams, prop) => searchParams.get(prop),\r\n          // })\r\n\r\n          // $f7.preloader.showIn(\'.cards-list\')\r\n          \r\n          // searching = true\r\n          // $update()\r\n\r\n          // results = await itemWebService.query(params.query)\r\n\r\n          // searching = false\r\n          // $update()\r\n\r\n          // $f7.preloader.hideIn(\'.cards-list\')\r\n\r\n        })\r\n\r\n        $on(\'pageBeforeOut\', async () => {\r\n        })\r\n\r\n        const searchbarSubmit = (e) => {\r\n          e.preventDefault()\r\n        }\r\n\r\n\r\n        <%~ \r\n          include("_meta_tags_js", {\r\n            title: channelViewModel.channel.title,\r\n            url: \'search.html\',\r\n            imageUrl: coverImageLink,\r\n            descriptionHTML: `Search \'${channelViewModel.channel.title}\' NFTs`,\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            excerptHtml: it.baseViewModel.excerptHtml,\r\n            he: it.baseViewModel.he\r\n          }) \r\n        %>\r\n\r\n        document.querySelector(\'title\').innerHTML = "Search \'<%=channelViewModel.channel.title%>\' NFTs."\r\n\r\n        $f7.preloader.hide()\r\n    \r\n\r\n        return $render\r\n\r\n\r\n      }\r\n\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("_init", {\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: routablePages,\r\n        base64Version: base64Version,\r\n        channelId: channelId\r\n      }) \r\n    %>\r\n\r\n  </body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/search.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    let traitTypes = Array.from(new Set(attributeReport?.map( at => at.traitType)))\r\n\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }   \r\n\r\n\r\n\r\n\r\n    const absoluteLink = (href) => {\r\n      return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    \r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n      html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n      }\r\n    </style>\r\n\r\n    <title>\r\n      <%= it.title %> Attribute Report\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n        url: \'attributes.html\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n\r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        \x3c!--pageContent--\x3e\r\n        <div class="page" data-name="home">\r\n\r\n          <nav-bar\r\n              logo="${logo}"\r\n              library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n              large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n              title="Attributes"\r\n              show_mint_page="<%=showMintPage%>"\r\n              show_activity_page="<%=showActivityPage%>"\r\n              breadcrumbs="${breadcrumbs}"\r\n          >\r\n          </nav-bar>\r\n\r\n\r\n          <div class="page-content">\r\n\r\n            <div class="fixed-width-content center">\r\n\r\n              <div class="hidden-on-load">\r\n\r\n                <div class="block-title block-title-medium large-only">Attributes</div>\r\n                <div class="card scarcity-report-card data-table margin-top">\r\n  \r\n                  <div class="card-content">\r\n\r\n                      <table class="attributes-table">\r\n\r\n                        <% for (let traitType of traitTypes) { \r\n                          let attributeTotals = attributeReport.filter( at => at.traitType == traitType)\r\n                        %>      \r\n                          <thead>\r\n                            <tr>\r\n                              <th class="label-cell"><%= traitType %></th>\r\n                              <th class="numeric-cell">Count</th>\r\n                              <th class="numeric-cell">Percent</th>\r\n                              <th class="numeric-cell">Sales</th>\r\n                              <th>Total Sales</th>\r\n                              <th>Average</th>\r\n                            </tr>\r\n                          </thead>\r\n  \r\n                          <tbody>\r\n  \r\n                          <%\r\n                          for (let at of attributeTotals) {    \r\n                          %>      \r\n                            <tr>\r\n                              <td class="label-cell"><a href="<%= baseURL %>attribute/?attributeKey=<%= encodeURIComponent(`${traitType}::::${at.value}`) %>"><%= at.value %></a></td> \r\n                              <td class="numeric-cell"><%= at.count %></td>\r\n                              <td class="numeric-cell"><%= at.categoryPercent %></td>\r\n                              <td class="numeric-cell">${attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.events  || 0}</td>\r\n                              <td>\r\n\r\n                                <span class="eth-value">${attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.ethValue.toFixed(3) || 0} ETH</span>\r\n                                <br />\r\n                                <span class="dollar-value">${transactionWebService.abbreviateDollars(attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.usdValue, 2)}</span>\r\n\r\n                              </td>\r\n                              <td>\r\n\r\n\r\n                                <span class="eth-value">${attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.averageEthValue.toFixed(3) || 0} ETH</span>\r\n                                <br />\r\n                                <span class="dollar-value">${transactionWebService.abbreviateDollars(attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.averageUsdValue, 2)}</span>\r\n\r\n                              </td>\r\n                            </tr>\r\n                          <% \r\n                          }\r\n                          %>\r\n  \r\n                          </tbody>\r\n                        \r\n  \r\n                        <%\r\n                          } \r\n                        %>\r\n                      </table>\r\n  \r\n                  </div>\r\n                </div>\r\n  \r\n            \r\n                <div class="block">\r\n                  <br />\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="hide-on-pageinit">\r\n\r\n                  <div class="card skeleton-text">\r\n                      <div class="card-header">Attributes</div>\r\n                      <div class="card-content card-content-padding data-table">\r\n                          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                          lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                      </div>\r\n\r\n                  </div>\r\n\r\n              </div>\r\n\r\n              <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n        \x3c!--/pageContent--\x3e\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let loading\r\n            let attributesOverall\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Attributes"\r\n            }]\r\n\r\n            const loadOverallSales = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    attributesOverall = await transactionWebService.getAttributesOverall()\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n                    lastUpdated = latest.lastUpdated\r\n    \r\n                } catch(ex) { \r\n                    console.log(ex) \r\n                }\r\n                \r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n              await channelWebService.loadChannel(\r\n                      "<%= channelViewModel.channel._id %>",\r\n                      \'<%= baseURL %>\',\r\n                      \'<%= hostname %>\'\r\n              )\r\n\r\n              await $update()\r\n\r\n              $(\'.infinite-scroll-preloader\').show()\r\n\r\n              await loadOverallSales()\r\n\r\n              $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n              $(\'.hide-on-pageinit\').hide()\r\n\r\n              await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n              await channelWebService.loadChannel(\r\n                      "<%= channelViewModel.channel._id %>",\r\n                      \'<%= baseURL %>\',\r\n                      \'<%= hostname %>\'\r\n              )\r\n\r\n              await $update()\r\n\r\n              await loadOverallSales()\r\n\r\n              $(\'.hide-on-pageinit\').hide()\r\n\r\n              await $update()\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                  title: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n                  url: \'attributes.html\',\r\n                  imageUrl: coverImageLink,\r\n                  descriptionHTML: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n                  hostname: hostname,\r\n                  baseURL: baseURL,\r\n                  excerptHtml: it.baseViewModel.excerptHtml,\r\n                  he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n          \r\n\r\n            document.querySelector(\'title\').innerHTML = "<%=channelViewModel.channel.title%> Attribute Report"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render;\r\n\r\n          \r\n\r\n      }\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("_init", {\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: routablePages,\r\n        base64Version: base64Version,\r\n        channelId: channelId\r\n      }) \r\n    %>\r\n\r\n  </body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/attributes/index.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        Attribute Report for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n        url: \'attribute\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="attribute">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Attribute Report"\r\n                    active="Attribute Report"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="attribute-tokens-infinite-scroll">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n\r\n                            <div class="hidden-on-load">\r\n\r\n                                <div class="block-title block-title-large">${traitType} / ${value}</div>\r\n                            \r\n                                ${totalTokens > 0 ? $h`\r\n                                    \r\n                                    <div class="block block-strong inset stats">\r\n                            \r\n    \r\n                                        <div class="stats-row margin-bottom">\r\n    \r\n                                            <div>\r\n                                                Number of Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(salesReport?.totals?.events ? salesReport?.totals?.events : 0)}</strong>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Average Sale\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(salesReport?.totals?.averageEthValue ? salesReport?.totals?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(salesReport?.totals?.averageUsdValue ? salesReport?.totals?.averageUsdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Total Value of All Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(salesReport?.totals?.ethValue ? salesReport?.totals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(salesReport?.totals?.usdValue ? salesReport?.totals?.usdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    \r\n                                    </div>\r\n    \r\n                                    ${largestSales && largestSales?.sales?.length > 0 ? $h`\r\n    \r\n                                        <div class="block-title block-title-medium">Largest Sales</div>\r\n                                        <largest-sales largest_sales="${largestSales}"></largest-sales>\r\n                                        \r\n                                    ` : $h` `}\r\n    \r\n                                    <div class="card data-table">\r\n                                        <div class="card-header">\r\n                                            Leaderboard <span class="last-updated">Last updated: ${dayjs(lastUpdated).fromNow()}</span>\r\n    \r\n                                        </div>\r\n                                        <div class="card-content">\r\n                  \r\n                                            <table class="leaderboard-table">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>Rank</th>\r\n                                                        <th class="label-cell">Address</th>\r\n                                                        <th>Last Active</th>\r\n                                                        <th class="numeric-cell">Owned</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                        \r\n                                                <tbody>\r\n                                        \r\n                                                ${owners?.map(u => $h`\r\n                                                    <tr>\r\n                                                        <th>${u.rank}</th>\r\n                                                        <td class="label-cell">\r\n        \r\n                                                            ${u.ensName ? $h`\r\n                                                                <a href="<%= baseURL %>u/?address=${u._id}">${u.ensName}</a>\r\n                                                            ` : $h`\r\n                                                                <a href="<%= baseURL %>u/?address=${u._id}">${u._id ? walletService.truncateEthAddress(u._id) : \' \'}</a>\r\n                                                            `} \r\n        \r\n                                                        </td>\r\n                                            \r\n                                                        <td>\r\n                                                            ${u.lastActive ? dayjs(u.lastActive).fromNow() : ""}\r\n                                                        </td>\r\n                                            \r\n                                                        <td class="numeric-cell">\r\n                                                            ${u.count}\r\n                                                        </td>\r\n                                            \r\n                                                    </tr>\r\n                                                \r\n                                                `)}\r\n                                                </tbody>\r\n                                    \r\n                                            </table>\r\n    \r\n    \r\n                                        </div>\r\n                                    </div>\r\n    \r\n                                    <div class="block-title block-title-medium">Minted Tokens (${totalTokens})</div>\r\n                                    <div class="block list cards-list virtual-list" id="attribute-tokens-list">\r\n                                        <ul class="item-flex"></ul>\r\n                                    </div>\r\n                                  \r\n                                    <div class="preloader infinite-scroll-preloader"></div>\r\n\r\n\r\n                                ` : $h`\r\n                                    <div class="block block-strong inset">\r\n                                        No tokens minted yet.\r\n                                    </div>\r\n                                `}\r\n\r\n                            \r\n                            </div>\r\n\r\n                            <div class="hide-on-pageinit">\r\n\r\n                                <div class="card skeleton-text">\r\n                                    <div class="card-header">User Info</div>\r\n                                    <div class="card-content card-content-padding data-table">\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                    </div>\r\n\r\n                                  </div>\r\n\r\n                            </div>\r\n\r\n                            <br /><br />\r\n\r\n                            <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n            \r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n            let processedTransactionService = globalThis.container.get("ProcessedTransactionService")\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n\r\n            let traitType\r\n            let value \r\n\r\n            let salesReport\r\n            let largestSales\r\n            let owners\r\n\r\n\r\n\r\n            let virtualList\r\n\r\n            let page = 1\r\n\r\n            let hasMoreItems = true\r\n            let loadingInProgress = false\r\n            let firstPageItems\r\n\r\n            let totalTokens\r\n            let attributeParams = {}\r\n\r\n\r\n            let lastUpdated\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Attributes",\r\n                path: `${baseURI()}attributes`\r\n            }]\r\n\r\n\r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n            const loadSalesReport = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    let keyValue = attributeKey.split("::::")\r\n                    traitType = keyValue[0]\r\n                    value = keyValue[1]\r\n\r\n                    salesReport = await transactionWebService.getAttributeSalesReport(traitType, value)\r\n\r\n                    largestSales = {\r\n                        sales: salesReport?.largestSales,\r\n                        rowItemViewModels: salesReport.rowItemViewModels\r\n                    }\r\n\r\n\r\n\r\n                    owners = salesReport?.owners\r\n\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n                    lastUpdated = latest.lastUpdated\r\n\r\n\r\n                    attributeParams[traitType] = value\r\n\r\n                    breadcrumbs.push({\r\n                        text: `${traitType} / ${value}`\r\n                    })\r\n\r\n                    let result = await itemWebService.attributeItemPage(traitType, value, page)\r\n\r\n                    firstPageItems = result.items\r\n                    totalTokens = result.totalMatches\r\n\r\n                    await $update()\r\n\r\n                    createVirtualList()\r\n\r\n\r\n                } catch(ex) { \r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                    console.log(ex) \r\n                }\r\n                \r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n            const createVirtualList = () => {\r\n\r\n                virtualList = $f7.virtualList.create({\r\n                    el: \'#attribute-tokens-list\',\r\n                    createUl: false,\r\n                    renderItem(item) {\r\n                        return getTemplate(item)\r\n                    },\r\n                    height: 287,\r\n                    items: firstPageItems,                    \r\n                    cols: getWidth() >= 1024 ? 5 : 2,\r\n                    emptyTemplate: `\r\n                        <li class="item-content">\r\n                            <div class="item-inner">\r\n                                No results found.\r\n                            </div>\r\n                        </li>\r\n                        `\r\n                })\r\n\r\n                if (virtualList.items?.length < totalTokens) {\r\n                    hasMoreItems = true\r\n                    document.getElementById("attribute-tokens-infinite-scroll").addEventListener( \'infinite\', infiniteScroll )\r\n                } else {\r\n                    hasMoreItems = false\r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                }\r\n\r\n            }\r\n\r\n            const resizeListener = (e) => {\r\n\r\n                const viewPortWidth = getWidth()\r\n\r\n                if (virtualList) {\r\n                    virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n                    virtualList?.update()\r\n                }\r\n\r\n                console.log("Resized...")\r\n\r\n            }\r\n\r\n            const getWidth = () => {\r\n                return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            }\r\n\r\n            const getTemplate = (rowItemViewModel) => {\r\n\r\n                let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n                let title = rowItemViewModel.title\r\n\r\n                return `<li class="flex-card">\r\n                        <a href="${tokenLink}" class="item-link">\r\n                            <div class="card" >\r\n                                <div class="card-content">\r\n                                    <div class="square">\r\n                                        <img src="${imageLink}"/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="card-footer">\r\n                                    ${title}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                    </li>\r\n            `\r\n            \r\n            }\r\n\r\n            async function infiniteScroll(e) {\r\n\r\n                // Exit, if loading in progress\r\n                if (loadingInProgress || !hasMoreItems) return\r\n\r\n                console.log(`Infinite scrolling...`)\r\n\r\n                // Set loading flag\r\n                loadingInProgress = true\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n\r\n                try {\r\n                    \r\n                    page++\r\n\r\n                    let result = await itemWebService.attributeItemPage(traitType, value, page)\r\n\r\n                    // firstPageItems = result.items\r\n\r\n                    // let result = await itemWebService.exploreList(attributeParams, virtualList.items?.length, PER_PAGE)\r\n\r\n\r\n                    let items = result.items\r\n\r\n                    virtualList.appendItems(items)\r\n\r\n                    if (virtualList.items?.length >= totalTokens) {\r\n                        hasMoreItems = false\r\n                    }\r\n\r\n                } catch (ex) {\r\n                    hasMoreItems = false\r\n                    console.log(ex)\r\n                }\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n\r\n                loadingInProgress = false\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                window.addEventListener(\'resize\', resizeListener)\r\n\r\n\r\n                attributeKey = $f7.views.main.router.currentRoute?.query?.attributeKey\r\n\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n                await loadSalesReport()\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n                \r\n                address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                await loadSalesReport()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'attribute\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `Attribute Report for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "Attribute Report <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/attribute/index.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        Explore <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Explore \'${channelViewModel.channel.title}\' NFTs`,\r\n        url: \'explore.html\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: channelViewModel.channel.descriptionHTML,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="explore">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Explore"\r\n                    active="Explore"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="explore-infinite-scroll">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n \r\n                            <div class="block">\r\n                                <attribute-filter \r\n                                    baseurl="<%= baseURL %>"\r\n                                >\r\n                                </attribute-filter>\r\n                            </div>\r\n\r\n                            <explore-total-info \r\n                                baseurl="<%= baseURL %>"\r\n                            >\r\n                            </explore-total-info>\r\n\r\n                            <div class="list cards-list virtual-list" id="explore-list">\r\n                                <ul class="item-flex"></ul>\r\n                            </div>\r\n                          \r\n                            <div class="preloader infinite-scroll-preloader"></div>\r\n  \r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let componentStateService = globalThis.container.get("ComponentStateService")\r\n\r\n            const ComponentState = globalThis.ComponentState\r\n\r\n            let totalItemCount = parseInt(\'<%= channelViewModel.itemCount %>\')\r\n\r\n            let firstPageExploreItems = JSON.parse(\'<%~ JSON.stringify(it.firstPageExploreItems) %>\')\r\n\r\n            const PER_PAGE = firstPageExploreItems.length //35\r\n            const COMPONENT_NAME = "explore"\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Explore"\r\n            }]\r\n\r\n            let state\r\n\r\n            let attributeOptions\r\n\r\n\r\n\r\n            let virtualList\r\n\r\n\r\n            const resizeListener = (e) => {\r\n                const viewPortWidth = getWidth()\r\n\r\n                if (virtualList) {\r\n                    virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n                    virtualList?.update()\r\n                }\r\n\r\n\r\n                console.log("Resized...")\r\n\r\n            }\r\n\r\n            const getWidth = () => {\r\n                return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            }\r\n\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                    "<%= channelViewModel.channel._id %>",\r\n                    \'<%= baseURL %>\',\r\n                    \'<%= hostname %>\'\r\n                )\r\n\r\n                await channelWebService.loadChannelData("<%= channelViewModel.channel._id %>")\r\n\r\n                await $update()\r\n\r\n\r\n                window.addEventListener(\'resize\', resizeListener)\r\n\r\n                //Check for existing component state\r\n                try {\r\n                    state = await componentStateService.get(COMPONENT_NAME)\r\n                } catch(ex) {}\r\n\r\n                //Initialize state\r\n                if (!state) {\r\n\r\n                    state = Object.assign(new ComponentState(), {\r\n                        _id: COMPONENT_NAME,\r\n                        data: {\r\n                            hasMoreItems: firstPageExploreItems.length < totalItemCount,\r\n                            loadingInProgress: false,\r\n                            itemResults: {\r\n                                items: firstPageExploreItems,\r\n                                totalMatches: totalItemCount,\r\n                                limit: PER_PAGE,\r\n                                skip: 0\r\n                            },\r\n                            virtualListItems: firstPageExploreItems,\r\n                            attributeParams: undefined,\r\n                        }\r\n                    })\r\n\r\n                }\r\n\r\n                attributeOptions = await itemWebService.getExploreAttributeOptions(state.data.attributeParams ? state.data.attributeParams : {})\r\n\r\n                await initMain()\r\n\r\n                //Save new state\r\n                try {\r\n                    await componentStateService.put(state)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n\r\n                //Dispatch event so we can update attributes\r\n                let e = new CustomEvent(\'attribute-options-loaded\')\r\n                e.attributeOptions = attributeOptions\r\n                e.attributeParams = state.data.attributeParams\r\n                document.dispatchEvent(e)\r\n\r\n\r\n                let e2 = new CustomEvent(\'explore-total-info-changed\')\r\n                e2.totalItems = totalItemCount\r\n                e2.totalMatches = state.data.itemResults.totalMatches\r\n                document.dispatchEvent(e2)\r\n            })\r\n\r\n\r\n            const initMain = async () => {\r\n\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n                virtualList = $f7.virtualList.create({\r\n                    el: \'#explore-list\',\r\n                    createUl: false,\r\n                    renderItem(item) {\r\n                        return getTemplate(item)\r\n                    },\r\n                    height: 287,\r\n                    items: state.data?.virtualListItems,                    \r\n                    cols: getWidth() >= 1024 ? 5 : 2,\r\n                    emptyTemplate: `\r\n                        <li class="item-content">\r\n                            <div class="item-inner">\r\n                                No results found.\r\n                            </div>\r\n                        </li>\r\n                        `\r\n                })\r\n\r\n                // $f7.infiniteScroll.create(\'#explore-infinite-scroll\')\r\n\r\n                if (virtualList.items?.length < state.data.itemResults.totalMatches) {\r\n\r\n                    state.data.hasMoreItems = true\r\n                    $(\'#explore-infinite-scroll\').on( \'infinite\', infiniteScroll )\r\n\r\n                } else {\r\n\r\n                    state.data.hasMoreItems = false\r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n\r\n                }\r\n\r\n\r\n\r\n                await $update()\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n            }\r\n\r\n\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n\r\n                window.removeEventListener(\'resize\', resizeListener)\r\n                \r\n            })\r\n\r\n\r\n\r\n            async function infiniteScroll(e) {\r\n\r\n                // Exit, if loading in progress\r\n                if (state.data.loadingInProgress || !state.data.hasMoreItems) return\r\n\r\n                console.log(`Infinite scrolling...`)\r\n\r\n                // Set loading flag\r\n                state.data.loadingInProgress = true\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n\r\n                try {\r\n                    \r\n                    state.data.itemResults = await itemWebService.exploreList(state.data.attributeParams, state.data.virtualListItems?.length, PER_PAGE)\r\n\r\n                    virtualList.appendItems(state.data.itemResults.items)\r\n\r\n                    //Save a reference in the state\r\n                    state.data.virtualListItems = virtualList.items\r\n\r\n                    if (state.data.virtualListItems?.length >= state.data.itemResults.totalMatches) {\r\n                        state.data.hasMoreItems = false\r\n                    }\r\n\r\n\r\n                } catch (ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n\r\n                state.data.loadingInProgress = false\r\n                \r\n                //Save new state\r\n                try {\r\n                    await componentStateService.put(state)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n            }\r\n\r\n            function getTemplate(rowItemViewModel) {\r\n                \r\n                let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n                let title = rowItemViewModel.title\r\n\r\n                return `<li class="flex-card">\r\n                            <a href="${tokenLink}" class="item-link">\r\n                                <div class="card" >\r\n                                    <div class="card-content">\r\n                                        <div class="square">\r\n                                            <img src="${imageLink}"/>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class="card-footer">\r\n                                        ${title}\r\n                                    </div>\r\n                                </div>\r\n                            </a>\r\n                        </li>\r\n                `\r\n            }\r\n\r\n            const link = (href) => {\r\n                return `${baseURI() + href}`\r\n            } \r\n\r\n \r\n            document.addEventListener(\'explore-attribute-filter-changed\', async (e) => {\r\n\r\n                //Reset\r\n                state.data.hasMoreItems = true\r\n                state.data.loadingInProgress = false\r\n                state.data.itemResults = undefined\r\n                state.data.attributeParams = e.attributeParams\r\n                state.data.virtualListItems = undefined\r\n\r\n                //Kill existing list\r\n                virtualList.destroy()\r\n\r\n                //Get first page with \r\n                $f7.preloader.show()\r\n\r\n                state.data.itemResults = await itemWebService.exploreList(state.data.attributeParams, 0, PER_PAGE)\r\n                state.data.virtualListItems = state.data.itemResults.items\r\n\r\n                //Reset options/counts\r\n                attributeOptions = await itemWebService.getExploreAttributeOptions(state.data.attributeParams)\r\n\r\n\r\n                //Dispatch event so we can update the explore info\r\n                let e2 = new CustomEvent(\'explore-total-info-changed\')\r\n                e2.totalItems = totalItemCount\r\n                e2.totalMatches = state.data.itemResults.totalMatches\r\n                document.dispatchEvent(e2)\r\n\r\n                //Dispatch event so we can update attribute counts\r\n                let e3 = new CustomEvent(\'attribute-options-loaded\')\r\n                e3.attributeOptions = attributeOptions\r\n                e3.attributeParams = state.data.attributeParams\r\n                document.dispatchEvent(e3)\r\n\r\n                //Add to items\r\n                await initMain()\r\n\r\n                \r\n                //Save new state\r\n                try {\r\n                    await componentStateService.put(state)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `Explore \'${channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'explore.html\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: channelViewModel.channel.descriptionHTML,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "Explore <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,firstPageExploreItems:r.firstPageExploreItems,baseViewModel:i},`${e.publicPath}/explore.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        Activity for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Activity for \'${channelViewModel.channel.title}\' NFTs`,\r\n        url: \'activity\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Activity for \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="explore">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Activity"\r\n                    active="Activity"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="explore-infinite-scroll">\r\n\r\n                    <div class="fixed-width-content center">\r\n            \r\n                        <div class="hidden-on-load">\r\n\r\n\r\n                            ${transactionsViewModel?.transactions?.length > 0 ? $h`\r\n\r\n                                <transaction-row transactions="${transactionsViewModel}" items="${transactionsViewModel.rowItemViewModels}">\r\n                                    <div class="card-header">\r\n                                        Activity\r\n                                        <div class="last-updated">Last updated: ${dayjs(transactionsViewModel.lastUpdated).fromNow()}</div>\r\n                                    </div>\r\n                                </transaction-row>\r\n\r\n\r\n\r\n                                <div class="block split-row-both">\r\n                                    <div>\r\n                                        ${previousPage ? $h`\r\n                                        <a href="${baseURI()}activity/?page=${previousPage}" class="button button-outline color-gray">Previous</a>\r\n                                        ` : $h` `}\r\n                                    </div>\r\n                                    <div>\r\n                                        ${nextPage ? $h`\r\n                                        <a href="${baseURI()}activity/?page=${nextPage}" class="button button-fill">Next</a>\r\n                                        ` : $h` `}\r\n                                    </div>\r\n                            \r\n                                </div>\r\n\r\n                        \r\n                            ` : $h`\r\n                            \r\n                              <div class="block">\r\n                                No more transactions\r\n                              </div>\r\n                            \r\n                            `}\r\n          \r\n                        </div>\r\n\r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">Activity</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                              </div>\r\n\r\n                        </div>\r\n\r\n                        <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let display = 25\r\n\r\n            let page = 1\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Activity",\r\n                path: `${baseURI()}activity`\r\n            }]\r\n\r\n            let nextPage\r\n            let previousPage\r\n\r\n            let transactionsViewModel \r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n\r\n            const loadActivity = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    nextPage = undefined\r\n                    previousPage = undefined\r\n\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.page) {\r\n                        page = $f7.views.main.router.currentRoute?.query?.page\r\n\r\n                        if (page) {\r\n                            page = parseInt(page)\r\n                        } \r\n                    }\r\n\r\n                    if (!page) {\r\n                        page = 1\r\n                    }\r\n\r\n\r\n                    breadcrumbs.push({\r\n                        text: `Page ${page}`\r\n                    })\r\n\r\n                    if (page > 1) {\r\n                        previousPage = page - 1\r\n                    } \r\n\r\n                    if (page <= 10) {\r\n                        nextPage = page + 1\r\n                    } else {\r\n                        nextPage = undefined //don\'t go past page 10\r\n                    }\r\n\r\n\r\n\r\n                    try {\r\n                        transactionsViewModel = await transactionWebService.list(page)\r\n\r\n                        // if (transactionsViewModel.transactions?.length < display) {\r\n                        //     previousPage = undefined\r\n                        // }\r\n\r\n                    } catch(ex) {   }\r\n                    \r\n\r\n                } catch(ex) { console.log(ex) }\r\n\r\n               \r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadActivity()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `Activity for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'activity\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `Activity for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "Activity <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/activity/index.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        excerpt = it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n    <title>\r\n        Leaderboard for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Leaderboard for \'${channelViewModel.channel.title}\' NFTs`,\r\n        url: \'leaderboard\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Leaderboard for \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="leaderboard">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Leaderboard"\r\n                    active="Leaderboard"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="explore-infinite-scroll">\r\n\r\n                    <div class="fixed-width-content center">\r\n                            \r\n                        <div class="hidden-on-load">\r\n                        \r\n\r\n                            <div class="card data-table">\r\n                                <div class="card-header">\r\n                                    Leaderboard\r\n                                    <div class="last-updated">Last updated: ${dayjs(lastUpdated).fromNow()}</div>\r\n                                </div>\r\n                                <div class="card-content card-content-padding">\r\n\r\n                                    ${tokenOwners?.length > 0 ? $h`\r\n                                        \r\n                                        <table class="leaderboard-table">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th class="label-cell">Rank</th>\r\n                                                    <th class="address-cell">Address</th>\r\n                                                    <th class="numeric-cell">Owned</th>\r\n                                                    <th class="numeric-cell">Buys</th>\r\n                                                    <th class="numeric-cell">Sales</th>\r\n                                                    <th class="text-cell">Last Active</th>\r\n\r\n                                                </tr>\r\n                                            </thead>\r\n                                    \r\n                                            <leaderboard-rows token_owners="${tokenOwners}"></leaderboard-rows>\r\n\r\n                                \r\n                                        </table>\r\n                                \r\n                                        \r\n                                    ` : $h`<span  />`}\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                            <div class="block split-row-both">\r\n                                <div>\r\n                                    ${showPrevious ? $h`\r\n                                        <a href="<%= baseURL %>leaderboard/?pageNumber=${pageNumber - 1}" class="button button-outline color-gray">Previous</a>\r\n                                        ` : $h` `}\r\n                                </div>\r\n                                <div>\r\n                                    ${showNext ? $h`\r\n                                        <a href="<%= baseURL %>leaderboard/?pageNumber=${pageNumber + 1}" class="button button-fill">Next</a>\r\n                                        ` : $h` `}\r\n                                </div>\r\n                        \r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">Leaderboard</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <%~ include("footer", {baseURL: baseURL}) %>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let tokenOwnerPageService = globalThis.container.get("TokenOwnerPageService")\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Leaderboard",\r\n                path: `${baseURI()}leaderboard`\r\n            }]\r\n\r\n\r\n            let tokenOwners\r\n            let pageNumber = 0\r\n            let totals = {}\r\n            let lastUpdated\r\n\r\n            let showNext\r\n            let showPrevious\r\n\r\n            const loadLeaderboard = async () => {\r\n            \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.pageNumber) {\r\n                        pageNumber = parseInt($f7.views.main.router.currentRoute?.query?.pageNumber)\r\n                    }\r\n\r\n                    breadcrumbs.push({\r\n                        text: `Page ${pageNumber + 1}`\r\n                    })\r\n\r\n                    totals = await tokenOwnerPageService.getTotals()\r\n                    let page = await tokenOwnerPageService.get(pageNumber)\r\n\r\n                    tokenOwners = page.tokenOwners\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n\r\n                    lastUpdated = latest.lastUpdated\r\n\r\n                    showNext = pageNumber < totals.totalPages - 1 \r\n                    showPrevious = pageNumber > 0\r\n\r\n                } catch(ex) { console.log(ex) }\r\n                \r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadLeaderboard()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `Leaderboard for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'leaderboard\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `Leaderboard for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "Leaderboard <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/leaderboard/index.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        excerpt = it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        Largest Sales for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Largest Sales for \'${channelViewModel.channel.title}\' NFTs`,\r\n        url: \'largest-sales\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Largest Sales for \'${channelViewModel.channel.title}\' NFTs`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="largest-sales">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Largest Sales"\r\n                    active="Largest Sales"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n                            \r\n                            <div class="hidden-on-load">\r\n\r\n                                ${largestSales?.sales?.length > 0 ? $h`\r\n                                    <div class="block-title block-title-medium">Largest Sales</div>\r\n                                    <div class="block block-strong inset largest-sales">\r\n                                      \r\n                                        ${largestSales?.sales?.map( (sale, index) => $h`\r\n                                            <div class="margin-bottom">\r\n                    \r\n                                              <div class="rank">#${index+1}</div>\r\n                    \r\n                                              <div class="square">\r\n                                                <a href="${link(`t/${sale.tokenId}`)}" class="item-link">\r\n                                                  <img src="${link(`backup/export/images/${largestSales.rowItemViewModels[sale.tokenId].coverImageId}.${largestSales.rowItemViewModels[sale.tokenId].coverImageGenerated ? \'svg\' : \'jpg\'}`)}" alt="${sale.tokenId}" height="125" width="125"/>\r\n                                                </a>\r\n                                              </div>\r\n                    \r\n                                              <div class="sale-info margin-top">\r\n                                                <a href="${link(`t/${sale.tokenId}`)}" class="item-link">${largestSales.rowItemViewModels[sale.tokenId].title}</a><br />\r\n                                                ${new Intl.NumberFormat(\'en-US\').format(sale.ethValue)} ETH (${transactionWebService.abbreviateDollars(sale.usdValue, 2)})\r\n                                                <div class="date">${dayjs(sale.date).format(\'LL\')}</div>\r\n                    \r\n                    \r\n                                              </div>\r\n                    \r\n                                            </div>\r\n                                          `)}\r\n                  \r\n                                    </div>\r\n                                ` : $h` `}\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class="hide-on-pageinit">\r\n\r\n                                <div class="card skeleton-text">\r\n                                    <div class="card-header">Leaderboard</div>\r\n                                    <div class="card-content card-content-padding data-table">\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Largest Sales",\r\n                path: `${baseURI()}sales`\r\n            }]\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n\r\n            let largestSales\r\n\r\n            let lastUpdated\r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n\r\n            const loadLargestSales = async () => {\r\n            \r\n                loading = true\r\n\r\n                try  {\r\n                    largestSales = await transactionWebService.getLargestSales(100)\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n\r\n                    lastUpdated = latest.lastUpdated\r\n\r\n                } catch(ex) { console.log(ex) }\r\n                \r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadLargestSales()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `Largest Sales for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'largest-sales\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `Largest Sales for \'${channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "Largest Sales <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/sales/index.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        return it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        \r\n        //return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        User Activity for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `User Profile for ${channelViewModel.channel.title}`,\r\n        url: \'u\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `User Profile for ${channelViewModel.channel.title}`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="user-activity">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="User"\r\n                    active="User"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="user-tokens-infinite-scroll">\r\n\r\n                    <div class="fixed-width-content center">\r\n\r\n                        <div class="hidden-on-load">\r\n\r\n                            <div class="block-title block-title-large">Account Details</div>\r\n                            <div class="block-header">${address}</div>\r\n                        \r\n                            <div class="block">\r\n                        \r\n                                <div class="user-info">\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Etherscan</div>\r\n                                        <div >\r\n                                            <a href="https://etherscan.io/address/${address}" class="item-link external">${address ? walletService.truncateEthAddress(address) : \' \'}</a>\r\n                                        </div>\r\n                                    </div>\r\n                            \r\n                                    ${tokenOwner?.ensName ? $h`\r\n                                        <div class="row">\r\n                                            <div>ENS Name</div>\r\n                                            <div>${tokenOwner?.ensName}</div>\r\n                                        </div>  \r\n                                    ` : $h` `}\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Tokens Owned</div>\r\n                                        <div><strong>${tokenOwner?.count ? tokenOwner.count : 0}</strong></div>\r\n                                    </div>\r\n\r\n                                    <div class="row">\r\n                                        <div>Transactions</div>\r\n                                        <div><strong>${tokenOwner?.transactionCount}</strong></div>\r\n                                    </div>\r\n\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Rank</div>\r\n                                        <div><strong>#${tokenOwner?.rank}</strong> (#${tokenOwner?.overallRank} overall)</div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            \r\n                            </div>\r\n\r\n\r\n                            ${tokenOwner ? $h`\r\n                            \r\n                                <% if(channelViewModel.channel?.contractAddress) { %>\r\n\r\n                                    <div class="block-title block-title-medium">Sales</div>\r\n                                    <div class="block block-strong inset stats">\r\n                            \r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Number of Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.sales?.events ? tokenOwner.salesReport?.sales?.events : 0)}</strong>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Average Sale\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.sales?.averageEthValue ? tokenOwner.salesReport?.sales?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.sales?.averageUsdValue ? tokenOwner.salesReport?.sales?.averageUsdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Total Value of All Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.sales?.ethValue ? tokenOwner.salesReport?.sales?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.sales?.usdValue ? tokenOwner.salesReport?.sales?.usdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>                                     \r\n                                    \r\n                                    </div>\r\n\r\n\r\n                                    <div class="block-title block-title-medium">Buys</div>\r\n                                    <div class="block block-strong inset stats">\r\n                            \r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Number of Buys\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.buys?.events ? tokenOwner.salesReport?.buys?.events : 0)}</strong>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Average Buy\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.buys?.averageEthValue ? tokenOwner.salesReport?.buys?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.buys?.averageUsdValue ? tokenOwner.salesReport?.buys?.averageUsdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Total Value of All Buys\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.buys?.ethValue ? tokenOwner.salesReport?.buys?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.buys?.usdValue ? tokenOwner.salesReport?.buys?.usdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>                                     \r\n                                    \r\n                                    </div>\r\n\r\n                                <% } %>\r\n\r\n                                <div class="block">\r\n                                    <p class="segmented">\r\n                                        <a class="button button-outline button-active" href="#">Owned</a>\r\n                                        <a class="button button-outline" href="${baseURI()}u/activity?address=${address}">Activity</a>\r\n                                    </p>\r\n                                </div>\r\n                            \r\n                            ` : $h`\r\n                                \r\n                            `}\r\n                          \r\n                            <div class="list cards-list virtual-list" id="user-tokens-list">\r\n                                <ul class="item-flex"></ul>\r\n                            </div>\r\n                          \r\n                            <div class="preloader infinite-scroll-preloader"></div>\r\n\r\n                            \r\n                        </div>\r\n\r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">User Info</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                              </div>\r\n\r\n                        </div>\r\n\r\n                        <br /><br />\r\n\r\n\r\n                        <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n\r\n\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let tokenOwnerService = globalThis.container.get("TokenOwnerService")\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n            let uiService = globalThis.container.get("UiService")\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let address\r\n            let tokenOwner\r\n\r\n            let virtualList\r\n\r\n            let hasMoreItems = true\r\n            let loadingInProgress = false\r\n\r\n            let page = 1\r\n\r\n            let firstPageItems\r\n            let totalTokens\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Leaderboard",\r\n                path: `${baseURI()}leaderboard`\r\n            }]\r\n\r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n            const imageLink = (rowItemViewModel) => {\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                return link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n            }\r\n\r\n            const loadUser = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n                    tokenOwner = await tokenOwnerService.get(address)\r\n\r\n                    if (tokenOwner) {\r\n\r\n                        let result = await itemWebService.ownerItemPage(address, page)\r\n\r\n                        firstPageItems = result.items\r\n                        totalTokens = result.totalMatches\r\n\r\n                    }\r\n\r\n\r\n                    createVirtualList()\r\n\r\n                    \r\n                } catch(ex) { \r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                    console.log(ex) \r\n                }\r\n                \r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n            const createVirtualList = () => {\r\n\r\n                virtualList = $f7.virtualList.create({\r\n                    el: \'#user-tokens-list\',\r\n                    createUl: false,\r\n                    renderItem(item) {\r\n                        return getTemplate(item)\r\n                    },\r\n                    height: 287,\r\n                    items: firstPageItems,                    \r\n                    cols: getWidth() >= 1024 ? 5 : 2,\r\n                    emptyTemplate: `\r\n                        <li class="item-content">\r\n                            <div class="item-inner">\r\n                                No results found.\r\n                            </div>\r\n                        </li>\r\n                        `\r\n                })\r\n\r\n\r\n                if (virtualList.items?.length < totalTokens) {\r\n                    hasMoreItems = true\r\n                    document.getElementById("user-tokens-infinite-scroll").addEventListener( \'infinite\', infiniteScroll )\r\n                } else {\r\n                    hasMoreItems = false\r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                }\r\n\r\n            }\r\n\r\n            const resizeListener = (e) => {\r\n                const viewPortWidth = getWidth()\r\n\r\n                if (virtualList) {\r\n                    virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n                    virtualList?.update()\r\n                }\r\n\r\n\r\n                console.log("Resized...")\r\n\r\n            }\r\n\r\n            const getWidth = () => {\r\n                return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            }\r\n\r\n            const getTemplate = (rowItemViewModel) => {\r\n                \r\n                let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n                let title = rowItemViewModel.title\r\n\r\n                return `<li class="flex-card">\r\n                            <a href="${tokenLink}" class="item-link">\r\n                                <div class="card" >\r\n                                    <div class="card-content">\r\n                                        <div class="square">\r\n                                            <img src="${imageLink}"/>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class="card-footer">\r\n                                        ${title}\r\n                                    </div>\r\n                                </div>\r\n                            </a>\r\n                        </li>\r\n                `\r\n            }\r\n\r\n            async function infiniteScroll(e) {\r\n\r\n                // Exit, if loading in progress\r\n                if (loadingInProgress || !hasMoreItems) return\r\n\r\n                console.log(`Infinite scrolling...`)\r\n\r\n                // Set loading flag\r\n                loadingInProgress = true\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n\r\n                try {\r\n                    \r\n                    page++\r\n\r\n                    let result = await itemWebService.ownerItemPage(address, page)\r\n\r\n                    let items = result.items\r\n                    virtualList.appendItems(items)\r\n\r\n                    if (virtualList.items?.length == tokenOwner.tokenIds?.length) {\r\n                        hasMoreItems = false\r\n                    }\r\n\r\n                } catch (ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n\r\n                loadingInProgress = false\r\n\r\n\r\n            }\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                window.addEventListener(\'resize\', resizeListener)\r\n\r\n                address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                breadcrumbs.push({\r\n                    text: address\r\n                })\r\n\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n                await loadUser()\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                breadcrumbs.push({\r\n                    text: address\r\n                })\r\n\r\n                await loadUser()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n                window.removeEventListener(\'resize\', resizeListener)\r\n                $f7.infiniteScroll.destroy(\'#user-tokens-infinite-scroll\')\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `User Profile for ${channelViewModel.channel.title}`,\r\n                    url: \'u\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `User Profile for ${channelViewModel.channel.title}`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "User Activity <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/u/index.html`),await this.renderPage(e,'<% \r\n    let channelViewModel=it.baseViewModel.channelViewModel \r\n    let hostname=it.baseViewModel.hostname \r\n    let baseURL=it.baseViewModel.baseURL \r\n    let marketplaces=it.baseViewModel.marketplaces \r\n    let externalLinks=it.baseViewModel.externalLinks \r\n    let routablePages=it.baseViewModel.routablePages \r\n    let attributeReport=it.baseViewModel.attributeReport \r\n    let base64Version=it.baseViewModel.base64Version \r\n    let channelId=it.baseViewModel.channelId \r\n    let showMintPage=it.baseViewModel.showMintPage \r\n    let logo = it.baseViewModel.logo\r\n\r\n    let showActivityPage=it.baseViewModel.showActivityPage \r\n    \r\n    const link=(href)=> {\r\n        return `${baseURL + href}`\r\n    }\r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }\r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        excerpt = it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n    \r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n        html {\r\n            visibility: hidden;\r\n            opacity: 0;\r\n        }\r\n    </style>\r\n\r\n    <title>\r\n        User Activity for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `User Activity for ${channelViewModel.channel.title}`,\r\n        url: \'u/activity\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `User Activity for ${channelViewModel.channel.title}`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="user-activity">\r\n\r\n                <nav-bar \r\n                    logo="${logo}" \r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="User" \r\n                    active="User" \r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="fixed-width-content center">\r\n\r\n                        <div class="hidden-on-load">\r\n\r\n                            <div class="block-title block-title-large">Account Details</div>\r\n                            <div class="block-header">\r\n                                ${address}\r\n                            </div>\r\n\r\n                            <div class="block">\r\n\r\n                                <div class="user-info">\r\n\r\n                                    <div class="row">\r\n                                        <div>Etherscan</div>\r\n                                        <div >\r\n                                            <a href="https://etherscan.io/address/${address}" class="item-link external">${address ? walletService.truncateEthAddress(address) : \' \'}</a>\r\n                                        </div>\r\n                                    </div>\r\n                            \r\n                                    ${tokenOwner?.ensName ? $h`\r\n                                        <div class="row">\r\n                                            <div>ENS Name</div>\r\n                                            <div>${tokenOwner?.ensName}</div>\r\n                                        </div>  \r\n                                    ` : $h` `}\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Tokens Owned</div>\r\n                                        <div><strong>${tokenOwner?.count ? tokenOwner.count : 0}</strong></div>\r\n                                    </div>\r\n\r\n                                    <div class="row">\r\n                                        <div>Transactions</div>\r\n                                        <div><strong>${tokenOwner?.transactionCount}</strong></div>\r\n                                    </div>\r\n\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Rank</div>\r\n                                        <div><strong>#${tokenOwner?.rank}</strong> (#${tokenOwner?.overallRank} overall)</div>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class="block">\r\n                                <p class="segmented">\r\n                                    <a class="button button-outline"\r\n                                        href="<%= baseURL %>u/?address=${address}">Owned</a>\r\n                                    <a class="button button-outline button-active" href="#">Activity</a>\r\n                                </p>\r\n                            </div>\r\n\r\n                            ${transactionsViewModel?.transactions?.length > 0 ? $h`\r\n                \r\n                                <transaction-row transactions="${transactionsViewModel}" items="${transactionsViewModel.rowItemViewModels}">\r\n\r\n                                    <div class="card-header">\r\n                                        Activity\r\n                                        <div class="last-updated">Last updated: ${dayjs(transactionsViewModel.lastUpdated).fromNow()}</div>\r\n                                    </div>\r\n\r\n                                </transaction-row>\r\n                         \r\n                                <div class="block split-row-both">\r\n                                    <div>\r\n                                        ${previousPage ? $h`\r\n                                            <a href="${baseURI()}u/activity?page=${previousPage}&address=${address}" class="button button-outline color-gray">Previous</a>\r\n                                            ` : $h` `}\r\n                                    </div>\r\n                                    <div>\r\n                                        ${nextPage ? $h`\r\n                                            <a href="${baseURI()}u/activity?page=${nextPage}&address=${address}" class="button button-fill">Next</a>\r\n                                            ` : $h` `}\r\n                                    </div>\r\n                            \r\n                                </div>\r\n\r\n    \r\n                            ` : $h`<span />`}\r\n\r\n                        </div>\r\n\r\n                        \r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">Activity</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <%~ include("footer", {baseURL: baseURL}) %>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n            \r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n            let tokenOwnerService = globalThis.container.get("TokenOwnerService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n            let tokenOwner\r\n            let transactionsViewModel\r\n\r\n            let display = 25\r\n            let address \r\n            let page\r\n\r\n            let nextPage\r\n            let previousPage\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Leaderboard",\r\n                path: `${baseURI()}leaderboard`\r\n            }]\r\n            \r\n\r\n            const loadActivity = async () => {\r\n\r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    nextPage = undefined\r\n                    previousPage = undefined\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.address) {\r\n                        address = $f7.views.main.router.currentRoute?.query?.address\r\n                    }\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.page) {\r\n                        page = $f7.views.main.router.currentRoute?.query?.page\r\n\r\n                        if (page) {\r\n                            page = parseInt(page)\r\n                        } \r\n                    }\r\n\r\n                    if (!page) {\r\n                        page = 1\r\n                    }\r\n\r\n\r\n\r\n\r\n                    tokenOwner = await tokenOwnerService.get(address)\r\n\r\n                    transactionsViewModel = await transactionWebService.listByAddress(address, page)\r\n\r\n\r\n                    breadcrumbs.push({\r\n                        text: address,\r\n                        path: `${baseURI()}u?address=${address}`\r\n                    })\r\n\r\n                    breadcrumbs.push({\r\n                        text: `Page ${page}`\r\n                    })\r\n\r\n                    if (page > 1) {\r\n                        previousPage = page - 1\r\n                    } \r\n\r\n                    if (page < tokenOwner.totalTransactionPages) {\r\n                        nextPage = page + 1\r\n                    }\r\n\r\n\r\n\r\n                } catch(ex) { console.log(ex) }\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n\r\n            }\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadActivity()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n\r\n                await loadActivity()\r\n\r\n                //Dispatch event so we can refresh list\r\n                let ev = new CustomEvent(\'transactions-updated\')\r\n                ev.transactionsViewModel = transactionsViewModel\r\n                document.dispatchEvent(ev)\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `User Activity for ${channelViewModel.channel.title}`,\r\n                    url: \'u/activity\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `User Activity for ${channelViewModel.channel.title}`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "User Activity <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/u/activity/index.html`),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n\r\n    let coverImageLink = channelViewModel.coverImage ? absoluteLink(`backup/${channelViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${channelViewModel.coverImage._id}.${channelViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title>\r\n        Transaction for <%=channelViewModel.channel.title%>\r\n    </title>\r\n\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `Transaction for ${channelViewModel.channel.title}`,\r\n        url: \'transaction\',\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: `Transaction for ${channelViewModel.channel.title}`,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <meta property="og:title" content="Transaction for <%=channelViewModel.channel.title%>" />\r\n    <meta property="og:type" content="website" />\r\n    <meta property="og:url" content="<%= link(`transaction`) %>" />\r\n    <meta property="og:image" content="<%= absoluteLink(`backup/export/images/${channelViewModel.channel.coverImageId}.jpg`) %>" />\r\n    <meta property="og:description" content="Transaction for <%=channelViewModel.channel.title%>" />\r\n\r\n    <meta property="twitter:card" content="summary_large_image" />\r\n    <meta property="twitter:url" content="<%= link(`transaction`) %>" />\r\n    <meta property="twitter:title" content="Transaction for <%=channelViewModel.channel.title%>" />\r\n    <meta property="twitter:description" content="Transaction for <%=channelViewModel.channel.title%>" />\r\n    <meta property="twitter:image" content="<%= absoluteLink(`backup/export/images/${channelViewModel.channel.coverImageId}.jpg`) %>" />\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="transaction">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Transaction"\r\n                    active="Transaction"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n                            <transaction-viewer></transaction-viewer> \r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        \r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n\r\n            // let eventWebService = globalThis.container.get("EventWebService")\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                // let activityStartChangedEvent = new CustomEvent(\'user-address-changed\')\r\n                // activityStartChangedEvent.address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                // document.dispatchEvent(activityStartChangedEvent)\r\n\r\n                // await $update()\r\n\r\n            })\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                // let activityStartChangedEvent = new CustomEvent(\'user-address-changed\')\r\n                // activityStartChangedEvent.address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                // document.dispatchEvent(activityStartChangedEvent)\r\n\r\n                // await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `Transaction for ${channelViewModel.channel.title}`,\r\n                    url: \'transaction\',\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: `Transaction for ${channelViewModel.channel.title}`,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "Transaction <%=channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n            include("_init", {\r\n                hostname: hostname,\r\n                baseURL: baseURL,\r\n                libraryURL: it.baseViewModel.libraryURL,\r\n                routablePages: routablePages,\r\n                base64Version: base64Version,\r\n                channelId: channelId\r\n            }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/transaction/index.html`),await this.renderPage(e,'<% \n\n    let channelViewModel = it.baseViewModel.channelViewModel \n    let hostname = it.baseViewModel.hostname\n    let baseURL = it.baseViewModel.baseURL\n    let marketplaces = it.baseViewModel.marketplaces\n    let externalLinks = it.baseViewModel.externalLinks\n    let routablePages = it.baseViewModel.routablePages\n    let attributeReport = it.baseViewModel.attributeReport\n    let base64Version = it.baseViewModel.base64Version\n    let channelId = it.baseViewModel.channelId\n    let showMintPage = it.baseViewModel.showMintPage\n    let showActivityPage = it.baseViewModel.showActivityPage\n    let logo = it.baseViewModel.logo\n\n    const link = (href) => {\n        return `${baseURL + href}`\n    }   \n\n\n    const absoluteLink = (href) => {\n      return `${hostname + baseURL + href}`\n    }   \n    \n    const escapeExcerpt = (excerpt) => {\n      excerpt = baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\n      return baseViewModel.he.encode(excerpt.toString())\n    }\n\n    const marketplaceLink = (marketplace) => {\n\n      let link = marketplace.link \n\n      //Replace contract if we find it \n      if (channelViewModel.channel.contractAddress) {\n        link = link.replace("{contractId}", channelViewModel.channel.contractAddress)\n      }\n\n      return link\n    }\n\n%>\n\n<!DOCTYPE html>\n<html>\n\n  <head>\n\n    <%~ include("headStart", {baseURL: baseURL}) %>\n\n\n    <style>\n      html {\n        visibility: hidden;\n        opacity: 0;\n      }\n    </style>\n\n    \x3c!-- Required meta tags--\x3e\n    <meta charset="utf-8">\n    <meta name="viewport"\n      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">\n    <meta name="apple-mobile-web-app-capable" content="yes">\n    \x3c!-- Color theme for statusbar --\x3e\n    <title>\n      404 Page Not Found\n    </title>\n\n\n    <%~ it.baseViewModel.headEndContents %>\n    \n\n  </head>\n\n  <body>\n\n    <div id="app">\n\n      <div class="view view-main">\n\n        \x3c!--pageContent--\x3e\n        <div class="page" data-name="home">\n\n          <nav-bar\n            logo="${logo}"\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\n            title="<%=channelViewModel.channel.title%>"\n            show_mint_page="<%=showMintPage%>"\n            show_activity_page="<%=showActivityPage%>"\n          >\n          </nav-bar>\n\n          \n\n\n          <div class="page-content">\n\n            <div class="row">\n\n              <div class="col-100 large-75">\n\n\n                <div class="block block-strong inset col-100 no-margin-bottom">\n                  <div class="breadcrumbs ">\n                    <div class="breadcrumbs-item breadcrumbs-item-active">\n                      Home\n                    </div> \n                  </div>\n                </div>\n\n\n                <div class="card">\n\n                  <div class="card-content card-content-padding">\n                    404 Page not found.\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class="col-100 large-25">                \n\n\n\n              </div>\n              \n            </div>\n\n          </div>\n\n        </div>\n        \x3c!--/pageContent--\x3e\n\n      </div>\n\n    </div>\n\n    <%~ it.baseViewModel.bodyContents %>\n    \n    <script type="module" id="page-init-scripts">\n\n      //pageInitScripts\n\n      const init = (props, { $, $f7, $h, $on, $update }) => {\n              \n\n            let channelWebService = globalThis.container.get("ChannelWebService")\n            let baseURI = globalThis.container.get("baseURI")\n            let hostname = globalThis.container.get("hostname")\n\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\n\n\n            $on(\'pageInit\', async () => {\n\n              await channelWebService.loadChannel(\n                      "<%= channelViewModel.channel._id %>",\n                      \'<%= baseURL %>\',\n                      \'<%= hostname %>\'\n              )\n\n\n            })\n\n            $f7.preloader.hide()\n\n            return $render;\n      }\n\n      ///pageInitScripts\n      \n    <\/script>\n\n    <%~ \n      include("_init", {\n        hostname: hostname,\n        baseURL: baseURL,\n        libraryURL: it.baseViewModel.libraryURL,\n        routablePages: routablePages,\n        base64Version: base64Version,\n        channelId: channelId\n      }) \n    %>\n\n  </body>\n\n</html>',{title:t.channel.title,baseViewModel:i},`${e.publicPath}/404.html`),t.staticPagesViewModel?.links?.length>0)for(let r of t.staticPagesViewModel?.links)await this.renderPage(e,vv,{title:t.channel.title,staticPage:r,baseViewModel:i},`${e.publicPath}/s/${r.slug}.html`);if(t.staticPagesViewModel?.none?.length>0)for(let r of t.staticPagesViewModel?.none)await this.renderPage(e,vv,{title:t.channel.title,staticPage:r,baseViewModel:i},`${e.publicPath}/s/${r.slug}.html`);let o=Math.min(...r.itemViewModels.map((e=>e.item.tokenId))),s=Math.max(...r.itemViewModels.map((e=>e.item.tokenId))),l=[];for(let e of r.itemViewModels)l.push(this.itemWebService.translateRowItemViewModel(e.item,e.coverImage));a().writeFileSync(`${e.publicPath}/t/all.json`,Buffer.from(JSON.stringify(l)));for(let t of r.itemViewModels){let l,c,u=this.itemWebService.translateRowItemViewModel(t.item,t.coverImage);u.tokenId!=o&&(l=r.itemViewModels.filter((e=>e.item.tokenId==u.tokenId-1))[0]),u.tokenId!=s&&(c=r.itemViewModels.filter((e=>e.item.tokenId==u.tokenId+1))[0]),console.time(`Generating /t/${u.tokenId}`),a().mkdirSync(`${e.publicPath}/t/${u.tokenId}`,{recursive:!0}),await this.renderPage(e,'<% \r\n\r\n    let channelViewModel = it.baseViewModel.channelViewModel \r\n    let hostname = it.baseViewModel.hostname\r\n    let baseURL = it.baseViewModel.baseURL\r\n    let marketplaces = it.baseViewModel.marketplaces\r\n    let externalLinks = it.baseViewModel.externalLinks\r\n    let routablePages = it.baseViewModel.routablePages\r\n    let attributeReport = it.baseViewModel.attributeReport\r\n    let base64Version = it.baseViewModel.base64Version\r\n    let channelId = it.baseViewModel.channelId\r\n    let showMintPage = it.baseViewModel.showMintPage\r\n    let showActivityPage = it.baseViewModel.showActivityPage\r\n    let itemViewModel = it.itemViewModel\r\n    let previous = it.previous\r\n    let next = it.next\r\n    let logo = it.baseViewModel.logo\r\n\r\n    const link = (href) => {\r\n        return `${baseURL + href}`\r\n    }    \r\n\r\n    const absoluteLink = (href) => {\r\n        return `${hostname + baseURL + href}`\r\n    }   \r\n\r\n\r\n    const marketplaceAssetLink = (marketplace, tokenId) => {\r\n\r\n        let link = marketplace.assetLink \r\n  \r\n        //Replace contract if we find it \r\n        if (channelViewModel.channel.contractAddress) {\r\n          link = link.replace("{contractId}", channelViewModel.channel.contractAddress )\r\n          link = link.replace("{contractIdLowercase}", channelViewModel.channel.contractAddress.toLowerCase() )\r\n\r\n        }\r\n\r\n\r\n\r\n  \r\n        if (tokenId) {\r\n          link = link.replace("{tokenId}", tokenId)\r\n  \r\n        }\r\n  \r\n        return link\r\n    }\r\n    \r\n    const truncateEthAddress = (address) => {\r\n        // Captures 0x + 4 characters, then the last 4 characters.\r\n        const truncateRegex = /^(0x[a-zA-Z0-9]{4})[a-zA-Z0-9]+([a-zA-Z0-9]{4})$/\r\n        const match = address.match(truncateRegex)\r\n        if (!match) return address\r\n        return `${match[1]}…${match[2]}`\r\n    }\r\n\r\n\r\n    let coverImageLink = itemViewModel.coverImage ? absoluteLink(`backup/${itemViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${itemViewModel.coverImage._id}.${itemViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n    const getAttributeKey = (as) => {\r\n        return encodeURIComponent(`${as.traitType}::::${as.value}`)\r\n    }\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("headStart", {baseURL: baseURL}) %>\r\n\r\n\r\n    <style>\r\n    html {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n    </style>\r\n\r\n\r\n    <title><%= itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\' %><%= itemViewModel.channel.title %> #<%= itemViewModel.item.tokenId %></title>\r\n\r\n\r\n    <%~ \r\n      include("_meta_tags", {\r\n        title: `${itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\'}${itemViewModel.channel.title} #${itemViewModel.item.tokenId}`,\r\n        url: `t/${itemViewModel.item.tokenId}`,\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: itemViewModel.contentHTML,\r\n        hostname: hostname,\r\n        baseURL: baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="token-<%=itemViewModel.item.tokenId %>">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="<%=channelViewModel.channel.title%>"\r\n                    show_mint_page="<%=showMintPage%>"\r\n                    show_activity_page="<%=showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n                <token-toolbar\r\n                    token_id="<%= itemViewModel.item.tokenId %>"\r\n                    item_count="<%= channelViewModel.channel.itemCount %>" \r\n                >\r\n                </token-toolbar>\r\n           \r\n                <div class="page-content">\r\n\r\n\r\n                    <div class="main-split">\r\n                                \r\n                        <div class="left">\r\n                    \r\n                            <div class="block animation-card ">\r\n                    \r\n                                <div class="animation-content <%= itemViewModel.item.coverImageAsAnimation ? \'animation-image\' : \'\'%>">\r\n                    \r\n                                    <% if (itemViewModel.item.coverImageAsAnimation) { %>\r\n                                        <img src="<%= link(`backup/export/images/${itemViewModel.coverImage._id}.${itemViewModel.coverImage.generated ? \'svg\' : \'jpg\'}`) %>"  />\r\n                                    <% } else { %>\r\n                                        <%~itemViewModel.animationContentHTML %>\r\n                                    <% } %>\r\n                    \r\n                                </div>\r\n                    \r\n\r\n                                <div class="block split-row-both">\r\n                                    <div>\r\n                                        <a class="button button-outline back-token-button margin-bottom color-gray" href="#" >\r\n                                            <i class="icon f7-icons color-blue">arrow_left</i>\r\n                                        </a>\r\n                                    </div>\r\n                                    <div>\r\n                                        <% if (next) { %>\r\n                                            <a class="button button-fill continue-button margin-bottom" href="#">\r\n                                                Continue <i class="f7-icons">arrow_right</i>\r\n                                            </a>\r\n                                        <% } %>\r\n                                    </div>\r\n                            \r\n                                </div>\r\n                    \r\n                            </div> \r\n                    \r\n                            <div class="hidden-on-load">\r\n\r\n                                ${transactionsViewModel?.transactions?.length > 0 ? $h`\r\n              \r\n                                    <transaction-row transactions="${transactionsViewModel}" items="${transactionsViewModel?.rowItemViewModels}" token="<%= itemViewModel.item.tokenId %>">\r\n                                        <div class="card-header">\r\n                                            Activity\r\n                                            <div class="last-updated">Last updated: ${dayjs(transactionsViewModel.lastUpdated).fromNow()}</div>\r\n                                        </div>\r\n                                    </transaction-row>\r\n\r\n                           \r\n                                ` : $h` `}\r\n              \r\n                            </div>\r\n\r\n                            <div class="hide-on-pageinit">\r\n\r\n                                <div class="card skeleton-text">\r\n                                    <div class="card-header">Activity</div>\r\n                                    <div class="card-content card-content-padding data-table">\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                    </div>\r\n\r\n                                  </div>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    \r\n                        <div class="right">\r\n                            \r\n                            <div class="card" >\r\n                                <form class="card-content card-content-padding" id="token_navigator_form">\r\n                                  <input type="number" class="goto-input" style="width: 60px; border: 1px solid #cccccc; display: inline-block;" value="<%= itemViewModel?.item?.tokenId %>" min="0"  />\r\n                                  <span class="paging-label">Enter Token ID</span>\r\n                                  <button class="goto-button button button-small button-fill">Go</button>\r\n                                </form>\r\n                            </div>\r\n                    \r\n                            <% if (previous || next) { %>\r\n                    \r\n                                <div class="card large-only">\r\n                                  <div class="card-content card-content-padding">\r\n                                    <div class="segmented">\r\n                    \r\n                                      <% if (previous) { %>\r\n                                        <a class="button button-outline back-token-button" data-transition="none">\r\n                                            <i class="icon f7-icons">arrow_left</i>\r\n                                          </a>\r\n                                      <% } else { %>\r\n                                        <a class="button button-outline" href="#"></a>\r\n                                      <% } %>\r\n                    \r\n                    \r\n                                      <% if (next) { %>\r\n                                        <a class="button button-outline continue-button" data-transition="none">\r\n                                            <i class="f7-icons">arrow_right</i>\r\n                                          </a>\r\n                                      <% } else { %>\r\n                                        <a class="button button-outline" href="#"></a>\r\n                                      <% } %>\r\n                    \r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                    \r\n                            <% } %>\r\n                    \r\n                    \r\n                    \r\n                     \r\n                            <% if (itemViewModel.channel.contractAddress) { %>\r\n\r\n                                <div class="hidden-on-load">\r\n                                    <div class="card">\r\n                                        <div class="card-content card-content-padding">\r\n                                            ${token?.currentOwnerId ? $h`\r\n                                                Owned by <a href="${link(`u/?address=${token?.currentOwnerId}`)}">${tokenOwnerDisplay}</a>\r\n                                            ` : $h`\r\n                                                NFT has not been <a href="${link(`mint.html`)}">minted</a> yet.\r\n                                            `}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                              \r\n                                <div class="data-table card">\r\n                            \r\n                                    <div class="card-header">\r\n                                        Token Info\r\n                                    </div>\r\n                                \r\n                                    <div class="card-content">\r\n                                        <table>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td class="label-cell">Contract Address</td>\r\n                                                    <td><a href="https://etherscan.io/token/<%= itemViewModel.channel.contractAddress %>" class="external">${contractAddress}</a></td>\r\n                                                </tr>\r\n                                        \r\n                                                <tr>\r\n                                                    <td class="label-cell">Token ID</td>\r\n                                                    <td>#<%= itemViewModel?.item?.tokenId %></td>\r\n                                                </tr>\r\n                                    \r\n                                                <tr>\r\n                                                    <td class="label-cell">Metadata</td>\r\n                                                    <td><a href="${metadataURL}" class="external">View</a></td>\r\n                                                </tr>                                        \r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            <% } %>\r\n                    \r\n\r\n                    \r\n                            <div class="card">\r\n                                \r\n                                <div class="card-header">\r\n                                    Attributes\r\n                                </div>\r\n                    \r\n                                <div class="card-content data-table">\r\n                    \r\n                                    <% itemViewModel.attributeSelections?.map( (as)=> { %>\r\n                    \r\n                                        <% if (as.attributeTotal?.categoryPercent) { %>\r\n                                            <div class="button-outline attribute-value">\r\n                                                <div class="trait-type"><%= as.traitType %></div>\r\n                                                <div class="value"><a href="${link(`attribute/?attributeKey=<%= getAttributeKey(as) %>`)}"><%= as.value %></a></div>\r\n                                                <div class="category-percent"><%= as.attributeTotal?.categoryPercent  %> have this trait</div>\r\n                                            </div>                                                \r\n                                        <% } %>\r\n                    \r\n                    \r\n                                    <% }) %>\r\n                    \r\n                                </div>\r\n                    \r\n                            </div>\r\n                    \r\n                    \r\n                            <% \r\n                            if (marketplaces?.length > 0) {\r\n                            %>\r\n                                <div class="card">\r\n                                    <div class="card-header">\r\n                                        View on Marketplaces\r\n                                    </div>\r\n                                    <div class="card-content">\r\n                                        <div class="list simple-list">\r\n                                            <ul>\r\n                                            \r\n                                            <% \r\n                                                for (let marketplace of marketplaces) { \r\n                                            %>  \r\n                                                <li><a href="<%= marketplaceAssetLink(marketplace, itemViewModel.item.tokenId) %>" class="external"><%= marketplace.name %></a></li>     \r\n                                            <%\r\n                                                }\r\n                                            %>\r\n                        \r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            <%\r\n                                }\r\n                            %>                                \r\n                    \r\n                            <% if (!itemViewModel.item.coverImageAsAnimation) { %>\r\n                                <div class="card">\r\n                                    <div class="card-header">Cover Image</div>\r\n                                    <div class="card-content">\r\n                                        <img src="<%= link(`backup/export/images/${itemViewModel.coverImage._id}.${itemViewModel.coverImage.generated ? \'svg\' : \'jpg\'}`) %>" class="cover-image-preview" />\r\n                                    </div>\r\n                                </div>\r\n                            <% } %>\r\n                    \r\n                    \r\n                    \r\n                        </div>\r\n                    \r\n                        <div class="left">\r\n                            <%~ include("footer", {baseURL: baseURL}) %>          \r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\x3c!--                     \r\n                    <div class="swiper" id="swiper-<%= itemViewModel.item.tokenId  %>" style="display:none;">\r\n                        <div class="swiper-wrapper">\r\n                            <div class="swiper-slide" data-url="<%= itemViewModel.item.previous ? link(`t/${itemViewModel.item.previous.tokenId}`) : link(`index.html`) %>">\r\n                            </div> \r\n\r\n                            <div class="swiper-slide">   \r\n\r\n\r\n\r\n\r\n                                \r\n                            </div>\r\n\r\n                            <% if (itemViewModel.item.next) { %>\r\n                                <div class="swiper-slide" data-url="<%= link(`t/${itemViewModel.item.next.tokenId}`) %>">\r\n                                </div> \r\n                            <% } %>\r\n\r\n                        </div>\r\n                    </div> --\x3e\r\n\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    \r\n    <script type="module" id="page-init-scripts">    \r\n\r\n        //pageInitScripts\r\n\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n            \r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n            \r\n            let uiService = globalThis.container.get("UiService")\r\n\r\n            let readerSettingsService = globalThis.container.get("ReaderSettingsService")\r\n            let tokenService = globalThis.container.get("TokenService")\r\n            let tokenOwnerService = globalThis.container.get("TokenOwnerService")\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(logo ? logo : {})  %>`)\r\n\r\n\r\n            let title = `<%~ itemViewModel.item.title %>`\r\n            let tokenId = parseInt(`<%~ itemViewModel.item.tokenId %>`)\r\n            \r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Explore",\r\n                path: `${baseURI()}explore.html`\r\n            },{\r\n                text: title ? title : `#${tokenId}`\r\n            }]\r\n\r\n\r\n            let hasPrevious = JSON.parse(`<%~ JSON.stringify(previous?.item.tokenId != undefined) %>`)\r\n            let hasNext = JSON.parse(`<%~ JSON.stringify(next?.item.tokenId != undefined) %>`)\r\n\r\n            let swiper\r\n\r\n            let transactionsViewModel\r\n            let latest\r\n\r\n            let token\r\n            let tokenOwnerDisplay\r\n\r\n            let metadataURL = `${baseURI()}backup/export/metadata/<%= itemViewModel.item.tokenId  %>.json`\r\n\r\n\r\n            let contractAddress = walletService.truncateEthAddress(\'<%= itemViewModel.channel.contractAddress %>\')\r\n\r\n            \r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n\r\n            const initSwiper = () => {\r\n\r\n                // swiper = $f7.swiper.create(\'#swiper-<%= itemViewModel.item.tokenId  %>\', {\r\n                //     initialSlide: 1,\r\n                //     effect: \'fade\',\r\n                //     on: {\r\n                //         slideChange() {\r\n\r\n                //             const swiper = this\r\n\r\n                //             let slide = $(swiper.wrapperEl).children(\'.swiper-slide\').eq(swiper.activeIndex)\r\n\r\n                //             let url = $(slide).data(\'url\')\r\n\r\n\r\n                //             if (url) {\r\n                //                 $f7.views.main.router.navigate(url, {\r\n                //                     transition: \'none\',\r\n                //                     history: true,\r\n                //                     reloadAll: true\r\n                //                 })\r\n                //             }\r\n                //         }\r\n                //     }\r\n                // })\r\n\r\n                // $(\'#swiper-<%= itemViewModel.item.tokenId  %>\').show()\r\n\r\n                const prev = (e) => {\r\n\r\n                    let link = "<%= previous ? link(`t/${previous.item.tokenId}`) : link(`index.html`) %>"\r\n                    \r\n                    $f7.views.main.router.navigate(link, {\r\n                        transition: \'none\',\r\n                        history: true,\r\n                        reloadAll: true\r\n                    })\r\n\r\n                    // swiper.slidePrev(0)\r\n                }\r\n\r\n                const next = (e) => {\r\n\r\n                    let link = "<%= next ? link(`t/${next.item.tokenId}`) : \'\' %>"\r\n\r\n\r\n                    if (link?.length > 0) {\r\n                        $f7.views.main.router.navigate(link, {\r\n                            transition: \'none\',\r\n                            history: true,\r\n                            reloadAll: true\r\n                        })\r\n                    }\r\n\r\n\r\n                    // swiper.slideNext(0)\r\n                }\r\n\r\n                $(\'.fab-left-center\').on(\'click\', prev)\r\n                $(\'.fab-right-center\').on(\'click\', next)\r\n\r\n                $(\'.back-token-button\').on(\'click\', prev)\r\n                $(\'.continue-button\').on(\'click\', next)\r\n\r\n            }\r\n\r\n            const loadActivity = async () => {\r\n\r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    latest = await transactionWebService.getLatest()\r\n\r\n                    if (latest?.latestToken && tokenId <= latest.latestToken) {\r\n\r\n                        token = await tokenService.get(tokenId)\r\n\r\n                        if (token) {\r\n                            tokenOwnerDisplay = await tokenOwnerService.getDisplayName(token.currentOwnerId)\r\n                            transactionsViewModel = token.transactionsViewModel\r\n                        }\r\n\r\n                    }\r\n\r\n                    if (!transactionsViewModel) {\r\n                        transactionsViewModel = {}\r\n                    }\r\n\r\n                    transactionsViewModel.lastUpdated = latest.lastUpdated\r\n\r\n                } catch(ex) { console.log(ex) }\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                let readerSettings = await readerSettingsService.get()\r\n                $f7.emit(\'current-page-updated\', readerSettings.currentPage)\r\n\r\n                await $update()\r\n\r\n                await readerSettingsService.updateCurrentPage(parseInt(props.tokenId))\r\n                $(\'#token_navigator_form\').on(\'submit\', goTokenFormSubmit)\r\n\r\n                initSwiper()\r\n\r\n                await loadActivity()\r\n\r\n                // $(\'.swiper\').show()\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n            })          \r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= channelViewModel.channel._id %>",\r\n                        \'<%= baseURL %>\',\r\n                        \'<%= hostname %>\'\r\n                )\r\n\r\n                let readerSettings = await readerSettingsService.get()\r\n                currentPage = readerSettings.currentPage\r\n\r\n                await $update()\r\n\r\n                initSwiper()\r\n\r\n                await loadActivity()\r\n\r\n                //Dispatch event so we can refresh list\r\n                let ev = new CustomEvent(\'transactions-updated\')\r\n                ev.transactionsViewModel = transactionsViewModel\r\n                document.dispatchEvent(ev)\r\n\r\n\r\n                // $(\'.swiper\').show()\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n            })\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n                // $(\'.swiper\').hide()\r\n                // console.log(\'Destroying swiper #swiper-<%= itemViewModel.item.tokenId  %>\')\r\n                // $f7.swiper.destroy(\'#swiper-<%= itemViewModel.item.tokenId  %>\')\r\n            })\r\n\r\n            const goTokenFormSubmit = async (e) => {\r\n          \r\n                e.preventDefault()\r\n\r\n                const val = $(e.currentTarget).children(\'.goto-input\').val()\r\n\r\n                try {\r\n                    $f7.views.main.router.navigate(`${baseURI()}t/${parseInt(val.toString())}`)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                    $f7.dialog.alert("Invalid Page")\r\n                }\r\n\r\n            }\r\n\r\n            <%~ \r\n                include("_meta_tags_js", {\r\n                    title: `${itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\'}${itemViewModel.channel.title} #${itemViewModel.item.tokenId}`,\r\n                    url: `t/${itemViewModel.item.tokenId}`,\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: itemViewModel.contentHTML,\r\n                    hostname: hostname,\r\n                    baseURL: baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "<%= itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\' %><%= itemViewModel.channel.title %> #<%= itemViewModel.item.tokenId %>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render;\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("_init", {\r\n            hostname: hostname,\r\n            baseURL: baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: routablePages,\r\n            base64Version: base64Version,\r\n            channelId: channelId\r\n        }) \r\n    %>\r\n\r\n    \r\n\r\n</body>\r\n\r\n</html>',{title:u.title,itemViewModel:t,baseViewModel:i,previous:l,next:c,ethers:n},`${e.publicPath}/t/${u.tokenId}/index.html`),a().writeFileSync(`${e.publicPath}/t/${u.tokenId}/rowItemViewModel.json`,Buffer.from(JSON.stringify(u))),await this.generateImages(e,t),console.timeEnd(`Generating /t/${u.tokenId}`)}}async renderPage(e,t,r,n){const i=kt.render(t,r),o=i.substring(i.indexOf("\x3c!--pageContent--\x3e")+19,i.lastIndexOf("\x3c!--/pageContent--\x3e")),l=i.substring(i.indexOf("//pageInitScripts")+18,i.lastIndexOf("///pageInitScripts"));let c=`\n          <template>\n              ${St().unescape(o)}\n          </template>\n\n          <script>\n\n              ${l}\n\n              export default init\n          <\/script>\n      `;a().writeFileSync(n,i.replace(l,""));let u=n.replace(e.publicPath,`${e.publicPath}/partial`);e.libraryURL&&(u=u.replace(e.libraryURL,`${e.libraryURL}/partial`));const h=s().dirname(u);a().existsSync(h)||a().mkdirSync(h,{recursive:!0}),a().writeFileSync(u,c)}};_v=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),wv(0,yt("ItemService")),wv(1,yt("ItemWebService")),wv(2,yt("StaticPageService")),wv(3,yt("ItemRepository")),wv(4,yt("StaticPageRepository")),wv(5,yt("convert-svg-to-png")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[uv,yv,Uy,Object,Object,Object])],_v);let Av=class{channelDir;static CHUNK_SIZE=10;items=[];dbName="items";constructor(e){this.channelDir=e}async getRowItemViewModelsByOwner(e,t){throw new Error("Method not implemented.")}async getRowItemViewModelsByAttribute(e,t,r){throw new Error("Method not implemented.")}async load(){this.items=JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/items.json`,"utf8"))}async get(e){let t=this.items.filter((t=>t._id==e));return t?.length,t[0]}async list(e,t){return this.items.slice(e,t)}async getByTokenIds(e){}async getRowItemViewModelsByTokenIds(e){let t=[];for(let r of e){const e=a().readFileSync(`${this.channelDir}/public/t/${r}/rowItemViewModel.json`,"utf8");t.push(JSON.parse(e))}return t}async getRowItemViewModelsByTokenId(e){const t=a().readFileSync(`${this.channelDir}/public/t/${e}/rowItemViewModel.json`,"utf8");return JSON.parse(t)}async getByTokenId(e){let t=this.items.filter((t=>t.tokenId==e));return t?.length,t[0]}async listByTokenId(e,t){return[]}async query(e){return[]}async all(){return this.items}};var Ev,xv;Av=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),(Ev=0,xv=yt("channelDir"),function(e,t){xv(e,t,Ev)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Av);let Sv=class{channelDir;staticPages=[];constructor(e){this.channelDir=e}async load(){this.staticPages=JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/static-pages.json`,"utf8"))}async get(e){let t=this.staticPages.filter((t=>t._id==e));return t?.length,t[0]}async listByLocation(e,t){return this.staticPages.filter((t=>t.locations.includes(e))).slice(t,t+1e3)}};Sv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Sv);let kv=class{channelDir;constructor(e){this.channelDir=e}async get(e){}async getByIds(e){}async put(e){}async list(){let e=a().readFileSync(`${this.channelDir}/public/attributeTotals.json`,"utf8");return JSON.parse(e)}};kv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],kv);let Rv=class{channelDir;constructor(e){this.channelDir=e}async get(){let e=JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/channels.json`,"utf8"))[0];try{const t=JSON.parse(a().readFileSync(`${this.channelDir}/backup/contract/contract.json`,"utf8"));t?.contractAddress&&(e.contractAddress=t.contractAddress)}catch(e){}return e}};Rv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Rv);let Iv=class{channelDir;constructor(e){this.channelDir=e}async get(e){return JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/authors.json`,"utf8")).filter((t=>t._id==e))[0]}};Iv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Iv);var Tv=function(e,t){return function(r,n){t(r,n,e)}};let Mv=class{contracts;getProvider;$f7;wallet;address;ethersContracts={};provider;constructor(e,t,r){this.contracts=e,this.getProvider=t,this.$f7=r}async initProvider(){this.provider=await this.getProvider(),globalThis.ethereum?.on("accountsChanged",(async e=>{delete this.address,e?.length>0&&await this.initWallet(),this.$f7.views.main.router.refreshPage()})),globalThis.ethereum?.on("networkChanged",(async e=>{this.ethersContracts={},this.provider=await this.getProvider(),await this.initWallet()}))}async initWallet(){console.log("Init wallet"),delete this.address,this.provider||await this.initProvider();let e=await this.provider.send("eth_accounts",[]);if(e?.length>0)return this.connect();console.log("Init wallet complete")}async connect(){console.log("Connect wallet"),await this.provider.send("eth_requestAccounts",[]),this.wallet=await this.provider.getSigner(),this.address=await this.getAddress(),console.log(`Wallet ${this.address} connected`)}async getAddress(){if(!this.provider)return;let e=await this.provider.send("eth_accounts",[]);return e?.length>0?Ro(e[0]):void 0}async getWallet(){return this.provider.getSigner()}async getContract(e){let t=(await this.contracts())[e];return this.ethersContracts[e]=new lc(t.address,t.abi,this.wallet?this.wallet:this.provider),this.ethersContracts[e]}truncateEthAddress(e){if(!e)return;const t=e.match(/^(0x[a-zA-Z0-9]{4})[a-zA-Z0-9]+([a-zA-Z0-9]{4})$/);return t?`${t[1]}…${t[2]}`:e}};Mv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),Tv(0,yt("contracts")),Tv(1,yt("provider")),Tv(2,yt("framework7")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Function,Function,Object])],Mv);let Pv=class{channelDir;constructor(e){this.channelDir=e}images=[];async get(e){0==this.images?.length&&(this.images=JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/images.json`,"utf8")));let t,r=this.images.filter((t=>t._id==e));return r?.length>0&&(t=r[0]),t&&(t.generated?t.svg=a().readFileSync(`${this.channelDir}/backup/export/images/${t.cid}.svg`,"utf8"):t.buffer=a().readFileSync(`${this.channelDir}/backup/export/images/${t.cid}.jpg`)),t}async list(){return 0==this.images?.length&&(this.images=JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/images.json`,"utf8"))),this.images}};Pv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Pv);let Cv=class{channelDir;constructor(e){this.channelDir=e}animations=[];async get(e){0==this.animations?.length&&(this.animations=JSON.parse(a().readFileSync(`${this.channelDir}/backup/export/backup/animations.json`,"utf8")));let t,r=this.animations.filter((t=>t._id==e));return r?.length>0&&(t=r[0]),t&&(t.content=a().readFileSync(`${this.channelDir}/backup/export/animations/${t.cid}.html`,"utf8")),t}};Cv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Cv);let Ov=class{channelDir;constructor(e){this.channelDir=e}async get(e){return JSON.parse(a().readFileSync(`${this.channelDir}/public/itemPages/${e}.json`,"utf8"))}};Ov=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([ft(),function(e,t){return function(r,n){t(r,n,e)}}(0,yt("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Ov);var Lv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Nv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Bv,Column:Dv,Model:Uv,HasMany:Vv,CreatedAt:Fv,UpdatedAt:jv,DataType:qv,PrimaryKey:zv}=__webpack_require__(10326);let $v=class extends Uv{};Lv([zv,Dv(qv.STRING),Nv("design:type",String)],$v.prototype,"_id",void 0),Lv([Dv(qv.JSON),Nv("design:type",Array)],$v.prototype,"totals",void 0),Lv([Dv(qv.JSON),Nv("design:type",Array)],$v.prototype,"latest",void 0),Lv([Dv(qv.STRING),Nv("design:type",String)],$v.prototype,"title",void 0),Lv([Dv(qv.STRING),Nv("design:type",String)],$v.prototype,"descriptionHTML",void 0),Lv([Dv(qv.NUMBER),Nv("design:type",Number)],$v.prototype,"itemCount",void 0),Lv([Dv(qv.STRING),Nv("design:type",String)],$v.prototype,"coverImageId",void 0),Lv([Dv(qv.DATE),Nv("design:type",Date)],$v.prototype,"lastUpdated",void 0),Lv([Dv(qv.DATE),Nv("design:type",Date)],$v.prototype,"dateCreated",void 0),$v=Lv([Bv({tableName:"channel",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],$v);var Hv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};let Gv=class{sequelize;async get(e,t){return $v.findByPk(e,t)}async put(e,t){return await e.save(t),e}async remove(e,t){await e.destroy(t)}async listByValue(e){let t=await this.sequelize(),r={type:t.QueryTypes.RAW,plain:!1,mapToModel:!1};const[n,i]=await t.query("\n            SELECT\n                c.*,\n                IFNULL(tTotals.usdValue, '') AS totalUsdValue,\n                IFNULL(tTotals.ethValue, '') AS totalEthValue,\n                IFNULL(tYear.usdValue, '') AS yearTotalsUsdValue,\n                IFNULL(tYear.ethValue, '') AS yearTotalsEthValue,\n                IFNULL(tMonth.usdValue, '') AS monthTotalsUsdValue,\n                IFNULL(tMonth.ethValue, '') AS monthTotalsEthValue,\n                IFNULL(tDay.usdValue, '') AS dayTotalsUsdValue,\n                IFNULL(tDay.ethValue, '') AS dayTotalsEthValue\n            FROM channel c\n                LEFT JOIN (\n                    SELECT\n                    _id,\n                    JSON_EXTRACT(value, '$.usdValue') AS usdValue,\n                    JSON_EXTRACT(value, '$.ethValue') AS ethValue\n                    FROM channel, JSON_EACH(totals)\n                    WHERE key = 'totals'\n                ) tTotals ON c._id = tTotals._id\n                LEFT JOIN (\n                    SELECT\n                    _id,\n                    JSON_EXTRACT(value, '$.usdValue') AS usdValue,\n                    JSON_EXTRACT(value, '$.ethValue') AS ethValue\n                    FROM channel, JSON_EACH(totals)\n                    WHERE key = 'yearTotals'\n                ) tYear ON c._id = tYear._id\n                LEFT JOIN (\n                    SELECT\n                    _id,\n                    JSON_EXTRACT(value, '$.usdValue') AS usdValue,\n                    JSON_EXTRACT(value, '$.ethValue') AS ethValue\n                    FROM channel, JSON_EACH(totals)\n                    WHERE key = 'monthTotals'\n                ) tMonth ON c._id = tMonth._id\n                LEFT JOIN (\n                    SELECT\n                    _id,\n                    JSON_EXTRACT(value, '$.usdValue') AS usdValue,\n                    JSON_EXTRACT(value, '$.ethValue') AS ethValue\n                    FROM channel, JSON_EACH(totals)\n                    WHERE key = 'dayTotals'\n                ) tDay ON c._id = tDay._id\n            GROUP BY c._id\n            ORDER BY dayTotalsUsdValue, monthTotalsUsdValue, yearTotalsUsdValue, totalUsdValue\n                \n        ",Object.assign(r,e));for(let e of n)e.totals=JSON.parse(e.totals),e.latest=JSON.parse(e.latest);return n}};Hv([yt("sequelize"),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Function)],Gv.prototype,"sequelize",void 0),Gv=Hv([ft()],Gv);var Wv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Jv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Qv=class{libraryChannelRepository;constructor(){}async get(e,t){return this.libraryChannelRepository.get(e,t)}async put(e,t){return this.libraryChannelRepository.put(e,t)}async remove(e,t){return this.libraryChannelRepository.remove(e,t)}async getOrCreate(e,t){let r=await this.libraryChannelRepository.get(e,t);return r||(r=Object.assign(new $v,{_id:e})),r}async listByValue(e){return this.libraryChannelRepository.listByValue(e)}};Wv([yt("LibraryChannelRepository"),Jv("design:type",Object)],Qv.prototype,"libraryChannelRepository",void 0),Qv=Wv([ft(),Jv("design:paramtypes",[])],Qv);var Kv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Yv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Zv=class{spawnService;syncStatusService;libraryChannelService;sequelize;constructor(){}async syncAndGenerateChannel(e,t,r,n){let i=await this.sequelize();const a=s().resolve(n.syncDir,t.repo);let o=`${a}/public`;await i.transaction((async i=>{let s={transaction:i},l=await this.syncStatusService.getOrCreate(e,s);n.generate&&await this.spawnService.spawnGenerate(process.env.INIT_CWD,a,r),await this.spawnService.spawnSync(process.env.INIT_CWD,a,r),t.domain||await this.updateChannelTotals(o,e,s),"production"==n.env&&await this.syncStatusService.handleChangedFiles(e,o,l?.lastModified),l.lastModified=new Date,await this.syncStatusService.put(l,s)}))}async syncChannel(e,t,r){let n=await this.sequelize();const i=s().resolve(r.syncDir,t.repo);let a=process.argv?.slice(2),o=a.indexOf("--clear");o>-1&&a.splice(o,2),a.push("--sync-rate"),a.push("0");let l=`${i}/public`;await n.transaction((async n=>{let o={transaction:n},s=await this.syncStatusService.getOrCreate(e,o);await this.spawnService.spawnSync(process.env.INIT_CWD,i,a),t.domain||await this.updateChannelTotals(l,e,o),"production"==r.env&&await this.syncStatusService.handleChangedFiles(e,l,s?.lastModified),s.lastModified=new Date,await this.syncStatusService.put(s,o)}))}async updateChannelTotals(e,t,r){let n=await this.libraryChannelService.getOrCreate(t,r);n.totals=JSON.parse(a().readFileSync(`${e}/sync/sales/overall.json`).toString()),n.latest=JSON.parse(a().readFileSync(`${e}/sync/transactions/latest.json`).toString());let i=JSON.parse(a().readFileSync(`${e}/backup/export/backup/channels.json`).toString())[0];n.title=i.title,n.descriptionHTML=i.descriptionHTML,n.itemCount=i.itemCount,n.coverImageId=i.coverImageId,n.symbol=i.symbol,await this.libraryChannelService.put(n,r)}async updateLibraryHome(e,t){let r=await this.sequelize();await r.transaction((async r=>{let n={transaction:r},i=await this.libraryChannelService.listByValue(n);if(a().writeFileSync(`${t}${e.libraryURL}/home.json`,JSON.stringify(i)),"production"==e.env){let r=await this.syncStatusService.getOrCreate(e.libraryURL,n);await this.syncStatusService.handleChangedFiles(void 0,`${t}${e.libraryURL}`,r?.lastModified),r.lastModified=new Date,await this.syncStatusService.put(r,n)}}))}};Kv([yt("SpawnService"),Yv("design:type",Et)],Zv.prototype,"spawnService",void 0),Kv([yt("SyncStatusService"),Yv("design:type",_t)],Zv.prototype,"syncStatusService",void 0),Kv([yt("LibraryChannelService"),Yv("design:type",Qv)],Zv.prototype,"libraryChannelService",void 0),Kv([yt("sequelize"),Yv("design:type",Function)],Zv.prototype,"sequelize",void 0),Zv=Kv([ft(),Yv("design:paramtypes",[])],Zv);var Xv=__webpack_require__(33763);globalThis.Headers=Xv.Z;const{Sequelize:ew}=__webpack_require__(10326);let tw;async function rw(e,t){if(tw)return tw;let r;tw=new dt;let n=[];for(let t of e.plugins){let r=await import(`${e.baseDir}/plugins/${t}`);r.default(),n.push(r)}return tw.bind("pluginModules").toConstantValue(n),tw.bind("baseURI").toConstantValue(t.baseURI),tw.bind("hostname").toConstantValue(t.hostname),tw.bind("channelDir").toConstantValue(t.channelDir),tw.bind("framework7").toConstantValue({}),tw.bind("provider").toConstantValue((()=>{if(t.alchemy)return new sm("homestead",e.alchemy)})),tw.bind("sequelize").toConstantValue((async e=>r||(r=new ew({logging:!1,database:"library",dialect:"sqlite",storage:`${e}/data/library.sqlite`,models:[E,$v]}),await r.sync(),await r.authenticate(),r))),tw.bind("AuthorService").to($y).inSingletonScope(),tw.bind("SyncStatusRepository").to(pt).inSingletonScope(),tw.bind("LibraryChannelRepository").to(Gv).inSingletonScope(),tw.bind("ChannelRepository").to(Rv).inSingletonScope(),tw.bind("AuthorRepository").to(Iv).inSingletonScope(),tw.bind("ImageRepository").to(Pv).inSingletonScope(),tw.bind("SpawnService").to(Et).inSingletonScope(),tw.bind("GenerateService").to(_v).inSingletonScope(),tw.bind("ItemService").to(uv).inSingletonScope(),tw.bind("ItemWebService").to(yv).inSingletonScope(),tw.bind("StaticPageService").to(Uy).inSingletonScope(),tw.bind("SyncStatusService").to(_t).inSingletonScope(),tw.bind("LibraryChannelService").to(Qv).inSingletonScope(),tw.bind("SyncLibraryService").to(Zv).inSingletonScope(),tw.bind("ChannelService").to(Wy).inSingletonScope(),tw.bind("ImageService").to(iv).inSingletonScope(),tw.bind("SchemaService").to(Xy).inSingletonScope(),tw.bind("QuillService").to(Ky).inSingletonScope(),tw.bind("AnimationService").to(jy).inSingletonScope(),tw.bind("ItemPageService").to(fv).inSingletonScope(),tw.bind("WalletService").to(Mv).inSingletonScope(),tw.bind("ItemRepository").to(Av).inSingletonScope(),tw.bind("StaticPageRepository").to(Sv).inSingletonScope(),tw.bind("AnimationRepository").to(Cv).inSingletonScope(),tw.bind("ItemPageRepository").to(Ov).inSingletonScope(),tw.bind("convert-svg-to-png").toConstantValue({}),tw.bind("sharp").toConstantValue({}),tw.bind("contracts").toConstantValue({}),tw.bind("RowItemViewModelRepository").toConstantValue({load:function(){throw new Error("Function not implemented.")},get:function(e){throw new Error("Function not implemented.")},put:function(e){throw new Error("Function not implemented.")},getByTokenIds:function(e){throw new Error("Function not implemented.")}}),tw.bind("ReaderSettingsRepository").toConstantValue({get:function(){throw new Error("Function not implemented.")},put:function(e){throw new Error("Function not implemented.")}}),tw.bind("ComponentStateRepository").toConstantValue({get:function(e){throw new Error("Function not implemented.")},put:function(e){throw new Error("Function not implemented.")}}),tw.bind("AttributeTotalService").to(sv).inSingletonScope(),tw.bind("AttributeTotalRepository").to(kv).inSingletonScope(),tw}let nw=async()=>{let e=await d.getSyncLibraryConfig();if(!e)throw new Error("No configuration found.");if(!e?.readers||0==Object.keys(e.readers)?.length)throw new Error("No repositories configured.");let t={channelDir:void 0,runDir:e.runDir,baseURI:e.baseURI,hostname:e.hostname,alchemy:void 0},r=await rw(e,t),n=r.get("SyncLibraryService"),i=r.get("GenerateService");a().existsSync(`${process.env.INIT_CWD}/data`)||a().mkdirSync(`${process.env.INIT_CWD}/data`);let o=r.get("sequelize"),l=await o(s().resolve(process.env.INIT_CWD));await l.query("PRAGMA busy_timeout=5000;"),await l.query("PRAGMA journal_mode=WAL;"),e.clear&&(await E.drop(),await $v.drop()),await l.sync();let c=s().resolve(process.env.INIT_CWD,e.syncDir);console.log(`Starting Sync Library to env: ${e.env}`);let u=process.argv?.slice(2);u.push("--sync-rate"),u.push("0"),u.push("--sync-dir"),u.push(c),await i.generateLibraryPages(e,c);for(let t of Object.keys(e.readers)){let r=e.readers[t];await n.syncAndGenerateChannel(t,r,u,e)}await n.updateLibraryHome(e,c),"production"==e.env&&async function t(){console.time("Syncing...");for(let t of Object.keys(e.readers)){let r=e.readers[t];await n.syncChannel(t,r,e)}await n.updateLibraryHome(e,c),console.timeEnd("Syncing..."),setTimeout(t,e.syncPushRate)}()};nw();const iw=nw})();var __webpack_exports__default=__webpack_exports__.Z;export{__webpack_exports__default as default};
//# sourceMappingURL=sync-library.js.map