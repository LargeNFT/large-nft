<!--suppress JSAnnotator -->
<template>

  <div class="page" data-name="home">

    <div class="navbar">
      <div class="navbar-inner sliding">
        <div class="left">

        </div>
        <div class="right">

          <a class="link" href="/">
            <i class="f7-icons">home</i>
            <span>Home</span>
          </a>

          <a class="link" href="/profile/static/{{currentAccount}}">
            <i class="f7-icons">person</i>
            <span>Profile</span>
          </a>

        </div>
      </div>

    </div>



    <div class="page-content">

      <div class="row">
        <div class="col-100 tablet-50 center">

          <div class="block-title">Follow</div>
          <div class="block">
              <div class="row">
                  <input class="col-80" type="text" id="friendAddress" placeholder="Enter your friend's wallet address">
                  <a class="button button-round button-outline col-20" id="findFriend" >Find</a>
              </div>

              {{#if foundFriend}}
                {{#with foundFriend}}
                  <div class="list media-list">
                    <ul>
                      {{> "profileResult"}}
                    </ul>
                  </div>
                {{/with}}
              {{/if}}

          </div>


          <div class="block-title">IPFS Peers</div>
          <div class="block">
                
            <div class="list media-list">
              <ul>
                  {{#each peers}}
                  <li>
                      <div class="item-content">
                        <div class="item-inner">
                          <div class="item-subtitle no-wrap">
                            {{this}}
                          </div>
                        </div>
                      </div>
                    </li>
                  {{/each}}
              </ul>
            </div>
              
          </div>



          <div class="block">
            <a href="/following">Following</a>
          </div>

          <hr />
<!-- 
          {{#if showRegisterButton}}
            <div class="block">
              <a href="#" class="button button-fill button-round" id="register-link">Register</a>
            </div>
          {{/if}}

          <div class="block-title">People</div>
          <div class="list media-list">
    
           <ul>

            </ul>

          </div> -->

        </div>
      </div>

    </div>

  </div>

</template>






<script>
  return {
    on: {
      pageInit: async function (e, page) {

        const self = this;

        let controller = window['connectController']

        this.$$('#register-link').on('click', function (e) {
            e.preventDefault()
            controller.registerClick(e)
        })

        this.$$('#findFriend').on('click', function (e) {
            e.preventDefault()
            controller.findFriendClick(e, self)
        })

      }
    },

    created: async function() {
        window['Global'].loadComponentState(this)
    }
  }
</script>