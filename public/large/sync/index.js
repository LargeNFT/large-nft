/*! For license information please see index.js.LICENSE.txt */
import*as e from"sequelize";import*as t from"sequelize-typescript";import{createRequire as r}from"module";var n={72167:(e,t)=>{function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=r({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.find=function(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}},t.freeze=r,t.MIME_TYPE=n,t.NAMESPACE=i},86129:(e,t,r)=>{var n=r(72167),i=r(41146),a=r(31045),o=r(76925),s=i.DOMImplementation,c=n.NAMESPACE,l=o.ParseError,u=o.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var r=this.options,n=new u,i=r.domBuilder||new h,o=r.errorHandler,s=r.locator,l=r.xmlns||{},p=/\/x?html?$/.test(t),f=p?a.HTML_ENTITIES:a.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=function(e,t,r){if(!e){if(t instanceof h)return t;e=t}var n={},i=e instanceof Function;function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(r){e(t,r)}:e),n[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+g(r))}||function(){}}return r=r||{},a("warning"),a("error"),a("fatalError"),n}(o,i,s),n.domBuilder=r.domBuilder||i,p&&(l[""]=c.HTML),l.xml=l.xml||c.XML;var m=r.normalizeLineEndings||d;return e&&"string"==typeof e?n.parse(m(e),l,f):n.errorHandler.error("invalid doc source"),i.doc},h.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),o=n.length;y(this,a),this.currentElement=a,this.locator&&f(this.locator,a);for(var s=0;s<o;s++){e=n.getURI(s);var c=n.getValue(s),l=(r=n.getQName(s),i.createAttributeNS(e,r));this.locator&&f(n.getLocator(s),l),l.value=l.nodeValue=c,a.setAttributeNode(l)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,r),y(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=m.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&f(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=m.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&f(this.locator,n),y(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&f(this.locator,i),y(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,g(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,g(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){h.prototype[e]=function(){return null}})),t.DOMParser=p},41146:(e,t,r)=>{var n=r(72167),i=n.find,a=n.NAMESPACE;function o(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function c(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}(e);return Object.keys(t.reduce(s,{}))}function l(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function u(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,l(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var d={},p=d.ELEMENT_NODE=1,h=d.ATTRIBUTE_NODE=2,f=d.TEXT_NODE=3,g=d.CDATA_SECTION_NODE=4,m=d.ENTITY_REFERENCE_NODE=5,y=d.ENTITY_NODE=6,b=d.PROCESSING_INSTRUCTION_NODE=7,v=d.COMMENT_NODE=8,w=d.DOCUMENT_NODE=9,A=d.DOCUMENT_TYPE_NODE=10,S=d.DOCUMENT_FRAGMENT_NODE=11,E=d.NOTATION_NODE=12,T={},R={},k=(T.INDEX_SIZE_ERR=(R[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(R[2]="DOMString size error",2),T.HIERARCHY_REQUEST_ERR=(R[3]="Hierarchy request error",3)),x=(T.WRONG_DOCUMENT_ERR=(R[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(R[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(R[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(R[7]="No modification allowed",7),T.NOT_FOUND_ERR=(R[8]="Not found",8)),I=(T.NOT_SUPPORTED_ERR=(R[9]="Not supported",9),T.INUSE_ATTRIBUTE_ERR=(R[10]="Attribute in use",10));function O(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,R[e]),this.message=R[e],Error.captureStackTrace&&Error.captureStackTrace(this,O);return r.code=e,t&&(this.message=this.message+": "+t),r}function M(){}function N(e,t){this._node=e,this._refresh=t,_(this)}function _(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);be(e,"length",r.length),l(r,e),e._inc=t}}function P(){}function C(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function L(e,t,r,n){if(n?t[C(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&$(i,e,n),function(e,t,r){e&&e._inc++,r.namespaceURI===a.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(i,e,r))}}function D(e,t,r){var n=C(t,r);if(!(n>=0))throw new O(x,new Error(e.tagName+"@"+r));for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&($(a,e,r),r.ownerElement=null)}}function V(){}function U(){}function B(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function j(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(j(e,t))return!0}while(e=e.nextSibling)}function F(){this.ownerDocument=this}function $(e,t,r,n){e&&e._inc++,r.namespaceURI===a.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function q(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function H(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,q(e.ownerDocument,e),t}function G(e){return e&&e.nodeType===U.DOCUMENT_TYPE_NODE}function W(e){return e&&e.nodeType===U.ELEMENT_NODE}function z(e){return e&&e.nodeType===U.TEXT_NODE}function J(e,t){var r=e.childNodes||[];if(i(r,W)||G(t))return!1;var n=i(r,G);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function Q(e,t){var r=e.childNodes||[];if(i(r,(function(e){return W(e)&&e!==t})))return!1;var n=i(r,G);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function K(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var o=a.filter(W);if(o.length>1||i(a,z))throw new O(k,"More than one element or text in fragment");if(1===o.length&&!J(e,r))throw new O(k,"Element in fragment can not be inserted before doctype")}if(W(t)&&!J(e,r))throw new O(k,"Only one element can be added and only after doctype");if(G(t)){if(i(n,G))throw new O(k,"Only one doctype is allowed");var s=i(n,W);if(r&&n.indexOf(s)<n.indexOf(r))throw new O(k,"Doctype can only be inserted before an element");if(!r&&s)throw new O(k,"Doctype can not be appended since element is present")}}function Y(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var o=a.filter(W);if(o.length>1||i(a,z))throw new O(k,"More than one element or text in fragment");if(1===o.length&&!Q(e,r))throw new O(k,"Element in fragment can not be inserted before doctype")}if(W(t)&&!Q(e,r))throw new O(k,"Only one element can be added and only after doctype");if(G(t)){if(i(n,(function(e){return G(e)&&e!==r})))throw new O(k,"Only one doctype is allowed");var s=i(n,W);if(r&&n.indexOf(s)<n.indexOf(r))throw new O(k,"Doctype can only be inserted before an element")}}function Z(e,t,r,n){(function(e,t,r){if(!function(e){return e&&(e.nodeType===U.DOCUMENT_NODE||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.ELEMENT_NODE)}(e))throw new O(k,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new O(x,"child not in parent");if(!function(e){return e&&(W(e)||z(e)||G(e)||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.COMMENT_NODE||e.nodeType===U.PROCESSING_INSTRUCTION_NODE)}(t)||G(t)&&e.nodeType!==U.DOCUMENT_NODE)throw new O(k,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,r),e.nodeType===U.DOCUMENT_NODE&&(n||K)(e,t,r);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===S){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var s=r?r.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=r,s?s.nextSibling=a:e.firstChild=a,null==r?e.lastChild=o:r.previousSibling=o;do{a.parentNode=e}while(a!==o&&(a=a.nextSibling));return q(e.ownerDocument||e,e),t.nodeType==S&&(t.firstChild=t.lastChild=null),t}function X(){this._nsMap={}}function ee(){}function te(){}function re(){}function ne(){}function ie(){}function ae(){}function oe(){}function se(){}function ce(){}function le(){}function ue(){}function de(){}function pe(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&null==i&&null==(i=n.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ge(this,r,e,t,o),r.join("")}function he(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===n&&i===a.XML||i===a.XMLNS)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix===n)return s.namespace!==i}return!0}function fe(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,B),'"')}function ge(e,t,r,n,i){if(i||(i=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case p:var o=e.attributes,s=o.length,c=e.firstChild,l=e.tagName,u=l;if(!(r=a.isHTML(e.namespaceURI)||r)&&!e.prefix&&e.namespaceURI){for(var d,y=0;y<o.length;y++)if("xmlns"===o.item(y).name){d=o.item(y).value;break}if(!d)for(var E=i.length-1;E>=0;E--)if(""===(T=i[E]).prefix&&T.namespace===e.namespaceURI){d=T.namespace;break}if(d!==e.namespaceURI)for(E=i.length-1;E>=0;E--){var T;if((T=i[E]).namespace===e.namespaceURI){T.prefix&&(u=T.prefix+":"+l);break}}}t.push("<",u);for(var R=0;R<s;R++)"xmlns"==(k=o.item(R)).prefix?i.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&i.push({prefix:"",namespace:k.value});for(R=0;R<s;R++){var k,x,I;he(k=o.item(R),0,i)&&(fe(t,(x=k.prefix||"")?"xmlns:"+x:"xmlns",I=k.namespaceURI),i.push({prefix:x,namespace:I})),ge(k,t,r,n,i)}if(l===u&&he(e,0,i)&&(fe(t,(x=e.prefix||"")?"xmlns:"+x:"xmlns",I=e.namespaceURI),i.push({prefix:x,namespace:I})),c||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;c;)c.data?t.push(c.data):ge(c,t,r,n,i.slice()),c=c.nextSibling;else for(;c;)ge(c,t,r,n,i.slice()),c=c.nextSibling;t.push("</",u,">")}else t.push("/>");return;case w:case S:for(c=e.firstChild;c;)ge(c,t,r,n,i.slice()),c=c.nextSibling;return;case h:return fe(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&>]/g,B));case g:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case A:var O=e.publicId,M=e.systemId;if(t.push("<!DOCTYPE ",e.name),O)t.push(" PUBLIC ",O),M&&"."!=M&&t.push(" ",M),t.push(">");else if(M&&"."!=M)t.push(" SYSTEM ",M,">");else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case b:return t.push("<?",e.target," ",e.data,"?>");case m:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function me(e,t,r){var n;switch(t.nodeType){case p:(n=t.cloneNode(!1)).ownerDocument=e;case S:break;case h:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(me(e,i,r)),i=i.nextSibling;return n}function ye(e,t,r){var n=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];"object"!=typeof a&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new M),n.ownerDocument=e,n.nodeType){case p:var o=t.attributes,s=n.attributes=new P,c=o.length;s._ownerElement=n;for(var l=0;l<c;l++)n.setAttributeNode(ye(e,o.item(l),!0));break;case h:r=!0}if(r)for(var u=t.firstChild;u;)n.appendChild(ye(e,u,r)),u=u.nextSibling;return n}function be(e,t,r){e[t]=r}T.INVALID_STATE_ERR=(R[11]="Invalid state",11),T.SYNTAX_ERR=(R[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(R[13]="Invalid modification",13),T.NAMESPACE_ERR=(R[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(R[15]="Invalid access",15),O.prototype=Error.prototype,l(T,O),M.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ge(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},N.prototype.item=function(e){return _(this),this[e]},u(N,M),P.prototype={length:0,item:M.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new O(I);var r=this.getNamedItem(e.nodeName);return L(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new O(I);return t=this.getNamedItemNS(e.namespaceURI,e.localName),L(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return D(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return D(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},V.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new F;if(n.implementation=this,n.childNodes=new M,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new ae;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Z(this,e,t)},replaceChild:function(e,t){Z(this,e,t,Y),t&&this.removeChild(t)},removeChild:function(e){return H(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ye(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},l(d,U),l(d,U.prototype),F.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==S){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return Z(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===p&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),H(this,e)},replaceChild:function(e,t){Z(this,e,t,Y),e.ownerDocument=this,t&&this.removeChild(t),W(e)&&(this.documentElement=e)},importNode:function(e,t){return me(this,e,t)},getElementById:function(e){var t=null;return j(this.documentElement,(function(r){if(r.nodeType==p&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){var t=c(e);return new N(this,(function(r){var n=[];return t.length>0&&j(r.documentElement,(function(i){if(i!==r&&i.nodeType===p){var a=i.getAttribute("class");if(a){var o=e===a;if(!o){var s=c(a);o=t.every((l=s,function(e){return l&&-1!==l.indexOf(e)}))}o&&n.push(i)}}var l})),n}))},createElement:function(e){var t=new X;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new M,(t.attributes=new P)._ownerElement=t,t},createDocumentFragment:function(){var e=new le;return e.ownerDocument=this,e.childNodes=new M,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ue;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new X,n=t.split(":"),i=r.attributes=new P;return r.childNodes=new M,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new ee,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},u(F,U),X.prototype={nodeType:p,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===S?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,q(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new N(this,(function(t){var r=[];return j(t,(function(n){n===t||n.nodeType!=p||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new N(this,(function(r){var n=[];return j(r,(function(i){i===r||i.nodeType!==p||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)})),n}))}},F.prototype.getElementsByTagName=X.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=X.prototype.getElementsByTagNameNS,u(X,U),ee.prototype.nodeType=h,u(ee,U),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(R[k])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},u(te,U),re.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(re,te),ne.prototype={nodeName:"#comment",nodeType:v},u(ne,te),ie.prototype={nodeName:"#cdata-section",nodeType:g},u(ie,te),ae.prototype.nodeType=A,u(ae,U),oe.prototype.nodeType=E,u(oe,U),se.prototype.nodeType=y,u(se,U),ce.prototype.nodeType=m,u(ce,U),le.prototype.nodeName="#document-fragment",le.prototype.nodeType=S,u(le,U),ue.prototype.nodeType=b,u(ue,U),de.prototype.serializeToString=function(e,t,r){return pe.call(e,t,r)},U.prototype.toString=pe;try{if(Object.defineProperty){function ve(e){switch(e.nodeType){case p:case S:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ve(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(N.prototype,"length",{get:function(){return _(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return ve(this)},set:function(e){switch(this.nodeType){case p:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),be=function(e,t,r){e["$$"+t]=r}}}catch(we){}t.DocumentType=ae,t.DOMException=O,t.DOMImplementation=V,t.Element=X,t.Node=U,t.NodeList=M,t.XMLSerializer=de},31045:(e,t,r)=>{var n=r(72167).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES},3969:(e,t,r)=>{var n=r(41146);n.DOMImplementation,t.B=n.XMLSerializer,t.DOMParser=r(86129).DOMParser},76925:(e,t,r)=>{var n=r(72167).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function c(){}function l(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,r,i,a,o){function s(e,t,n){r.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),n)}for(var c,l=++t,u=0;;){var d=e.charAt(l);switch(d){case"=":if(1===u)c=e.slice(t,l),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),c=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(c,p=e.slice(t,l),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(c,p=e.slice(t,l),t),o.warning('attribute "'+c+'" missed start quot('+d+")!!"),t=l+1,u=5}break;case"/":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&r.setTagName(e.slice(t,l)),l;case">":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,l)).slice(-1)&&(r.closed=!0,p=p.slice(0,-1));case 2:2===u&&(p=c),4==u?(o.warning('attribute "'+p+'" missed quot(")!'),s(c,p,t)):(n.isHTML(i[""])&&p.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),s(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(u){case 0:r.setTagName(e.slice(t,l)),u=6;break;case 1:c=e.slice(t,l),u=2;break;case 4:var p=e.slice(t,l);o.warning('attribute "'+p+'" missed quot(")!!'),s(c,p,t);case 5:u=6}else switch(u){case 2:r.tagName,n.isHTML(i[""])&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),s(c,c,t),t=l,u=1;break;case 5:o.warning('attribute space is required"'+c+'"!!');case 6:u=1,t=l;break;case 3:u=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function d(e,t,r){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],c=s.qName,l=s.value;if((h=c.indexOf(":"))>0)var u=s.prefix=c.slice(0,h),d=c.slice(h+1),p="xmlns"===u&&d;else d=c,u=null,p="xmlns"===c&&"";s.localName=d,!1!==p&&(null==a&&(a={},f(r,r={})),r[p]=a[p]=l,s.uri=n.XMLNS,t.startPrefixMapping(p,l))}for(o=e.length;o--;)(u=(s=e[o]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=r[u||""]));var h;(h=i.indexOf(":"))>0?(u=e.prefix=i.slice(0,h),d=e.localName=i.slice(h+1)):(u=null,d=e.localName=i);var g=e.uri=r[u||""];if(t.startElement(g,d,i,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(t.endElement(g,d,i),a)for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&t.endPrefixMapping(u)}function p(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),a)}return t+1}function h(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function f(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function g(e,t,r,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var a=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],c=!1,l=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],l=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var u=a[o-1];return r.startDTD(s,c,l),r.endDTD(),u.index+u[0].length}return-1}function m(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,c.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),f(t,t={}),function(e,t,r,i,a){function o(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function c(t){if(t>T){var r=e.substring(T,t).replace(/&#?\w+;/g,o);A&&f(T),i.characters(r,0,t-T),T=t}}function f(t,r){for(;t>=v&&(r=w.exec(e));)b=r.index,v=b+r[0].length,A.lineNumber++;A.columnNumber=t-b+1}for(var b=0,v=0,w=/.*(?:\r\n?|\n)|.*$/g,A=i.locator,S=[{currentNSMap:t}],E={},T=0;;){try{var R=e.indexOf("<",T);if(R<0){if(!e.substr(T).match(/^\s*$/)){var k=i.doc,x=k.createTextNode(e.substr(T));k.appendChild(x),i.currentElement=x}return}switch(R>T&&c(R),e.charAt(R+1)){case"/":var I=e.indexOf(">",R+3),O=e.substring(R+2,I).replace(/[ \t\n\r]+$/g,""),M=S.pop();I<0?(O=e.substring(R+2).replace(/[\s<].*/,""),a.error("end tag name: "+O+" is not complete:"+M.tagName),I=R+1+O.length):O.match(/\s</)&&(O=O.replace(/[\s<].*/,""),a.error("end tag name: "+O+" maybe not complete"),I=R+1+O.length);var N=M.localNSMap,_=M.tagName==O;if(_||M.tagName&&M.tagName.toLowerCase()==O.toLowerCase()){if(i.endElement(M.uri,M.localName,O),N)for(var P in N)Object.prototype.hasOwnProperty.call(N,P)&&i.endPrefixMapping(P);_||a.fatalError("end tag name: "+O+" is not match the current start tagName:"+M.tagName)}else S.push(M);I++;break;case"?":A&&f(R),I=m(e,R,i);break;case"!":A&&f(R),I=g(e,R,i,a);break;default:A&&f(R);var C=new y,L=S[S.length-1].currentNSMap,D=(I=u(e,R,C,L,o,a),C.length);if(!C.closed&&h(e,I,C.tagName,E)&&(C.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),A&&D){for(var V=l(A,{}),U=0;U<D;U++){var B=C[U];f(B.offset),B.locator=l(A,{})}i.locator=V,d(C,i,L)&&S.push(C),i.locator=A}else d(C,i,L)&&S.push(C);n.isHTML(C.uri)&&!C.closed?I=p(e,I,C.tagName,o,i):I++}}catch(e){if(e instanceof s)throw e;a.error("element parse error: "+e),I=-1}I>T?T=I:c(Math.max(R,T)+1)}}(e,t,r,i,this.errorHandler),i.endDocument()}},y.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=c,t.ParseError=s},86021:e=>{const t=Symbol("arg flag");class r extends Error{constructor(e,t){super(e),this.name="ArgError",this.code=t,Object.setPrototypeOf(this,r.prototype)}}function n(e,{argv:n=process.argv.slice(2),permissive:i=!1,stopAtPositional:a=!1}={}){if(!e)throw new r("argument specification object is required","ARG_CONFIG_NO_SPEC");const o={_:[]},s={},c={};for(const n of Object.keys(e)){if(!n)throw new r("argument key cannot be an empty string","ARG_CONFIG_EMPTY_KEY");if("-"!==n[0])throw new r(`argument key must start with '-' but found: '${n}'`,"ARG_CONFIG_NONOPT_KEY");if(1===n.length)throw new r(`argument key must have a name; singular '-' keys are not allowed: ${n}`,"ARG_CONFIG_NONAME_KEY");if("string"==typeof e[n]){s[n]=e[n];continue}let i=e[n],a=!1;if(Array.isArray(i)&&1===i.length&&"function"==typeof i[0]){const[e]=i;i=(t,r,n=[])=>(n.push(e(t,r,n[n.length-1])),n),a=e===Boolean||!0===e[t]}else{if("function"!=typeof i)throw new r(`type missing or not a function or valid array type: ${n}`,"ARG_CONFIG_VAD_TYPE");a=i===Boolean||!0===i[t]}if("-"!==n[1]&&n.length>2)throw new r(`short argument keys (with a single hyphen) must have only one character: ${n}`,"ARG_CONFIG_SHORTOPT_TOOLONG");c[n]=[i,a]}for(let e=0,t=n.length;e<t;e++){const t=n[e];if(a&&o._.length>0){o._=o._.concat(n.slice(e));break}if("--"===t){o._=o._.concat(n.slice(e+1));break}if(t.length>1&&"-"===t[0]){const a="-"===t[1]||2===t.length?[t]:t.slice(1).split("").map((e=>`-${e}`));for(let t=0;t<a.length;t++){const l=a[t],[u,d]="-"===l[1]?l.split(/=(.*)/,2):[l,void 0];let p=u;for(;p in s;)p=s[p];if(!(p in c)){if(i){o._.push(l);continue}throw new r(`unknown or unexpected option: ${u}`,"ARG_UNKNOWN_OPTION")}const[h,f]=c[p];if(!f&&t+1<a.length)throw new r(`option requires argument (but was followed by another short argument): ${u}`,"ARG_MISSING_REQUIRED_SHORTARG");if(f)o[p]=h(!0,p,o[p]);else if(void 0===d){if(n.length<e+2||n[e+1].length>1&&"-"===n[e+1][0]&&(!n[e+1].match(/^-?\d*(\.(?=\d))?\d*$/)||h!==Number&&("undefined"==typeof BigInt||h!==BigInt)))throw new r(`option requires argument: ${u}${u===p?"":` (alias for ${p})`}`,"ARG_MISSING_REQUIRED_LONGARG");o[p]=h(n[e+1],p,o[p]),++e}else o[p]=h(d,p,o[p])}}else o._.push(t)}return o}n.flag=e=>(e[t]=!0,e),n.COUNT=n.flag(((e,t,r)=>(r||0)+1)),n.ArgError=r,e.exports=n},19662:(e,t,r)=>{var n=r(60614),i=r(66330),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a function")}},39483:(e,t,r)=>{var n=r(4411),i=r(66330),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a constructor")}},96077:(e,t,r)=>{var n=r(60614),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},51223:(e,t,r)=>{var n=r(5112),i=r(70030),a=r(3070).f,o=n("unscopables"),s=Array.prototype;null==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},31530:(e,t,r)=>{var n=r(28710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},25787:(e,t,r)=>{var n=r(47976),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},19670:(e,t,r)=>{var n=r(70111),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not an object")}},23013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:(e,t,r)=>{var n=r(47293);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},90260:(e,t,r)=>{var n,i,a,o=r(23013),s=r(19781),c=r(17854),l=r(60614),u=r(70111),d=r(92597),p=r(70648),h=r(66330),f=r(68880),g=r(98052),m=r(47045),y=r(47976),b=r(79518),v=r(27674),w=r(5112),A=r(69711),S=r(29909),E=S.enforce,T=S.get,R=c.Int8Array,k=R&&R.prototype,x=c.Uint8ClampedArray,I=x&&x.prototype,O=R&&b(R),M=k&&b(k),N=Object.prototype,_=c.TypeError,P=w("toStringTag"),C=A("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",D=o&&!!v&&"Opera"!==p(c.opera),V=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},j=function(e){var t=b(e);if(u(t)){var r=T(t);return r&&d(r,L)?r[L]:j(t)}},F=function(e){if(!u(e))return!1;var t=p(e);return d(U,t)||d(B,t)};for(n in U)(a=(i=c[n])&&i.prototype)?E(a)[L]=i:D=!1;for(n in B)(a=(i=c[n])&&i.prototype)&&(E(a)[L]=i);if((!D||!l(O)||O===Function.prototype)&&(O=function(){throw _("Incorrect invocation")},D))for(n in U)c[n]&&v(c[n],O);if((!D||!M||M===N)&&(M=O.prototype,D))for(n in U)c[n]&&v(c[n].prototype,M);if(D&&b(I)!==M&&v(I,M),s&&!d(M,P))for(n in V=!0,m(M,P,{configurable:!0,get:function(){return u(this)?this[C]:void 0}}),U)c[n]&&f(c[n],C,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:V&&C,aTypedArray:function(e){if(F(e))return e;throw _("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!v||y(O,e)))return e;throw _(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in U){var a=c[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}M[e]&&!r||g(M,e,r?t:D&&k[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(v){if(r)for(n in U)if((i=c[n])&&d(i,e))try{delete i[e]}catch(e){}if(O[e]&&!r)return;try{return g(O,e,r?t:D&&O[e]||t)}catch(e){}}for(n in U)!(i=c[n])||i[e]&&!r||g(i,e,t)}},getTypedArrayConstructor:j,isView:function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d(U,t)||d(B,t)},isTypedArray:F,TypedArray:O,TypedArrayPrototype:M}},13331:(e,t,r)=>{var n=r(17854),i=r(1702),a=r(19781),o=r(23013),s=r(76530),c=r(68880),l=r(47045),u=r(89190),d=r(47293),p=r(25787),h=r(19303),f=r(17466),g=r(57067),m=r(11179),y=r(79518),b=r(27674),v=r(8006).f,w=r(21285),A=r(41589),S=r(58003),E=r(29909),T=s.PROPER,R=s.CONFIGURABLE,k="ArrayBuffer",x="DataView",I="prototype",O="Wrong index",M=E.getterFor(k),N=E.getterFor(x),_=E.set,P=n[k],C=P,L=C&&C[I],D=n[x],V=D&&D[I],U=Object.prototype,B=n.Array,j=n.RangeError,F=i(w),$=i([].reverse),q=m.pack,H=m.unpack,G=function(e){return[255&e]},W=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},J=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return q(e,23,4)},K=function(e){return q(e,52,8)},Y=function(e,t,r){l(e[I],t,{configurable:!0,get:function(){return r(this)[t]}})},Z=function(e,t,r,n){var i=g(r),a=N(e);if(i+t>a.byteLength)throw j(O);var o=a.bytes,s=i+a.byteOffset,c=A(o,s,s+t);return n?c:$(c)},X=function(e,t,r,n,i,a){var o=g(r),s=N(e);if(o+t>s.byteLength)throw j(O);for(var c=s.bytes,l=o+s.byteOffset,u=n(+i),d=0;d<t;d++)c[l+d]=u[a?d:t-d-1]};if(o){var ee=T&&P.name!==k;if(d((function(){P(1)}))&&d((function(){new P(-1)}))&&!d((function(){return new P,new P(1.5),new P(NaN),1!=P.length||ee&&!R})))ee&&R&&c(P,"name",k);else{(C=function(e){return p(this,L),new P(g(e))})[I]=L;for(var te,re=v(P),ne=0;re.length>ne;)(te=re[ne++])in C||c(C,te,P[te]);L.constructor=C}b&&y(V)!==U&&b(V,U);var ie=new D(new C(2)),ae=i(V.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||u(V,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else L=(C=function(e){p(this,L);var t=g(e);_(this,{type:k,bytes:F(B(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[I],V=(D=function(e,t,r){p(this,V),p(e,L);var n=M(e),i=n.byteLength,o=h(t);if(o<0||o>i)throw j("Wrong offset");if(o+(r=void 0===r?i-o:f(r))>i)throw j("Wrong length");_(this,{type:x,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=o)})[I],a&&(Y(C,"byteLength",M),Y(D,"buffer",N),Y(D,"byteLength",N),Y(D,"byteOffset",N)),u(V,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return J(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return J(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return H(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return H(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,G,t)},setUint8:function(e,t){X(this,1,e,G,t)},setInt16:function(e,t){X(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,K,t,arguments.length>2?arguments[2]:void 0)}});S(C,k),S(D,x),e.exports={ArrayBuffer:C,DataView:D}},1048:(e,t,r)=>{var n=r(47908),i=r(51400),a=r(26244),o=r(85117),s=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),c=a(r),l=i(e,c),u=i(t,c),d=arguments.length>2?arguments[2]:void 0,p=s((void 0===d?c:i(d,c))-u,c-l),h=1;for(u<l&&l<u+p&&(h=-1,u+=p-1,l+=p-1);p-- >0;)u in r?r[l]=r[u]:o(r,l),l+=h,u+=h;return r}},21285:(e,t,r)=>{var n=r(47908),i=r(51400),a=r(26244);e.exports=function(e){for(var t=n(this),r=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,l=void 0===c?r:i(c,r);l>s;)t[s++]=e;return t}},18533:(e,t,r)=>{var n=r(42092).forEach,i=r(9341)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},97745:(e,t,r)=>{var n=r(26244);e.exports=function(e,t){for(var r=0,i=n(t),a=new e(i);i>r;)a[r]=t[r++];return a}},48457:(e,t,r)=>{var n=r(49974),i=r(46916),a=r(47908),o=r(53411),s=r(97659),c=r(4411),l=r(26244),u=r(86135),d=r(18554),p=r(71246),h=Array;e.exports=function(e){var t=a(e),r=c(this),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g;m&&(g=n(g,f>2?arguments[2]:void 0));var y,b,v,w,A,S,E=p(t),T=0;if(!E||this===h&&s(E))for(y=l(t),b=r?new this(y):h(y);y>T;T++)S=m?g(t[T],T):t[T],u(b,T,S);else for(A=(w=d(t,E)).next,b=r?new this:[];!(v=i(A,w)).done;T++)S=m?o(w,g,[v.value,T],!0):v.value,u(b,T,S);return b.length=T,b}},41318:(e,t,r)=>{var n=r(45656),i=r(51400),a=r(26244),o=function(e){return function(t,r,o){var s,c=n(t),l=a(c),u=i(o,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9671:(e,t,r)=>{var n=r(49974),i=r(68361),a=r(47908),o=r(26244),s=function(e){var t=1==e;return function(r,s,c){for(var l,u=a(r),d=i(u),p=n(s,c),h=o(d);h-- >0;)if(p(l=d[h],h,u))switch(e){case 0:return l;case 1:return h}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},42092:(e,t,r)=>{var n=r(49974),i=r(1702),a=r(68361),o=r(47908),s=r(26244),c=r(65417),l=i([].push),u=function(e){var t=1==e,r=2==e,i=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,m,y){for(var b,v,w=o(f),A=a(w),S=n(g,m),E=s(A),T=0,R=y||c,k=t?R(f,E):r||p?R(f,0):void 0;E>T;T++)if((h||T in A)&&(v=S(b=A[T],T,w),e))if(t)k[T]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return T;case 2:l(k,b)}else switch(e){case 4:return!1;case 7:l(k,b)}return d?-1:i||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},86583:(e,t,r)=>{var n=r(22104),i=r(45656),a=r(19303),o=r(26244),s=r(9341),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),p=u||!d;e.exports=p?function(e){if(u)return n(l,this,arguments)||0;var t=i(this),r=o(t),s=r-1;for(arguments.length>1&&(s=c(s,a(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},81194:(e,t,r)=>{var n=r(47293),i=r(5112),a=r(7392),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,r)=>{var n=r(47293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},53671:(e,t,r)=>{var n=r(19662),i=r(47908),a=r(68361),o=r(26244),s=TypeError,c=function(e){return function(t,r,c,l){n(r);var u=i(t),d=a(u),p=o(u),h=e?p-1:0,f=e?-1:1;if(c<2)for(;;){if(h in d){l=d[h],h+=f;break}if(h+=f,e?h<0:p<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=f)h in d&&(l=r(l,d[h],h,u));return l}};e.exports={left:c(!1),right:c(!0)}},83658:(e,t,r)=>{var n=r(19781),i=r(43157),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},41589:(e,t,r)=>{var n=r(51400),i=r(26244),a=r(86135),o=Array,s=Math.max;e.exports=function(e,t,r){for(var c=i(e),l=n(t,c),u=n(void 0===r?c:r,c),d=o(s(u-l,0)),p=0;l<u;l++,p++)a(d,p,e[l]);return d.length=p,d}},50206:(e,t,r)=>{var n=r(1702);e.exports=n([].slice)},94362:(e,t,r)=>{var n=r(41589),i=Math.floor,a=function(e,t){var r=e.length,c=i(r/2);return r<8?o(e,t):s(e,a(n(e,0,c),t),a(n(e,c),t),t)},o=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};e.exports=a},77475:(e,t,r)=>{var n=r(43157),i=r(4411),a=r(70111),o=r(5112)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===s||n(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},65417:(e,t,r)=>{var n=r(77475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},21843:(e,t,r)=>{var n=r(26244);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},11572:(e,t,r)=>{var n=r(26244),i=r(19303),a=RangeError;e.exports=function(e,t,r,o){var s=n(e),c=i(r),l=c<0?s+c:c;if(l>=s||l<0)throw a("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===l?o:e[d];return u}},14170:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={},n=0;n<66;n++)r[t.charAt(n)]=n;e.exports={itoc:t,ctoi:r}},53411:(e,t,r)=>{var n=r(19670),i=r(99212);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},17072:(e,t,r)=>{var n=r(5112)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},84326:(e,t,r)=>{var n=r(1702),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},70648:(e,t,r)=>{var n=r(51694),i=r(60614),a=r(84326),o=r(5112)("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:c?a(t):"Object"==(n=a(t))&&i(t.callee)?"Arguments":n}},95631:(e,t,r)=>{var n=r(70030),i=r(47045),a=r(89190),o=r(49974),s=r(25787),c=r(68554),l=r(20408),u=r(51656),d=r(76178),p=r(96340),h=r(19781),f=r(62423).fastKey,g=r(29909),m=g.set,y=g.getterFor;e.exports={getConstructor:function(e,t,r,u){var d=e((function(e,i){s(e,p),m(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),h||(e.size=0),c(i)||l(i,e[u],{that:e,AS_ENTRIES:r})})),p=d.prototype,g=y(t),b=function(e,t,r){var n,i,a=g(e),o=v(e,t);return o?o.value=r:(a.last=o={index:i=f(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),h?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},v=function(e,t){var r,n=g(e),i=f(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return a(p,{clear:function(){for(var e=g(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,r=g(t),n=v(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),h?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=g(this),n=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),a(p,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),h&&i(p,"size",{configurable:!0,get:function(){return g(this).size}}),d},setStrong:function(e,t,r){var n=t+" Iterator",i=y(t),a=y(n);u(e,t,(function(e,t){m(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?d("keys"==t?r.key:"values"==t?r.value:[r.key,r.value],!1):(e.target=void 0,d(void 0,!0))}),r?"entries":"values",!r,!0),p(t)}}},29320:(e,t,r)=>{var n=r(1702),i=r(89190),a=r(62423).getWeakData,o=r(25787),s=r(19670),c=r(68554),l=r(70111),u=r(20408),d=r(42092),p=r(92597),h=r(29909),f=h.set,g=h.getterFor,m=d.find,y=d.findIndex,b=n([].splice),v=0,w=function(e){return e.frozen||(e.frozen=new A)},A=function(){this.entries=[]},S=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};A.prototype={get:function(e){var t=S(this,e);if(t)return t[1]},has:function(e){return!!S(this,e)},set:function(e,t){var r=S(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var d=e((function(e,i){o(e,h),f(e,{type:t,id:v++,frozen:void 0}),c(i)||u(i,e[n],{that:e,AS_ENTRIES:r})})),h=d.prototype,m=g(t),y=function(e,t,r){var n=m(e),i=a(s(t),!0);return!0===i?w(n).set(t,r):i[n.id]=r,e};return i(h,{delete:function(e){var t=m(this);if(!l(e))return!1;var r=a(e);return!0===r?w(t).delete(e):r&&p(r,t.id)&&delete r[t.id]},has:function(e){var t=m(this);if(!l(e))return!1;var r=a(e);return!0===r?w(t).has(e):r&&p(r,t.id)}}),i(h,r?{get:function(e){var t=m(this);if(l(e)){var r=a(e);return!0===r?w(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),d}}},77710:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(1702),o=r(54705),s=r(98052),c=r(62423),l=r(20408),u=r(25787),d=r(60614),p=r(68554),h=r(70111),f=r(47293),g=r(17072),m=r(58003),y=r(79587);e.exports=function(e,t,r){var b=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),w=b?"set":"add",A=i[e],S=A&&A.prototype,E=A,T={},R=function(e){var t=a(S[e]);s(S,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return v&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!h(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(o(e,!d(A)||!(v||S.forEach&&!f((function(){(new A).entries().next()})))))E=r.getConstructor(t,e,b,w),c.enable();else if(o(e,!0)){var k=new E,x=k[w](v?{}:-0,1)!=k,I=f((function(){k.has(1)})),O=g((function(e){new A(e)})),M=!v&&f((function(){for(var e=new A,t=5;t--;)e[w](t,t);return!e.has(-0)}));O||((E=t((function(e,t){u(e,S);var r=y(new A,e,E);return p(t)||l(t,r[w],{that:r,AS_ENTRIES:b}),r}))).prototype=S,S.constructor=E),(I||M)&&(R("delete"),R("has"),b&&R("get")),(M||x)&&R(w),v&&S.clear&&delete S.clear}return T[e]=E,n({global:!0,constructor:!0,forced:E!=A},T),m(E,e),v||r.setStrong(E,e,b),E}},99920:(e,t,r)=>{var n=r(92597),i=r(53887),a=r(31236),o=r(3070);e.exports=function(e,t,r){for(var s=i(t),c=o.f,l=a.f,u=0;u<s.length;u++){var d=s[u];n(e,d)||r&&n(r,d)||c(e,d,l(t,d))}}},84964:(e,t,r)=>{var n=r(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},49920:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},14230:(e,t,r)=>{var n=r(1702),i=r(84488),a=r(41340),o=/"/g,s=n("".replace);e.exports=function(e,t,r,n){var c=a(i(e)),l="<"+t;return""!==r&&(l+=" "+r+'="'+s(a(n),o,"&quot;")+'"'),l+">"+c+"</"+t+">"}},76178:e=>{e.exports=function(e,t){return{value:e,done:t}}},68880:(e,t,r)=>{var n=r(19781),i=r(3070),a=r(79114);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:(e,t,r)=>{var n=r(34948),i=r(3070),a=r(79114);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},85573:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(76650).start,o=RangeError,s=isFinite,c=Math.abs,l=Date.prototype,u=l.toISOString,d=n(l.getTime),p=n(l.getUTCDate),h=n(l.getUTCFullYear),f=n(l.getUTCHours),g=n(l.getUTCMilliseconds),m=n(l.getUTCMinutes),y=n(l.getUTCMonth),b=n(l.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!s(d(this)))throw o("Invalid time value");var e=this,t=h(e),r=g(e),n=t<0?"-":t>9999?"+":"";return n+a(c(t),n?6:4,0)+"-"+a(y(e)+1,2,0)+"-"+a(p(e),2,0)+"T"+a(f(e),2,0)+":"+a(m(e),2,0)+":"+a(b(e),2,0)+"."+a(r,3,0)+"Z"}:u},38709:(e,t,r)=>{var n=r(19670),i=r(92140),a=TypeError;e.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw a("Incorrect hint");return i(this,e)}},47045:(e,t,r)=>{var n=r(56339),i=r(3070);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},98052:(e,t,r)=>{var n=r(60614),i=r(3070),a=r(56339),o=r(13072);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(n(r)&&a(r,l,s),s.global)c?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},89190:(e,t,r)=>{var n=r(98052);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},13072:(e,t,r)=>{var n=r(17854),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},85117:(e,t,r)=>{var n=r(66330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},19781:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},80317:(e,t,r)=>{var n=r(17854),i=r(70111),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},93678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},48324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(e,t,r)=>{var n=r(80317)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},68886:(e,t,r)=>{var n=r(88113).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},7871:(e,t,r)=>{var n=r(83823),i=r(35268);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},89363:e=>{e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},83823:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},30256:(e,t,r)=>{var n=r(88113);e.exports=/MSIE|Trident/.test(n)},71528:(e,t,r)=>{var n=r(88113);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},6833:(e,t,r)=>{var n=r(88113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},35268:(e,t,r)=>{var n=r(84326);e.exports="undefined"!=typeof process&&"process"==n(process)},71036:(e,t,r)=>{var n=r(88113);e.exports=/web0s(?!.*chrome)/i.test(n)},88113:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(e,t,r)=>{var n,i,a=r(17854),o=r(88113),s=a.process,c=a.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},98008:(e,t,r)=>{var n=r(88113).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},98770:(e,t,r)=>{var n=r(17854);e.exports=function(e){return n[e].prototype}},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},11060:(e,t,r)=>{var n=r(1702),i=Error,a=n("".replace),o=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(o);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},5392:(e,t,r)=>{var n=r(68880),i=r(11060),a=r(22914),o=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(o?o(e,t):n(e,"stack",i(r,s)))}},22914:(e,t,r)=>{var n=r(47293),i=r(79114);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7762:(e,t,r)=>{var n=r(19781),i=r(47293),a=r(19670),o=r(70030),s=r(56277),c=Error.prototype.toString,l=i((function(){if(n){var e=o(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==c.call(e))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));e.exports=l?function(){var e=a(this),t=s(e.name,"Error"),r=s(e.message);return t?r?t+": "+r:t:r}:c},82109:(e,t,r)=>{var n=r(17854),i=r(31236).f,a=r(68880),o=r(98052),s=r(13072),c=r(99920),l=r(54705);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[f]||s(f,{}):(n[f]||{}).prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(h=i(r,u))&&h.value:r[u],!l(g?u:f+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(r,u,p,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},27007:(e,t,r)=>{r(74916);var n=r(21470),i=r(98052),a=r(22261),o=r(47293),s=r(5112),c=r(68880),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,r,d){var p=s(e),h=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[l]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!f||r){var g=n(/./[p]),m=t(p,""[e],(function(e,t,r,i,o){var s=n(e),c=t.exec;return c===a||c===u.exec?h&&!o?{done:!0,value:g(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(u,p,m[1])}d&&c(u[p],"sham",!0)}},6790:(e,t,r)=>{var n=r(43157),i=r(26244),a=r(7207),o=r(49974),s=function(e,t,r,c,l,u,d,p){for(var h,f,g=l,m=0,y=!!d&&o(d,p);m<c;)m in r&&(h=y?y(r[m],m,t):r[m],u>0&&n(h)?(f=i(h),g=s(e,t,h,f,g,u-1)-1):(a(g+1),e[g]=h),g++),m++;return g};e.exports=s},76677:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},22104:(e,t,r)=>{var n=r(34374),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},49974:(e,t,r)=>{var n=r(21470),i=r(19662),a=r(34374),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},34374:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},27065:(e,t,r)=>{var n=r(1702),i=r(19662),a=r(70111),o=r(92597),s=r(50206),c=r(34374),l=Function,u=n([].concat),d=n([].join),p={};e.exports=c?l.bind:function(e){var t=i(this),r=t.prototype,n=s(arguments,1),c=function(){var r=u(n,s(arguments));return this instanceof c?function(e,t,r){if(!o(p,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";p[t]=l("C,a","return new C("+d(n,",")+")")}return p[t](e,r)}(t,r.length,r):t.apply(e,r)};return a(r)&&(c.prototype=r),c}},46916:(e,t,r)=>{var n=r(34374),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},76530:(e,t,r)=>{var n=r(19781),i=r(92597),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),c=s&&"something"===function(){}.name,l=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},75668:(e,t,r)=>{var n=r(1702),i=r(19662);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},21470:(e,t,r)=>{var n=r(84326),i=r(1702);e.exports=function(e){if("Function"===n(e))return i(e)}},1702:(e,t,r)=>{var n=r(34374),i=Function.prototype,a=i.call,o=n&&i.bind.bind(a,a);e.exports=n?o:function(e){return function(){return a.apply(e,arguments)}}},35005:(e,t,r)=>{var n=r(17854),i=r(60614);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},71246:(e,t,r)=>{var n=r(70648),i=r(58173),a=r(68554),o=r(97497),s=r(5112)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},18554:(e,t,r)=>{var n=r(46916),i=r(19662),a=r(19670),o=r(66330),s=r(71246),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw c(o(e)+" is not iterable")}},88044:(e,t,r)=>{var n=r(1702),i=r(43157),a=r(60614),o=r(84326),s=r(41340),c=n([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var l=e[n];"string"==typeof l?c(r,l):"number"!=typeof l&&"Number"!=o(l)&&"String"!=o(l)||c(r,s(l))}var u=r.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var n=0;n<u;n++)if(r[n]===e)return t}}}},58173:(e,t,r)=>{var n=r(19662),i=r(68554);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},10647:(e,t,r)=>{var n=r(1702),i=r(47908),a=Math.floor,o=n("".charAt),s=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,p){var h=r+e.length,f=n.length,g=u;return void 0!==d&&(d=i(d),g=l),s(p,g,(function(i,s){var l;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,h);case"<":l=d[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>f){var p=a(u/10);return 0===p?i:p<=f?void 0===n[p-1]?o(s,1):n[p-1]+o(s,1):i}l=n[u-1]}return void 0===l?"":l}))}},17854:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},92597:(e,t,r)=>{var n=r(1702),i=r(47908),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:e=>{e.exports={}},842:e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},60490:(e,t,r)=>{var n=r(35005);e.exports=n("document","documentElement")},64664:(e,t,r)=>{var n=r(19781),i=r(47293),a=r(80317);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},11179:e=>{var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,c){var l,u,d,p=t(c),h=8*c-s-1,f=(1<<h)-1,g=f>>1,m=23===s?n(2,-24)-n(2,-77):0,y=e<0||0===e&&1/e<0?1:0,b=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,l=f):(l=i(a(e)/o),e*(d=n(2,-l))<1&&(l--,d*=2),(e+=l+g>=1?m/d:m*n(2,1-g))*d>=2&&(l++,d/=2),l+g>=f?(u=0,l=f):l+g>=1?(u=(e*d-1)*n(2,s),l+=g):(u=e*n(2,g-1)*n(2,s),l=0));s>=8;)p[b++]=255&u,u/=256,s-=8;for(l=l<<s|u,h+=s;h>0;)p[b++]=255&l,l/=256,h-=8;return p[--b]|=128*y,p},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,c=a-7,l=i-1,u=e[l--],d=127&u;for(u>>=7;c>0;)d=256*d+e[l--],c-=8;for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)r=256*r+e[l--],c-=8;if(0===d)d=1-s;else{if(d===o)return r?NaN:u?-1/0:1/0;r+=n(2,t),d-=s}return(u?-1:1)*r*n(2,d-t)}}},68361:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(84326),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},79587:(e,t,r)=>{var n=r(60614),i=r(70111),a=r(27674);e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},42788:(e,t,r)=>{var n=r(1702),i=r(60614),a=r(5465),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},58340:(e,t,r)=>{var n=r(70111),i=r(68880);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},62423:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(3501),o=r(70111),s=r(92597),c=r(3070).f,l=r(8006),u=r(1156),d=r(52050),p=r(69711),h=r(76677),f=!1,g=p("meta"),m=0,y=function(e){c(e,g,{value:{objectID:"O"+m++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},f=!0;var e=l.f,t=i([].splice),r={};r[g]=1,e(r).length&&(l.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===g){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";y(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;y(e)}return e[g].weakData},onFreeze:function(e){return h&&f&&d(e)&&!s(e,g)&&y(e),e}};a[g]=!0},29909:(e,t,r)=>{var n,i,a,o=r(94811),s=r(17854),c=r(70111),l=r(68880),u=r(92597),d=r(5465),p=r(6200),h=r(3501),f="Object already initialized",g=s.TypeError,m=s.WeakMap;if(o||d.state){var y=d.state||(d.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw g(f);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},a=function(e){return y.has(e)}}else{var b=p("state");h[b]=!0,n=function(e,t){if(u(e,b))throw g(f);return t.facade=e,l(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},a=function(e){return u(e,b)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},97659:(e,t,r)=>{var n=r(5112),i=r(97497),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},43157:(e,t,r)=>{var n=r(84326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},44067:(e,t,r)=>{var n=r(70648);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},60614:(e,t,r)=>{var n=r(4154),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4411:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(60614),o=r(70648),s=r(35005),c=r(42788),l=function(){},u=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),f=!p.exec(l),g=function(e){if(!a(e))return!1;try{return d(l,u,e),!0}catch(e){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},45032:(e,t,r)=>{var n=r(92597);e.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},54705:(e,t,r)=>{var n=r(47293),i=r(60614),a=/#|\.prototype\./,o=function(e,t){var r=c[s(e)];return r==u||r!=l&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},55988:(e,t,r)=>{var n=r(70111),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},68554:e=>{e.exports=function(e){return null==e}},70111:(e,t,r)=>{var n=r(60614),i=r(4154),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},31913:e=>{e.exports=!1},47850:(e,t,r)=>{var n=r(70111),i=r(84326),a=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},52190:(e,t,r)=>{var n=r(35005),i=r(60614),a=r(47976),o=r(43307),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},20408:(e,t,r)=>{var n=r(49974),i=r(46916),a=r(19670),o=r(66330),s=r(97659),c=r(26244),l=r(47976),u=r(18554),d=r(71246),p=r(99212),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var m,y,b,v,w,A,S,E=r&&r.that,T=!(!r||!r.AS_ENTRIES),R=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),I=n(t,E),O=function(e){return m&&p(m,"normal",e),new f(!0,e)},M=function(e){return T?(a(e),x?I(e[0],e[1],O):I(e[0],e[1])):x?I(e,O):I(e)};if(R)m=e.iterator;else if(k)m=e;else{if(!(y=d(e)))throw h(o(e)+" is not iterable");if(s(y)){for(b=0,v=c(e);v>b;b++)if((w=M(e[b]))&&l(g,w))return w;return new f(!1)}m=u(e,y)}for(A=R?e.next:m.next;!(S=i(A,m)).done;){try{w=M(S.value)}catch(e){p(m,"throw",e)}if("object"==typeof w&&w&&l(g,w))return w}return new f(!1)}},99212:(e,t,r)=>{var n=r(46916),i=r(19670),a=r(58173);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},63061:(e,t,r)=>{var n=r(13383).IteratorPrototype,i=r(70030),a=r(79114),o=r(58003),s=r(97497),c=function(){return this};e.exports=function(e,t,r,l){var u=t+" Iterator";return e.prototype=i(n,{next:a(+!l,r)}),o(e,u,!1,!0),s[u]=c,e}},51656:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(31913),o=r(76530),s=r(60614),c=r(63061),l=r(79518),u=r(27674),d=r(58003),p=r(68880),h=r(98052),f=r(5112),g=r(97497),m=r(13383),y=o.PROPER,b=o.CONFIGURABLE,v=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,A=f("iterator"),S="keys",E="values",T="entries",R=function(){return this};e.exports=function(e,t,r,o,f,m,k){c(r,t,o);var x,I,O,M=function(e){if(e===f&&L)return L;if(!w&&e in P)return P[e];switch(e){case S:case E:case T:return function(){return new r(this,e)}}return function(){return new r(this)}},N=t+" Iterator",_=!1,P=e.prototype,C=P[A]||P["@@iterator"]||f&&P[f],L=!w&&C||M(f),D="Array"==t&&P.entries||C;if(D&&(x=l(D.call(new e)))!==Object.prototype&&x.next&&(a||l(x)===v||(u?u(x,v):s(x[A])||h(x,A,R)),d(x,N,!0,!0),a&&(g[N]=R)),y&&f==E&&C&&C.name!==E&&(!a&&b?p(P,"name",E):(_=!0,L=function(){return i(C,this)})),f)if(I={values:M(E),keys:m?L:M(S),entries:M(T)},k)for(O in I)(w||_||!(O in P))&&h(P,O,I[O]);else n({target:t,proto:!0,forced:w||_},I);return a&&!k||P[A]===L||h(P,A,L,{name:f}),g[t]=L,I}},13383:(e,t,r)=>{var n,i,a,o=r(47293),s=r(60614),c=r(70111),l=r(70030),u=r(79518),d=r(98052),p=r(5112),h=r(31913),f=p("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=u(u(a)))!==Object.prototype&&(n=i):g=!0),!c(n)||o((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=l(n)),s(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},97497:e=>{e.exports={}},26244:(e,t,r)=>{var n=r(17466);e.exports=function(e){return n(e.length)}},56339:(e,t,r)=>{var n=r(1702),i=r(47293),a=r(60614),o=r(92597),s=r(19781),c=r(76530).CONFIGURABLE,l=r(42788),u=r(29909),d=u.enforce,p=u.get,h=String,f=Object.defineProperty,g=n("".slice),m=n("".replace),y=n([].join),b=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(h(t),0,7)&&(t="["+m(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||c&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&o(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return o(n,"source")||(n.source=y(v,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return a(this)&&p(this).source||l(this)}),"toString")},75706:(e,t,r)=>{var n=r(1702),i=Map.prototype;e.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},66736:e=>{var t=Math.expm1,r=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:t},26130:(e,t,r)=>{var n=r(64310),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),c=a(2,127)*(2-s),l=a(2,-126);e.exports=Math.fround||function(e){var t,r,a=+e,u=i(a),d=n(a);return u<l?d*function(e){return e+1/o-1/o}(u/l/s)*l*s:(r=(t=(1+s/o)*u)-(t-u))>c||r!=r?d*(1/0):d*r}},20403:e=>{var t=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*r}},26513:e=>{var t=Math.log;e.exports=Math.log1p||function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:t(1+r)}},64310:e=>{e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},74758:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},95948:(e,t,r)=>{var n,i,a,o,s,c=r(17854),l=r(49974),u=r(31236).f,d=r(20261).set,p=r(18572),h=r(6833),f=r(71528),g=r(71036),m=r(35268),y=c.MutationObserver||c.WebKitMutationObserver,b=c.document,v=c.process,w=c.Promise,A=u(c,"queueMicrotask"),S=A&&A.value;if(!S){var E=new p,T=function(){var e,t;for(m&&(e=v.domain)&&e.exit();t=E.get();)try{t()}catch(e){throw E.head&&n(),e}e&&e.enter()};h||m||g||!y||!b?!f&&w&&w.resolve?((o=w.resolve(void 0)).constructor=w,s=l(o.then,o),n=function(){s(T)}):m?n=function(){v.nextTick(T)}:(d=l(d,c),n=function(){d(T)}):(i=!0,a=b.createTextNode(""),new y(T).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),S=function(e){E.head||n(),E.add(e)}}e.exports=S},78523:(e,t,r)=>{var n=r(19662),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},56277:(e,t,r)=>{var n=r(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},3929:(e,t,r)=>{var n=r(47850),i=TypeError;e.exports=function(e){if(n(e))throw i("The method doesn't accept regular expressions");return e}},77023:(e,t,r)=>{var n=r(17854).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},2814:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(1702),o=r(41340),s=r(53111).trim,c=r(81361),l=a("".charAt),u=n.parseFloat,d=n.Symbol,p=d&&d.iterator,h=1/u(c+"-0")!=-1/0||p&&!i((function(){u(Object(p))}));e.exports=h?function(e){var t=s(o(e)),r=u(t);return 0===r&&"-"==l(t,0)?-0:r}:u},83009:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(1702),o=r(41340),s=r(53111).trim,c=r(81361),l=n.parseInt,u=n.Symbol,d=u&&u.iterator,p=/^[+-]?0x/i,h=a(p.exec),f=8!==l(c+"08")||22!==l(c+"0x16")||d&&!i((function(){l(Object(d))}));e.exports=f?function(e,t){var r=s(o(e));return l(r,t>>>0||(h(p,r)?16:10))}:l},21574:(e,t,r)=>{var n=r(19781),i=r(1702),a=r(46916),o=r(47293),s=r(81956),c=r(25181),l=r(55296),u=r(47908),d=r(68361),p=Object.assign,h=Object.defineProperty,f=i([].concat);e.exports=!p||o((function(){if(n&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=p({},e)[r]||s(p({},t)).join("")!=i}))?function(e,t){for(var r=u(e),i=arguments.length,o=1,p=c.f,h=l.f;i>o;)for(var g,m=d(arguments[o++]),y=p?f(s(m),p(m)):s(m),b=y.length,v=0;b>v;)g=y[v++],n&&!a(h,m,g)||(r[g]=m[g]);return r}:p},70030:(e,t,r)=>{var n,i=r(19670),a=r(36048),o=r(80748),s=r(3501),c=r(60490),l=r(80317),u=r(6200),d="prototype",p="script",h=u("IE_PROTO"),f=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&n?m(n):(t=l("iframe"),r="java"+p+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(n);for(var i=o.length;i--;)delete y[d][o[i]];return y()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=i(e),r=new f,f[d]=null,r[h]=e):r=y(),void 0===t?r:a.f(r,t)}},36048:(e,t,r)=>{var n=r(19781),i=r(3353),a=r(3070),o=r(19670),s=r(45656),c=r(81956);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=c(t),l=i.length,u=0;l>u;)a.f(e,r=i[u++],n[r]);return e}},3070:(e,t,r)=>{var n=r(19781),i=r(64664),a=r(3353),o=r(19670),s=r(34948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},31236:(e,t,r)=>{var n=r(19781),i=r(46916),a=r(55296),o=r(79114),s=r(45656),c=r(34948),l=r(92597),u=r(64664),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return o(!i(a.f,e,t),e[t])}},1156:(e,t,r)=>{var n=r(84326),i=r(45656),a=r(8006).f,o=r(41589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return a(e)}catch(e){return o(s)}}(e):a(i(e))}},8006:(e,t,r)=>{var n=r(16324),i=r(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},79518:(e,t,r)=>{var n=r(92597),i=r(60614),a=r(47908),o=r(6200),s=r(49920),c=o("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof l?u:null}},52050:(e,t,r)=>{var n=r(47293),i=r(70111),a=r(84326),o=r(7556),s=Object.isExtensible,c=n((function(){s(1)}));e.exports=c||o?function(e){return!!i(e)&&(!o||"ArrayBuffer"!=a(e))&&(!s||s(e))}:s},47976:(e,t,r)=>{var n=r(1702);e.exports=n({}.isPrototypeOf)},16324:(e,t,r)=>{var n=r(1702),i=r(92597),a=r(45656),o=r(41318).indexOf,s=r(3501),c=n([].push);e.exports=function(e,t){var r,n=a(e),l=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&c(u,r);for(;t.length>l;)i(n,r=t[l++])&&(~o(u,r)||c(u,r));return u}},81956:(e,t,r)=>{var n=r(16324),i=r(80748);e.exports=Object.keys||function(e){return n(e,i)}},55296:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},69026:(e,t,r)=>{var n=r(31913),i=r(17854),a=r(47293),o=r(98008);e.exports=n||!a((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},27674:(e,t,r)=>{var n=r(75668),i=r(19670),a=r(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},44699:(e,t,r)=>{var n=r(19781),i=r(1702),a=r(81956),o=r(45656),s=i(r(55296).f),c=i([].push),l=function(e){return function(t){for(var r,i=o(t),l=a(i),u=l.length,d=0,p=[];u>d;)r=l[d++],n&&!s(i,r)||c(p,e?[r,i[r]]:i[r]);return p}};e.exports={entries:l(!0),values:l(!1)}},90288:(e,t,r)=>{var n=r(51694),i=r(70648);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},92140:(e,t,r)=>{var n=r(46916),i=r(60614),a=r(70111),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw o("Can't convert object to primitive value")}},53887:(e,t,r)=>{var n=r(35005),i=r(1702),a=r(8006),o=r(25181),s=r(19670),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?c(t,r(e)):t}},40857:(e,t,r)=>{var n=r(17854);e.exports=n},12534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},63702:(e,t,r)=>{var n=r(17854),i=r(2492),a=r(60614),o=r(54705),s=r(42788),c=r(5112),l=r(7871),u=r(83823),d=r(31913),p=r(7392),h=i&&i.prototype,f=c("species"),g=!1,m=a(n.PromiseRejectionEvent),y=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===p)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=n,!(g=r.then((function(){}))instanceof n))return!0}return!t&&(l||u)&&!m}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:m,SUBCLASSING:g}},2492:(e,t,r)=>{var n=r(17854);e.exports=n.Promise},69478:(e,t,r)=>{var n=r(19670),i=r(70111),a=r(78523);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},80612:(e,t,r)=>{var n=r(2492),i=r(17072),a=r(63702).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},2626:(e,t,r)=>{var n=r(3070).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},18572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},97651:(e,t,r)=>{var n=r(46916),i=r(19670),a=r(60614),o=r(84326),s=r(22261),c=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var l=n(r,e,t);return null!==l&&i(l),l}if("RegExp"===o(e))return n(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},22261:(e,t,r)=>{var n,i,a=r(46916),o=r(1702),s=r(41340),c=r(67066),l=r(52999),u=r(72309),d=r(70030),p=r(29909).get,h=r(9441),f=r(38173),g=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,b=o("".charAt),v=o("".indexOf),w=o("".replace),A=o("".slice),S=(i=/b*/g,a(m,n=/a/,"a"),a(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),E=l.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(S||T||E||h||f)&&(y=function(e){var t,r,n,i,o,l,u,h=this,f=p(h),R=s(e),k=f.raw;if(k)return k.lastIndex=h.lastIndex,t=a(y,k,R),h.lastIndex=k.lastIndex,t;var x=f.groups,I=E&&h.sticky,O=a(c,h),M=h.source,N=0,_=R;if(I&&(O=w(O,"y",""),-1===v(O,"g")&&(O+="g"),_=A(R,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b(R,h.lastIndex-1))&&(M="(?: "+M+")",_=" "+_,N++),r=new RegExp("^(?:"+M+")",O)),T&&(r=new RegExp("^"+M+"$(?!\\s)",O)),S&&(n=h.lastIndex),i=a(m,I?r:h,_),I?i?(i.input=A(i.input,N),i[0]=A(i[0],N),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:S&&i&&(h.lastIndex=h.global?i.index+i[0].length:n),T&&i&&i.length>1&&a(g,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&x)for(i.groups=l=d(null),o=0;o<x.length;o++)l[(u=x[o])[0]]=i[u[1]];return i}),e.exports=y},67066:(e,t,r)=>{var n=r(19670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},34706:(e,t,r)=>{var n=r(46916),i=r(92597),a=r(47976),o=r(67066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:n(o,e)}},52999:(e,t,r)=>{var n=r(47293),i=r(17854).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:(e,t,r)=>{var n=r(47293),i=r(17854).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:(e,t,r)=>{var n=r(47293),i=r(17854).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},84488:(e,t,r)=>{var n=r(68554),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},81150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},17152:(e,t,r)=>{var n,i=r(17854),a=r(22104),o=r(60614),s=r(89363),c=r(88113),l=r(50206),u=r(48053),d=i.Function,p=/MSIE .\./.test(c)||s&&((n=i.Bun.version.split(".")).length<3||0==n[0]&&(n[1]<3||3==n[1]&&0==n[2]));e.exports=function(e,t){var r=t?2:1;return p?function(n,i){var s=u(arguments.length,1)>r,c=o(n)?n:d(n),p=s?l(arguments,r):[],h=s?function(){a(c,this,p)}:c;return t?e(h,i):e(h)}:e}},79405:(e,t,r)=>{var n=r(1702),i=Set.prototype;e.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},96340:(e,t,r)=>{var n=r(35005),i=r(47045),a=r(5112),o=r(19781),s=a("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},58003:(e,t,r)=>{var n=r(3070).f,i=r(92597),a=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},6200:(e,t,r)=>{var n=r(72309),i=r(69711),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:(e,t,r)=>{var n=r(17854),i=r(13072),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},72309:(e,t,r)=>{var n=r(31913),i=r(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:(e,t,r)=>{var n=r(19670),i=r(39483),a=r(68554),o=r(5112)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},43429:(e,t,r)=>{var n=r(47293);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},28710:(e,t,r)=>{var n=r(1702),i=r(19303),a=r(41340),o=r(84488),s=n("".charAt),c=n("".charCodeAt),l=n("".slice),u=function(e){return function(t,r){var n,u,d=a(o(t)),p=i(r),h=d.length;return p<0||p>=h?e?"":void 0:(n=c(d,p))<55296||n>56319||p+1===h||(u=c(d,p+1))<56320||u>57343?e?s(d,p):n:e?l(d,p,p+2):u-56320+(n-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},54986:(e,t,r)=>{var n=r(88113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},76650:(e,t,r)=>{var n=r(1702),i=r(17466),a=r(41340),o=r(38415),s=r(84488),c=n(o),l=n("".slice),u=Math.ceil,d=function(e){return function(t,r,n){var o,d,p=a(s(t)),h=i(r),f=p.length,g=void 0===n?" ":a(n);return h<=f||""==g?p:((d=c(g,u((o=h-f)/g.length))).length>o&&(d=l(d,0,o)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},33197:(e,t,r)=>{var n=r(1702),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,l=n(o.exec),u=Math.floor,d=String.fromCharCode,p=n("".charCodeAt),h=n([].join),f=n([].push),g=n("".replace),m=n("".split),y=n("".toLowerCase),b=function(e){return e+22+75*(e<26)},v=function(e,t,r){var n=0;for(e=r?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),n+=36;return u(n+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=p(e,r++);if(i>=55296&&i<=56319&&r<n){var a=p(e,r++);56320==(64512&a)?f(t,((1023&i)<<10)+(1023&a)+65536):(f(t,i),r--)}else f(t,i)}return t}(e);var r,n,a=e.length,o=128,l=0,g=72;for(r=0;r<e.length;r++)(n=e[r])<128&&f(t,d(n));var m=t.length,y=m;for(m&&f(t,"-");y<a;){var w=i;for(r=0;r<e.length;r++)(n=e[r])>=o&&n<w&&(w=n);var A=y+1;if(w-o>u((i-l)/A))throw c(s);for(l+=(w-o)*A,o=w,r=0;r<e.length;r++){if((n=e[r])<o&&++l>i)throw c(s);if(n==o){for(var S=l,E=36;;){var T=E<=g?1:E>=g+26?26:E-g;if(S<T)break;var R=S-T,k=36-T;f(t,d(b(T+R%k))),S=u(R/k),E+=36}f(t,d(b(S))),g=v(l,A,y==m),l=0,y++}}l++,o++}return h(t,"")};e.exports=function(e){var t,r,n=[],i=m(g(y(e),o,"."),".");for(t=0;t<i.length;t++)r=i[t],f(n,l(a,r)?"xn--"+w(r):r);return h(n,".")}},38415:(e,t,r)=>{var n=r(19303),i=r(41340),a=r(84488),o=RangeError;e.exports=function(e){var t=i(a(this)),r="",s=n(e);if(s<0||s==1/0)throw o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},10365:(e,t,r)=>{var n=r(53111).end,i=r(76091);e.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},76091:(e,t,r)=>{var n=r(76530).PROPER,i=r(47293),a=r(81361);e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||n&&a[e].name!==e}))}},33217:(e,t,r)=>{var n=r(53111).start,i=r(76091);e.exports=i("trimStart")?function(){return n(this)}:"".trimStart},53111:(e,t,r)=>{var n=r(1702),i=r(84488),a=r(41340),o=r(81361),s=n("".replace),c=RegExp("^["+o+"]+"),l=RegExp("(^|[^"+o+"])["+o+"]+$"),u=function(e){return function(t){var r=a(i(t));return 1&e&&(r=s(r,c,"")),2&e&&(r=s(r,l,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},64124:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(7392),o=r(7871),s=r(83823),c=r(35268),l=n.structuredClone;e.exports=!!l&&!i((function(){if(s&&a>92||c&&a>94||o&&a>97)return!1;var e=new ArrayBuffer(8),t=l(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}))},36293:(e,t,r)=>{var n=r(7392),i=r(47293),a=r(17854).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},56532:(e,t,r)=>{var n=r(46916),i=r(35005),a=r(5112),o=r(98052);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return n(r,this)}),{arity:1})}},2015:(e,t,r)=>{var n=r(36293);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},20261:(e,t,r)=>{var n,i,a,o,s=r(17854),c=r(22104),l=r(49974),u=r(60614),d=r(92597),p=r(47293),h=r(60490),f=r(50206),g=r(80317),m=r(48053),y=r(6833),b=r(35268),v=s.setImmediate,w=s.clearImmediate,A=s.process,S=s.Dispatch,E=s.Function,T=s.MessageChannel,R=s.String,k=0,x={},I="onreadystatechange";p((function(){n=s.location}));var O=function(e){if(d(x,e)){var t=x[e];delete x[e],t()}},M=function(e){return function(){O(e)}},N=function(e){O(e.data)},_=function(e){s.postMessage(R(e),n.protocol+"//"+n.host)};v&&w||(v=function(e){m(arguments.length,1);var t=u(e)?e:E(e),r=f(arguments,1);return x[++k]=function(){c(t,void 0,r)},i(k),k},w=function(e){delete x[e]},b?i=function(e){A.nextTick(M(e))}:S&&S.now?i=function(e){S.now(M(e))}:T&&!y?(o=(a=new T).port2,a.port1.onmessage=N,i=l(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(_)?(i=_,s.addEventListener("message",N,!1)):i=I in g("script")?function(e){h.appendChild(g("script"))[I]=function(){h.removeChild(this),O(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:v,clear:w}},50863:(e,t,r)=>{var n=r(1702);e.exports=n(1..valueOf)},51400:(e,t,r)=>{var n=r(19303),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},64599:(e,t,r)=>{var n=r(57593),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},57067:(e,t,r)=>{var n=r(19303),i=r(17466),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw a("Wrong length or index");return r}},45656:(e,t,r)=>{var n=r(68361),i=r(84488);e.exports=function(e){return n(i(e))}},19303:(e,t,r)=>{var n=r(74758);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},17466:(e,t,r)=>{var n=r(19303),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},47908:(e,t,r)=>{var n=r(84488),i=Object;e.exports=function(e){return i(n(e))}},84590:(e,t,r)=>{var n=r(73002),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},73002:(e,t,r)=>{var n=r(19303),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},57593:(e,t,r)=>{var n=r(46916),i=r(70111),a=r(52190),o=r(58173),s=r(92140),c=r(5112),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,c=o(e,u);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||a(r))return r;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},34948:(e,t,r)=>{var n=r(57593),i=r(52190);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},51694:(e,t,r)=>{var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},41340:(e,t,r)=>{var n=r(70648),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},44038:(e,t,r)=>{var n=r(35268);e.exports=function(e){try{if(n)return Function('return require("'+e+'")')()}catch(e){}}},66330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},19843:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(46916),o=r(19781),s=r(63832),c=r(90260),l=r(13331),u=r(25787),d=r(79114),p=r(68880),h=r(55988),f=r(17466),g=r(57067),m=r(84590),y=r(34948),b=r(92597),v=r(70648),w=r(70111),A=r(52190),S=r(70030),E=r(47976),T=r(27674),R=r(8006).f,k=r(97321),x=r(42092).forEach,I=r(96340),O=r(47045),M=r(3070),N=r(31236),_=r(29909),P=r(79587),C=_.get,L=_.set,D=_.enforce,V=M.f,U=N.f,B=Math.round,j=i.RangeError,F=l.ArrayBuffer,$=F.prototype,q=l.DataView,H=c.NATIVE_ARRAY_BUFFER_VIEWS,G=c.TYPED_ARRAY_TAG,W=c.TypedArray,z=c.TypedArrayPrototype,J=c.aTypedArrayConstructor,Q=c.isTypedArray,K="BYTES_PER_ELEMENT",Y="Wrong length",Z=function(e,t){J(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},X=function(e,t){O(e,t,{configurable:!0,get:function(){return C(this)[t]}})},ee=function(e){var t;return E($,e)||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},te=function(e,t){return Q(e)&&!A(t)&&t in e&&h(+t)&&t>=0},re=function(e,t){return t=y(t),te(e,t)?d(2,e[t]):U(e,t)},ne=function(e,t,r){return t=y(t),!(te(e,t)&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?V(e,t,r):(e[t]=r.value,e)};o?(H||(N.f=re,M.f=ne,X(z,"buffer"),X(z,"byteOffset"),X(z,"byteLength"),X(z,"length")),n({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var o=e.match(/\d+/)[0]/8,c=e+(r?"Clamped":"")+"Array",l="get"+e,d="set"+e,h=i[c],y=h,b=y&&y.prototype,v={},A=function(e,t){V(e,t,{get:function(){return function(e,t){var r=C(e);return r.view[l](t*o+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=C(e);r&&(n=(n=B(n))<0?0:n>255?255:255&n),i.view[d](t*o+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};H?s&&(y=t((function(e,t,r,n){return u(e,b),P(w(t)?ee(t)?void 0!==n?new h(t,m(r,o),n):void 0!==r?new h(t,m(r,o)):new h(t):Q(t)?Z(y,t):a(k,y,t):new h(g(t)),e,y)})),T&&T(y,W),x(R(h),(function(e){e in y||p(y,e,h[e])})),y.prototype=b):(y=t((function(e,t,r,n){u(e,b);var i,s,c,l=0,d=0;if(w(t)){if(!ee(t))return Q(t)?Z(y,t):a(k,y,t);i=t,d=m(r,o);var p=t.byteLength;if(void 0===n){if(p%o)throw j(Y);if((s=p-d)<0)throw j(Y)}else if((s=f(n)*o)+d>p)throw j(Y);c=s/o}else c=g(t),i=new F(s=c*o);for(L(e,{buffer:i,byteOffset:d,byteLength:s,length:c,view:new q(i)});l<c;)A(e,l++)})),T&&T(y,W),b=y.prototype=S(z)),b.constructor!==y&&p(b,"constructor",y),D(b).TypedArrayConstructor=y,G&&p(b,G,c);var E=y!=h;v[c]=y,n({global:!0,constructor:!0,forced:E,sham:!H},v),K in y||p(y,K,o),K in b||p(b,K,o),I(c)}):e.exports=function(){}},63832:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(17072),o=r(90260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!o||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},43074:(e,t,r)=>{var n=r(97745),i=r(66304);e.exports=function(e,t){return n(i(e),t)}},97321:(e,t,r)=>{var n=r(49974),i=r(46916),a=r(39483),o=r(47908),s=r(26244),c=r(18554),l=r(71246),u=r(97659),d=r(44067),p=r(90260).aTypedArrayConstructor,h=r(64599);e.exports=function(e){var t,r,f,g,m,y,b,v,w=a(this),A=o(e),S=arguments.length,E=S>1?arguments[1]:void 0,T=void 0!==E,R=l(A);if(R&&!u(R))for(v=(b=c(A,R)).next,A=[];!(y=i(v,b)).done;)A.push(y.value);for(T&&S>2&&(E=n(E,arguments[2])),r=s(A),f=new(p(w))(r),g=d(f),t=0;r>t;t++)m=T?E(A[t],t):A[t],f[t]=g?h(m):+m;return f}},66304:(e,t,r)=>{var n=r(90260),i=r(36707),a=n.aTypedArrayConstructor,o=n.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},69711:(e,t,r)=>{var n=r(1702),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},85143:(e,t,r)=>{var n=r(47293),i=r(5112),a=r(19781),o=r(31913),s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},43307:(e,t,r)=>{var n=r(36293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,r)=>{var n=r(19781),i=r(47293);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48053:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},94811:(e,t,r)=>{var n=r(17854),i=r(60614),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},26800:(e,t,r)=>{var n=r(40857),i=r(92597),a=r(6061),o=r(3070).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},6061:(e,t,r)=>{var n=r(5112);t.f=n},5112:(e,t,r)=>{var n=r(17854),i=r(72309),a=r(92597),o=r(69711),s=r(36293),c=r(43307),l=n.Symbol,u=i("wks"),d=c?l.for||l:l&&l.withoutSetter||o;e.exports=function(e){return a(u,e)||(u[e]=s&&a(l,e)?l[e]:d("Symbol."+e)),u[e]}},81361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},89191:(e,t,r)=>{var n=r(35005),i=r(92597),a=r(68880),o=r(47976),s=r(27674),c=r(99920),l=r(2626),u=r(79587),d=r(56277),p=r(58340),h=r(5392),f=r(19781),g=r(31913);e.exports=function(e,t,r,m){var y="stackTraceLimit",b=m?2:1,v=e.split("."),w=v[v.length-1],A=n.apply(null,v);if(A){var S=A.prototype;if(!g&&i(S,"cause")&&delete S.cause,!r)return A;var E=n("Error"),T=t((function(e,t){var r=d(m?t:e,void 0),n=m?new A(e):new A;return void 0!==r&&a(n,"message",r),h(n,T,n.stack,2),this&&o(S,this)&&u(n,this,T),arguments.length>b&&p(n,arguments[b]),n}));if(T.prototype=S,"Error"!==w?s?s(T,E):c(T,E,{name:!0}):f&&y in A&&(l(T,A,y),l(T,A,"prepareStackTrace")),c(T,A),!g)try{S.name!==w&&a(S,"name",w),S.constructor=T}catch(e){}return T}}},32120:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(22104),o=r(47293),s=r(89191),c="AggregateError",l=i(c),u=!o((function(){return 1!==l([1]).errors[0]}))&&o((function(){return 7!==l([1],c,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(c,(function(e){return function(t,r){return a(e,this,arguments)}}),u,!0)})},56967:(e,t,r)=>{var n=r(82109),i=r(47976),a=r(79518),o=r(27674),s=r(99920),c=r(70030),l=r(68880),u=r(79114),d=r(58340),p=r(5392),h=r(20408),f=r(56277),g=r(5112)("toStringTag"),m=Error,y=[].push,b=function(e,t){var r,n=i(v,this);o?r=o(m(),n?a(this):v):(r=n?this:c(v),l(r,g,"Error")),void 0!==t&&l(r,"message",f(t)),p(r,b,r.stack,1),arguments.length>2&&d(r,arguments[2]);var s=[];return h(e,y,{that:s}),l(r,"errors",s),r};o?o(b,m):s(b,m,{name:!0});var v=b.prototype=c(m.prototype,{constructor:u(1,b),message:u(1,""),name:u(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:b})},9170:(e,t,r)=>{r(56967)},18264:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(13331),o=r(96340),s="ArrayBuffer",c=a[s];n({global:!0,constructor:!0,forced:i[s]!==c},{ArrayBuffer:c}),o(s)},76938:(e,t,r)=>{var n=r(82109),i=r(90260);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},39575:(e,t,r)=>{var n=r(82109),i=r(21470),a=r(47293),o=r(13331),s=r(19670),c=r(51400),l=r(17466),u=r(36707),d=o.ArrayBuffer,p=o.DataView,h=p.prototype,f=i(d.prototype.slice),g=i(h.getUint8),m=i(h.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(s(this),e);for(var r=s(this).byteLength,n=c(e,r),i=c(void 0===t?r:t,r),a=new(u(this,d))(l(i-n)),o=new p(this),h=new p(a),y=0;n<i;)m(h,y++,g(o,n++));return a}})},52262:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(26244),o=r(19303),s=r(51223);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},92222:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(43157),o=r(70111),s=r(47908),c=r(26244),l=r(7207),u=r(86135),d=r(65417),p=r(81194),h=r(5112),f=r(7392),g=h("isConcatSpreadable"),m=f>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),y=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,arity:1,forced:!m||!p("concat")},{concat:function(e){var t,r,n,i,a,o=s(this),p=d(o,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(y(a=-1===t?o:arguments[t]))for(i=c(a),l(h+i),r=0;r<i;r++,h++)r in a&&u(p,h,a[r]);else l(h+1),u(p,h++,a);return p.length=h,p}})},50545:(e,t,r)=>{var n=r(82109),i=r(1048),a=r(51223);n({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},26541:(e,t,r)=>{var n=r(82109),i=r(42092).every;n({target:"Array",proto:!0,forced:!r(9341)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},43290:(e,t,r)=>{var n=r(82109),i=r(21285),a=r(51223);n({target:"Array",proto:!0},{fill:i}),a("fill")},57327:(e,t,r)=>{var n=r(82109),i=r(42092).filter;n({target:"Array",proto:!0,forced:!r(81194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},34553:(e,t,r)=>{var n=r(82109),i=r(42092).findIndex,a=r(51223),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},77287:(e,t,r)=>{var n=r(82109),i=r(9671).findLastIndex,a=r(51223);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},67635:(e,t,r)=>{var n=r(82109),i=r(9671).findLast,a=r(51223);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},69826:(e,t,r)=>{var n=r(82109),i=r(42092).find,a=r(51223),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},86535:(e,t,r)=>{var n=r(82109),i=r(6790),a=r(19662),o=r(47908),s=r(26244),c=r(65417);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),n=s(r);return a(e),(t=c(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},84944:(e,t,r)=>{var n=r(82109),i=r(6790),a=r(47908),o=r(26244),s=r(19303),c=r(65417);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t),n=c(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},89554:(e,t,r)=>{var n=r(82109),i=r(18533);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},91038:(e,t,r)=>{var n=r(82109),i=r(48457);n({target:"Array",stat:!0,forced:!r(17072)((function(e){Array.from(e)}))},{from:i})},26699:(e,t,r)=>{var n=r(82109),i=r(41318).includes,a=r(47293),o=r(51223);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},82772:(e,t,r)=>{var n=r(82109),i=r(21470),a=r(41318).indexOf,o=r(9341),s=i([].indexOf),c=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:c||!o("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:a(this,e,t)}})},79753:(e,t,r)=>{r(82109)({target:"Array",stat:!0},{isArray:r(43157)})},66992:(e,t,r)=>{var n=r(45656),i=r(51223),a=r(97497),o=r(29909),s=r(3070).f,c=r(51656),l=r(76178),u=r(31913),d=r(19781),p="Array Iterator",h=o.set,f=o.getterFor(p);e.exports=c(Array,"Array",(function(e,t){h(this,{type:p,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,l(void 0,!0)):l("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var g=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(e){}},69600:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(68361),o=r(45656),s=r(9341),c=i([].join);n({target:"Array",proto:!0,forced:a!=Object||!s("join",",")},{join:function(e){return c(o(this),void 0===e?",":e)}})},94986:(e,t,r)=>{var n=r(82109),i=r(86583);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},21249:(e,t,r)=>{var n=r(82109),i=r(42092).map;n({target:"Array",proto:!0,forced:!r(81194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},26572:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(4411),o=r(86135),s=Array;n({target:"Array",stat:!0,forced:i((function(){function e(){}return!(s.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new(a(this)?this:s)(t);t>e;)o(r,e,arguments[e++]);return r.length=t,r}})},57658:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(26244),o=r(83658),s=r(7207);n({target:"Array",proto:!0,arity:1,forced:r(47293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return o(t,r),r}})},96644:(e,t,r)=>{var n=r(82109),i=r(53671).right,a=r(9341),o=r(7392);n({target:"Array",proto:!0,forced:!r(35268)&&o>79&&o<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:(e,t,r)=>{var n=r(82109),i=r(53671).left,a=r(9341),o=r(7392);n({target:"Array",proto:!0,forced:!r(35268)&&o>79&&o<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},65069:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(43157),o=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},47042:(e,t,r)=>{var n=r(82109),i=r(43157),a=r(4411),o=r(70111),s=r(51400),c=r(26244),l=r(45656),u=r(86135),d=r(5112),p=r(81194),h=r(50206),f=p("slice"),g=d("species"),m=Array,y=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,d,p=l(this),f=c(p),b=s(e,f),v=s(void 0===t?f:t,f);if(i(p)&&(r=p.constructor,(a(r)&&(r===m||i(r.prototype))||o(r)&&null===(r=r[g]))&&(r=void 0),r===m||void 0===r))return h(p,b,v);for(n=new(void 0===r?m:r)(y(v-b,0)),d=0;b<v;b++,d++)b in p&&u(n,d,p[b]);return n.length=d,n}})},5212:(e,t,r)=>{var n=r(82109),i=r(42092).some;n({target:"Array",proto:!0,forced:!r(9341)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19662),o=r(47908),s=r(26244),c=r(85117),l=r(41340),u=r(47293),d=r(94362),p=r(9341),h=r(68886),f=r(30256),g=r(7392),m=r(98008),y=[],b=i(y.sort),v=i(y.push),w=u((function(){y.sort(void 0)})),A=u((function(){y.sort(null)})),S=p("sort"),E=!u((function(){if(g)return g<70;if(!(h&&h>3)){if(f)return!0;if(m)return m<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:t+n,v:r})}for(y.sort((function(e,t){return t.v-e.v})),n=0;n<y.length;n++)t=y[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:w||!A||!S||!E},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(E)return void 0===e?b(t):b(t,e);var r,n,i=[],u=s(t);for(n=0;n<u;n++)n in t&&v(i,t[n]);for(d(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}}(e)),r=s(i),n=0;n<r;)t[n]=i[n++];for(;n<u;)c(t,n++);return t}})},38706:(e,t,r)=>{r(96340)("Array")},40561:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(51400),o=r(19303),s=r(26244),c=r(83658),l=r(7207),u=r(65417),d=r(86135),p=r(85117),h=r(81194)("splice"),f=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var r,n,h,m,y,b,v=i(this),w=s(v),A=a(e,w),S=arguments.length;for(0===S?r=n=0:1===S?(r=0,n=w-A):(r=S-2,n=g(f(o(t),0),w-A)),l(w+r-n),h=u(v,n),m=0;m<n;m++)(y=A+m)in v&&d(h,m,v[y]);if(h.length=n,r<n){for(m=A;m<w-n;m++)b=m+r,(y=m+n)in v?v[b]=v[y]:p(v,b);for(m=w;m>w-n+r;m--)p(v,m-1)}else if(r>n)for(m=w-n;m>A;m--)b=m+r-1,(y=m+n-1)in v?v[b]=v[y]:p(v,b);for(m=0;m<r;m++)v[m+A]=arguments[m+2];return c(v,w-n+r),h}})},90476:(e,t,r)=>{var n=r(82109),i=r(21843),a=r(45656),o=r(51223),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),s)}}),o("toReversed")},76459:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19662),o=r(45656),s=r(97745),c=r(98770),l=r(51223),u=Array,d=i(c("Array").sort);n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=o(this),r=s(u,t);return d(r,e)}}),l("toSorted")},99892:(e,t,r)=>{var n=r(82109),i=r(51223),a=r(7207),o=r(26244),s=r(51400),c=r(45656),l=r(19303),u=Array,d=Math.max,p=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,h,f=c(this),g=o(f),m=s(e,g),y=arguments.length,b=0;for(0===y?r=n=0:1===y?(r=0,n=g-m):(r=y-2,n=p(d(l(t),0),g-m)),i=a(g+r-n),h=u(i);b<m;b++)h[b]=f[b];for(;b<m+r;b++)h[b]=arguments[b-m+2];for(;b<i;b++)h[b]=f[b+n-r];return h}}),i("toSpliced")},99244:(e,t,r)=>{r(51223)("flatMap")},33792:(e,t,r)=>{r(51223)("flat")},30541:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(26244),o=r(83658),s=r(85117),c=r(7207);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){c(r+n);for(var l=r;l--;){var u=l+n;l in t?t[u]=t[l]:s(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return o(t,r+n)}})},35581:(e,t,r)=>{var n=r(82109),i=r(11572),a=r(45656),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),o,e,t)}})},3690:(e,t,r)=>{var n=r(82109),i=r(13331);n({global:!0,constructor:!0,forced:!r(23013)},{DataView:i.DataView})},16716:(e,t,r)=>{r(3690)},43016:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(47293)((function(){return 120!==new Date(16e11).getYear()})),o=i(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:a},{getYear:function(){return o(this)-1900}})},3843:(e,t,r)=>{var n=r(82109),i=r(1702),a=Date,o=i(a.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return o(new a)}})},81801:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19303),o=Date.prototype,s=i(o.getTime),c=i(o.setFullYear);n({target:"Date",proto:!0},{setYear:function(e){s(this);var t=a(e);return c(this,0<=t&&t<=99?t+1900:t)}})},9550:(e,t,r)=>{r(82109)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},28733:(e,t,r)=>{var n=r(82109),i=r(85573);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},5735:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(47908),o=r(57593);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),r=o(t,"number");return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},96078:(e,t,r)=>{var n=r(92597),i=r(98052),a=r(38709),o=r(5112)("toPrimitive"),s=Date.prototype;n(s,o)||i(s,o,a)},83710:(e,t,r)=>{var n=r(1702),i=r(98052),a=Date.prototype,o="Invalid Date",s="toString",c=n(a[s]),l=n(a.getTime);String(new Date(NaN))!=o&&i(a,s,(function(){var e=l(this);return e==e?c(this):o}))},21703:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(22104),o=r(89191),s="WebAssembly",c=i[s],l=7!==Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,l),n({global:!0,constructor:!0,arity:1,forced:l},r)},d=function(e,t){if(c&&c[e]){var r={};r[e]=o(s+"."+e,t,l),n({target:s,stat:!0,constructor:!0,arity:1,forced:l},r)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},96647:(e,t,r)=>{var n=r(98052),i=r(7762),a=Error.prototype;a.toString!==i&&n(a,"toString",i)},62130:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(41340),o=i("".charAt),s=i("".charCodeAt),c=i(/./.exec),l=i(1..toString),u=i("".toUpperCase),d=/[\w*+\-./@]/,p=function(e,t){for(var r=l(e,16);r.length<t;)r="0"+r;return r};n({global:!0},{escape:function(e){for(var t,r,n=a(e),i="",l=n.length,h=0;h<l;)t=o(n,h++),c(d,t)?i+=t:i+=(r=s(t,0))<256?"%"+p(r,2):"%u"+u(p(r,4));return i}})},24812:(e,t,r)=>{var n=r(82109),i=r(27065);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},4855:(e,t,r)=>{var n=r(60614),i=r(70111),a=r(3070),o=r(79518),s=r(5112),c=r(56339),l=s("hasInstance"),u=Function.prototype;l in u||a.f(u,l,{value:c((function(e){if(!n(this)||!i(e))return!1;var t=this.prototype;if(!i(t))return e instanceof this;for(;e=o(e);)if(t===e)return!0;return!1}),l)})},68309:(e,t,r)=>{var n=r(19781),i=r(76530).EXISTS,a=r(1702),o=r(47045),s=Function.prototype,c=a(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(l.exec);n&&!i&&o(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(e){return""}}})},35837:(e,t,r)=>{var n=r(82109),i=r(17854);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},38862:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(22104),o=r(46916),s=r(1702),c=r(47293),l=r(60614),u=r(52190),d=r(50206),p=r(88044),h=r(36293),f=String,g=i("JSON","stringify"),m=s(/./.exec),y=s("".charAt),b=s("".charCodeAt),v=s("".replace),w=s(1..toString),A=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,T=!h||c((function(){var e=i("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),R=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),k=function(e,t){var r=d(arguments),n=p(t);if(l(n)||void 0!==e&&!u(e))return r[1]=function(e,t){if(l(n)&&(t=o(n,this,f(e),t)),!u(t))return t},a(g,null,r)},x=function(e,t,r){var n=y(r,t-1),i=y(r,t+1);return m(S,e)&&!m(E,i)||m(E,e)&&!m(S,n)?"\\u"+w(b(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:T||R},{stringify:function(e,t,r){var n=d(arguments),i=a(T?k:g,null,n);return R&&"string"==typeof i?v(i,A,x):i}})},73706:(e,t,r)=>{var n=r(17854);r(58003)(n.JSON,"JSON",!0)},69098:(e,t,r)=>{r(77710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(95631))},51532:(e,t,r)=>{r(69098)},99752:(e,t,r)=>{var n=r(82109),i=r(26513),a=Math.acosh,o=Math.log,s=Math.sqrt,c=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?o(t)+c:i(t-1+s(t-1)*s(t+1))}})},82376:(e,t,r)=>{var n=r(82109),i=Math.asinh,a=Math.log,o=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var r=+t;return isFinite(r)&&0!=r?r<0?-e(-r):a(r+o(r*r+1)):r}})},73181:(e,t,r)=>{var n=r(82109),i=Math.atanh,a=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:a((1+t)/(1-t))/2}})},23484:(e,t,r)=>{var n=r(82109),i=r(64310),a=Math.abs,o=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*o(a(t),1/3)}})},2388:(e,t,r)=>{var n=r(82109),i=Math.floor,a=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*o):32}})},88621:(e,t,r)=>{var n=r(82109),i=r(66736),a=Math.cosh,o=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},60403:(e,t,r)=>{var n=r(82109),i=r(66736);n({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},84755:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{fround:r(26130)})},25438:(e,t,r)=>{var n=r(82109),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,s=0,c=arguments.length,l=0;s<c;)l<(r=a(arguments[s++]))?(i=i*(n=l/r)*n+1,l=r):i+=r>0?(n=r/l)*n:r;return l===1/0?1/0:l*o(i)}})},90332:(e,t,r)=>{var n=r(82109),i=r(47293),a=Math.imul;n({target:"Math",stat:!0,forced:i((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(e,t){var r=65535,n=+e,i=+t,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)}})},40658:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{log10:r(20403)})},40197:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{log1p:r(26513)})},44914:(e,t,r)=>{var n=r(82109),i=Math.log,a=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},52420:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{sign:r(64310)})},60160:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(66736),o=Math.abs,s=Math.exp,c=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return o(t)<1?(a(t)-a(-t))/2:(s(t-1)-s(-t-1))*(c/2)}})},60970:(e,t,r)=>{var n=r(82109),i=r(66736),a=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=+e,r=i(t),n=i(-t);return r==1/0?1:n==1/0?-1:(r-n)/(a(t)+a(-t))}})},10408:(e,t,r)=>{r(58003)(Math,"Math",!0)},73689:(e,t,r)=>{r(82109)({target:"Math",stat:!0},{trunc:r(74758)})},9653:(e,t,r)=>{var n=r(82109),i=r(31913),a=r(19781),o=r(17854),s=r(40857),c=r(1702),l=r(54705),u=r(92597),d=r(79587),p=r(47976),h=r(52190),f=r(57593),g=r(47293),m=r(8006).f,y=r(31236).f,b=r(3070).f,v=r(50863),w=r(53111).trim,A="Number",S=o[A],E=s[A],T=S.prototype,R=o.TypeError,k=c("".slice),x=c("".charCodeAt),I=l(A,!S(" 0o1")||!S("0b1")||S("+0x1")),O=function(e){var t,r=arguments.length<1?0:S(function(e){var t=f(e,"number");return"bigint"==typeof t?t:function(e){var t,r,n,i,a,o,s,c,l=f(e,"number");if(h(l))throw R("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=w(l),43===(t=x(l,0))||45===t){if(88===(r=x(l,2))||120===r)return NaN}else if(48===t){switch(x(l,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(o=(a=k(l,2)).length,s=0;s<o;s++)if((c=x(a,s))<48||c>i)return NaN;return parseInt(a,n)}return+l}(t)}(e));return p(T,t=this)&&g((function(){v(t)}))?d(Object(r),this,O):r};O.prototype=T,I&&!i&&(T.constructor=O),n({global:!0,constructor:!0,wrap:!0,forced:I},{Number:O});var M=function(e,t){for(var r,n=a?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)u(t,r=n[i])&&!u(e,r)&&b(e,r,y(t,r))};i&&E&&M(s[A],E),(I||i)&&M(s[A],S)},93299:(e,t,r)=>{r(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},35192:(e,t,r)=>{r(82109)({target:"Number",stat:!0},{isFinite:r(77023)})},33161:(e,t,r)=>{r(82109)({target:"Number",stat:!0},{isInteger:r(55988)})},44048:(e,t,r)=>{r(82109)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},78285:(e,t,r)=>{var n=r(82109),i=r(55988),a=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},44363:(e,t,r)=>{r(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},55994:(e,t,r)=>{r(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},61874:(e,t,r)=>{var n=r(82109),i=r(2814);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:(e,t,r)=>{var n=r(82109),i=r(83009);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},31354:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19303),o=r(50863),s=r(38415),c=r(20403),l=r(47293),u=RangeError,d=String,p=isFinite,h=Math.abs,f=Math.floor,g=Math.pow,m=Math.round,y=i(1..toExponential),b=i(s),v=i("".slice),w="-6.9000e-11"===y(-69e-12,4)&&"1.25e+0"===y(1.255,2)&&"1.235e+4"===y(12345,3)&&"3e+1"===y(25,0);n({target:"Number",proto:!0,forced:!w||!(l((function(){y(1,1/0)}))&&l((function(){y(1,-1/0)})))||!!l((function(){y(1/0,1/0),y(NaN,1/0)}))},{toExponential:function(e){var t=o(this);if(void 0===e)return y(t);var r=a(e);if(!p(t))return String(t);if(r<0||r>20)throw u("Incorrect fraction digits");if(w)return y(t,r);var n="",i="",s=0,l="",A="";if(t<0&&(n="-",t=-t),0===t)s=0,i=b("0",r+1);else{var S=c(t);s=f(S);var E=0,T=g(10,s-r);2*t>=(2*(E=m(t/T))+1)*T&&(E+=1),E>=g(10,r+1)&&(E/=10,s+=1),i=d(E)}return 0!==r&&(i=v(i,0,1)+"."+v(i,1)),0===s?(l="+",A="0"):(l=s>0?"+":"-",A=d(h(s))),n+(i+"e")+l+A}})},56977:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(19303),o=r(50863),s=r(38415),c=r(47293),l=RangeError,u=String,d=Math.floor,p=i(s),h=i("".slice),f=i(1..toFixed),g=function(e,t,r){return 0===t?r:t%2==1?g(e,t-1,r*e):g(e*e,t/2,r)},m=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=d(i/1e7)},y=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=d(n/t),n=n%t*1e7},b=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=u(e[t]);r=""===r?n:r+p("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}))},{toFixed:function(e){var t,r,n,i,s=o(this),c=a(e),d=[0,0,0,0,0,0],f="",v="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(f="-",s=-s),s>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(s*g(2,69,1))-69)<0?s*g(2,-t,1):s/g(2,t,1),r*=4503599627370496,(t=52-t)>0){for(m(d,0,r),n=c;n>=7;)m(d,1e7,0),n-=7;for(m(d,g(10,n,1),0),n=t-1;n>=23;)y(d,1<<23),n-=23;y(d,1<<n),m(d,1,1),y(d,2),v=b(d)}else m(d,0,r),m(d,1<<-t,0),v=b(d)+p("0",c);return c>0?f+((i=v.length)<=c?"0."+p("0",c-i)+v:h(v,0,i-c)+"."+h(v,i-c)):f+v}})},55147:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(47293),o=r(50863),s=i(1..toPrecision);n({target:"Number",proto:!0,forced:a((function(){return"1"!==s(1,void 0)}))||!a((function(){s({})}))},{toPrecision:function(e){return void 0===e?s(o(this)):s(o(this),e)}})},19601:(e,t,r)=>{var n=r(82109),i=r(21574);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},78011:(e,t,r)=>{r(82109)({target:"Object",stat:!0,sham:!r(19781)},{create:r(70030)})},59595:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(19662),s=r(47908),c=r(3070);i&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){c.f(s(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},33321:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(36048).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},69070:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(3070).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},35500:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(19662),s=r(47908),c=r(3070);i&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){c.f(s(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},69720:(e,t,r)=>{var n=r(82109),i=r(44699).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},43371:(e,t,r)=>{var n=r(82109),i=r(76677),a=r(47293),o=r(70111),s=r(62423).onFreeze,c=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!i},{freeze:function(e){return c&&o(e)?c(s(e)):e}})},38559:(e,t,r)=>{var n=r(82109),i=r(20408),a=r(86135);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},38880:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(45656),o=r(31236).f,s=r(19781);n({target:"Object",stat:!0,forced:!s||i((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},49337:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(53887),o=r(45656),s=r(31236),c=r(86135);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),i=s.f,l=a(n),u={},d=0;l.length>d;)void 0!==(r=i(n,t=l[d++]))&&c(u,t,r);return u}})},36210:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(1156).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},29660:(e,t,r)=>{var n=r(82109),i=r(36293),a=r(47293),o=r(25181),s=r(47908);n({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},30489:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(47908),o=r(79518),s=r(49920);n({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},46314:(e,t,r)=>{r(82109)({target:"Object",stat:!0},{hasOwn:r(92597)})},41825:(e,t,r)=>{var n=r(82109),i=r(52050);n({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},98410:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(70111),o=r(84326),s=r(7556),c=Object.isFrozen;n({target:"Object",stat:!0,forced:s||i((function(){c(1)}))},{isFrozen:function(e){return!a(e)||!(!s||"ArrayBuffer"!=o(e))||!!c&&c(e)}})},72200:(e,t,r)=>{var n=r(82109),i=r(47293),a=r(70111),o=r(84326),s=r(7556),c=Object.isSealed;n({target:"Object",stat:!0,forced:s||i((function(){c(1)}))},{isSealed:function(e){return!a(e)||!(!s||"ArrayBuffer"!=o(e))||!!c&&c(e)}})},43304:(e,t,r)=>{r(82109)({target:"Object",stat:!0},{is:r(81150)})},47941:(e,t,r)=>{var n=r(82109),i=r(47908),a=r(81956);n({target:"Object",stat:!0,forced:r(47293)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},94869:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(47908),s=r(34948),c=r(79518),l=r(31236).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=o(this),n=s(e);do{if(t=l(r,n))return t.get}while(r=c(r))}})},33952:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(69026),o=r(47908),s=r(34948),c=r(79518),l=r(31236).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=o(this),n=s(e);do{if(t=l(r,n))return t.set}while(r=c(r))}})},57227:(e,t,r)=>{var n=r(82109),i=r(70111),a=r(62423).onFreeze,o=r(76677),s=r(47293),c=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!o},{preventExtensions:function(e){return c&&i(e)?c(a(e)):e}})},67987:(e,t,r)=>{var n=r(19781),i=r(47045),a=r(70111),o=r(47908),s=r(84488),c=Object.getPrototypeOf,l=Object.setPrototypeOf,u=Object.prototype,d="__proto__";if(n&&c&&l&&!(d in u))try{i(u,d,{configurable:!0,get:function(){return c(o(this))},set:function(e){var t=s(this);(a(e)||null===e)&&a(t)&&l(t,e)}})}catch(e){}},60514:(e,t,r)=>{var n=r(82109),i=r(70111),a=r(62423).onFreeze,o=r(76677),s=r(47293),c=Object.seal;n({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!o},{seal:function(e){return c&&i(e)?c(a(e)):e}})},68304:(e,t,r)=>{r(82109)({target:"Object",stat:!0},{setPrototypeOf:r(27674)})},41539:(e,t,r)=>{var n=r(51694),i=r(98052),a=r(90288);n||i(Object.prototype,"toString",a,{unsafe:!0})},26833:(e,t,r)=>{var n=r(82109),i=r(44699).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},54678:(e,t,r)=>{var n=r(82109),i=r(2814);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},91058:(e,t,r)=>{var n=r(82109),i=r(83009);n({global:!0,forced:parseInt!=i},{parseInt:i})},17922:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(78523),s=r(12534),c=r(20408);n({target:"Promise",stat:!0,forced:r(80612)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,l=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,l=1;c(e,(function(e){var a=s++,c=!1;l++,i(r,t,e).then((function(e){c||(c=!0,o[a]={status:"fulfilled",value:e},--l||n(o))}),(function(e){c||(c=!0,o[a]={status:"rejected",reason:e},--l||n(o))}))})),--l||n(o)}));return u.error&&l(u.value),r.promise}})},70821:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(78523),s=r(12534),c=r(20408);n({target:"Promise",stat:!0,forced:r(80612)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,l=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,u=1;c(e,(function(e){var a=s++,c=!1;u++,i(r,t,e).then((function(e){c||(c=!0,o[a]=e,--u||n(o))}),l)})),--u||n(o)}));return u.error&&l(u.value),r.promise}})},34668:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(35005),s=r(78523),c=r(12534),l=r(20408),u=r(80612),d="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),u=n.resolve,p=n.reject,h=c((function(){var n=a(t.resolve),o=[],s=0,c=1,h=!1;l(e,(function(e){var a=s++,l=!1;c++,i(n,t,e).then((function(e){l||h||(h=!0,u(e))}),(function(e){l||h||(l=!0,o[a]=e,--c||p(new r(o,d)))}))})),--c||p(new r(o,d))}));return h.error&&p(h.value),n.promise}})},94164:(e,t,r)=>{var n=r(82109),i=r(31913),a=r(63702).CONSTRUCTOR,o=r(2492),s=r(35005),c=r(60614),l=r(98052),u=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(o)){var d=s("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},43401:(e,t,r)=>{var n,i,a,o=r(82109),s=r(31913),c=r(35268),l=r(17854),u=r(46916),d=r(98052),p=r(27674),h=r(58003),f=r(96340),g=r(19662),m=r(60614),y=r(70111),b=r(25787),v=r(36707),w=r(20261).set,A=r(95948),S=r(842),E=r(12534),T=r(18572),R=r(29909),k=r(2492),x=r(63702),I=r(78523),O="Promise",M=x.CONSTRUCTOR,N=x.REJECTION_EVENT,_=x.SUBCLASSING,P=R.getterFor(O),C=R.set,L=k&&k.prototype,D=k,V=L,U=l.TypeError,B=l.document,j=l.process,F=I.f,$=F,q=!!(B&&B.createEvent&&l.dispatchEvent),H="unhandledrejection",G=function(e){var t;return!(!y(e)||!m(t=e.then))&&t},W=function(e,t){var r,n,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Y(t),t.rejection=1),!0===s?r=a:(d&&d.enter(),r=s(a),d&&(d.exit(),i=!0)),r===e.promise?l(U("Promise-chain cycle")):(n=G(r))?u(n,r,c,l):c(r)):l(a)}catch(e){d&&!i&&d.exit(),l(e)}},z=function(e,t){e.notified||(e.notified=!0,A((function(){for(var r,n=e.reactions;r=n.get();)W(r,e);e.notified=!1,t&&!e.rejection&&Q(e)})))},J=function(e,t,r){var n,i;q?((n=B.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!N&&(i=l["on"+e])?i(n):e===H&&S("Unhandled promise rejection",r)},Q=function(e){u(w,l,(function(){var t,r=e.facade,n=e.value;if(K(e)&&(t=E((function(){c?j.emit("unhandledRejection",n,r):J(H,r,n)})),e.rejection=c||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){u(w,l,(function(){var t=e.facade;c?j.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(n){e(t,n,r)}},X=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,z(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw U("Promise can't be resolved itself");var n=G(t);n?A((function(){var r={done:!1};try{u(n,t,Z(ee,r,e),Z(X,r,e))}catch(t){X(r,t,e)}})):(e.value=t,e.state=1,z(e,!1))}catch(t){X({done:!1},t,e)}}};if(M&&(V=(D=function(e){b(this,V),g(e),u(n,this);var t=P(this);try{e(Z(ee,t),Z(X,t))}catch(e){X(t,e)}}).prototype,(n=function(e){C(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=d(V,"then",(function(e,t){var r=P(this),n=F(v(this,D));return r.parent=!0,n.ok=!m(e)||e,n.fail=m(t)&&t,n.domain=c?j.domain:void 0,0==r.state?r.reactions.add(n):A((function(){W(n,r)})),n.promise})),i=function(){var e=new n,t=P(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(X,t)},I.f=F=function(e){return e===D||void 0===e?new i(e):$(e)},!s&&m(k)&&L!==Object.prototype)){a=L.then,_||d(L,"then",(function(e,t){var r=this;return new D((function(e,t){u(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}p&&p(L,V)}o({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:D}),h(D,O,!1,!0),f(O)},17727:(e,t,r)=>{var n=r(82109),i=r(31913),a=r(2492),o=r(47293),s=r(35005),c=r(60614),l=r(36707),u=r(69478),d=r(98052),p=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),r=c(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&c(a)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},88674:(e,t,r)=>{r(43401),r(70821),r(94164),r(6027),r(60683),r(96294)},6027:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19662),o=r(78523),s=r(12534),c=r(20408);n({target:"Promise",stat:!0,forced:r(80612)},{race:function(e){var t=this,r=o.f(t),n=r.reject,l=s((function(){var o=a(t.resolve);c(e,(function(e){i(o,t,e).then(r.resolve,n)}))}));return l.error&&n(l.value),r.promise}})},60683:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(78523);n({target:"Promise",stat:!0,forced:r(63702).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},96294:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(31913),o=r(2492),s=r(63702).CONSTRUCTOR,c=r(69478),l=i("Promise"),u=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return c(u&&this===l?o:this,e)}})},36535:(e,t,r)=>{var n=r(82109),i=r(22104),a=r(19662),o=r(19670);n({target:"Reflect",stat:!0,forced:!r(47293)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,r){return i(a(e),t,o(r))}})},12419:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(22104),o=r(27065),s=r(39483),c=r(19670),l=r(70111),u=r(70030),d=r(47293),p=i("Reflect","construct"),h=Object.prototype,f=[].push,g=d((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),m=!d((function(){p((function(){}))})),y=g||m;n({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){s(e),c(t);var r=arguments.length<3?e:s(arguments[2]);if(m&&!g)return p(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return a(f,n,t),new(a(o,e,n))}var i=r.prototype,d=u(l(i)?i:h),y=a(e,d,t);return l(y)?y:d}})},69596:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(19670),o=r(34948),s=r(3070);n({target:"Reflect",stat:!0,forced:r(47293)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,r){a(e);var n=o(t);a(r);try{return s.f(e,n,r),!0}catch(e){return!1}}})},52586:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(31236).f;n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},95683:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(19670),o=r(31236);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o.f(a(e),t)}})},39361:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(79518);n({target:"Reflect",stat:!0,sham:!r(49920)},{getPrototypeOf:function(e){return a(i(e))}})},74819:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(70111),o=r(19670),s=r(45032),c=r(31236),l=r(79518);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,u,d=arguments.length<3?t:arguments[2];return o(t)===d?t[r]:(n=c.f(t,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,d):a(u=l(t))?e(u,r,d):void 0}})},51037:(e,t,r)=>{r(82109)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},5898:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(52050);n({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),a(e)}})},67556:(e,t,r)=>{r(82109)({target:"Reflect",stat:!0},{ownKeys:r(53887)})},14361:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(19670);n({target:"Reflect",stat:!0,sham:!r(76677)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},39532:(e,t,r)=>{var n=r(82109),i=r(19670),a=r(96077),o=r(27674);o&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return o(e,t),!0}catch(e){return!1}}})},83593:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(19670),o=r(70111),s=r(45032),c=r(47293),l=r(3070),u=r(31236),d=r(79518),p=r(79114);n({target:"Reflect",stat:!0,forced:c((function(){var e=function(){},t=l.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,r,n){var c,h,f,g=arguments.length<4?t:arguments[3],m=u.f(a(t),r);if(!m){if(o(h=d(t)))return e(h,r,n,g);m=p(0)}if(s(m)){if(!1===m.writable||!o(g))return!1;if(c=u.f(g,r)){if(c.get||c.set||!1===c.writable)return!1;c.value=n,l.f(g,r,c)}else l.f(g,r,p(0,n))}else{if(void 0===(f=m.set))return!1;i(f,g,n)}return!0}})},81299:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(58003);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},24603:(e,t,r)=>{var n=r(19781),i=r(17854),a=r(1702),o=r(54705),s=r(79587),c=r(68880),l=r(8006).f,u=r(47976),d=r(47850),p=r(41340),h=r(34706),f=r(52999),g=r(2626),m=r(98052),y=r(47293),b=r(92597),v=r(29909).enforce,w=r(96340),A=r(5112),S=r(9441),E=r(38173),T=A("match"),R=i.RegExp,k=R.prototype,x=i.SyntaxError,I=a(k.exec),O=a("".charAt),M=a("".replace),N=a("".indexOf),_=a("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,C=/a/g,L=/a/g,D=new R(C)!==C,V=f.MISSED_STICKY,U=f.UNSUPPORTED_Y;if(o("RegExp",n&&(!D||V||S||E||y((function(){return L[T]=!1,R(C)!=C||R(L)==L||"/a/i"!=R(C,"i")}))))){for(var B=function(e,t){var r,n,i,a,o,l,f=u(k,this),g=d(e),m=void 0===t,y=[],w=e;if(!f&&g&&m&&e.constructor===B)return e;if((g||u(k,e))&&(e=e.source,m&&(t=h(w))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),w=e,S&&"dotAll"in C&&(n=!!t&&N(t,"s")>-1)&&(t=M(t,/s/g,"")),r=t,V&&"sticky"in C&&(i=!!t&&N(t,"y")>-1)&&U&&(t=M(t,/y/g,"")),E&&(a=function(e){for(var t,r=e.length,n=0,i="",a=[],o={},s=!1,c=!1,l=0,u="";n<=r;n++){if("\\"===(t=O(e,n)))t+=O(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:I(P,_(e,n+1))&&(n+=2,c=!0),i+=t,l++;continue;case">"===t&&c:if(""===u||b(o,u))throw new x("Invalid capture group name");o[u]=!0,a[a.length]=[u,l],c=!1,u="";continue}c?u+=t:i+=t}return[i,a]}(e),e=a[0],y=a[1]),o=s(R(e,t),f?this:k,B),(n||i||y.length)&&(l=v(o),n&&(l.dotAll=!0,l.raw=B(function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(t=O(e,n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+O(e,++n);return i}(e),r)),i&&(l.sticky=!0),y.length&&(l.groups=y)),e!==w)try{c(o,"source",""===w?"(?:)":w)}catch(e){}return o},j=l(R),F=0;j.length>F;)g(B,R,j[F++]);k.constructor=B,B.prototype=k,m(i,"RegExp",B,{constructor:!0})}w("RegExp")},28450:(e,t,r)=>{var n=r(19781),i=r(9441),a=r(84326),o=r(47045),s=r(29909).get,c=RegExp.prototype,l=TypeError;n&&i&&o(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!s(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},74916:(e,t,r)=>{var n=r(82109),i=r(22261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},92087:(e,t,r)=>{var n=r(17854),i=r(19781),a=r(47045),o=r(67066),s=r(47293),c=n.RegExp,l=c.prototype;i&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==n||r!==n}))&&a(l,"flags",{configurable:!0,get:o})},88386:(e,t,r)=>{var n=r(19781),i=r(52999).MISSED_STICKY,a=r(84326),o=r(47045),s=r(29909).get,c=RegExp.prototype,l=TypeError;n&&i&&o(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!s(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},77601:(e,t,r)=>{r(74916);var n,i,a=r(82109),o=r(46916),s=r(60614),c=r(19670),l=r(41340),u=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),d=/./.test;a({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=c(this),r=l(e),n=t.exec;if(!s(n))return o(d,t,r);var i=o(n,t,r);return null!==i&&(c(i),!0)}})},39714:(e,t,r)=>{var n=r(76530).PROPER,i=r(98052),a=r(19670),o=r(41340),s=r(47293),c=r(34706),l="toString",u=RegExp.prototype[l],d=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),p=n&&u.name!=l;(d||p)&&i(RegExp.prototype,l,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(c(e))}),{unsafe:!0})},37227:(e,t,r)=>{r(77710)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(95631))},70189:(e,t,r)=>{r(37227)},15218:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},24506:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(84488),o=r(19303),s=r(41340),c=r(47293),l=i("".charAt);n({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),r=t.length,n=o(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:l(t,i)}})},74475:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("big")},{big:function(){return i(this,"big","","")}})},57929:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("blink")},{blink:function(){return i(this,"blink","","")}})},50915:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("bold")},{bold:function(){return i(this,"b","","")}})},79841:(e,t,r)=>{var n=r(82109),i=r(28710).codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},27852:(e,t,r)=>{var n,i=r(82109),a=r(21470),o=r(31236).f,s=r(17466),c=r(41340),l=r(3929),u=r(84488),d=r(84964),p=r(31913),h=a("".endsWith),f=a("".slice),g=Math.min,m=d("endsWith");i({target:"String",proto:!0,forced:!(!p&&!m&&(n=o(String.prototype,"endsWith"),n&&!n.writable)||m)},{endsWith:function(e){var t=c(u(this));l(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:g(s(r),n),a=c(e);return h?h(t,a,i):f(t,i-a.length,i)===a}})},29253:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("fixed")},{fixed:function(){return i(this,"tt","","")}})},42125:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},78830:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},94953:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(51400),o=RangeError,s=String.fromCharCode,c=String.fromCodePoint,l=i([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&1!=c.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw o(t+" is not a valid code point");r[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return l(r,"")}})},32023:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(3929),o=r(84488),s=r(41340),c=r(84964),l=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},58734:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("italics")},{italics:function(){return i(this,"i","","")}})},78783:(e,t,r)=>{var n=r(28710).charAt,i=r(41340),a=r(29909),o=r(51656),s=r(76178),c="String Iterator",l=a.set,u=a.getterFor(c);o(String,"String",(function(e){l(this,{type:c,string:i(e),index:0})}),(function(){var e,t=u(this),r=t.string,i=t.index;return i>=r.length?s(void 0,!0):(e=n(r,i),t.index+=e.length,s(e,!1))}))},29254:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("link")},{link:function(e){return i(this,"a","href",e)}})},76373:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(21470),o=r(63061),s=r(76178),c=r(84488),l=r(17466),u=r(41340),d=r(19670),p=r(68554),h=r(84326),f=r(47850),g=r(34706),m=r(58173),y=r(98052),b=r(47293),v=r(5112),w=r(36707),A=r(31530),S=r(97651),E=r(29909),T=r(31913),R=v("matchAll"),k="RegExp String",x=k+" Iterator",I=E.set,O=E.getterFor(x),M=RegExp.prototype,N=TypeError,_=a("".indexOf),P=a("".matchAll),C=!!P&&!b((function(){P("a",/./)})),L=o((function(e,t,r,n){I(this,{type:x,regexp:e,string:t,global:r,unicode:n,done:!1})}),k,(function(){var e=O(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,n=S(t,r);return null===n?(e.done=!0,s(void 0,!0)):e.global?(""===u(n[0])&&(t.lastIndex=A(r,l(t.lastIndex),e.unicode)),s(n,!1)):(e.done=!0,s(n,!1))})),D=function(e){var t,r,n,i=d(this),a=u(e),o=w(i,RegExp),s=u(g(i));return t=new o(o===RegExp?i.source:i,s),r=!!~_(s,"g"),n=!!~_(s,"u"),t.lastIndex=l(i.lastIndex),new L(t,a,r,n)};n({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,r,n,a,o=c(this);if(p(e)){if(C)return P(o,e)}else{if(f(e)&&(t=u(c(g(e))),!~_(t,"g")))throw N("`.matchAll` does not allow non-global regexes");if(C)return P(o,e);if(void 0===(n=m(e,R))&&T&&"RegExp"==h(e)&&(n=D),n)return i(n,e,o)}return r=u(o),a=new RegExp(e,"g"),T?i(D,a,r):a[R](r)}}),T||R in M||y(M,R,D)},4723:(e,t,r)=>{var n=r(46916),i=r(27007),a=r(19670),o=r(68554),s=r(17466),c=r(41340),l=r(84488),u=r(58173),d=r(31530),p=r(97651);i("match",(function(e,t,r){return[function(t){var r=l(this),i=o(t)?void 0:u(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n=a(this),i=c(e),o=r(t,n,i);if(o.done)return o.value;if(!n.global)return p(n,i);var l=n.unicode;n.lastIndex=0;for(var u,h=[],f=0;null!==(u=p(n,i));){var g=c(u[0]);h[f]=g,""===g&&(n.lastIndex=d(i,s(n.lastIndex),l)),f++}return 0===f?null:h}]}))},66528:(e,t,r)=>{var n=r(82109),i=r(76650).end;n({target:"String",proto:!0,forced:r(54986)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},83112:(e,t,r)=>{var n=r(82109),i=r(76650).start;n({target:"String",proto:!0,forced:r(54986)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},38992:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(45656),o=r(47908),s=r(41340),c=r(26244),l=i([].push),u=i([].join);n({target:"String",stat:!0},{raw:function(e){var t=a(o(e).raw),r=c(t);if(!r)return"";for(var n=arguments.length,i=[],d=0;;){if(l(i,s(t[d++])),d===r)return u(i,"");d<n&&l(i,s(arguments[d]))}}})},82481:(e,t,r)=>{r(82109)({target:"String",proto:!0},{repeat:r(38415)})},68757:(e,t,r)=>{var n=r(82109),i=r(46916),a=r(1702),o=r(84488),s=r(60614),c=r(68554),l=r(47850),u=r(41340),d=r(58173),p=r(34706),h=r(10647),f=r(5112),g=r(31913),m=f("replace"),y=TypeError,b=a("".indexOf),v=a("".replace),w=a("".slice),A=Math.max,S=function(e,t,r){return r>e.length?-1:""===t?r:b(e,t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,a,f,E,T,R,k,x,I=o(this),O=0,M=0,N="";if(!c(e)){if((r=l(e))&&(n=u(o(p(e))),!~b(n,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(a=d(e,m))return i(a,e,I,t);if(g&&r)return v(u(I),e,t)}for(f=u(I),E=u(e),(T=s(t))||(t=u(t)),R=E.length,k=A(1,R),O=S(f,E,0);-1!==O;)x=T?u(t(E,O,f)):h(E,f,O,[],void 0,t),N+=w(f,M,O)+x,M=O+R,O=S(f,E,O+k);return M<f.length&&(N+=w(f,M)),N}})},15306:(e,t,r)=>{var n=r(22104),i=r(46916),a=r(1702),o=r(27007),s=r(47293),c=r(19670),l=r(60614),u=r(68554),d=r(19303),p=r(17466),h=r(41340),f=r(84488),g=r(31530),m=r(58173),y=r(10647),b=r(97651),v=r(5112)("replace"),w=Math.max,A=Math.min,S=a([].concat),E=a([].push),T=a("".indexOf),R=a("".slice),k="$0"==="a".replace(/./,"$0"),x=!!/./[v]&&""===/./[v]("a","$0");o("replace",(function(e,t,r){var a=x?"$":"$0";return[function(e,r){var n=f(this),a=u(e)?void 0:m(e,v);return a?i(a,e,n,r):i(t,h(n),e,r)},function(e,i){var o=c(this),s=h(e);if("string"==typeof i&&-1===T(i,a)&&-1===T(i,"$<")){var u=r(t,o,s,i);if(u.done)return u.value}var f=l(i);f||(i=h(i));var m=o.global;if(m){var v=o.unicode;o.lastIndex=0}for(var k=[];;){var x=b(o,s);if(null===x)break;if(E(k,x),!m)break;""===h(x[0])&&(o.lastIndex=g(s,p(o.lastIndex),v))}for(var I,O="",M=0,N=0;N<k.length;N++){for(var _=h((x=k[N])[0]),P=w(A(d(x.index),s.length),0),C=[],L=1;L<x.length;L++)E(C,void 0===(I=x[L])?I:String(I));var D=x.groups;if(f){var V=S([_],C,P,s);void 0!==D&&E(V,D);var U=h(n(i,void 0,V))}else U=y(_,s,P,C,D,i);P>=M&&(O+=R(s,M,P)+U,M=P+_.length)}return O+R(s,M)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||x)},64765:(e,t,r)=>{var n=r(46916),i=r(27007),a=r(19670),o=r(68554),s=r(84488),c=r(81150),l=r(41340),u=r(58173),d=r(97651);i("search",(function(e,t,r){return[function(t){var r=s(this),i=o(t)?void 0:u(t,e);return i?n(i,t,r):new RegExp(t)[e](l(r))},function(e){var n=a(this),i=l(e),o=r(t,n,i);if(o.done)return o.value;var s=n.lastIndex;c(s,0)||(n.lastIndex=0);var u=d(n,i);return c(n.lastIndex,s)||(n.lastIndex=s),null===u?-1:u.index}]}))},37268:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("small")},{small:function(){return i(this,"small","","")}})},23123:(e,t,r)=>{var n=r(22104),i=r(46916),a=r(1702),o=r(27007),s=r(19670),c=r(68554),l=r(47850),u=r(84488),d=r(36707),p=r(31530),h=r(17466),f=r(41340),g=r(58173),m=r(41589),y=r(97651),b=r(22261),v=r(52999),w=r(47293),A=v.UNSUPPORTED_Y,S=4294967295,E=Math.min,T=[].push,R=a(/./.exec),k=a(T),x=a("".slice);o("split",(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=f(u(this)),o=void 0===r?S:r>>>0;if(0===o)return[];if(void 0===e)return[a];if(!l(e))return i(t,a,e,o);for(var s,c,d,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,y=new RegExp(e.source,h+"g");(s=i(b,y,a))&&!((c=y.lastIndex)>g&&(k(p,x(a,g,s.index)),s.length>1&&s.index<a.length&&n(T,p,m(s,1)),d=s[0].length,g=c,p.length>=o));)y.lastIndex===s.index&&y.lastIndex++;return g===a.length?!d&&R(y,"")||k(p,""):k(p,x(a,g)),p.length>o?m(p,0,o):p}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var n=u(this),o=c(t)?void 0:g(t,e);return o?i(o,t,n,r):i(a,f(n),t,r)},function(e,n){var i=s(this),o=f(e),c=r(a,i,o,n,a!==t);if(c.done)return c.value;var l=d(i,RegExp),u=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(A?"g":"y"),m=new l(A?"^(?:"+i.source+")":i,g),b=void 0===n?S:n>>>0;if(0===b)return[];if(0===o.length)return null===y(m,o)?[o]:[];for(var v=0,w=0,T=[];w<o.length;){m.lastIndex=A?0:w;var R,I=y(m,A?x(o,w):o);if(null===I||(R=E(h(m.lastIndex+(A?w:0)),o.length))===v)w=p(o,w,u);else{if(k(T,x(o,v,w)),T.length===b)return T;for(var O=1;O<=I.length-1;O++)if(k(T,I[O]),T.length===b)return T;w=v=R}}return k(T,x(o,v)),T}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),A)},23157:(e,t,r)=>{var n,i=r(82109),a=r(21470),o=r(31236).f,s=r(17466),c=r(41340),l=r(3929),u=r(84488),d=r(84964),p=r(31913),h=a("".startsWith),f=a("".slice),g=Math.min,m=d("startsWith");i({target:"String",proto:!0,forced:!(!p&&!m&&(n=o(String.prototype,"startsWith"),n&&!n.writable)||m)},{startsWith:function(e){var t=c(u(this));l(e);var r=s(g(arguments.length>1?arguments[1]:void 0,t.length)),n=c(e);return h?h(t,n,r):f(t,r,r+n.length)===n}})},7397:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("strike")},{strike:function(){return i(this,"strike","","")}})},60086:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("sub")},{sub:function(){return i(this,"sub","","")}})},83650:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(84488),o=r(19303),s=r(41340),c=i("".slice),l=Math.max,u=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var r,n,i=s(a(this)),d=i.length,p=o(e);return p===1/0&&(p=0),p<0&&(p=l(d+p,0)),(r=void 0===t?d:o(t))<=0||r===1/0||p>=(n=u(p+r,d))?"":c(i,p,n)}})},80623:(e,t,r)=>{var n=r(82109),i=r(14230);n({target:"String",proto:!0,forced:r(43429)("sup")},{sup:function(){return i(this,"sup","","")}})},48702:(e,t,r)=>{r(83462);var n=r(82109),i=r(10365);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},99967:(e,t,r)=>{var n=r(82109),i=r(33217);n({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},83462:(e,t,r)=>{var n=r(82109),i=r(10365);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},55674:(e,t,r)=>{r(99967);var n=r(82109),i=r(33217);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},73210:(e,t,r)=>{var n=r(82109),i=r(53111).trim;n({target:"String",proto:!0,forced:r(76091)("trim")},{trim:function(){return i(this)}})},72443:(e,t,r)=>{r(26800)("asyncIterator")},4032:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(46916),o=r(1702),s=r(31913),c=r(19781),l=r(36293),u=r(47293),d=r(92597),p=r(47976),h=r(19670),f=r(45656),g=r(34948),m=r(41340),y=r(79114),b=r(70030),v=r(81956),w=r(8006),A=r(1156),S=r(25181),E=r(31236),T=r(3070),R=r(36048),k=r(55296),x=r(98052),I=r(47045),O=r(72309),M=r(6200),N=r(3501),_=r(69711),P=r(5112),C=r(6061),L=r(26800),D=r(56532),V=r(58003),U=r(29909),B=r(42092).forEach,j=M("hidden"),F="Symbol",$="prototype",q=U.set,H=U.getterFor(F),G=Object[$],W=i.Symbol,z=W&&W[$],J=i.TypeError,Q=i.QObject,K=E.f,Y=T.f,Z=A.f,X=k.f,ee=o([].push),te=O("symbols"),re=O("op-symbols"),ne=O("wks"),ie=!Q||!Q[$]||!Q[$].findChild,ae=c&&u((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=K(G,t);n&&delete G[t],Y(e,t,r),n&&e!==G&&Y(G,t,n)}:Y,oe=function(e,t){var r=te[e]=b(z);return q(r,{type:F,tag:e,description:t}),c||(r.description=t),r},se=function(e,t,r){e===G&&se(re,t,r),h(e);var n=g(t);return h(r),d(te,n)?(r.enumerable?(d(e,j)&&e[j][n]&&(e[j][n]=!1),r=b(r,{enumerable:y(0,!1)})):(d(e,j)||Y(e,j,y(1,{})),e[j][n]=!0),ae(e,n,r)):Y(e,n,r)},ce=function(e,t){h(e);var r=f(t),n=v(r).concat(pe(r));return B(n,(function(t){c&&!a(le,r,t)||se(e,t,r[t])})),e},le=function(e){var t=g(e),r=a(X,this,t);return!(this===G&&d(te,t)&&!d(re,t))&&(!(r||!d(this,t)||!d(te,t)||d(this,j)&&this[j][t])||r)},ue=function(e,t){var r=f(e),n=g(t);if(r!==G||!d(te,n)||d(re,n)){var i=K(r,n);return!i||!d(te,n)||d(r,j)&&r[j][n]||(i.enumerable=!0),i}},de=function(e){var t=Z(f(e)),r=[];return B(t,(function(e){d(te,e)||d(N,e)||ee(r,e)})),r},pe=function(e){var t=e===G,r=Z(t?re:f(e)),n=[];return B(r,(function(e){!d(te,e)||t&&!d(G,e)||ee(n,te[e])})),n};l||(x(z=(W=function(){if(p(z,this))throw J("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=_(e),r=function(e){this===G&&a(r,re,e),d(this,j)&&d(this[j],t)&&(this[j][t]=!1),ae(this,t,y(1,e))};return c&&ie&&ae(G,t,{configurable:!0,set:r}),oe(t,e)})[$],"toString",(function(){return H(this).tag})),x(W,"withoutSetter",(function(e){return oe(_(e),e)})),k.f=le,T.f=se,R.f=ce,E.f=ue,w.f=A.f=de,S.f=pe,C.f=function(e){return oe(P(e),e)},c&&(I(z,"description",{configurable:!0,get:function(){return H(this).description}}),s||x(G,"propertyIsEnumerable",le,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),B(v(ne),(function(e){L(e)})),n({target:F,stat:!0,forced:!l},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(e,t){return void 0===t?b(e):ce(b(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de}),D(),V(W,F),N[j]=!0},41817:(e,t,r)=>{var n=r(82109),i=r(19781),a=r(17854),o=r(1702),s=r(92597),c=r(60614),l=r(47976),u=r(41340),d=r(47045),p=r(99920),h=a.Symbol,f=h&&h.prototype;if(i&&c(h)&&(!("description"in f)||void 0!==h().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(f,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};p(m,h),m.prototype=f,f.constructor=m;var y="Symbol(test)"==String(h("test")),b=o(f.valueOf),v=o(f.toString),w=/^Symbol\((.*)\)[^)]+$/,A=o("".replace),S=o("".slice);d(f,"description",{configurable:!0,get:function(){var e=b(this);if(s(g,e))return"";var t=v(e),r=y?S(t,7,-1):A(t,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},40763:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(92597),o=r(41340),s=r(72309),c=r(2015),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=o(e);if(a(l,t))return l[t];var r=i("Symbol")(t);return l[t]=r,u[r]=t,r}})},92401:(e,t,r)=>{r(26800)("hasInstance")},8722:(e,t,r)=>{r(26800)("isConcatSpreadable")},32165:(e,t,r)=>{r(26800)("iterator")},82526:(e,t,r)=>{r(4032),r(40763),r(26620),r(38862),r(29660)},26620:(e,t,r)=>{var n=r(82109),i=r(92597),a=r(52190),o=r(66330),s=r(72309),c=r(2015),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(l,e))return l[e]}})},16066:(e,t,r)=>{r(26800)("matchAll")},69007:(e,t,r)=>{r(26800)("match")},83510:(e,t,r)=>{r(26800)("replace")},41840:(e,t,r)=>{r(26800)("search")},6982:(e,t,r)=>{r(26800)("species")},32159:(e,t,r)=>{r(26800)("split")},96649:(e,t,r)=>{var n=r(26800),i=r(56532);n("toPrimitive"),i()},39341:(e,t,r)=>{var n=r(35005),i=r(26800),a=r(58003);i("toStringTag"),a(n("Symbol"),"Symbol")},60543:(e,t,r)=>{r(26800)("unscopables")},48675:(e,t,r)=>{var n=r(90260),i=r(26244),a=r(19303),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},92990:(e,t,r)=>{var n=r(1702),i=r(90260),a=n(r(1048)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},18927:(e,t,r)=>{var n=r(90260),i=r(42092).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33105:(e,t,r)=>{var n=r(90260),i=r(21285),a=r(64599),o=r(70648),s=r(46916),c=r(1702),l=r(47293),u=n.aTypedArray,d=n.exportTypedArrayMethod,p=c("".slice);d("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(o(this),0,3)?a(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},35035:(e,t,r)=>{var n=r(90260),i=r(42092).filter,a=r(43074),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,r)=>{var n=r(90260),i=r(42092).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},14590:(e,t,r)=>{var n=r(90260),i=r(9671).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},63408:(e,t,r)=>{var n=r(90260),i=r(9671).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},74345:(e,t,r)=>{var n=r(90260),i=r(42092).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},44197:(e,t,r)=>{r(19843)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},76495:(e,t,r)=>{r(19843)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},32846:(e,t,r)=>{var n=r(90260),i=r(42092).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},98145:(e,t,r)=>{var n=r(63832);(0,r(90260).exportTypedArrayStaticMethod)("from",r(97321),n)},44731:(e,t,r)=>{var n=r(90260),i=r(41318).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},77209:(e,t,r)=>{var n=r(90260),i=r(41318).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},35109:(e,t,r)=>{r(19843)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},65125:(e,t,r)=>{r(19843)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},87145:(e,t,r)=>{r(19843)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},96319:(e,t,r)=>{var n=r(17854),i=r(47293),a=r(1702),o=r(90260),s=r(66992),c=r(5112)("iterator"),l=n.Uint8Array,u=a(s.values),d=a(s.keys),p=a(s.entries),h=o.aTypedArray,f=o.exportTypedArrayMethod,g=l&&l.prototype,m=!i((function(){g[c].call([1])})),y=!!g&&g.values&&g[c]===g.values&&"values"===g.values.name,b=function(){return u(h(this))};f("entries",(function(){return p(h(this))}),m),f("keys",(function(){return d(h(this))}),m),f("values",b,m||!y,{name:"values"}),f(c,b,m||!y,{name:"values"})},58867:(e,t,r)=>{var n=r(90260),i=r(1702),a=n.aTypedArray,o=n.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},37789:(e,t,r)=>{var n=r(90260),i=r(22104),a=r(86583),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},33739:(e,t,r)=>{var n=r(90260),i=r(42092).map,a=r(66304),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},95206:(e,t,r)=>{var n=r(90260),i=r(63832),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},14483:(e,t,r)=>{var n=r(90260),i=r(53671).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},29368:(e,t,r)=>{var n=r(90260),i=r(53671).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},12056:(e,t,r)=>{var n=r(90260),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,r=i(t).length,n=o(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t}))},3462:(e,t,r)=>{var n=r(17854),i=r(46916),a=r(90260),o=r(26244),s=r(84590),c=r(47908),l=r(47293),u=n.RangeError,d=n.Int8Array,p=d&&d.prototype,h=p&&p.set,f=a.aTypedArray,g=a.exportTypedArrayMethod,m=!l((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),y=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(m)return i(h,this,r,t);var n=this.length,a=o(r),l=0;if(a+t>n)throw u("Wrong length");for(;l<a;)this[t+l]=r[l++]}),!m||y)},30678:(e,t,r)=>{var n=r(90260),i=r(66304),a=r(47293),o=r(50206),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(e,t){for(var r=o(s(this),e,t),n=i(this),a=0,c=r.length,l=new n(c);c>a;)l[a]=r[a++];return l}),a((function(){new Int8Array(1).slice()})))},27462:(e,t,r)=>{var n=r(90260),i=r(42092).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33824:(e,t,r)=>{var n=r(17854),i=r(21470),a=r(47293),o=r(19662),s=r(94362),c=r(90260),l=r(68886),u=r(30256),d=r(7392),p=r(98008),h=c.aTypedArray,f=c.exportTypedArrayMethod,g=n.Uint16Array,m=g&&i(g.prototype.sort),y=!(!m||a((function(){m(new g(2),null)}))&&a((function(){m(new g(2),{})}))),b=!!m&&!a((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(m(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),b?m(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!b||y)},55021:(e,t,r)=>{var n=r(90260),i=r(17466),a=r(51400),o=r(66304),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length,c=a(e,n);return new(o(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,i((void 0===t?n:a(t,n))-c))}))},12974:(e,t,r)=>{var n=r(17854),i=r(22104),a=r(90260),o=r(47293),s=r(50206),c=n.Int8Array,l=a.aTypedArray,u=a.exportTypedArrayMethod,d=[].toLocaleString,p=!!c&&o((function(){d.call(new c(1))}));u("toLocaleString",(function(){return i(d,p?s(l(this)):l(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!o((function(){c.prototype.toLocaleString.call([1,2])})))},1439:(e,t,r)=>{var n=r(21843),i=r(90260),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return n(a(this),s(this))}))},87585:(e,t,r)=>{var n=r(90260),i=r(1702),a=r(19662),o=r(97745),s=n.aTypedArray,c=n.getTypedArrayConstructor,l=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);l("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=o(c(t),t);return u(r,e)}))},15016:(e,t,r)=>{var n=r(90260).exportTypedArrayMethod,i=r(47293),a=r(17854),o=r(1702),s=a.Uint8Array,c=s&&s.prototype||{},l=[].toString,u=o([].join);i((function(){l.call({})}))&&(l=function(){return u(this)});var d=c.toString!=l;n("toString",l,d)},8255:(e,t,r)=>{r(19843)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},29135:(e,t,r)=>{r(19843)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},82472:(e,t,r)=>{r(19843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},49743:(e,t,r)=>{r(19843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},55315:(e,t,r)=>{var n=r(11572),i=r(90260),a=r(44067),o=r(19303),s=r(64599),c=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=c(this),i=o(e),u=a(r)?s(t):+t;return n(r,l(r),i,u)}}.with,!d)},78221:(e,t,r)=>{var n=r(82109),i=r(1702),a=r(41340),o=String.fromCharCode,s=i("".charAt),c=i(/./.exec),l=i("".slice),u=/^[\da-f]{2}$/i,d=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(e){for(var t,r,n=a(e),i="",p=n.length,h=0;h<p;){if("%"===(t=s(n,h++)))if("u"===s(n,h)){if(r=l(n,h+1,h+5),c(d,r)){i+=o(parseInt(r,16)),h+=5;continue}}else if(r=l(n,h,h+2),c(u,r)){i+=o(parseInt(r,16)),h+=2;continue}i+=t}return i}})},41202:(e,t,r)=>{var n,i=r(76677),a=r(17854),o=r(1702),s=r(89190),c=r(62423),l=r(77710),u=r(29320),d=r(70111),p=r(29909).enforce,h=r(47293),f=r(94811),g=Object,m=Array.isArray,y=g.isExtensible,b=g.isFrozen,v=g.isSealed,w=g.freeze,A=g.seal,S={},E={},T=!a.ActiveXObject&&"ActiveXObject"in a,R=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},k=l("WeakMap",R,u),x=k.prototype,I=o(x.set);if(f)if(T){n=u.getConstructor(R,"WeakMap",!0),c.enable();var O=o(x.delete),M=o(x.has),N=o(x.get);s(x,{delete:function(e){if(d(e)&&!y(e)){var t=p(this);return t.frozen||(t.frozen=new n),O(this,e)||t.frozen.delete(e)}return O(this,e)},has:function(e){if(d(e)&&!y(e)){var t=p(this);return t.frozen||(t.frozen=new n),M(this,e)||t.frozen.has(e)}return M(this,e)},get:function(e){if(d(e)&&!y(e)){var t=p(this);return t.frozen||(t.frozen=new n),M(this,e)?N(this,e):t.frozen.get(e)}return N(this,e)},set:function(e,t){if(d(e)&&!y(e)){var r=p(this);r.frozen||(r.frozen=new n),M(this,e)?I(this,e,t):r.frozen.set(e,t)}else I(this,e,t);return this}})}else i&&h((function(){var e=w([]);return I(new k,e,1),!b(e)}))&&s(x,{set:function(e,t){var r;return m(e)&&(b(e)?r=S:v(e)&&(r=E)),I(this,e,t),r==S&&w(e),r==E&&A(e),this}})},4129:(e,t,r)=>{r(41202)},72098:(e,t,r)=>{r(77710)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(29320))},38478:(e,t,r)=>{r(72098)},75505:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(35005),o=r(1702),s=r(46916),c=r(47293),l=r(41340),u=r(92597),d=r(48053),p=r(14170).ctoi,h=/[^\d+/a-z]/i,f=/[\t\n\f\r ]+/g,g=/[=]{1,2}$/,m=a("atob"),y=String.fromCharCode,b=o("".charAt),v=o("".replace),w=o(h.exec),A=c((function(){return""!==m(" ")})),S=!c((function(){m("a")})),E=!A&&!S&&!c((function(){m()})),T=!A&&!S&&1!==m.length;n({global:!0,bind:!0,enumerable:!0,forced:A||S||E||T},{atob:function(e){if(d(arguments.length,1),E||T)return s(m,i,e);var t,r,n=v(l(e),f,""),o="",c=0,A=0;if(n.length%4==0&&(n=v(n,g,"")),n.length%4==1||w(h,n))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;t=b(n,c++);)u(p,t)&&(r=A%4?64*r+p[t]:p[t],A++%4&&(o+=y(255&r>>(-2*A&6))));return o}})},27479:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(35005),o=r(1702),s=r(46916),c=r(47293),l=r(41340),u=r(48053),d=r(14170).itoc,p=a("btoa"),h=o("".charAt),f=o("".charCodeAt),g=!!p&&!c((function(){p()})),m=!!p&&c((function(){return"bnVsbA=="!==p(null)})),y=!!p&&1!==p.length;n({global:!0,bind:!0,enumerable:!0,forced:g||m||y},{btoa:function(e){if(u(arguments.length,1),g||m||y)return s(p,i,l(e));for(var t,r,n=l(e),o="",c=0,b=d;h(n,c)||(b="=",c%1);){if((r=f(n,c+=3/4))>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=h(b,63&(t=t<<8|r)>>8-c%1*8)}return o}})},11091:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(20261).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},54747:(e,t,r)=>{var n=r(17854),i=r(48324),a=r(98509),o=r(18533),s=r(68880),c=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var l in i)i[l]&&c(n[l]&&n[l].prototype);c(a)},33948:(e,t,r)=>{var n=r(17854),i=r(48324),a=r(98509),o=r(66992),s=r(68880),c=r(5112),l=c("iterator"),u=c("toStringTag"),d=o.values,p=function(e,t){if(e){if(e[l]!==d)try{s(e,l,d)}catch(t){e[l]=d}if(e[u]||s(e,u,t),i[t])for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(t){e[r]=o[r]}}};for(var h in i)p(n[h]&&n[h].prototype,h);p(a,"DOMTokenList")},87714:(e,t,r)=>{var n=r(82109),i=r(44038),a=r(35005),o=r(47293),s=r(70030),c=r(79114),l=r(3070).f,u=r(98052),d=r(47045),p=r(92597),h=r(25787),f=r(19670),g=r(7762),m=r(56277),y=r(93678),b=r(11060),v=r(29909),w=r(19781),A=r(31913),S="DOMException",E="DATA_CLONE_ERR",T=a("Error"),R=a(S)||function(){try{(new(a("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==E&&25==e.code)return e.constructor}}(),k=R&&R.prototype,x=T.prototype,I=v.set,O=v.getterFor(S),M="stack"in T(S),N=function(e){return p(y,e)&&y[e].m?y[e].c:0},_=function(){h(this,P);var e=arguments.length,t=m(e<1?void 0:arguments[0]),r=m(e<2?void 0:arguments[1],"Error"),n=N(r);if(I(this,{type:S,name:r,message:t,code:n}),w||(this.name=r,this.message=t,this.code=n),M){var i=T(t);i.name=S,l(this,"stack",c(1,b(i.stack,1)))}},P=_.prototype=s(x),C=function(e){return{enumerable:!0,configurable:!0,get:e}},L=function(e){return C((function(){return O(this)[e]}))};w&&(d(P,"code",L("code")),d(P,"message",L("message")),d(P,"name",L("name"))),l(P,"constructor",c(1,_));var D=o((function(){return!(new R instanceof T)})),V=D||o((function(){return x.toString!==g||"2: 1"!==String(new R(1,2))})),U=D||o((function(){return 25!==new R(1,"DataCloneError").code})),B=D||25!==R[E]||25!==k[E],j=A?V||U||B:D;n({global:!0,constructor:!0,forced:j},{DOMException:j?_:R});var F=a(S),$=F.prototype;for(var q in V&&(A||R===F)&&u($,"toString",g),U&&w&&R===F&&d($,"code",C((function(){return N(f(this).name)}))),y)if(p(y,q)){var H=y[q],G=H.s,W=c(6,H.c);p(F,G)||l(F,G,W),p($,G)||l($,G,W)}},82801:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(35005),o=r(79114),s=r(3070).f,c=r(92597),l=r(25787),u=r(79587),d=r(56277),p=r(93678),h=r(11060),f=r(19781),g=r(31913),m="DOMException",y=a("Error"),b=a(m),v=function(){l(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),r=d(e<2?void 0:arguments[1],"Error"),n=new b(t,r),i=y(t);return i.name=m,s(n,"stack",o(1,h(i.stack,1))),u(n,this,v),n},w=v.prototype=b.prototype,A="stack"in y(m),S="stack"in new b(1,2),E=b&&f&&Object.getOwnPropertyDescriptor(i,m),T=!(!E||E.writable&&E.configurable),R=A&&!T&&!S;n({global:!0,constructor:!0,forced:g||R},{DOMException:R?v:b});var k=a(m),x=k.prototype;if(x.constructor!==k)for(var I in g||s(x,"constructor",o(1,k)),p)if(c(p,I)){var O=p[I],M=O.s;c(k,M)||s(k,M,o(6,O.c))}},1174:(e,t,r)=>{var n=r(35005),i="DOMException";r(58003)(n(i),i)},84633:(e,t,r)=>{r(11091),r(12986)},85844:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(95948),o=r(19662),s=r(48053),c=r(35268),l=i.process;n({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),o(e);var t=c&&l.domain;a(t?t.bind(e):e)}})},71550:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(47045),o=r(19781),s=TypeError,c=Object.defineProperty,l=i.self!==i;try{if(o){var u=Object.getOwnPropertyDescriptor(i,"self");!l&&u&&u.get&&u.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw s("Illegal invocation");c(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:l},{self:i})}catch(e){}},12986:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(20261).set,o=r(17152),s=i.setImmediate?o(a,!1):a;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},96815:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(17152)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},88417:(e,t,r)=>{var n=r(82109),i=r(17854),a=r(17152)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},61295:(e,t,r)=>{var n,i=r(31913),a=r(82109),o=r(17854),s=r(35005),c=r(1702),l=r(47293),u=r(69711),d=r(60614),p=r(4411),h=r(68554),f=r(70111),g=r(52190),m=r(20408),y=r(19670),b=r(70648),v=r(92597),w=r(86135),A=r(68880),S=r(26244),E=r(48053),T=r(34706),R=r(75706),k=r(79405),x=r(22914),I=r(64124),O=o.Object,M=o.Array,N=o.Date,_=o.Error,P=o.EvalError,C=o.RangeError,L=o.ReferenceError,D=o.SyntaxError,V=o.TypeError,U=o.URIError,B=o.PerformanceMark,j=o.WebAssembly,F=j&&j.CompileError||_,$=j&&j.LinkError||_,q=j&&j.RuntimeError||_,H=s("DOMException"),G=R.Map,W=R.has,z=R.get,J=R.set,Q=k.Set,K=k.add,Y=s("Object","keys"),Z=c([].push),X=c((!0).valueOf),ee=c(1..valueOf),te=c("".valueOf),re=c(N.prototype.getTime),ne=u("structuredClone"),ie="DataCloneError",ae="Transferring",oe=function(e){return!l((function(){var t=new o.Set([7]),r=e(t),n=e(O(7));return r==t||!r.has(7)||"object"!=typeof n||7!=n}))&&e},se=function(e,t){return!l((function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)}))},ce=o.structuredClone,le=i||!se(ce,_)||!se(ce,H)||(n=ce,!!l((function(){var e=n(new o.AggregateError([1],ne,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=ne||3!=e.cause}))),ue=!ce&&oe((function(e){return new B(ne,{detail:e}).detail})),de=oe(ce)||ue,pe=function(e){throw new H("Uncloneable type: "+e,ie)},he=function(e,t){throw new H((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ie)},fe=function(e,t){return de||he(t),de(e)},ge=function(e,t){if(g(e)&&pe("Symbol"),!f(e))return e;if(t){if(W(t,e))return z(t,e)}else t=new G;var r,n,i,a,c,l,u,p,h,m,y,E=b(e),R=!1;switch(E){case"Array":i=M(S(e)),R=!0;break;case"Object":i={},R=!0;break;case"Map":i=new G,R=!0;break;case"Set":i=new Q,R=!0;break;case"RegExp":i=new RegExp(e.source,T(e));break;case"Error":switch(n=e.name){case"AggregateError":i=s("AggregateError")([]);break;case"EvalError":i=P();break;case"RangeError":i=C();break;case"ReferenceError":i=L();break;case"SyntaxError":i=D();break;case"TypeError":i=V();break;case"URIError":i=U();break;case"CompileError":i=F();break;case"LinkError":i=$();break;case"RuntimeError":i=q();break;default:i=_()}R=!0;break;case"DOMException":i=new H(e.message,e.name),R=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r=o[E],f(r)||he(E),i=new r(ge(e.buffer,t),e.byteOffset,"DataView"===E?e.byteLength:e.length);break;case"DOMQuad":try{i=new DOMQuad(ge(e.p1,t),ge(e.p2,t),ge(e.p3,t),ge(e.p4,t))}catch(t){i=fe(e,E)}break;case"File":if(de)try{i=de(e),b(i)!==E&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||he(E);break;case"FileList":if(a=function(){var e;try{e=new o.DataTransfer}catch(t){try{e=new o.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(c=0,l=S(e);c<l;c++)a.items.add(ge(e[c],t));i=a.files}else i=fe(e,E);break;case"ImageData":try{i=new ImageData(ge(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=fe(e,E)}break;default:if(de)i=de(e);else switch(E){case"BigInt":i=O(e.valueOf());break;case"Boolean":i=O(X(e));break;case"Number":i=O(ee(e));break;case"String":i=O(te(e));break;case"Date":i=new N(re(e));break;case"ArrayBuffer":(r=o.DataView)||"function"==typeof e.slice||he(E);try{if("function"!=typeof e.slice||e.resizable){l=e.byteLength,y="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(l,y),h=new r(e),m=new r(i);for(c=0;c<l;c++)m.setUint8(c,h.getUint8(c))}else i=e.slice(0)}catch(e){throw new H("ArrayBuffer is detached",ie)}break;case"SharedArrayBuffer":i=e;break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){he(E)}break;case"DOMPoint":case"DOMPointReadOnly":r=o[E];try{i=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(e){he(E)}break;case"DOMRect":case"DOMRectReadOnly":r=o[E];try{i=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(e){he(E)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=o[E];try{i=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(e){he(E)}break;case"AudioData":case"VideoFrame":d(e.clone)||he(E);try{i=e.clone()}catch(e){pe(E)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":he(E);default:pe(E)}}if(J(t,e,i),R)switch(E){case"Array":case"Object":for(u=Y(e),c=0,l=S(u);c<l;c++)p=u[c],w(i,p,ge(e[p],t));break;case"Map":e.forEach((function(e,r){J(i,ge(r,t),ge(e,t))}));break;case"Set":e.forEach((function(e){K(i,ge(e,t))}));break;case"Error":A(i,"message",ge(e.message,t)),v(e,"cause")&&A(i,"cause",ge(e.cause,t)),"AggregateError"==n&&(i.errors=ge(e.errors,t));case"DOMException":x&&A(i,"stack",ge(e.stack,t))}return i};a({global:!0,enumerable:!0,sham:!I,forced:le},{structuredClone:function(e){var t,r=E(arguments.length,1)>1&&!h(arguments[1])?y(arguments[1]):void 0,n=r?r.transfer:void 0;return void 0!==n&&function(e,t){if(!f(e))throw V("Transfer option cannot be converted to a sequence");var r=[];m(e,(function(e){Z(r,y(e))}));var n,i,a,s,c,l,u=0,h=S(r);if(I)for(s=ce(r,{transfer:r});u<h;)J(t,r[u],s[u++]);else for(;u<h;){if(n=r[u++],W(t,n))throw new H("Duplicate transferable",ie);switch(i=b(n)){case"ImageBitmap":a=o.OffscreenCanvas,p(a)||he(i,ae);try{(l=new a(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),c=l.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":d(n.clone)&&d(n.close)||he(i,ae);try{c=n.clone(),n.close()}catch(e){}break;case"ArrayBuffer":d(n.transfer)||he(i,ae),c=n.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":he(i,ae)}if(void 0===c)throw new H("This object cannot be transferred: "+i,ie);J(t,n,c)}}(n,t=new G),ge(e,t)}})},32564:(e,t,r)=>{r(96815),r(88417)},65556:(e,t,r)=>{r(66992);var n=r(82109),i=r(17854),a=r(46916),o=r(1702),s=r(19781),c=r(85143),l=r(98052),u=r(47045),d=r(89190),p=r(58003),h=r(63061),f=r(29909),g=r(25787),m=r(60614),y=r(92597),b=r(49974),v=r(70648),w=r(19670),A=r(70111),S=r(41340),E=r(70030),T=r(79114),R=r(18554),k=r(71246),x=r(48053),I=r(5112),O=r(94362),M=I("iterator"),N="URLSearchParams",_=N+"Iterator",P=f.set,C=f.getterFor(N),L=f.getterFor(_),D=Object.getOwnPropertyDescriptor,V=function(e){if(!s)return i[e];var t=D(i,e);return t&&t.value},U=V("fetch"),B=V("Request"),j=V("Headers"),F=B&&B.prototype,$=j&&j.prototype,q=i.RegExp,H=i.TypeError,G=i.decodeURIComponent,W=i.encodeURIComponent,z=o("".charAt),J=o([].join),Q=o([].push),K=o("".replace),Y=o([].shift),Z=o([].splice),X=o("".split),ee=o("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=q("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return G(e)}catch(t){return e}},ae=function(e){var t=K(e,te," "),r=4;try{return G(t)}catch(e){for(;r;)t=K(t,ne(r--),ie);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ce=function(e){return se[e]},le=function(e){return K(W(e),oe,ce)},ue=h((function(e,t){P(this,{type:_,iterator:R(C(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(A(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===z(e,0)?ee(e,1):e:S(e)))};de.prototype={type:N,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,s,c,l=k(e);if(l)for(r=(t=R(e,l)).next;!(n=a(r,t)).done;){if(o=(i=R(w(n.value))).next,(s=a(o,i)).done||(c=a(o,i)).done||!a(o,i).done)throw H("Expected sequence with length 2");Q(this.entries,{key:S(s.value),value:S(c.value)})}else for(var u in e)y(e,u)&&Q(this.entries,{key:u,value:S(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=X(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=X(t,"="),Q(this.entries,{key:ae(Y(r)),value:ae(J(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],Q(r,le(e.key)+"="+le(e.value));return J(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pe=function(){g(this,he);var e=P(this,new de(arguments.length>0?arguments[0]:void 0));s||(this.length=e.entries.length)},he=pe.prototype;if(d(he,{append:function(e,t){x(arguments.length,2);var r=C(this);Q(r.entries,{key:S(e),value:S(t)}),s||this.length++,r.updateURL()},delete:function(e){x(arguments.length,1);for(var t=C(this),r=t.entries,n=S(e),i=0;i<r.length;)r[i].key===n?Z(r,i,1):i++;s||(this.length=r.length),t.updateURL()},get:function(e){x(arguments.length,1);for(var t=C(this).entries,r=S(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){x(arguments.length,1);for(var t=C(this).entries,r=S(e),n=[],i=0;i<t.length;i++)t[i].key===r&&Q(n,t[i].value);return n},has:function(e){x(arguments.length,1);for(var t=C(this).entries,r=S(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){x(arguments.length,1);for(var r,n=C(this),i=n.entries,a=!1,o=S(e),c=S(t),l=0;l<i.length;l++)(r=i[l]).key===o&&(a?Z(i,l--,1):(a=!0,r.value=c));a||Q(i,{key:o,value:c}),s||(this.length=i.length),n.updateURL()},sort:function(){var e=C(this);O(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=C(this).entries,n=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),l(he,M,he.entries,{name:"entries"}),l(he,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),s&&u(he,"size",{get:function(){return C(this).entries.length},configurable:!0,enumerable:!0}),p(pe,N),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:pe}),!c&&m(j)){var fe=o($.has),ge=o($.set),me=function(e){if(A(e)){var t,r=e.body;if(v(r)===N)return t=e.headers?new j(e.headers):new j,fe(t,"content-type")||ge(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:T(0,S(r)),headers:T(0,t)})}return e};if(m(U)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?me(arguments[1]):{})}}),m(B)){var ye=function(e){return g(this,F),new B(e,arguments.length>1?me(arguments[1]):{})};F.constructor=ye,ye.prototype=F,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye})}}e.exports={URLSearchParams:pe,getState:C}},41637:(e,t,r)=>{r(65556)},62062:(e,t,r)=>{var n=r(19781),i=r(1702),a=r(47045),o=URLSearchParams.prototype,s=i(o.forEach);n&&!("size"in o)&&a(o,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7994:(e,t,r)=>{var n=r(82109),i=r(35005),a=r(47293),o=r(48053),s=r(41340),c=r(85143),l=i("URL");n({target:"URL",stat:!0,forced:!(c&&a((function(){l.canParse()})))},{canParse:function(e){var t=o(arguments.length,1),r=s(e),n=t<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return!!new l(r,n)}catch(e){return!1}}})},68789:(e,t,r)=>{r(78783);var n,i=r(82109),a=r(19781),o=r(85143),s=r(17854),c=r(49974),l=r(1702),u=r(98052),d=r(47045),p=r(25787),h=r(92597),f=r(21574),g=r(48457),m=r(41589),y=r(28710).codeAt,b=r(33197),v=r(41340),w=r(58003),A=r(48053),S=r(65556),E=r(29909),T=E.set,R=E.getterFor("URL"),k=S.URLSearchParams,x=S.getState,I=s.URL,O=s.TypeError,M=s.parseInt,N=Math.floor,_=Math.pow,P=l("".charAt),C=l(/./.exec),L=l([].join),D=l(1..toString),V=l([].pop),U=l([].push),B=l("".replace),j=l([].shift),F=l("".split),$=l("".slice),q=l("".toLowerCase),H=l([].unshift),G="Invalid scheme",W="Invalid host",z="Invalid port",J=/[a-z]/i,Q=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,Z=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)H(t,e%256),e=N(e/256);return L(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=D(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},se={},ce=f({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),le=f({},ce,{"#":1,"?":1,"{":1,"}":1}),ue=f({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var r=y(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},pe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var r;return 2==e.length&&C(J,P(e,0))&&(":"==(r=P(e,1))||!t&&"|"==r)},fe=function(e){var t;return e.length>1&&he($(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},ge=function(e){return"."===e||"%2e"===q(e)},me={},ye={},be={},ve={},we={},Ae={},Se={},Ee={},Te={},Re={},ke={},xe={},Ie={},Oe={},Me={},Ne={},_e={},Pe={},Ce={},Le={},De={},Ve=function(e,t,r){var n,i,a,o=v(e);if(t){if(i=this.parse(o))throw O(i);this.searchParams=null}else{if(void 0!==r&&(n=new Ve(r,!0)),i=this.parse(o,null,n))throw O(i);(a=x(new k)).bindURL(this),this.searchParams=a}};Ve.prototype={type:"URL",parse:function(e,t,r){var i,a,o,s,c,l=this,u=t||me,d=0,p="",f=!1,y=!1,b=!1;for(e=v(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=B(e,ne,""),e=B(e,ie,"$1")),e=B(e,ae,""),i=g(e);d<=i.length;){switch(a=i[d],u){case me:if(!a||!C(J,a)){if(t)return G;u=be;continue}p+=q(a),u=ye;break;case ye:if(a&&(C(Q,a)||"+"==a||"-"==a||"."==a))p+=q(a);else{if(":"!=a){if(t)return G;p="",u=be,d=0;continue}if(t&&(l.isSpecial()!=h(pe,p)||"file"==p&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=p,t)return void(l.isSpecial()&&pe[l.scheme]==l.port&&(l.port=null));p="","file"==l.scheme?u=Oe:l.isSpecial()&&r&&r.scheme==l.scheme?u=ve:l.isSpecial()?u=Ee:"/"==i[d+1]?(u=we,d++):(l.cannotBeABaseURL=!0,U(l.path,""),u=Ce)}break;case be:if(!r||r.cannotBeABaseURL&&"#"!=a)return G;if(r.cannotBeABaseURL&&"#"==a){l.scheme=r.scheme,l.path=m(r.path),l.query=r.query,l.fragment="",l.cannotBeABaseURL=!0,u=De;break}u="file"==r.scheme?Oe:Ae;continue;case ve:if("/"!=a||"/"!=i[d+1]){u=Ae;continue}u=Te,d++;break;case we:if("/"==a){u=Re;break}u=Pe;continue;case Ae:if(l.scheme=r.scheme,a==n)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query=r.query;else if("/"==a||"\\"==a&&l.isSpecial())u=Se;else if("?"==a)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query="",u=Le;else{if("#"!=a){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.path.length--,u=Pe;continue}l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query=r.query,l.fragment="",u=De}break;case Se:if(!l.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,u=Pe;continue}u=Re}else u=Te;break;case Ee:if(u=Te,"/"!=a||"/"!=P(p,d+1))continue;d++;break;case Te:if("/"!=a&&"\\"!=a){u=Re;continue}break;case Re:if("@"==a){f&&(p="%40"+p),f=!0,o=g(p);for(var w=0;w<o.length;w++){var A=o[w];if(":"!=A||b){var S=de(A,ue);b?l.password+=S:l.username+=S}else b=!0}p=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(f&&""==p)return"Invalid authority";d-=g(p).length+1,p="",u=ke}else p+=a;break;case ke:case xe:if(t&&"file"==l.scheme){u=Ne;continue}if(":"!=a||y){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==p)return W;if(t&&""==p&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(p))return s;if(p="",u=_e,t)return;continue}"["==a?y=!0:"]"==a&&(y=!1),p+=a}else{if(""==p)return W;if(s=l.parseHost(p))return s;if(p="",u=Ie,t==xe)return}break;case Ie:if(!C(K,a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()||t){if(""!=p){var E=M(p,10);if(E>65535)return z;l.port=l.isSpecial()&&E===pe[l.scheme]?null:E,p=""}if(t)return;u=_e;continue}return z}p+=a;break;case Oe:if(l.scheme="file","/"==a||"\\"==a)u=Me;else{if(!r||"file"!=r.scheme){u=Pe;continue}if(a==n)l.host=r.host,l.path=m(r.path),l.query=r.query;else if("?"==a)l.host=r.host,l.path=m(r.path),l.query="",u=Le;else{if("#"!=a){fe(L(m(i,d),""))||(l.host=r.host,l.path=m(r.path),l.shortenPath()),u=Pe;continue}l.host=r.host,l.path=m(r.path),l.query=r.query,l.fragment="",u=De}}break;case Me:if("/"==a||"\\"==a){u=Ne;break}r&&"file"==r.scheme&&!fe(L(m(i,d),""))&&(he(r.path[0],!0)?U(l.path,r.path[0]):l.host=r.host),u=Pe;continue;case Ne:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&he(p))u=Pe;else if(""==p){if(l.host="",t)return;u=_e}else{if(s=l.parseHost(p))return s;if("localhost"==l.host&&(l.host=""),t)return;p="",u=_e}continue}p+=a;break;case _e:if(l.isSpecial()){if(u=Pe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=n&&(u=Pe,"/"!=a))continue}else l.fragment="",u=De;else l.query="",u=Le;break;case Pe:if(a==n||"/"==a||"\\"==a&&l.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(c=q(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||U(l.path,"")):ge(p)?"/"==a||"\\"==a&&l.isSpecial()||U(l.path,""):("file"==l.scheme&&!l.path.length&&he(p)&&(l.host&&(l.host=""),p=P(p,0)+":"),U(l.path,p)),p="","file"==l.scheme&&(a==n||"?"==a||"#"==a))for(;l.path.length>1&&""===l.path[0];)j(l.path);"?"==a?(l.query="",u=Le):"#"==a&&(l.fragment="",u=De)}else p+=de(a,le);break;case Ce:"?"==a?(l.query="",u=Le):"#"==a?(l.fragment="",u=De):a!=n&&(l.path[0]+=de(a,se));break;case Le:t||"#"!=a?a!=n&&("'"==a&&l.isSpecial()?l.query+="%27":l.query+="#"==a?"%23":de(a,se)):(l.fragment="",u=De);break;case De:a!=n&&(l.fragment+=de(a,ce))}d++}},parseHost:function(e){var t,r,n;if("["==P(e,0)){if("]"!=P(e,e.length-1))return W;if(t=function(e){var t,r,n,i,a,o,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,p=function(){return P(e,d)};if(":"==p()){if(":"!=P(e,1))return;d+=2,u=++l}for(;p();){if(8==l)return;if(":"!=p()){for(t=r=0;r<4&&C(ee,p());)t=16*t+M(p(),16),d++,r++;if("."==p()){if(0==r)return;if(d-=r,l>6)return;for(n=0;p();){if(i=null,n>0){if(!("."==p()&&n<4))return;d++}if(!C(K,p()))return;for(;C(K,p());){if(a=M(p(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}c[l]=256*c[l]+i,2!=++n&&4!=n||l++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(o=l-u,l=7;0!=l&&o>0;)s=c[l],c[l--]=c[u+o-1],c[u+--o]=s;else if(8!=l)return;return c}($(e,1,-1)),!t)return W;this.host=t}else if(this.isSpecial()){if(e=b(e),C(te,e))return W;if(t=function(e){var t,r,n,i,a,o,s,c=F(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=c[n]))return e;if(a=10,i.length>1&&"0"==P(i,0)&&(a=C(Y,i)?16:8,i=$(i,8==a?1:2)),""===i)o=0;else{if(!C(10==a?X:8==a?Z:ee,i))return e;o=M(i,a)}U(r,o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=_(256,5-t))return null}else if(o>255)return null;for(s=V(r),n=0;n<r.length;n++)s+=r[n]*_(256,3-n);return s}(e),null===t)return W;this.host=t}else{if(C(re,e))return W;for(t="",r=g(e),n=0;n<r.length;n++)t+=de(r[n],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(pe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=r+(n?":"+n:"")+"@"),l+=oe(i),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ue(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=de(t[r],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=de(t[r],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,xe)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=v(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,_e))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=v(e))?this.query=null:("?"==P(e,0)&&(e=$(e,1)),this.query="",this.parse(e,Le)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=v(e))?("#"==P(e,0)&&(e=$(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ue=function(e){var t=p(this,Be),r=A(arguments.length,1)>1?arguments[1]:void 0,n=T(t,new Ve(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Be=Ue.prototype,je=function(e,t){return{get:function(){return R(this)[e]()},set:t&&function(e){return R(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(Be,"href",je("serialize","setHref")),d(Be,"origin",je("getOrigin")),d(Be,"protocol",je("getProtocol","setProtocol")),d(Be,"username",je("getUsername","setUsername")),d(Be,"password",je("getPassword","setPassword")),d(Be,"host",je("getHost","setHost")),d(Be,"hostname",je("getHostname","setHostname")),d(Be,"port",je("getPort","setPort")),d(Be,"pathname",je("getPathname","setPathname")),d(Be,"search",je("getSearch","setSearch")),d(Be,"searchParams",je("getSearchParams")),d(Be,"hash",je("getHash","setHash"))),u(Be,"toJSON",(function(){return R(this).serialize()}),{enumerable:!0}),u(Be,"toString",(function(){return R(this).serialize()}),{enumerable:!0}),I){var Fe=I.createObjectURL,$e=I.revokeObjectURL;Fe&&u(Ue,"createObjectURL",c(Fe,I)),$e&&u(Ue,"revokeObjectURL",c($e,I))}w(Ue,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Ue})},60285:(e,t,r)=>{r(68789)},83753:(e,t,r)=>{var n=r(82109),i=r(46916);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},28594:(e,t,r)=>{r(82526),r(41817),r(72443),r(92401),r(8722),r(32165),r(69007),r(16066),r(83510),r(41840),r(6982),r(32159),r(96649),r(39341),r(60543),r(21703),r(96647),r(9170),r(32120),r(52262),r(92222),r(50545),r(26541),r(43290),r(57327),r(69826),r(34553),r(67635),r(77287),r(84944),r(86535),r(89554),r(91038),r(26699),r(82772),r(79753),r(66992),r(69600),r(94986),r(21249),r(26572),r(57658),r(85827),r(96644),r(65069),r(47042),r(5212),r(2707),r(38706),r(40561),r(90476),r(76459),r(99892),r(33792),r(99244),r(30541),r(35581),r(18264),r(76938),r(39575),r(16716),r(43016),r(3843),r(81801),r(9550),r(28733),r(5735),r(96078),r(83710),r(62130),r(24812),r(4855),r(68309),r(35837),r(38862),r(73706),r(51532),r(99752),r(82376),r(73181),r(23484),r(2388),r(88621),r(60403),r(84755),r(25438),r(90332),r(40658),r(40197),r(44914),r(52420),r(60160),r(60970),r(10408),r(73689),r(9653),r(93299),r(35192),r(33161),r(44048),r(78285),r(44363),r(55994),r(61874),r(9494),r(31354),r(56977),r(55147),r(19601),r(78011),r(59595),r(33321),r(69070),r(35500),r(69720),r(43371),r(38559),r(38880),r(49337),r(36210),r(30489),r(46314),r(43304),r(41825),r(98410),r(72200),r(47941),r(94869),r(33952),r(57227),r(67987),r(60514),r(68304),r(41539),r(26833),r(54678),r(91058),r(88674),r(17922),r(34668),r(17727),r(36535),r(12419),r(69596),r(52586),r(74819),r(95683),r(39361),r(51037),r(5898),r(67556),r(14361),r(83593),r(39532),r(81299),r(24603),r(28450),r(74916),r(92087),r(88386),r(77601),r(39714),r(70189),r(24506),r(79841),r(27852),r(94953),r(32023),r(78783),r(4723),r(76373),r(66528),r(83112),r(38992),r(82481),r(15306),r(68757),r(64765),r(23123),r(23157),r(83650),r(73210),r(48702),r(55674),r(15218),r(74475),r(57929),r(50915),r(29253),r(42125),r(78830),r(58734),r(29254),r(37268),r(7397),r(60086),r(80623),r(44197),r(76495),r(87145),r(35109),r(65125),r(82472),r(49743),r(8255),r(29135),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(63408),r(14590),r(32846),r(98145),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(95206),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(1439),r(87585),r(15016),r(55315),r(78221),r(4129),r(38478),r(75505),r(27479),r(54747),r(33948),r(87714),r(82801),r(1174),r(84633),r(85844),r(71550),r(61295),r(32564),r(60285),r(7994),r(83753),r(41637),r(62062),r(40857)},27484:function(e){e.exports=function(){var e=6e4,t=36e5,r="millisecond",n="second",i="minute",a="hour",o="day",s="week",c="month",l="quarter",u="year",d="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},m=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,c),a=r-i<0,o=t.clone().add(n+(a?-1:1),c);return+(-(n+(r-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:s,d:o,D:d,h:a,m:i,s:n,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=g;var w=function(e){return e instanceof T},A=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();v[a]&&(i=a),r&&(v[a]=r,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;v[s]=t,i=s}return!n&&i&&(b=i),i||!n&&b},S=function(e,t){if(w(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new T(r)},E=y;E.l=A,E.i=w,E.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function g(e){this.$L=A(e.locale,null,!0),this.parse(e)}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(h);if(n){var i=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===p)},m.isSame=function(e,t){var r=S(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return S(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<S(e)},m.$g=function(e,t,r){return E.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var r=this,l=!!E.u(t)||t,p=E.p(e),h=function(e,t){var n=E.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return l?n:n.endOf(o)},f=function(e,t){return E.w(r.toDate()[e].apply(r.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(p){case u:return l?h(1,0):h(31,11);case c:return l?h(1,m):h(0,m+1);case s:var v=this.$locale().weekStart||0,w=(g<v?g+7:g)-v;return h(l?y-w:y+(6-w),m);case o:case d:return f(b+"Hours",0);case a:return f(b+"Minutes",1);case i:return f(b+"Seconds",2);case n:return f(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var s,l=E.p(e),p="set"+(this.$u?"UTC":""),h=(s={},s[o]=p+"Date",s[d]=p+"Date",s[c]=p+"Month",s[u]=p+"FullYear",s[a]=p+"Hours",s[i]=p+"Minutes",s[n]=p+"Seconds",s[r]=p+"Milliseconds",s)[l],f=l===o?this.$D+(t-this.$W):t;if(l===c||l===u){var g=this.clone().set(d,1);g.$d[h](f),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[E.p(e)]()},m.add=function(r,l){var d,p=this;r=Number(r);var h=E.p(l),f=function(e){var t=S(p);return E.w(t.date(t.date()+Math.round(e*r)),p)};if(h===c)return this.set(c,this.$M+r);if(h===u)return this.set(u,this.$y+r);if(h===o)return f(1);if(h===s)return f(7);var g=(d={},d[i]=e,d[a]=t,d[n]=1e3,d)[h]||1,m=this.$d.getTime()+r*g;return E.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),a=this.$H,o=this.$m,s=this.$M,c=r.weekdays,l=r.months,u=r.meridiem,d=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].slice(0,a)},h=function(e){return E.s(a%12||12,e,"0")},g=u||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(f,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return s+1;case"MM":return E.s(s+1,2,"0");case"MMM":return d(r.monthsShort,s,l,3);case"MMMM":return d(l,s);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(r.weekdaysMin,t.$W,c,2);case"ddd":return d(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return E.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(a,o,!0);case"A":return g(a,o,!1);case"m":return String(o);case"mm":return E.s(o,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,p){var h,f=this,g=E.p(d),m=S(r),y=(m.utcOffset()-this.utcOffset())*e,b=this-m,v=function(){return E.m(f,m)};switch(g){case u:h=v()/12;break;case c:h=v();break;case l:h=v()/3;break;case s:h=(b-y)/6048e5;break;case o:h=(b-y)/864e5;break;case a:h=b/t;break;case i:h=b/e;break;case n:h=b/1e3;break;default:h=b}return p?h:E.a(h)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return v[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=A(e,t,!0);return n&&(r.$L=n),r},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),R=T.prototype;return S.prototype=R,[["$ms",r],["$s",n],["$m",i],["$H",a],["$W",o],["$M",c],["$y",u],["$D",d]].forEach((function(e){R[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,T,S),e.$i=!0),S},S.locale=A,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=v[b],S.Ls=v,S.p={},S}()},56176:function(e){var t;e.exports=(t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,r,n){var i=r.prototype,a=i.format;n.en.formats=t,i.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var r=this.$locale().formats,n=function(e,r){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,i){var a=i&&i.toUpperCase();return n||r[i]||t[i]||r[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,r){return t||r.slice(1)}))}))}(e,void 0===r?{}:r);return a.call(this,n)}})},84110:function(e){e.exports=function(e,t,r){e=e||{};var n=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(e,t,r,i){return n.fromToBase(e,t,r,i)}r.en.relativeTime=i,n.fromToBase=function(t,n,a,o,s){for(var c,l,u,d=a.$locale().relativeTime||i,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=p.length,f=0;f<h;f+=1){var g=p[f];g.d&&(c=o?r(t).diff(a,g.d,!0):a.diff(t,g.d,!0));var m=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,m<=g.r||!g.r){m<=1&&f>0&&(g=p[f-1]);var y=d[g.l];s&&(m=s(""+m)),l="string"==typeof y?y.replace("%d",m):y(m,n,g.l,u);break}}if(n)return l;var b=u?d.future:d.past;return"function"==typeof b?b(l):b.replace("%s",l)},n.to=function(e,t){return a(e,t,this,!0)},n.from=function(e,t){return a(e,t,this)};var o=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(o(this),e)},n.fromNow=function(e){return this.from(o(this),e)}}},86492:function(e,t,r){var n;e=r.nmd(e),function(i){var a=(e&&e.exports,"object"==typeof r.g&&r.g);a.global!==a&&a.window;var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,u={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon",ˆ:"circ",ˇ:"caron","°":"deg","©":"copy","®":"reg","℗":"copysr",℘:"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78",𝒶:"ascr",𝕒:"aopf",𝔞:"afr",𝔸:"Aopf",𝔄:"Afr",𝒜:"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig",𝒷:"bscr",𝕓:"bopf",𝔟:"bfr",𝔹:"Bopf",ℬ:"Bscr",𝔅:"Bfr",𝔠:"cfr",𝒸:"cscr",𝕔:"copf",ℭ:"Cfr",𝒞:"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare",𝔡:"dfr",ⅆ:"dd",𝕕:"dopf",𝒹:"dscr",𝒟:"Dscr",𝔇:"Dfr",ⅅ:"DD",𝔻:"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH",ⅇ:"ee",ℯ:"escr",𝔢:"efr",𝕖:"eopf",ℰ:"Escr",𝔈:"Efr",𝔼:"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr",𝔣:"ffr",𝕗:"fopf",𝒻:"fscr",𝔉:"Ffr",𝔽:"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr",𝕘:"gopf",𝔤:"gfr",𝒢:"Gscr",𝔾:"Gopf",𝔊:"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil",𝔥:"hfr",ℎ:"planckh",𝒽:"hscr",𝕙:"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok",𝕚:"iopf",𝔦:"ifr",𝒾:"iscr",ⅈ:"ii",𝕀:"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath",𝒿:"jscr",𝕛:"jopf",𝔧:"jfr",𝒥:"Jscr",𝔍:"Jfr",𝕁:"Jopf",ĵ:"jcirc",Ĵ:"Jcirc",ȷ:"jmath",𝕜:"kopf",𝓀:"kscr",𝔨:"kfr",𝒦:"Kscr",𝕂:"Kopf",𝔎:"Kfr",ķ:"kcedil",Ķ:"Kcedil",𝔩:"lfr",𝓁:"lscr",ℓ:"ell",𝕝:"lopf",ℒ:"Lscr",𝔏:"Lfr",𝕃:"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot",𝔪:"mfr",𝕞:"mopf",𝓂:"mscr",𝔐:"Mfr",𝕄:"Mopf",ℳ:"Mscr",𝔫:"nfr",𝕟:"nopf",𝓃:"nscr",ℕ:"Nopf",𝒩:"Nscr",𝔑:"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG",𝕠:"oopf",𝔬:"ofr",ℴ:"oscr",𝒪:"Oscr",𝔒:"Ofr",𝕆:"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig",𝔭:"pfr",𝓅:"pscr",𝕡:"popf",ℙ:"Popf",𝔓:"Pfr",𝒫:"Pscr",𝕢:"qopf",𝔮:"qfr",𝓆:"qscr",𝒬:"Qscr",𝔔:"Qfr",ℚ:"Qopf",ĸ:"kgreen",𝔯:"rfr",𝕣:"ropf",𝓇:"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil",𝕤:"sopf",𝓈:"sscr",𝔰:"sfr",𝕊:"Sopf",𝔖:"Sfr",𝒮:"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig",𝔱:"tfr",𝓉:"tscr",𝕥:"topf",𝒯:"Tscr",𝔗:"Tfr",𝕋:"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok",𝓊:"uscr",𝕦:"uopf",𝔲:"ufr",𝕌:"Uopf",𝔘:"Ufr",𝒰:"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr",𝔳:"vfr",𝕧:"vopf",𝓋:"vscr",𝔙:"Vfr",𝕍:"Vopf",𝒱:"Vscr",𝕨:"wopf",𝓌:"wscr",𝔴:"wfr",𝒲:"Wscr",𝕎:"Wopf",𝔚:"Wfr",ŵ:"wcirc",Ŵ:"Wcirc",𝔵:"xfr",𝓍:"xscr",𝕩:"xopf",𝕏:"Xopf",𝔛:"Xfr",𝒳:"Xscr",𝔶:"yfr",𝓎:"yscr",𝕪:"yopf",𝒴:"Yscr",𝔜:"Yfr",𝕐:"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml",𝓏:"zscr",𝔷:"zfr",𝕫:"zopf",ℨ:"Zfr",ℤ:"Zopf",𝒵:"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi",ϵ:"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},d=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},h=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,f=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,m={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},y={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},b={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},v=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],w=String.fromCharCode,A={}.hasOwnProperty,S=function(e,t){return A.call(e,t)},E=function(e,t){if(!e)return t;var r,n={};for(r in t)n[r]=S(e,r)?e[r]:t[r];return n},T=function(e,t){var r="";return e>=55296&&e<=57343||e>1114111?(t&&x("character reference outside the permissible Unicode range"),"�"):S(b,e)?(t&&x("disallowed character reference"),b[e]):(t&&function(e,t){for(var r=-1,n=e.length;++r<n;)if(e[r]==t)return!0;return!1}(v,e)&&x("disallowed character reference"),e>65535&&(r+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=w(e))},R=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},k=function(e){return"&#"+e+";"},x=function(e){throw Error("Parse error: "+e)},I=function(e,t){(t=E(t,I.options)).strict&&f.test(e)&&x("forbidden code point");var r=t.encodeEverything,n=t.useNamedReferences,i=t.allowUnsafeSymbols,a=t.decimal?k:R,p=function(e){return a(e.charCodeAt(0))};return r?(e=e.replace(s,(function(e){return n&&S(u,e)?"&"+u[e]+";":p(e)})),n&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),n&&(e=e.replace(l,(function(e){return"&"+u[e]+";"})))):n?(i||(e=e.replace(d,(function(e){return"&"+u[e]+";"}))),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(l,(function(e){return"&"+u[e]+";"}))):i||(e=e.replace(d,p)),e.replace(o,(function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return a(1024*(t-55296)+r-56320+65536)})).replace(c,p)};I.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var O=function(e,t){var r=(t=E(t,O.options)).strict;return r&&h.test(e)&&x("malformed character reference"),e.replace(g,(function(e,n,i,a,o,s,c,l,u){var d,p,h,f,g,b;return n?m[g=n]:i?(g=i,(b=a)&&t.isAttributeValue?(r&&"="==b&&x("`&` did not start a character reference"),e):(r&&x("named character reference was not terminated by a semicolon"),y[g]+(b||""))):o?(h=o,p=s,r&&!p&&x("character reference was not terminated by a semicolon"),d=parseInt(h,10),T(d,r)):c?(f=c,p=l,r&&!p&&x("character reference was not terminated by a semicolon"),d=parseInt(f,16),T(d,r)):(r&&x("named character reference was not terminated by a semicolon"),e)}))};O.options={isAttributeValue:!1,strict:!1};var M={version:"1.2.0",encode:I,decode:O,escape:function(e){return e.replace(d,(function(e){return p[e]}))},unescape:O};void 0===(n=function(){return M}.call(t,r,t,e))||(e.exports=n)}()},72307:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",b="[object Object]",v="[object Promise]",w="[object Proxy]",A="[object RegExp]",S="[object Set]",E="[object String]",T="[object Undefined]",R="[object WeakMap]",k="[object ArrayBuffer]",x="[object DataView]",I=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[s]=M[c]=M[k]=M[u]=M[x]=M[d]=M[p]=M[h]=M[g]=M[m]=M[b]=M[A]=M[S]=M[E]=M[R]=!1;var N="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,_="object"==typeof self&&self&&self.Object===Object&&self,P=N||_||Function("return this")(),C=t&&!t.nodeType&&t,L=C&&e&&!e.nodeType&&e,D=L&&L.exports===C,V=D&&N.process,U=function(){try{return V&&V.binding&&V.binding("util")}catch(e){}}(),B=U&&U.isTypedArray;function j(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function F(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function $(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var q,H,G,W=Array.prototype,z=Function.prototype,J=Object.prototype,Q=P["__core-js_shared__"],K=z.toString,Y=J.hasOwnProperty,Z=(q=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",X=J.toString,ee=RegExp("^"+K.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=D?P.Buffer:void 0,re=P.Symbol,ne=P.Uint8Array,ie=J.propertyIsEnumerable,ae=W.splice,oe=re?re.toStringTag:void 0,se=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,le=(H=Object.keys,G=Object,function(e){return H(G(e))}),ue=Le(P,"DataView"),de=Le(P,"Map"),pe=Le(P,"Promise"),he=Le(P,"Set"),fe=Le(P,"WeakMap"),ge=Le(Object,"create"),me=Be(ue),ye=Be(de),be=Be(pe),ve=Be(he),we=Be(fe),Ae=re?re.prototype:void 0,Se=Ae?Ae.valueOf:void 0;function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Re;++t<r;)this.add(e[t])}function xe(e){var t=this.__data__=new Te(e);this.size=t.size}function Ie(e,t){for(var r=e.length;r--;)if(je(e[r][0],t))return r;return-1}function Oe(e){return null==e?void 0===e?T:y:oe&&oe in Object(e)?function(e){var t=Y.call(e,oe),r=e[oe];try{e[oe]=void 0;var n=!0}catch(e){}var i=X.call(e);return n&&(t?e[oe]=r:delete e[oe]),i}(e):function(e){return X.call(e)}(e)}function Me(e){return ze(e)&&Oe(e)==s}function Ne(e,t,r,n,o){return e===t||(null==e||null==t||!ze(e)&&!ze(t)?e!=e&&t!=t:function(e,t,r,n,o,l){var h=$e(e),f=$e(t),y=h?c:Ve(e),v=f?c:Ve(t),w=(y=y==s?b:y)==b,T=(v=v==s?b:v)==b,R=y==v;if(R&&qe(e)){if(!qe(t))return!1;h=!0,w=!1}if(R&&!w)return l||(l=new xe),h||Je(e)?_e(e,t,r,n,o,l):function(e,t,r,n,o,s,c){switch(r){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case u:case d:case m:return je(+e,+t);case p:return e.name==t.name&&e.message==t.message;case A:case E:return e==t+"";case g:var l=F;case S:var h=n&i;if(l||(l=$),e.size!=t.size&&!h)return!1;var f=c.get(e);if(f)return f==t;n|=a,c.set(e,t);var y=_e(l(e),l(t),n,o,s,c);return c.delete(e),y;case"[object Symbol]":if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,y,r,n,o,l);if(!(r&i)){var I=w&&Y.call(e,"__wrapped__"),O=T&&Y.call(t,"__wrapped__");if(I||O){var M=I?e.value():e,N=O?t.value():t;return l||(l=new xe),o(M,N,r,n,l)}}return!!R&&(l||(l=new xe),function(e,t,r,n,a,o){var s=r&i,c=Pe(e),l=c.length;if(l!=Pe(t).length&&!s)return!1;for(var u=l;u--;){var d=c[u];if(!(s?d in t:Y.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=s;++u<l;){var g=e[d=c[u]],m=t[d];if(n)var y=s?n(m,g,d,t,e,o):n(g,m,d,e,t,o);if(!(void 0===y?g===m||a(g,m,r,n,o):y)){h=!1;break}f||(f="constructor"==d)}if(h&&!f){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,o,l))}(e,t,r,n,Ne,o))}function _e(e,t,r,n,o,s){var c=r&i,l=e.length,u=t.length;if(l!=u&&!(c&&u>l))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,h=!0,f=r&a?new ke:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var g=e[p],m=t[p];if(n)var y=c?n(m,g,p,t,e,s):n(g,m,p,e,t,s);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!j(t,(function(e,t){if(i=t,!f.has(i)&&(g===e||o(g,e,r,n,s)))return f.push(t);var i}))){h=!1;break}}else if(g!==m&&!o(g,m,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Pe(e){return function(e,t,r){var n=t(e);return $e(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Qe,De)}function Ce(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!We(e)||function(e){return!!Z&&Z in e}(e))&&(He(e)?ee:I).test(Be(e))}(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return Y.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Y.call(t,e)},Ee.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&void 0===t?n:t,this},Te.prototype.clear=function(){this.__data__=[],this.size=0},Te.prototype.delete=function(e){var t=this.__data__,r=Ie(t,e);return!(r<0||(r==t.length-1?t.pop():ae.call(t,r,1),--this.size,0))},Te.prototype.get=function(e){var t=this.__data__,r=Ie(t,e);return r<0?void 0:t[r][1]},Te.prototype.has=function(e){return Ie(this.__data__,e)>-1},Te.prototype.set=function(e,t){var r=this.__data__,n=Ie(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(de||Te),string:new Ee}},Re.prototype.delete=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t},Re.prototype.get=function(e){return Ce(this,e).get(e)},Re.prototype.has=function(e){return Ce(this,e).has(e)},Re.prototype.set=function(e,t){var r=Ce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,n),this},ke.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new Te,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Te){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Re(n)}return r.set(e,t),this.size=r.size,this};var De=se?function(e){return null==e?[]:(e=Object(e),function(t,r){for(var n=-1,i=null==t?0:t.length,a=0,o=[];++n<i;){var s=t[n];c=s,ie.call(e,c)&&(o[a++]=s)}var c;return o}(se(e)))}:function(){return[]},Ve=Oe;function Ue(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(ue&&Ve(new ue(new ArrayBuffer(1)))!=x||de&&Ve(new de)!=g||pe&&Ve(pe.resolve())!=v||he&&Ve(new he)!=S||fe&&Ve(new fe)!=R)&&(Ve=function(e){var t=Oe(e),r=t==b?e.constructor:void 0,n=r?Be(r):"";if(n)switch(n){case me:return x;case ye:return g;case be:return v;case ve:return S;case we:return R}return t});var Fe=Me(function(){return arguments}())?Me:function(e){return ze(e)&&Y.call(e,"callee")&&!ie.call(e,"callee")},$e=Array.isArray,qe=ce||function(){return!1};function He(e){if(!We(e))return!1;var t=Oe(e);return t==h||t==f||t==l||t==w}function Ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function We(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var Je=B?function(e){return function(t){return e(t)}}(B):function(e){return ze(e)&&Ge(e.length)&&!!M[Oe(e)]};function Qe(e){return null!=(t=e)&&Ge(t.length)&&!He(t)?function(e,t){var r=$e(e),n=!r&&Fe(e),i=!r&&!n&&qe(e),a=!r&&!n&&!i&&Je(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var l in e)!t&&!Y.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ue(l,c))||s.push(l);return s}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||J))return le(e);var t,r,n=[];for(var i in Object(e))Y.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e);var t}e.exports=function(e,t){return Ne(e,t)}},62705:(e,t,r)=>{var n=r(55639).Symbol;e.exports=n},96874:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},29932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},44286:e=>{e.exports=function(e){return e.split("")}},41848:e=>{e.exports=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},44239:(e,t,r)=>{var n=r(62705),i=r(89607),a=r(2333),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},42118:(e,t,r)=>{var n=r(41848),i=r(62722),a=r(42351);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,i,r)}},74221:e=>{e.exports=function(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,r)=>{var n=r(23560),i=r(15346),a=r(13218),o=r(80346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?p:s).test(o(e))}},65464:(e,t,r)=>{var n=r(29932),i=r(42118),a=r(74221),o=r(7518),s=r(278),c=Array.prototype.splice;e.exports=function(e,t,r,l){var u=l?a:i,d=-1,p=t.length,h=e;for(e===t&&(t=s(t)),r&&(h=n(e,o(r)));++d<p;)for(var f=0,g=t[d],m=r?r(g):g;(f=u(h,m,f,l))>-1;)h!==e&&c.call(h,f,1),c.call(e,f,1);return e}},5976:(e,t,r)=>{var n=r(6557),i=r(45357),a=r(30061);e.exports=function(e,t){return a(i(e,t,n),e+"")}},56560:(e,t,r)=>{var n=r(75703),i=r(38777),a=r(6557),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},14259:e=>{e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}},80531:(e,t,r)=>{var n=r(62705),i=r(29932),a=r(1469),o=r(33448),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},40180:(e,t,r)=>{var n=r(14259);e.exports=function(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:n(e,t,r)}},5512:(e,t,r)=>{var n=r(42118);e.exports=function(e,t){for(var r=e.length;r--&&n(t,e[r],0)>-1;);return r}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},14429:(e,t,r)=>{var n=r(55639)["__core-js_shared__"];e.exports=n},38777:(e,t,r)=>{var n=r(10852),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},31957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},10852:(e,t,r)=>{var n=r(28458),i=r(47801);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},89607:(e,t,r)=>{var n=r(62705),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},62689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},15346:(e,t,r)=>{var n,i=r(14429),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},45357:(e,t,r)=>{var n=r(96874),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),c=Array(s);++o<s;)c[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=r(c),n(e,this,l)}}},55639:(e,t,r)=>{var n=r(31957),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},30061:(e,t,r)=>{var n=r(56560),i=r(21275)(n);e.exports=i},21275:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var i=t(),a=16-(i-n);if(n=i,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},42351:e=>{e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},83140:(e,t,r)=>{var n=r(44286),i=r(62689),a=r(676);e.exports=function(e){return i(e)?a(e):n(e)}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},676:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",u=l+c+"(?:\\u200d(?:"+[a,o,s].join("|")+")"+l+c+")*",d="(?:"+[a+n+"?",n,o,s,r].join("|")+")",p=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(p)||[]}},75703:e=>{e.exports=function(e){return function(){return e}}},6557:e=>{e.exports=function(e){return e}},1469:e=>{var t=Array.isArray;e.exports=t},23560:(e,t,r)=>{var n=r(44239),i=r(13218);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},47037:(e,t,r)=>{var n=r(44239),i=r(1469),a=r(37005);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==n(e)}},33448:(e,t,r)=>{var n=r(44239),i=r(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},97019:(e,t,r)=>{var n=r(5976)(r(45604));e.exports=n},45604:(e,t,r)=>{var n=r(65464);e.exports=function(e,t){return e&&e.length&&t&&t.length?n(e,t):e}},79833:(e,t,r)=>{var n=r(80531);e.exports=function(e){return null==e?"":n(e)}},10691:(e,t,r)=>{var n=r(80531),i=r(40180),a=r(5512),o=r(83140),s=r(79833),c=r(67990);e.exports=function(e,t,r){if((e=s(e))&&(r||void 0===t))return e.slice(0,c(e)+1);if(!e||!(t=n(t)))return e;var l=o(e),u=a(l,o(t))+1;return i(l,0,u).join("")}},42555:(e,t,r)=>{var n=r(62178),i=/\s+/g,a=/%[\dA-F]{2}/g,o=/"/g;function s(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function c(e){if("string"!=typeof e)throw new TypeError("Expected a string, but received "+typeof e);var t,r;return 65279===e.charCodeAt(0)&&(e=e.slice(1)),"data:image/svg+xml,"+function(e){return encodeURIComponent(e).replace(a,s)}((r=e,t=r.trim().replace(i," "),Object.keys(n).forEach((function(e){n[e].test(t)&&(t=t.replace(n[e],e))})),t).replace(o,"'"))}c.toSrcset=function(e){return c(e).replace(/ /g,"%20")},e.exports=c},62178:e=>{e.exports={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi}},73414:(e,t,r)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=r(71267),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},65614:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(45374),a=r(86176),o=n(r(72307)),s=function(){function e(e,t){"string"==typeof e&&(e=new a.InsertDataQuill(i.DataType.Text,e+"")),this.insert=e,this.attributes=t||{}}return e.createNewLineOp=function(){return new e(i.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},e.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},e.prototype.hasSameAttr=function(e){return o.default(this.attributes,e.attributes)},e.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===i.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===i.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===i.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===i.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===i.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==i.ListType.Unchecked||this.attributes.list===i.ListType.Checked},e.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},e.prototype.isText=function(){return this.insert.type===i.DataType.Text},e.prototype.isImage=function(){return this.insert.type===i.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===i.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===i.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof a.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();t.DeltaInsertOp=s},86176:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InsertDataQuill=function(e,t){this.type=e,this.value=t};t.InsertDataCustom=function(e,t){this.type=e,this.value=t}},1137:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(45374),a=n(r(932)),o=n(r(53140)),s=function(){function e(){}return e.denormalize=function(e){if(!e||"object"!=typeof e)return[];if("object"==typeof e.insert||e.insert===i.NewLine)return[e];var t=a.tokenizeWithNewLines(e.insert+"");if(1===t.length)return[e];var r=o.assign({},e,{insert:i.NewLine});return t.map((function(t){return t===i.NewLine?r:o.assign({},e,{insert:t})}))},e}();t.InsertOpDenormalizer=s},50204:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(65614),i=r(45374),a=r(86176),o=r(43097),s=r(1137),c=r(65195),l=function(){function e(){}return e.convert=function(t,r){if(!Array.isArray(t))return[];for(var i,a,c=[],l=0,u=[].concat.apply([],t.map(s.InsertOpDenormalizer.denormalize));l<u.length;l++){var d=u[l];d.insert&&(i=e.convertInsertVal(d.insert,r))&&(a=o.OpAttributeSanitizer.sanitize(d.attributes,r),c.push(new n.DeltaInsertOp(i,a)))}return c},e.convertInsertVal=function(e,t){if("string"==typeof e)return new a.InsertDataQuill(i.DataType.Text,e);if(!e||"object"!=typeof e)return null;var r=Object.keys(e);return r.length?i.DataType.Image in e?new a.InsertDataQuill(i.DataType.Image,c.OpLinkSanitizer.sanitize(e[i.DataType.Image]+"",t)):i.DataType.Video in e?new a.InsertDataQuill(i.DataType.Video,c.OpLinkSanitizer.sanitize(e[i.DataType.Video]+"",t)):i.DataType.Formula in e?new a.InsertDataQuill(i.DataType.Formula,e[i.DataType.Formula]):new a.InsertDataCustom(r[0],e[r[0]]):null},e}();t.InsertOpsConverter=l},43097:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(45374),i=r(89250),a=r(82935),o=r(65195),s=function(){function e(){}return e.sanitize=function(t,r){var s={};if(!t||"object"!=typeof t)return s;var c=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],l=["background","color"],u=t.font,d=t.size,p=t.link,h=t.script,f=t.list,g=t.header,m=t.align,y=t.direction,b=t.indent,v=t.mentions,w=t.mention,A=t.width,S=t.target,E=t.rel,T=t["code-block"],R=c.concat(l,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(c.forEach((function(e){var r=t[e];r&&(s[e]=!!r)})),l.forEach((function(r){var n=t[r];n&&(e.IsValidHexColor(n+"")||e.IsValidColorLiteral(n+"")||e.IsValidRGBColor(n+""))&&(s[r]=n)})),u&&e.IsValidFontName(u+"")&&(s.font=u),d&&e.IsValidSize(d+"")&&(s.size=d),A&&e.IsValidWidth(A+"")&&(s.width=A),p&&(s.link=o.OpLinkSanitizer.sanitize(p+"",r)),S&&e.isValidTarget(S)&&(s.target=S),E&&e.IsValidRel(E)&&(s.rel=E),T&&(e.IsValidLang(T)?s["code-block"]=T:s["code-block"]=!!T),h!==n.ScriptType.Sub&&n.ScriptType.Super!==h||(s.script=h),f!==n.ListType.Bullet&&f!==n.ListType.Ordered&&f!==n.ListType.Checked&&f!==n.ListType.Unchecked||(s.list=f),Number(g)&&(s.header=Math.min(Number(g),6)),a.find([n.AlignType.Center,n.AlignType.Right,n.AlignType.Justify,n.AlignType.Left],(function(e){return e===m}))&&(s.align=m),y===n.DirectionType.Rtl&&(s.direction=y),b&&Number(b)&&(s.indent=Math.min(Number(b),30)),v&&w){var k=i.MentionSanitizer.sanitize(w,r);Object.keys(k).length>0&&(s.mentions=!!v,s.mention=w)}return Object.keys(t).reduce((function(e,r){return-1===R.indexOf(r)&&(e[r]=t[r]),e}),s)},e.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(e){return!!e.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},e.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(e){return"boolean"==typeof e||!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();t.OpAttributeSanitizer=s},65195:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(51579)),a=r(18410),o=function(){function e(){}return e.sanitize=function(e,t){var r=function(){};t&&"function"==typeof t.urlSanitizer&&(r=t.urlSanitizer);var n=r(e);return"string"==typeof n?n:a.encodeLink(i.sanitize(e))},e}();t.OpLinkSanitizer=o},37924:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(18410),a=r(45374),o=n(r(53140)),s=n(r(82935)),c=r(43097),l={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};t.DEFAULT_INLINE_STYLES={font:function(e){return l[e]||"font-family:"+e},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(e,t){var r=3*parseInt(e,10);return"padding-"+("rtl"===t.attributes.direction?"right":"left")+":"+r+"em"},direction:function(e,t){return"rtl"===e?"direction:rtl"+(t.attributes.align?"":"; text-align:inherit"):void 0}};var u=function(){function e(e,t){this.op=e,this.options=o.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},t)}return e.prototype.prefixClass=function(e){return this.options.classPrefix?this.options.classPrefix+"-"+e:e+""},e.prototype.getHtml=function(){var e=this.getHtmlParts();return e.openingTag+e.content+e.closingTag},e.prototype.getHtmlParts=function(){var e=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:a.NewLine};var t=this.getTags(),r=this.getTagAttributes();!t.length&&r.length&&t.push("span");for(var n=[],o=[],s=function(t){return"img"===t&&!!e.op.attributes.link},c=0,l=t;c<l.length;c++){var u=l[c];s(u)&&n.push(i.makeStartTag("a",this.getLinkAttrs())),n.push(i.makeStartTag(u,r)),o.push("img"===u?"":i.makeEndTag(u)),s(u)&&o.push(i.makeEndTag("a")),r=[]}return o.reverse(),{openingTag:n.join(""),content:this.getContent(),closingTag:o.join("")}},e.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var e=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&i.encodeHtml(e)||e},e.prototype.getCssClasses=function(){var e=this.op.attributes;if(this.options.inlineStyles)return[];var t=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&t.push("background"),(this.getCustomCssClasses()||[]).concat(t.filter((function(t){return!!e[t]})).filter((function(t){return"background"!==t||c.OpAttributeSanitizer.IsValidColorLiteral(e[t])})).map((function(t){return t+"-"+e[t]})).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},e.prototype.getCssStyles=function(){var e=this,r=this.op.attributes,n=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||n.push(["background","background-color"]),this.options.inlineStyles&&(n=n.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(n.filter((function(e){return!!r[e[0]]})).map((function(n){var i=n[0],a=r[i],o=e.options.inlineStyles&&e.options.inlineStyles[i]||t.DEFAULT_INLINE_STYLES[i];return"object"==typeof o?o[a]:"function"==typeof o?o(a,e.op):s.preferSecond(n)+":"+a}))).filter((function(e){return void 0!==e}))},e.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var e=this.makeAttr.bind(this),t=this.getCustomTagAttributes(),r=t?Object.keys(this.getCustomTagAttributes()).map((function(r){return e(r,t[r])})):[],n=this.getCssClasses(),i=n.length?r.concat([e("class",n.join(" "))]):r;if(this.op.isImage())return this.op.attributes.width&&(i=i.concat(e("width",this.op.attributes.width))),i.concat(e("src",this.op.insert.value));if(this.op.isACheckList())return i.concat(e("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return i;if(this.op.isVideo())return i.concat(e("frameborder","0"),e("allowfullscreen","true"),e("src",this.op.insert.value));if(this.op.isMentions()){var a=this.op.attributes.mention;return a.class&&(i=i.concat(e("class",a.class))),i=a["end-point"]&&a.slug?i.concat(e("href",a["end-point"]+"/"+a.slug)):i.concat(e("href","about:blank")),a.target&&(i=i.concat(e("target",a.target))),i}var o=this.getCssStyles();return o.length&&i.push(e("style",o.join(";"))),this.op.isCodeBlock()&&"string"==typeof this.op.attributes["code-block"]?i.concat(e("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(i=i.concat(this.getLinkAttrs())),i)},e.prototype.makeAttr=function(e,t){return{key:e,value:t}},e.prototype.getLinkAttrs=function(){var e=c.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,t=c.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,r=this.op.attributes.target||e,n=this.op.attributes.rel||t;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(r?this.makeAttr("target",r):[]).concat(n?this.makeAttr("rel",n):[])},e.prototype.getCustomTag=function(e){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[e,this.op])},e.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},e.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var e=this.options.customCssClasses.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var e=this.options.customCssStyles.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getTags=function(){var e=this,t=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var r=this.options.paragraphTag||"p",n=0,i=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",r],["direction",r],["indent",r]];n<i.length;n++){var o,c=i[n],l=c[0];if(t[l])return(o=this.getCustomTag(l))?[o]:"header"===l?["h"+t[l]]:[s.preferSecond(c)]}if(this.op.isCustomTextBlock())return(o=this.getCustomTag("renderAsBlock"))?[o]:[r];var u=Object.keys(t).reduce((function(t,r){var n=e.getCustomTag(r);return n&&(t[r]=n),t}),{}),d=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return d.filter((function(e){return!!t[e[0]]})).concat(Object.keys(u).filter((function(e){return!d.some((function(t){return t[0]==e}))})).map((function(e){return[e,u[e]]}))).map((function(e){return u[e[0]]?u[e[0]]:"script"===e[0]?t[e[0]]===a.ScriptType.Sub?"sub":"sup":s.preferSecond(e)}))},e}();t.OpToHtmlConverter=u},94722:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(50204),a=r(37924),o=r(92546),s=r(91510),c=r(92949),l=r(18410),u=n(r(53140)),d=r(45374),p=r(12716),h="<br/>",f=function(){function e(e,t){var r;this.rawDeltaOps=[],this.callbacks={},this.options=u.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},t,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),r=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:r,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=e}return e.prototype._getListTag=function(e){return e.isOrderedList()?this.options.orderedListTag+"":e.isBulletList()||e.isCheckedList()||e.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var e=i.InsertOpsConverter.convert(this.rawDeltaOps,this.options),t=o.Grouper.pairOpsWithTheirBlock(e),r=o.Grouper.groupConsecutiveSameStyleBlocks(t,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),n=o.Grouper.reduceConsecutiveSameStyleBlocksToOne(r);return n=(new p.TableGrouper).group(n),(new c.ListNester).nest(n)},e.prototype.convert=function(){var e=this;return this.getGroupedOps().map((function(t){if(t instanceof s.ListGroup)return e._renderWithCallbacks(d.GroupType.List,t,(function(){return e._renderList(t)}));if(t instanceof s.TableGroup)return e._renderWithCallbacks(d.GroupType.Table,t,(function(){return e._renderTable(t)}));if(t instanceof s.BlockGroup){var r=t;return e._renderWithCallbacks(d.GroupType.Block,t,(function(){return e._renderBlock(r.op,r.ops)}))}return t instanceof s.BlotBlock?e._renderCustom(t.op,null):t instanceof s.VideoItem?e._renderWithCallbacks(d.GroupType.Video,t,(function(){var r=t;return new a.OpToHtmlConverter(r.op,e.converterOptions).getHtml()})):e._renderWithCallbacks(d.GroupType.InlineGroup,t,(function(){return e._renderInlines(t.ops,!0)}))})).join("")},e.prototype._renderWithCallbacks=function(e,t,r){var n="",i=this.callbacks.beforeRender_cb;(n="function"==typeof i?i.apply(null,[e,t]):"")||(n=r());var a=this.callbacks.afterRender_cb;return"function"==typeof a?a.apply(null,[e,n]):n},e.prototype._renderList=function(e){var t=this,r=e.items[0];return l.makeStartTag(this._getListTag(r.item.op))+e.items.map((function(e){return t._renderListItem(e)})).join("")+l.makeEndTag(this._getListTag(r.item.op))},e.prototype._renderListItem=function(e){e.item.op.attributes.indent=0;var t=new a.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),r=this._renderInlines(e.item.ops,!1);return t.openingTag+r+(e.innerList?this._renderList(e.innerList):"")+t.closingTag},e.prototype._renderTable=function(e){var t=this;return l.makeStartTag("table")+l.makeStartTag("tbody")+e.rows.map((function(e){return t._renderTableRow(e)})).join("")+l.makeEndTag("tbody")+l.makeEndTag("table")},e.prototype._renderTableRow=function(e){var t=this;return l.makeStartTag("tr")+e.cells.map((function(e){return t._renderTableCell(e)})).join("")+l.makeEndTag("tr")},e.prototype._renderTableCell=function(e){var t=new a.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),r=this._renderInlines(e.item.ops,!1);return l.makeStartTag("td",{key:"data-row",value:e.item.op.attributes.table})+t.openingTag+r+t.closingTag+l.makeEndTag("td")},e.prototype._renderBlock=function(e,t){var r=this,n=new a.OpToHtmlConverter(e,this.converterOptions).getHtmlParts();if(e.isCodeBlock())return n.openingTag+l.encodeHtml(t.map((function(t){return t.isCustomEmbed()?r._renderCustom(t,e):t.insert.value})).join(""))+n.closingTag;var i=t.map((function(t){return r._renderInline(t,e)})).join("");return n.openingTag+(i||h)+n.closingTag},e.prototype._renderInlines=function(e,t){var r=this;void 0===t&&(t=!0);var n=e.length-1,i=e.map((function(e,t){return t>0&&t===n&&e.isJustNewline()?"":r._renderInline(e,null)})).join("");if(!t)return i;var a=l.makeStartTag(this.options.paragraphTag),o=l.makeEndTag(this.options.paragraphTag);return i===h||this.options.multiLineParagraph?a+i+o:a+i.split(h).map((function(e){return""===e?h:e})).join(o+a)+o},e.prototype._renderInline=function(e,t){return e.isCustomEmbed()?this._renderCustom(e,t):new a.OpToHtmlConverter(e,this.converterOptions).getHtml().replace(/\n/g,h)},e.prototype._renderCustom=function(e,t){var r=this.callbacks.renderCustomOp_cb;return"function"==typeof r?r.apply(null,[e,t]):""},e.prototype.beforeRender=function(e){"function"==typeof e&&(this.callbacks.beforeRender_cb=e)},e.prototype.afterRender=function(e){"function"==typeof e&&(this.callbacks.afterRender_cb=e)},e.prototype.renderCustomWith=function(e){this.callbacks.renderCustomOp_cb=e},e}();t.QuillDeltaToHtmlConverter=f},18410:(e,t)=>{var r;function n(e){return i(r.Html).reduce(o,e)}function i(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===r.Html?t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("(")&&-1===t.indexOf(")")})):t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("/")}))}function a(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function o(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"}(r||(r={})),t.makeStartTag=function(e,t){if(void 0===t&&(t=void 0),!e)return"";var r="";t&&(r=[].concat(t).map((function(e){return e.key+(e.value?'="'+e.value+'"':"")})).join(" "));var n=">";return"img"!==e&&"br"!==e||(n="/>"),r?"<"+e+" "+r+n:"<"+e+n},t.makeEndTag=function(e){return void 0===e&&(e=""),e&&"</"+e+">"||""},t.decodeHtml=n,t.encodeHtml=function(e,t){return void 0===t&&(t=!0),t&&(e=n(e)),i(r.Html).reduce(a,e)},t.encodeLink=function(e){var t=i(r.Url),n=t.reduce(o,e);return t.reduce(a,n)}},92546:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(65614),i=r(82935),a=r(91510),o=function(){function e(){}return e.pairOpsWithTheirBlock=function(e){for(var t,r=[],n=function(e){return!(e.isJustNewline()||e.isCustomEmbedBlock()||e.isVideo()||e.isContainerBlock())},o=function(e){return e.isInline()},s=e.length-1;s>=0;s--){var c=e[s];c.isVideo()?r.push(new a.VideoItem(c)):c.isCustomEmbedBlock()?r.push(new a.BlotBlock(c)):c.isContainerBlock()?(t=i.sliceFromReverseWhile(e,s-1,n),r.push(new a.BlockGroup(c,t.elements)),s=t.sliceStartsAt>-1?t.sliceStartsAt:s):(t=i.sliceFromReverseWhile(e,s-1,o),r.push(new a.InlineGroup(t.elements.concat(c))),s=t.sliceStartsAt>-1?t.sliceStartsAt:s)}return r.reverse(),r},e.groupConsecutiveSameStyleBlocks=function(t,r){return void 0===r&&(r={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),i.groupConsecutiveElementsWhile(t,(function(t,n){return t instanceof a.BlockGroup&&n instanceof a.BlockGroup&&(r.codeBlocks&&e.areBothCodeblocksWithSameLang(t,n)||r.blockquotes&&e.areBothBlockquotesWithSameAdi(t,n)||r.header&&e.areBothSameHeadersWithSameAdi(t,n)||r.customBlocks&&e.areBothCustomBlockWithSameAttr(t,n))}))},e.reduceConsecutiveSameStyleBlocksToOne=function(e){var t=n.DeltaInsertOp.createNewLineOp();return e.map((function(e){if(!Array.isArray(e))return e instanceof a.BlockGroup&&!e.ops.length&&e.ops.push(t),e;var r=e.length-1;return e[0].ops=i.flatten(e.map((function(e,n){return e.ops.length?e.ops.concat(n<r?[t]:[]):[t]}))),e[0]}))},e.areBothCodeblocksWithSameLang=function(e,t){return e.op.isCodeBlock()&&t.op.isCodeBlock()&&e.op.hasSameLangAs(t.op)},e.areBothSameHeadersWithSameAdi=function(e,t){return e.op.isSameHeaderAs(t.op)&&e.op.hasSameAdiAs(t.op)},e.areBothBlockquotesWithSameAdi=function(e,t){return e.op.isBlockquote()&&t.op.isBlockquote()&&e.op.hasSameAdiAs(t.op)},e.areBothCustomBlockWithSameAttr=function(e,t){return e.op.isCustomTextBlock()&&t.op.isCustomTextBlock()&&e.op.hasSameAttr(t.op)},e}();t.Grouper=o},92949:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(91510),i=r(82935),a=function(){function e(){}return e.prototype.nest=function(e){var t=this,r=this.convertListBlocksToListGroups(e),a=this.groupConsecutiveListGroups(r),o=i.flatten(a.map((function(e){return Array.isArray(e)?t.nestListSection(e):e})));return i.groupConsecutiveElementsWhile(o,(function(e,t){return e instanceof n.ListGroup&&t instanceof n.ListGroup&&e.items[0].item.op.isSameListAs(t.items[0].item.op)})).map((function(e){if(!Array.isArray(e))return e;var t=e.map((function(e){return e.items}));return new n.ListGroup(i.flatten(t))}))},e.prototype.convertListBlocksToListGroups=function(e){return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.BlockGroup&&t instanceof n.BlockGroup&&e.op.isList()&&t.op.isList()&&e.op.isSameListAs(t.op)&&e.op.hasSameIndentationAs(t.op)})).map((function(e){return Array.isArray(e)?new n.ListGroup(e.map((function(e){return new n.ListItem(e)}))):e instanceof n.BlockGroup&&e.op.isList()?new n.ListGroup([new n.ListItem(e)]):e}))},e.prototype.groupConsecutiveListGroups=function(e){return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.ListGroup&&t instanceof n.ListGroup}))},e.prototype.nestListSection=function(e){var t=this,r=this.groupByIndent(e);return Object.keys(r).map(Number).sort().reverse().forEach((function(n){r[n].forEach((function(r){var n=e.indexOf(r);t.placeUnderParent(r,e.slice(0,n))&&e.splice(n,1)}))})),e},e.prototype.groupByIndent=function(e){return e.reduce((function(e,t){var r=t.items[0].item.op.attributes.indent;return r&&(e[r]=e[r]||[],e[r].push(t)),e}),{})},e.prototype.placeUnderParent=function(e,t){for(var r=t.length-1;r>=0;r--){var n=t[r];if(e.items[0].item.op.hasHigherIndentThan(n.items[0].item.op)){var i=n.items[n.items.length-1];return i.innerList?i.innerList.items=i.innerList.items.concat(e.items):i.innerList=e,!0}}return!1},e}();t.ListNester=a},12716:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(91510),i=r(82935),a=function(){function e(){}return e.prototype.group=function(e){return this.convertTableBlocksToTableGroups(e)},e.prototype.convertTableBlocksToTableGroups=function(e){var t=this;return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.BlockGroup&&t instanceof n.BlockGroup&&e.op.isTable()&&t.op.isTable()})).map((function(e){return Array.isArray(e)?new n.TableGroup(t.convertTableBlocksToTableRows(e)):e instanceof n.BlockGroup&&e.op.isTable()?new n.TableGroup([new n.TableRow([new n.TableCell(e)])]):e}))},e.prototype.convertTableBlocksToTableRows=function(e){return i.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof n.BlockGroup&&t instanceof n.BlockGroup&&e.op.isTable()&&t.op.isTable()&&e.op.isSameTableRowAs(t.op)})).map((function(e){return new n.TableRow(Array.isArray(e)?e.map((function(e){return new n.TableCell(e)})):[new n.TableCell(e)])}))},e}();t.TableGrouper=a},91510:function(e,t){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});t.InlineGroup=function(e){this.ops=e};var i=function(e){this.op=e},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.VideoItem=a;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.BlotBlock=o;t.BlockGroup=function(e,t){this.op=e,this.ops=t};t.ListGroup=function(e){this.items=e};t.ListItem=function(e,t){void 0===t&&(t=null),this.item=e,this.innerList=t};t.TableGroup=function(e){this.rows=e};t.TableRow=function(e){this.cells=e};t.TableCell=function(e){this.item=e}},82935:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.preferSecond=function(e){return 0===e.length?null:e.length>=2?e[1]:e[0]},t.flatten=function e(t){return t.reduce((function(t,r){return t.concat(Array.isArray(r)?e(r):r)}),[])},t.find=function(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]},t.groupConsecutiveElementsWhile=function(e,t){for(var r,n=[],i=0;i<e.length;i++)r=e[i],i>0&&t(r,e[i-1])?n[n.length-1].push(r):n.push([r]);return n.map((function(e){return 1===e.length?e[0]:e}))},t.sliceFromReverseWhile=function(e,t,r){for(var n={elements:[],sliceStartsAt:-1},i=t;i>=0&&r(e[i]);i--)n.sliceStartsAt=i,n.elements.unshift(e[i]);return n},t.intersperse=function(e,t){return e.reduce((function(r,n,i){return r.push(n),i<e.length-1&&r.push(t),r}),[])}},53140:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=0;i<t.length;i++){var a=t[i];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n}},932:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeWithNewLines=function(e){var t="\n";if(e===t)return[e];var r=e.split(t);if(1===r.length)return r;var n=r.length-1;return r.reduce((function(e,r,i){return i!==n?""!==r?e=e.concat(r,t):e.push(t):""!==r&&e.push(r),e}),[])}},51579:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){var t=e;return t=t.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(t)?t:"unsafe:"+t}},88554:(e,t,r)=>{var n=r(94722);t.bc=n.QuillDeltaToHtmlConverter,r(37924).OpToHtmlConverter;var i=r(91510);i.InlineGroup,i.VideoItem,i.BlockGroup,i.ListGroup,i.ListItem,i.BlotBlock,r(65614).DeltaInsertOp;var a=r(86176);a.InsertDataQuill,a.InsertDataCustom;var o=r(45374);o.NewLine,o.ListType,o.ScriptType,o.DirectionType,o.AlignType,o.DataType,o.GroupType},89250:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(65195),i=function(){function e(){}return e.sanitize=function(t,r){var i={};return t&&"object"==typeof t?(t.class&&e.IsValidClass(t.class)&&(i.class=t.class),t.id&&e.IsValidId(t.id)&&(i.id=t.id),e.IsValidTarget(t.target+"")&&(i.target=t.target),t.avatar&&(i.avatar=n.OpLinkSanitizer.sanitize(t.avatar+"",r)),t["end-point"]&&(i["end-point"]=n.OpLinkSanitizer.sanitize(t["end-point"]+"",r)),t.slug&&(i.slug=t.slug+""),i):i},e.IsValidClass=function(e){return!!e.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(e){return!!e.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(e){return["_self","_blank","_parent","_top"].indexOf(e)>-1},e}();t.MentionSanitizer=i},45374:(e,t)=>{var r,n,i,a,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.NewLine="\n",function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"}(r||(r={})),t.ListType=r,function(e){e.Sub="sub",e.Super="super"}(n||(n={})),t.ScriptType=n,function(e){e.Rtl="rtl"}(i||(i={})),t.DirectionType=i,function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(a||(a={})),t.AlignType=a,function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"}(o||(o={})),t.DataType=o,function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"}(s||(s={})),t.GroupType=s},99810:(e,t,r)=>{e.exports={deltaToMarkdown:r(34640)}},29438:(e,t,r)=>{const n=r(72962),{encodeLink:i}=r(28631);e.exports={embed:{image:function(e){this.append("![]("+i(e)+")")},thematic_break:function(){this.open="\n---\n"+this.open}},inline:{italic:function(){return["_","_"]},bold:function(){return["**","**"]},link:function(e){return["[","]("+e+")"]}},block:{header:function({header:e}){this.open="#".repeat(e)+" "+this.open},blockquote:function(){this.open="> "+this.open},list:{group:function(){return new n(["","\n"])},line:function(e,t){if("bullet"===e.list)this.open="- "+this.open;else if("checked"===e.list)this.open="- [x] "+this.open;else if("unchecked"===e.list)this.open="- [ ] "+this.open;else if("ordered"===e.list){t.count=t.count||0;var r=++t.count;this.open=r+". "+this.open}}}}}},34640:(e,t,r)=>{const n=r(13218),i=r(1469),a=r(10691),o=r(29438),s=r(72962);function c(e,t){for(var r in e)if(Object.keys(t.block).includes(r))return!0;return!1}e.exports=function(e,t=o){return a(function(e,t){var r,a,o,l,u,d=new s;function p(){o=a=new s(["","\n"]),d.append(a),l={}}p();for(var h=0;h<e.length;h++){var f=e[h];if(n(f.insert))for(var g in f.insert)t.embed[g]&&(A(f.attributes),t.embed[g].call(o,f.insert[g],f.attributes));else{var m=f.insert.split("\n");if(c(f.attributes,t)){for(var y=1;y<m.length;y++)for(var b in f.attributes)if(t.block[b]){var v=t.block[b];"object"==typeof v&&(r&&r.type!==b&&(r=null),!r&&v.group&&(r={el:v.group(),type:b,value:f.attributes[g],distance:0},d.append(r.el)),r&&(r.el.append(a),r.distance=0),v=v.line),v.call(a,f.attributes,r),p();break}u=!0}else{for(var w=0;w<m.length;w++)(w>0||u)&&r&&++r.distance>=2&&(r=null),A(f.attributes,e[h+1]&&e[h+1].attributes),o.append(m[w]),w<m.length-1&&p();u=!1}}}return d;function A(e,r){var n=[],a=[];e=e||{};for(var c=o,u={};c._format;){if(u[c._format]=!0,!e[c._format]){for(var d in u)delete l[d];o=c.parent()}c=c.parent()}for(var p in e)if(t.inline[p]){if(l[p]&&l[p]===e[p])continue;r&&e[p]===r[p]?n.push(p):a.push(p),l[p]=e[p]}function h(r){var n=t.inline[r].call(null,e[r]);i(n)&&(n=new s(n)),n._format=r,o.append(n),o=n}n.forEach(h),a.forEach(h)}}(e,t).render())+"\n"}},72962:(e,t,r)=>{const n=r(1469),i=r(47037),a=r(97019);var o=0;class s{constructor(e){this.id=++o,n(e)?(this.open=e[0],this.close=e[1]):i(e)&&(this.text=e),this.children=[]}append(e){e instanceof s||(e=new s(e)),e._parent&&a(e._parent.children,e),e._parent=this,this.children=this.children.concat(e)}render(){var e="";this.open&&(e+=this.open),this.text&&(e+=this.text);for(var t=0;t<this.children.length;t++)e+=this.children[t].render();return this.close&&(e+=this.close),e}parent(){return this._parent}}e.exports=s},28631:e=>{e.exports={encodeLink:e=>encodeURI(e).replace(/\(/i,"%28").replace(/\)/i,"%29").replace(/(\?|&)response-content-disposition=attachment.*$/,"")}},28660:(e,t,r)=>{var n;!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(e);function a(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:i=a(n.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,s=!a&&!o,c={create:a?function(){return L(Object.create(null))}:o?function(){return L({__proto__:null})}:function(){return L({})},has:s?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:s?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,a)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function a(e,t){return t}function o(e,t){return[e,t]}}():Map,p=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,h=new(u||"function"!=typeof WeakMap?function(){var e=16,r=c.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return a(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(c.has(r,e));return r[e]=!0,e}function a(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",i=0;i<e;++i){var a=r[i];4!==i&&6!==i&&8!==i||(n+="-"),a<16&&(n+="0"),n+=a.toString(16).toLowerCase()}return n}}():WeakMap);function f(e,t,r){var n=h.get(e);if(E(n)){if(!r)return;n=new d,h.set(e,n)}var i=n.get(t);if(E(i)){if(!r)return;i=new d,n.set(t,i)}return i}function g(e,t,r){if(m(e,t,r))return!0;var n=C(t);return!T(n)&&g(e,n,r)}function m(e,t,r){var n=f(t,r,!1);return!E(n)&&!!n.has(e)}function y(e,t,r){if(m(e,t,r))return b(e,t,r);var n=C(t);return T(n)?void 0:y(e,n,r)}function b(e,t,r){var n=f(t,r,!1);if(!E(n))return n.get(e)}function v(e,t,r,n){f(r,n,!0).set(e,t)}function w(e,t){var r=A(e,t),n=C(e);if(null===n)return r;var i=w(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new p,o=[],s=0,c=r;s<c.length;s++){var l=c[s];a.has(l)||(a.add(l),o.push(l))}for(var u=0,d=i;u<d.length;u++)l=d[u],a.has(l)||(a.add(l),o.push(l));return o}function A(e,t){var r=[],n=f(e,t,!1);if(E(n))return r;for(var a=function(e){var t=N(e,i);if(!O(t))throw new TypeError;var r=t.call(e);if(!R(r))throw new TypeError;return r}(n.keys()),o=0;;){var s=_(a);if(!s)return r.length=o,r;var c=s.value;try{r[o]=c}catch(e){try{P(a)}finally{throw e}}o++}}function S(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function E(e){return void 0===e}function T(e){return null===e}function R(e){return"object"==typeof e?null!==e:"function"==typeof e}function k(e,t){switch(S(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=N(e,n);if(void 0!==i){var a=i.call(e,r);if(R(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(O(r)&&!R(i=r.call(e)))return i;if(O(n=e.valueOf)&&!R(i=n.call(e)))return i}else{var n;if(O(n=e.valueOf)&&!R(i=n.call(e)))return i;var i,a=e.toString;if(O(a)&&!R(i=a.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function x(e){var t=k(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function I(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function O(e){return"function"==typeof e}function M(e){return"function"==typeof e}function N(e,t){var r=e[t];if(null!=r){if(!O(r))throw new TypeError;return r}}function _(e){var t=e.next();return!t.done&&t}function P(e){var t=e.return;t&&t.call(e)}function C(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function L(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(E(r)){if(!I(e))throw new TypeError;if(!M(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!E(n)&&!T(n)){if(!M(n))throw new TypeError;t=n}}return t}(e,t)}if(!I(e))throw new TypeError;if(!R(t))throw new TypeError;if(!R(n)&&!E(n)&&!T(n))throw new TypeError;return T(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var a=(0,e[i])(t,r,n);if(!E(a)&&!T(a)){if(!R(a))throw new TypeError;n=a}}return n}(e,t,r=x(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!R(r))throw new TypeError;if(!E(n)&&!function(e){switch(S(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;v(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!R(r))throw new TypeError;return E(n)||(n=x(n)),v(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return E(r)||(r=x(r)),g(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return E(r)||(r=x(r)),m(e,t,r)})),e("getMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return E(r)||(r=x(r)),y(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return E(r)||(r=x(r)),b(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!R(e))throw new TypeError;return E(t)||(t=x(t)),w(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!R(e))throw new TypeError;return E(t)||(t=x(t)),A(e,t)})),e("deleteMetadata",(function(e,t,r){if(!R(t))throw new TypeError;E(r)||(r=x(r));var n=f(t,r,!1);if(E(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=h.get(t);return i.delete(r),i.size>0||h.delete(t),!0}))}(i)}()}(n||(n={}))},35666:e=>{var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new M(n||[]);return i(o,"_invoke",{value:k(e,r,s)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function b(){}function v(){}var w={};l(w,o,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(N([])));S&&S!==r&&n.call(S,o)&&(w=S);var E=v.prototype=y.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function k(e,t,r){var n=p;return function(i,a){if(n===f)throw new Error("Generator is already running");if(n===g){if("throw"===i)throw a;return _()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=x(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=d(e,t,r);if("normal"===c.type){if(n=r.done?g:h,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=g,r.method="throw",r.arg=c.arg)}}}function x(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=d(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:_}}function _(){return{value:t,done:!0}}return b.prototype=v,i(E,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(R.prototype),l(R.prototype,s,(function(){return this})),e.AsyncIterator=R,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new R(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},42660:function(e,t,r){!function(e){const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function n(){}const i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0;function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}const o=n,s=Promise,c=Promise.prototype.then,l=Promise.resolve.bind(s),u=Promise.reject.bind(s);function d(e){return new s(e)}function p(e){return l(e)}function h(e){return u(e)}function f(e,t,r){return c.call(e,t,r)}function g(e,t,r){f(f(e,t,r),void 0,o)}function m(e,t){g(e,t)}function y(e,t){g(e,void 0,t)}function b(e,t,r){return f(e,t,r)}function v(e){f(e,void 0,o)}const w=(()=>{const e=i&&i.queueMicrotask;if("function"==typeof e)return e;const t=p(void 0);return e=>f(t,e)})();function A(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function S(e,t,r){try{return p(A(e,t,r))}catch(e){return h(e)}}class E{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,a=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function T(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?function(e){I(e),N(e)}(e):O(e,t._storedError)}function R(e,t){return Er(e._ownerReadableStream,t)}function k(e){"readable"===e._ownerReadableStream._state?M(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){O(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=d(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function O(e,t){I(e),M(e,t)}function M(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function N(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const _=t("[[AbortSteps]]"),P=t("[[ErrorSteps]]"),C=t("[[CancelSteps]]"),L=t("[[PullSteps]]"),D=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},V=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function U(e,t){if(void 0!==e&&("object"!=typeof(r=e)&&"function"!=typeof r))throw new TypeError(`${t} is not an object.`);var r}function B(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function j(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function F(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function $(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function q(e){return Number(e)}function H(e){return 0===e?0:e}function G(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=H(n),!D(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return H(V(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return D(n)&&0!==n?n:0}function W(e,t){if(!Ar(e))throw new TypeError(`${t} is not a ReadableStream.`)}function z(e){return new Z(e)}function J(e,t){e._reader._readRequests.push(t)}function Q(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function K(e){return e._reader._readRequests.length}function Y(e){const t=e._reader;return void 0!==t&&!!X(t)}class Z{constructor(e){if(F(e,1,"ReadableStreamDefaultReader"),W(e,"First parameter"),Sr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");T(this,e),this._readRequests=new E}get closed(){return X(this)?this._closedPromise:h(te("closed"))}cancel(e=void 0){return X(this)?void 0===this._ownerReadableStream?h(x("cancel")):R(this,e):h(te("cancel"))}read(){if(!X(this))return h(te("read"));if(void 0===this._ownerReadableStream)return h(x("read from"));let e,t;const r=d(((r,n)=>{e=r,t=n}));return ee(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!X(this))throw te("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}}function X(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Z}function ee(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[L](t)}function te(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Z.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const re=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ne{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?b(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?b(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return h(x("iterate"));let t,r;const n=d(((e,n)=>{t=e,r=n}));return ee(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,w((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,k(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,k(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return h(x("finish iterating"));if(!this._preventCancel){const r=R(t,e);return k(t),b(r,(()=>({value:e,done:!0})))}return k(t),p({value:e,done:!0})}}const ie={next(){return ae(this)?this._asyncIteratorImpl.next():h(oe("next"))},return(e){return ae(this)?this._asyncIteratorImpl.return(e):h(oe("return"))}};function ae(e){if(!a(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ne}catch(e){return!1}}function oe(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==re&&Object.setPrototypeOf(ie,re);const se=Number.isNaN||function(e){return e!=e};function ce(e){return e.slice()}function le(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function ue(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,i=new ArrayBuffer(n);return le(i,0,e,t,n),i}function de(e){const t=ue(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function pe(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function he(e,t,r){if("number"!=typeof(n=r)||se(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function fe(e){e._queue=new E,e._queueTotalSize=0}class ge{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!be(this))throw je("view");return this._view}respond(e){if(!be(this))throw je("respond");if(F(e,1,"respond"),e=G(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Ve(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!be(this))throw je("respondWithNewView");if(F(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Ue(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ge.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ge.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ye(this))throw Fe("byobRequest");return Le(this)}get desiredSize(){if(!ye(this))throw Fe("desiredSize");return De(this)}close(){if(!ye(this))throw Fe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);_e(this)}enqueue(e){if(!ye(this))throw Fe("enqueue");if(F(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Pe(this,e)}error(e=void 0){if(!ye(this))throw Fe("error");Ce(this,e)}[C](e){we(this),fe(this);const t=this._cancelAlgorithm(e);return Ne(this),t}[L](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,ke(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}J(t,e),ve(this)}}function ye(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function be(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ge}function ve(e){(function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(Y(t)&&K(t)>0)||!!(Ge(t)&&He(t)>0)||De(e)>0)})(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,g(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ve(e))}),(t=>{Ce(e,t)}))))}function we(e){xe(e),e._pendingPullIntos=new E}function Ae(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Se(t);"default"===t.readerType?Q(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Se(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ee(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Te(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,o=a-a%r;let s=i,c=!1;o>n&&(s=o-t.bytesFilled,c=!0);const l=e._queue;for(;s>0;){const r=l.peek(),n=Math.min(s,r.byteLength),i=t.byteOffset+t.bytesFilled;le(t.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?l.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Re(0,n,t),s-=n}return c}function Re(e,t,r){r.bytesFilled+=t}function ke(e){0===e._queueTotalSize&&e._closeRequested?(Ne(e),Tr(e._controlledReadableByteStream)):ve(e)}function xe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ie(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Te(e,t)&&(Me(e),Ae(e._controlledReadableByteStream,t))}}function Oe(e,t){const r=e._pendingPullIntos.peek();xe(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(Ge(r))for(;He(r)>0;)Ae(r,Me(e))}(e):function(e,t,r){if(Re(0,t,r),r.bytesFilled<r.elementSize)return;Me(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=ue(r.buffer,t-n,t);Ee(e,i,0,i.byteLength)}r.bytesFilled-=n,Ae(e._controlledReadableByteStream,r),Ie(e)}(e,t,r),ve(e)}function Me(e){return e._pendingPullIntos.shift()}function Ne(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _e(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ce(e,t),t}Ne(e),Tr(t)}}function Pe(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,i=t.byteOffset,a=t.byteLength,o=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}xe(e),Y(r)?0===K(r)?Ee(e,o,i,a):(e._pendingPullIntos.length>0&&Me(e),Q(r,new Uint8Array(o,i,a),!1)):Ge(r)?(Ee(e,o,i,a),Ie(e)):Ee(e,o,i,a),ve(e)}function Ce(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(we(e),fe(e),Ne(e),Rr(r,t))}function Le(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ge.prototype);(function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r})(n,e,r),e._byobRequest=n}return e._byobRequest}function De(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ve(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Oe(e,t)}function Ue(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,Oe(e,n)}function Be(e,t,r,n,i,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,fe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new E,e._readableStreamController=t,g(p(r()),(()=>{t._started=!0,ve(t)}),(e=>{Ce(t,e)}))}function je(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Fe(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function $e(e){return new We(e)}function qe(e,t){e._reader._readIntoRequests.push(t)}function He(e){return e._reader._readIntoRequests.length}function Ge(e){const t=e._reader;return void 0!==t&&!!ze(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class We{constructor(e){if(F(e,1,"ReadableStreamBYOBReader"),W(e,"First parameter"),Sr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ye(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");T(this,e),this._readIntoRequests=new E}get closed(){return ze(this)?this._closedPromise:h(Qe("closed"))}cancel(e=void 0){return ze(this)?void 0===this._ownerReadableStream?h(x("cancel")):R(this,e):h(Qe("cancel"))}read(e){if(!ze(this))return h(Qe("read"));if(!ArrayBuffer.isView(e))return h(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return h(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return h(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return h(x("read from"));let t,r;const n=d(((e,n)=>{t=e,r=n}));return Je(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!ze(this))throw Qe("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}}function ze(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof We}function Je(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);const a=t.constructor,o=t.buffer,s={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void qe(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Te(e,s)){const t=Se(s);return ke(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ce(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),qe(n,r),ve(e)}else{const e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Qe(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ke(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(se(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ye(e){const{size:t}=e;return t||(()=>1)}function Ze(e,t){U(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:q(r),size:void 0===n?void 0:Xe(n,`${t} has member 'size' that`)}}function Xe(e,t){return B(e,t),t=>q(e(t))}function et(e,t,r){return B(e,r),r=>S(e,t,[r])}function tt(e,t,r){return B(e,r),()=>S(e,t,[])}function rt(e,t,r){return B(e,r),r=>A(e,t,[r])}function nt(e,t,r){return B(e,r),(r,n)=>S(e,t,[r,n])}function it(e,t){if(!lt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(We.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(We.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const at="function"==typeof AbortController;class ot{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");const r=Ze(t,"Second parameter"),n=function(e,t){U(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,a=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===r?void 0:et(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:tt(n,e,`${t} has member 'close' that`),start:void 0===i?void 0:rt(i,e,`${t} has member 'start' that`),write:void 0===o?void 0:nt(o,e,`${t} has member 'write' that`),type:a}}(e,"First parameter");if(ct(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const i=Ye(r);!function(e,t,r,n){const i=Object.create(xt.prototype);let a=()=>{},o=()=>p(void 0),s=()=>p(void 0),c=()=>p(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.write&&(o=e=>t.write(e,i)),void 0!==t.close&&(s=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),Ot(e,i,a,o,s,c,r,n)}(this,n,Ke(r,1),i)}get locked(){if(!lt(this))throw Dt("locked");return ut(this)}abort(e=void 0){return lt(this)?ut(this)?h(new TypeError("Cannot abort a stream that already has a writer")):dt(this,e):h(Dt("abort"))}close(){return lt(this)?ut(this)?h(new TypeError("Cannot close a stream that already has a writer")):mt(this)?h(new TypeError("Cannot close an already-closing stream")):pt(this):h(Dt("close"))}getWriter(){if(!lt(this))throw Dt("getWriter");return st(this)}}function st(e){return new vt(e)}function ct(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new E,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function lt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof ot}function ut(e){return void 0!==e._writer}function dt(e,t){var r;if("closed"===e._state||"errored"===e._state)return p(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return p(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let i=!1;"erroring"===n&&(i=!0,t=void 0);const a=d(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return e._pendingAbortRequest._promise=a,i||ft(e,t),a}function pt(e){const t=e._state;if("closed"===t||"errored"===t)return h(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=d(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&Jt(n),he(i=e._writableStreamController,kt,0),_t(i),r;var i}function ht(e,t){"writable"!==e._state?gt(e):ft(e,t)}function ft(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Et(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&gt(e)}function gt(e){e._state="errored",e._writableStreamController[P]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new E,void 0===e._pendingAbortRequest)return void yt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void yt(e);g(e._writableStreamController[_](r._reason),(()=>{r._resolve(),yt(e)}),(t=>{r._reject(t),yt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function yt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&$t(t,e._storedError)}function bt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Ht(e)}(r):Jt(r)),e._backpressure=t}Object.defineProperties(ot.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ot.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class vt{constructor(e){if(F(e,1,"WritableStreamDefaultWriter"),it(e,"First parameter"),ut(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?Ht(this):Wt(this),jt(this);else if("erroring"===t)Gt(this,e._storedError),jt(this);else if("closed"===t)Wt(this),jt(r=this),qt(r);else{const t=e._storedError;Gt(this,t),Ft(this,t)}var r}get closed(){return wt(this)?this._closedPromise:h(Ut("closed"))}get desiredSize(){if(!wt(this))throw Ut("desiredSize");if(void 0===this._ownerWritableStream)throw Bt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Nt(t._writableStreamController)}(this)}get ready(){return wt(this)?this._readyPromise:h(Ut("ready"))}abort(e=void 0){return wt(this)?void 0===this._ownerWritableStream?h(Bt("abort")):function(e,t){return dt(e._ownerWritableStream,t)}(this,e):h(Ut("abort"))}close(){if(!wt(this))return h(Ut("close"));const e=this._ownerWritableStream;return void 0===e?h(Bt("close")):mt(e)?h(new TypeError("Cannot close an already-closing stream")):At(this)}releaseLock(){if(!wt(this))throw Ut("releaseLock");void 0!==this._ownerWritableStream&&Tt(this)}write(e=void 0){return wt(this)?void 0===this._ownerWritableStream?h(Bt("write to")):Rt(this,e):h(Ut("write"))}}function wt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof vt}function At(e){return pt(e._ownerWritableStream)}function St(e,t){"pending"===e._closedPromiseState?$t(e,t):function(e,t){Ft(e,t)}(e,t)}function Et(e,t){"pending"===e._readyPromiseState?zt(e,t):function(e,t){Gt(e,t)}(e,t)}function Tt(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Et(e,r),St(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Rt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Pt(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return h(Bt("write to"));const a=r._state;if("errored"===a)return h(r._storedError);if(mt(r)||"closed"===a)return h(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return h(r._storedError);const o=function(e){return d(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{he(e,t,r)}catch(t){return void Pt(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||bt(n,Ct(e)),_t(e)}(n,t,i),o}Object.defineProperties(vt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(vt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const kt={};class xt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!It(this))throw Vt("abortReason");return this._abortReason}get signal(){if(!It(this))throw Vt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!It(this))throw Vt("error");"writable"===this._controlledWritableStream._state&&Lt(this,e)}[_](e){const t=this._abortAlgorithm(e);return Mt(this),t}[P](){fe(this)}}function It(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof xt}function Ot(e,t,r,n,i,a,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._abortReason=void 0,t._abortController=function(){if(at)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=a;const c=Ct(t);bt(e,c),g(p(r()),(()=>{t._started=!0,_t(t)}),(r=>{t._started=!0,ht(e,r)}))}function Mt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Nt(e){return e._strategyHWM-e._queueTotalSize}function _t(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void gt(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===kt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),pe(e);const r=e._closeAlgorithm();Mt(e),g(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&qt(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ht(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(r),g(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(pe(e),!mt(r)&&"writable"===t){const t=Ct(e);bt(r,t)}_t(e)}),(t=>{"writable"===r._state&&Mt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ht(e,t)}(r,t)}))}(e,r)}function Pt(e,t){"writable"===e._controlledWritableStream._state&&Lt(e,t)}function Ct(e){return Nt(e)<=0}function Lt(e,t){const r=e._controlledWritableStream;Mt(e),ft(r,t)}function Dt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Vt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ut(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Bt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function jt(e){e._closedPromise=d(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Ft(e,t){jt(e),$t(e,t)}function $t(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function qt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Ht(e){e._readyPromise=d(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Gt(e,t){Ht(e),zt(e,t)}function Wt(e){Ht(e),Jt(e)}function zt(e,t){void 0!==e._readyPromise_reject&&(v(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Jt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(xt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(xt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Qt="undefined"!=typeof DOMException?DOMException:void 0;const Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Qt)?Qt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Yt(e,t,r,i,a,o){const s=z(e),c=st(t);e._disturbed=!0;let l=!1,u=p(void 0);return d(((b,w)=>{let A;if(void 0!==o){if(A=()=>{const r=new Kt("Aborted","AbortError"),n=[];i||n.push((()=>"writable"===t._state?dt(t,r):p(void 0))),a||n.push((()=>"readable"===e._state?Er(e,r):p(void 0))),I((()=>Promise.all(n.map((e=>e())))),!0,r)},o.aborted)return void A();o.addEventListener("abort",A)}if(x(e,s._closedPromise,(e=>{i?O(!0,e):I((()=>dt(t,e)),!0,e)})),x(t,c._closedPromise,(t=>{a?O(!0,t):I((()=>Er(e,t)),!0,t)})),S=e,E=s._closedPromise,T=()=>{r?O():I((()=>function(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?p(void 0):"errored"===r?h(t._storedError):At(e)}(c)))},"closed"===S._state?T():m(E,T),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");a?O(!0,t):I((()=>Er(e,t)),!0,t)}var S,E,T;function R(){const e=u;return f(u,(()=>e!==u?R():void 0))}function x(e,t,r){"errored"===e._state?r(e._storedError):y(t,r)}function I(e,r,n){function i(){g(e(),(()=>M(r,n)),(e=>M(!0,e)))}l||(l=!0,"writable"!==t._state||mt(t)?i():m(R(),i))}function O(e,r){l||(l=!0,"writable"!==t._state||mt(t)?M(e,r):m(R(),(()=>M(e,r))))}function M(e,t){Tt(c),k(s),void 0!==o&&o.removeEventListener("abort",A),e?w(t):b(void 0)}v(d(((e,t)=>{!function r(i){i?e():f(l?p(!0):f(c._readyPromise,(()=>d(((e,t)=>{ee(s,{_chunkSteps:t=>{u=f(Rt(c,t),void 0,n),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class Zt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xt(this))throw lr("desiredSize");return or(this)}close(){if(!Xt(this))throw lr("close");if(!sr(this))throw new TypeError("The stream is not in a state that permits close");nr(this)}enqueue(e=void 0){if(!Xt(this))throw lr("enqueue");if(!sr(this))throw new TypeError("The stream is not in a state that permits enqueue");return ir(this,e)}error(e=void 0){if(!Xt(this))throw lr("error");ar(this,e)}[C](e){fe(this);const t=this._cancelAlgorithm(e);return rr(this),t}[L](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=pe(this);this._closeRequested&&0===this._queue.length?(rr(this),Tr(t)):er(this),e._chunkSteps(r)}else J(t,e),er(this)}}function Xt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Zt}function er(e){tr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,g(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,er(e))}),(t=>{ar(e,t)}))))}function tr(e){const t=e._controlledReadableStream;return!!sr(e)&&!!e._started&&(!!(Sr(t)&&K(t)>0)||or(e)>0)}function rr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function nr(e){if(!sr(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(rr(e),Tr(t))}function ir(e,t){if(!sr(e))return;const r=e._controlledReadableStream;if(Sr(r)&&K(r)>0)Q(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw ar(e,t),t}try{he(e,t,r)}catch(t){throw ar(e,t),t}}er(e)}function ar(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(fe(e),rr(e),Rr(r,t))}function or(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function sr(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function cr(e,t,r,n,i,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,g(p(r()),(()=>{t._started=!0,er(t)}),(e=>{ar(t,e)}))}function lr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ur(e,t){return ye(e._readableStreamController)?function(e){let t,r,n,i,a,o=z(e),s=!1,c=!1,l=!1,u=!1,h=!1;const f=d((e=>{a=e}));function g(e){y(e._closedPromise,(t=>{e===o&&(Ce(n._readableStreamController,t),Ce(i._readableStreamController,t),u&&h||a(void 0))}))}function m(){ze(o)&&(k(o),o=z(e),g(o)),ee(o,{_chunkSteps:t=>{w((()=>{c=!1,l=!1;const r=t;let o=t;if(!u&&!h)try{o=de(t)}catch(t){return Ce(n._readableStreamController,t),Ce(i._readableStreamController,t),void a(Er(e,t))}u||Pe(n._readableStreamController,r),h||Pe(i._readableStreamController,o),s=!1,c?v():l&&A()}))},_closeSteps:()=>{s=!1,u||_e(n._readableStreamController),h||_e(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Ve(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&Ve(i._readableStreamController,0),u&&h||a(void 0)},_errorSteps:()=>{s=!1}})}function b(t,r){X(o)&&(k(o),o=$e(e),g(o));const d=r?i:n,p=r?n:i;Je(o,t,{_chunkSteps:t=>{w((()=>{c=!1,l=!1;const n=r?h:u;if(r?u:h)n||Ue(d._readableStreamController,t);else{let r;try{r=de(t)}catch(t){return Ce(d._readableStreamController,t),Ce(p._readableStreamController,t),void a(Er(e,t))}n||Ue(d._readableStreamController,t),Pe(p._readableStreamController,r)}s=!1,c?v():l&&A()}))},_closeSteps:e=>{s=!1;const t=r?h:u,n=r?u:h;t||_e(d._readableStreamController),n||_e(p._readableStreamController),void 0!==e&&(t||Ue(d._readableStreamController,e),!n&&p._readableStreamController._pendingPullIntos.length>0&&Ve(p._readableStreamController,0)),t&&n||a(void 0)},_errorSteps:()=>{s=!1}})}function v(){if(s)return c=!0,p(void 0);s=!0;const e=Le(n._readableStreamController);return null===e?m():b(e._view,!1),p(void 0)}function A(){if(s)return l=!0,p(void 0);s=!0;const e=Le(i._readableStreamController);return null===e?m():b(e._view,!0),p(void 0)}function S(n){if(u=!0,t=n,h){const n=ce([t,r]),i=Er(e,n);a(i)}return f}function E(n){if(h=!0,r=n,u){const n=ce([t,r]),i=Er(e,n);a(i)}return f}function T(){}return n=vr(T,v,S),i=vr(T,A,E),g(o),[n,i]}(e):function(e,t){const r=z(e);let n,i,a,o,s,c=!1,l=!1,u=!1,h=!1;const f=d((e=>{s=e}));function g(){return c?(l=!0,p(void 0)):(c=!0,ee(r,{_chunkSteps:e=>{w((()=>{l=!1;const t=e,r=e;u||ir(a._readableStreamController,t),h||ir(o._readableStreamController,r),c=!1,l&&g()}))},_closeSteps:()=>{c=!1,u||nr(a._readableStreamController),h||nr(o._readableStreamController),u&&h||s(void 0)},_errorSteps:()=>{c=!1}}),p(void 0))}function m(t){if(u=!0,n=t,h){const t=ce([n,i]),r=Er(e,t);s(r)}return f}function b(t){if(h=!0,i=t,u){const t=ce([n,i]),r=Er(e,t);s(r)}return f}function v(){}return a=br(v,g,m),o=br(v,g,b),y(r._closedPromise,(e=>{ar(a._readableStreamController,e),ar(o._readableStreamController,e),u&&h||s(void 0)})),[a,o]}(e)}function dr(e,t,r){return B(e,r),r=>S(e,t,[r])}function pr(e,t,r){return B(e,r),r=>S(e,t,[r])}function hr(e,t,r){return B(e,r),r=>A(e,t,[r])}function fr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function gr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function mr(e,t){U(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:a}}Object.defineProperties(Zt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Zt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class yr{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");const r=Ze(t,"Second parameter"),n=function(e,t){U(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,a=null==r?void 0:r.pull,o=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:G(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:dr(i,r,`${t} has member 'cancel' that`),pull:void 0===a?void 0:pr(a,r,`${t} has member 'pull' that`),start:void 0===o?void 0:hr(o,r,`${t} has member 'start' that`),type:void 0===s?void 0:fr(s,`${t} has member 'type' that`)}}(e,"First parameter");if(wr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let i=()=>{},a=()=>p(void 0),o=()=>p(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(a=()=>t.pull(n)),void 0!==t.cancel&&(o=e=>t.cancel(e));const s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Be(e,n,i,a,o,r,s)}(this,n,Ke(r,0))}else{const e=Ye(r);!function(e,t,r,n){const i=Object.create(Zt.prototype);let a=()=>{},o=()=>p(void 0),s=()=>p(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.pull&&(o=()=>t.pull(i)),void 0!==t.cancel&&(s=e=>t.cancel(e)),cr(e,i,a,o,s,r,n)}(this,n,Ke(r,1),e)}}get locked(){if(!Ar(this))throw kr("locked");return Sr(this)}cancel(e=void 0){return Ar(this)?Sr(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):Er(this,e):h(kr("cancel"))}getReader(e=void 0){if(!Ar(this))throw kr("getReader");return void 0===function(e,t){U(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:gr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?z(this):$e(this)}pipeThrough(e,t={}){if(!Ar(this))throw kr("pipeThrough");F(e,1,"pipeThrough");const r=function(e,t){U(e,t);const r=null==e?void 0:e.readable;$(r,"readable","ReadableWritablePair"),W(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return $(n,"writable","ReadableWritablePair"),it(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=mr(t,"Second parameter");if(Sr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ut(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v(Yt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!Ar(this))return h(kr("pipeTo"));if(void 0===e)return h("Parameter 1 is required in 'pipeTo'.");if(!lt(e))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=mr(t,"Second parameter")}catch(e){return h(e)}return Sr(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ut(e)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Yt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Ar(this))throw kr("tee");return ce(ur(this))}values(e=void 0){if(!Ar(this))throw kr("values");return function(e,t){const r=z(e),n=new ne(r,t),i=Object.create(ie);return i._asyncIteratorImpl=n,i}(this,function(e,t){U(e,t);const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,"First parameter").preventCancel)}}function br(e,t,r,n=1,i=(()=>1)){const a=Object.create(yr.prototype);return wr(a),cr(a,Object.create(Zt.prototype),e,t,r,n,i),a}function vr(e,t,r){const n=Object.create(yr.prototype);return wr(n),Be(n,Object.create(me.prototype),e,t,r,0,void 0),n}function wr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ar(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof yr}function Sr(e){return void 0!==e._reader}function Er(e,t){if(e._disturbed=!0,"closed"===e._state)return p(void 0);if("errored"===e._state)return h(e._storedError);Tr(e);const r=e._reader;return void 0!==r&&ze(r)&&(r._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),r._readIntoRequests=new E),b(e._readableStreamController[C](t),n)}function Tr(e){e._state="closed";const t=e._reader;void 0!==t&&(N(t),X(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new E))}function Rr(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(M(r,t),X(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new E):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new E))}function kr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function xr(e,t){U(e,t);const r=null==e?void 0:e.highWaterMark;return $(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:q(r)}}Object.defineProperties(yr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(yr.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(yr.prototype,t.asyncIterator,{value:yr.prototype.values,writable:!0,configurable:!0});const Ir=e=>e.byteLength;try{Object.defineProperty(Ir,"name",{value:"size",configurable:!0})}catch(e){}class Or{constructor(e){F(e,1,"ByteLengthQueuingStrategy"),e=xr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Nr(this))throw Mr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Nr(this))throw Mr("size");return Ir}}function Mr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Nr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Or}Object.defineProperties(Or.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Or.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const _r=()=>1;try{Object.defineProperty(_r,"name",{value:"size",configurable:!0})}catch(e){}class Pr{constructor(e){F(e,1,"CountQueuingStrategy"),e=xr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Lr(this))throw Cr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Lr(this))throw Cr("size");return _r}}function Cr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Lr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Pr}function Dr(e,t,r){return B(e,r),r=>S(e,t,[r])}function Vr(e,t,r){return B(e,r),r=>A(e,t,[r])}function Ur(e,t,r){return B(e,r),(r,n)=>S(e,t,[r,n])}Object.defineProperties(Pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Pr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Br{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Ze(t,"Second parameter"),i=Ze(r,"Third parameter"),a=function(e,t){U(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:Dr(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===i?void 0:Vr(i,e,`${t} has member 'start' that`),transform:void 0===a?void 0:Ur(a,e,`${t} has member 'transform' that`),writableType:o}}(e,"First parameter");if(void 0!==a.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw new RangeError("Invalid writableType specified");const o=Ke(i,0),s=Ye(i),c=Ke(n,1),l=Ye(n);let u;(function(e,t,r,n,i,a){function o(){return t}function s(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?b(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Jr(r,t)})):Jr(r,t)}(e,t)}function c(t){return function(e,t){return Fr(e,t),p(void 0)}(e,t)}function l(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Wr(r),b(n,(()=>{if("errored"===t._state)throw t._storedError;nr(t._readableStreamController)}),(r=>{throw Fr(e,r),t._storedError}))}(e)}function u(){return function(e){return qr(e,!1),e._backpressureChangePromise}(e)}function d(t){return $r(e,t),p(void 0)}e._writable=function(e,t,r,n,i=1,a=(()=>1)){const o=Object.create(ot.prototype);return ct(o),Ot(o,Object.create(xt.prototype),e,t,r,n,i,a),o}(o,s,l,c,r,n),e._readable=br(o,u,d,i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,qr(e,!0),e._transformStreamController=void 0})(this,d((e=>{u=e})),c,l,o,s),function(e,t){const r=Object.create(Hr.prototype);let n=e=>{try{return zr(r,e),p(void 0)}catch(e){return h(e)}},i=()=>p(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(i=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,i)}(this,a),void 0!==a.start?u(a.start(this._transformStreamController)):u(void 0)}get readable(){if(!jr(this))throw Kr("readable");return this._readable}get writable(){if(!jr(this))throw Kr("writable");return this._writable}}function jr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Br}function Fr(e,t){ar(e._readable._readableStreamController,t),$r(e,t)}function $r(e,t){Wr(e._transformStreamController),Pt(e._writable._writableStreamController,t),e._backpressure&&qr(e,!1)}function qr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=d((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Br.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Br.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Hr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Gr(this))throw Qr("desiredSize");return or(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Gr(this))throw Qr("enqueue");zr(this,e)}error(e=void 0){if(!Gr(this))throw Qr("error");var t;t=e,Fr(this._controlledTransformStream,t)}terminate(){if(!Gr(this))throw Qr("terminate");!function(e){const t=e._controlledTransformStream;nr(t._readable._readableStreamController),$r(t,new TypeError("TransformStream terminated"))}(this)}}function Gr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Hr}function Wr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function zr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!sr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ir(n,t)}catch(e){throw $r(r,e),r._readable._storedError}(function(e){return!tr(e)})(n)!==r._backpressure&&qr(r,!0)}function Jr(e,t){return b(e._transformAlgorithm(t),void 0,(t=>{throw Fr(e._controlledTransformStream,t),t}))}function Qr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Kr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Hr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Hr.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Or,e.CountQueuingStrategy=Pr,e.ReadableByteStreamController=me,e.ReadableStream=yr,e.ReadableStreamBYOBReader=We,e.ReadableStreamBYOBRequest=ge,e.ReadableStreamDefaultController=Zt,e.ReadableStreamDefaultReader=Z,e.TransformStream=Br,e.TransformStreamDefaultController=Hr,e.WritableStream=ot,e.WritableStreamDefaultController=xt,e.WritableStreamDefaultWriter=vt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},58210:t=>{t.exports=e},10326:e=>{e.exports=t},14300:e=>{e.exports=r(import.meta.url)("buffer")},88849:e=>{e.exports=r(import.meta.url)("node:http")},97742:e=>{e.exports=r(import.meta.url)("node:process")},72477:e=>{e.exports=r(import.meta.url)("node:stream/web")},47261:e=>{e.exports=r(import.meta.url)("node:util")},71267:e=>{e.exports=r(import.meta.url)("worker_threads")},47135:(e,t,r)=>{if(!globalThis.ReadableStream)try{const e=r(97742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(72477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(42660))}try{const{Blob:e}=r(14300);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),i=await n.arrayBuffer();t+=i.byteLength,e.enqueue(new Uint8Array(i)),t===r.size&&e.close()}})})}catch(e){}},14193:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(55006);const i=class extends n.Z{#e=0;#t="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#e=n),this.#t=String(t)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.Z&&/^(File)$/.test(e[Symbol.toStringTag])}}},40749:(e,t,n)=>{n.d(t,{$B:()=>a.Z});const i=r(import.meta.url)("node:fs");r(import.meta.url)("node:path"),n(73414);var a=n(14193);n(55006);const{stat:o}=i.promises;Symbol.toStringTag},55006:(e,t,r)=>{async function*n(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),i=r.buffer.slice(e,e+n);e+=i.byteLength,yield new Uint8Array(i)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}r.d(t,{Z:()=>a}),r(47135);const i=class e{#r=[];#n="";#i=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`),this.#i+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#r.push(t)}this.#a=`${void 0===r.endings?"transparent":r.endings}`;const i=void 0===r.type?"":String(r.type);this.#n=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#i}get type(){return this.#n}async text(){const e=new TextDecoder;let t="";for await(const r of n(this.#r,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of n(this.#r,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=n(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:i}=this;let a=t<0?Math.max(i+t,0):Math.min(t,i),o=r<0?Math.max(i+r,0):Math.min(r,i);const s=Math.max(o-a,0),c=this.#r,l=[];let u=0;for(const e of c){if(u>=s)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(a&&t<=a)a-=t,o-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(a,Math.min(t,o)),u+=r.byteLength):(r=e.slice(a,Math.min(t,o)),u+=r.size),o-=t,l.push(r),a=0}}const d=new e([],{type:String(n).toLowerCase()});return d.#i=s,d.#r=l,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(i.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const a=i},39951:(e,t,r)=>{r.d(t,{Ct:()=>h,au:()=>f});var n=r(55006),i=r(14193),{toStringTag:a,iterator:o,hasInstance:s}=Symbol,c=Math.random,l="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[a])?[(r=void 0!==r?r+"":"File"==t[a]?t.name:"blob",e),t.name!==r||"blob"==t[a]?new i.Z([t],r,t):t]:[e,t+""]),d=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),p=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const h=class{#o=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[a](){return"FormData"}[o](){return this.entries()}static[s](e){return e&&"object"==typeof e&&"FormData"===e[a]&&!l.some((t=>"function"!=typeof e[t]))}append(...e){p("append",arguments,2),this.#o.push(u(...e))}delete(e){p("delete",arguments,1),e+="",this.#o=this.#o.filter((([t])=>t!==e))}get(e){p("get",arguments,1),e+="";for(var t=this.#o,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return p("getAll",arguments,1),t=[],e+="",this.#o.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return p("has",arguments,1),e+="",this.#o.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(p("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){p("set",arguments,2);var t=[],r=!0;e=u(...e),this.#o.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#o=t}*entries(){yield*this.#o}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function f(e,t=n.Z){var r=`${c()}${c()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?i.push(a+d(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):i.push(a+d(t)+`"; filename="${d(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),i.push(`--${r}--`),new t(i,{type:"multipart/form-data; boundary="+r})}},33763:(e,t,r)=>{r.d(t,{Z:()=>s,x:()=>c});var n=r(47261),i=r(88849);const a="function"==typeof i.validateHeaderName?i.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},o="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class s extends URLSearchParams{constructor(e){let t=[];if(e instanceof s){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||n.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||n.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(a(e),o(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(a(r),o(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(a(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t=void 0){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}function c(e=[]){return new s(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return a(e),o(e,String(t)),!0}catch{return!1}})))}Object.defineProperties(s.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}))},8971:(e,t,n)=>{n.d(t,{ZP:()=>G});var i=n(88849);const a=r(import.meta.url)("node:https"),o=r(import.meta.url)("node:zlib"),s=r(import.meta.url)("node:stream"),c=r(import.meta.url)("node:buffer"),l=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",i=!1;const a=r[0]||"text/plain";let o=a;for(let e=1;e<r.length;e++)"base64"===r[e]?i=!0:r[e]&&(o+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(o+=";charset=US-ASCII",n="US-ASCII");const s=i?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,s);return l.type=a,l.typeFull=o,l.charset=n,l};var u=n(47261),d=n(55006),p=n(39951);class h extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class f extends h{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const g=Symbol.toStringTag,m=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[g],y=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[g]),b=(e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},v=(e,t)=>new URL(t).protocol===new URL(e).protocol,w=(0,u.promisify)(s.pipeline),A=Symbol("Body internals");class S{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:m(e)?e=c.Buffer.from(e.toString()):y(e)||c.Buffer.isBuffer(e)||(u.types.isAnyArrayBuffer(e)?e=c.Buffer.from(e):ArrayBuffer.isView(e)?e=c.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof p.Ct?r=(e=(0,p.au)(e)).type.split("=")[1]:e=c.Buffer.from(String(e))));let n=e;c.Buffer.isBuffer(e)?n=s.Readable.from(e):y(e)&&(n=s.Readable.from(e.stream())),this[A]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",(e=>{const t=e instanceof h?e:new f(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[A].error=t}))}get body(){return this[A].stream}get bodyUsed(){return this[A].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await E(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new p.Ct,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await Promise.resolve().then(n.bind(n,51713));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[A].body&&this[A].body.type||"",t=await this.arrayBuffer();return new d.Z([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await E(this);return(new TextDecoder).decode(e)}buffer(){return E(this)}}async function E(e){if(e[A].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[A].disturbed=!0,e[A].error)throw e[A].error;const{body:t}=e;if(null===t)return c.Buffer.alloc(0);if(!(t instanceof s))return c.Buffer.alloc(0);const r=[];let n=0;try{for await(const i of t){if(e.size>0&&n+i.length>e.size){const r=new f(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=i.length,r.push(i)}}catch(t){throw t instanceof h?t:new f(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new f(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?c.Buffer.from(r.join("")):c.Buffer.concat(r,n)}catch(t){throw new f(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}S.prototype.buffer=(0,u.deprecate)(S.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(S.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,u.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const T=(e,t)=>{let r,n,{body:i}=e[A];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof s&&"function"!=typeof i.getBoundary&&(r=new s.PassThrough({highWaterMark:t}),n=new s.PassThrough({highWaterMark:t}),i.pipe(r),i.pipe(n),e[A].stream=r,i=n),i},R=(0,u.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),k=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":m(e)?"application/x-www-form-urlencoded;charset=UTF-8":y(e)?e.type||null:c.Buffer.isBuffer(e)||u.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof p.Ct?`multipart/form-data; boundary=${t[A].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${R(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",x=async(e,{body:t})=>{null===t?e.end():await w(t,e)};var I=n(33763);const O=new Set([301,302,303,307,308]),M=e=>O.has(e),N=Symbol("Response internals");class _ extends S{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new I.Z(t.headers);if(null!==e&&!n.has("Content-Type")){const t=k(e,this);t&&n.append("Content-Type",t)}this[N]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[N].type}get url(){return this[N].url||""}get status(){return this[N].status}get ok(){return this[N].status>=200&&this[N].status<300}get redirected(){return this[N].counter>0}get statusText(){return this[N].statusText}get headers(){return this[N].headers}get highWaterMark(){return this[N].highWaterMark}clone(){return new _(T(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!M(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new _(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new _(null,{status:0,statusText:""});return e[N].type="error",e}static json(e=void 0,t={}){const r=JSON.stringify(e);if(void 0===r)throw new TypeError("data is not JSON serializable");const n=new I.Z(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new _(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(_.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const P=r(import.meta.url)("node:url"),C=r(import.meta.url)("node:net");function L(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const D=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function V(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,C.isIP)(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const U=Symbol("Request internals"),B=e=>"object"==typeof e&&"object"==typeof e[U],j=(0,u.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class F extends S{constructor(e,t={}){let r;if(B(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!B(t)&&"data"in t&&j(),(null!=t.body||B(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const i=t.body?t.body:B(e)&&null!==e.body?T(e):null;super(i,{size:t.size||e.size||0});const a=new I.Z(t.headers||e.headers||{});if(null!==i&&!a.has("Content-Type")){const e=k(i,this);e&&a.set("Content-Type",e)}let o=B(e)?e.signal:null;if("signal"in t&&(o=t.signal),null!=o&&("object"!=typeof(s=o)||"AbortSignal"!==s[g]&&"EventTarget"!==s[g]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var s;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[U]={method:n,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:o,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[U].method}get url(){return(0,P.format)(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}get referrer(){return"no-referrer"===this[U].referrer?"":"client"===this[U].referrer?"about:client":this[U].referrer?this[U].referrer.toString():void 0}get referrerPolicy(){return this[U].referrerPolicy}set referrerPolicy(e){this[U].referrerPolicy=function(e){if(!D.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new F(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(F.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const $=e=>{const{parsedURL:t}=e[U],r=new I.Z(e[U].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[A];return null===t?0:y(t)?t.size:c.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[U].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const i=e.referrer;let a=L(i),o=L(i,!0);a.toString().length>4096&&(a=o),t&&(a=t(a)),r&&(o=r(o));const s=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return a;case"strict-origin":return V(a)&&!V(s)?"no-referrer":o.toString();case"strict-origin-when-cross-origin":return a.origin===s.origin?a:V(a)&&!V(s)?"no-referrer":o;case"same-origin":return a.origin===s.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===s.origin?a:o;case"no-referrer-when-downgrade":return V(a)&&!V(s)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[U].referrer="no-referrer",e[U].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=e;"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close");const a=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i}}};class q extends h{constructor(e,t="aborted"){super(e,t)}}n(40749);const H=new Set(["data:","http:","https:"]);async function G(e,t){return new Promise(((r,n)=>{const u=new F(e,t),{parsedURL:d,options:p}=$(u);if(!H.has(d.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${d.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===d.protocol){const e=l(u.url),t=new _(e,{headers:{"Content-Type":e.typeFull}});return void r(t)}const h=("https:"===d.protocol?a:i).request,{signal:g}=u;let m=null;const y=()=>{const e=new q("The operation was aborted.");n(e),u.body&&u.body instanceof s.Readable&&u.body.destroy(e),m&&m.body&&m.body.emit("error",e)};if(g&&g.aborted)return void y();const w=()=>{y(),S()},A=h(d.toString(),p);g&&g.addEventListener("abort",w);const S=()=>{A.abort(),g&&g.removeEventListener("abort",w)};A.on("error",(e=>{n(new f(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),S()})),function(e,t){const r=c.Buffer.from("0\r\n\r\n");let n,i=!1,a=!1;e.on("response",(e=>{const{headers:t}=e;i="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const o=()=>{if(i&&!a){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{m&&m.body&&m.body.destroy(e)})(e)}},s=e=>{a=0===c.Buffer.compare(e.slice(-5),r),!a&&n&&(a=0===c.Buffer.compare(n.slice(-3),r.slice(0,3))&&0===c.Buffer.compare(e.slice(-2),r.slice(3))),n=e};t.prependListener("close",o),t.on("data",s),e.on("close",(()=>{t.removeListener("close",o),t.removeListener("data",s)}))}))}(A),process.version<"v14"&&A.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(m&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",e)}}))})),A.on("response",(e=>{A.setTimeout(0);const i=(0,I.x)(e.rawHeaders);if(M(e.statusCode)){const a=i.get("Location");let o=null;try{o=null===a?null:new URL(a,u.url)}catch{if("manual"!==u.redirect)return n(new f(`uri requested responds with an invalid redirect URL: ${a}`,"invalid-redirect")),void S()}switch(u.redirect){case"error":return n(new f(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),void S();case"manual":break;case"follow":{if(null===o)break;if(u.counter>=u.follow)return n(new f(`maximum redirect reached at: ${u.url}`,"max-redirect")),void S();const a={headers:new I.Z(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:T(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!b(u.url,o)||!v(u.url,o))for(const e of["authorization","www-authenticate","cookie","cookie2"])a.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof s.Readable)return n(new f("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void S();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==u.method)||(a.method="GET",a.body=void 0,a.headers.delete("content-length"));const c=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&D.has(e)&&(r=e);return r}(i);return c&&(a.referrerPolicy=c),r(G(new F(o,a))),void S()}default:return n(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}g&&e.once("end",(()=>{g.removeEventListener("abort",w)}));let a=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&n(e)}));process.version<"v12.10"&&e.on("aborted",w);const c={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:i,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},l=i.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===l||204===e.statusCode||304===e.statusCode)return m=new _(a,c),void r(m);const d={flush:o.Z_SYNC_FLUSH,finishFlush:o.Z_SYNC_FLUSH};if("gzip"===l||"x-gzip"===l)return a=(0,s.pipeline)(a,o.createGunzip(d),(e=>{e&&n(e)})),m=new _(a,c),void r(m);if("deflate"===l||"x-deflate"===l){const t=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&n(e)}));return t.once("data",(e=>{a=8==(15&e[0])?(0,s.pipeline)(a,o.createInflate(),(e=>{e&&n(e)})):(0,s.pipeline)(a,o.createInflateRaw(),(e=>{e&&n(e)})),m=new _(a,c),r(m)})),void t.once("end",(()=>{m||(m=new _(a,c),r(m))}))}if("br"===l)return a=(0,s.pipeline)(a,o.createBrotliDecompress(),(e=>{e&&n(e)})),m=new _(a,c),void r(m);m=new _(a,c),r(m)})),x(A,u).catch(n)}))}},51713:(e,t,r)=>{r.d(t,{toFormData:()=>h});var n=r(40749),i=r(39951);let a=0;const o={START_BOUNDARY:a++,HEADER_FIELD_START:a++,HEADER_FIELD:a++,HEADER_VALUE_START:a++,HEADER_VALUE:a++,HEADER_VALUE_ALMOST_DONE:a++,HEADERS_ALMOST_DONE:a++,PART_DATA_START:a++,PART_DATA:a++,END:a++};let s=1;const c=s,l=s*=2,u=e=>32|e,d=()=>{};class p{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=d,this.onHeaderField=d,this.onHeadersEnd=d,this.onHeaderValue=d,this.onPartBegin=d,this.onPartData=d,this.onPartEnd=d,this.boundaryChars={},e="\r\n--"+e;const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r),this.boundaryChars[t[r]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=o.START_BOUNDARY}write(e){let t=0;const r=e.length;let n=this.index,{lookbehind:i,boundary:a,boundaryChars:s,index:d,state:p,flags:h}=this;const f=this.boundary.length,g=f-1,m=e.length;let y,b;const v=e=>{this[e+"Mark"]=t},w=e=>{delete this[e+"Mark"]},A=(e,t,r,n)=>{void 0!==t&&t===r||this[e](n&&n.subarray(t,r))},S=(r,n)=>{const i=r+"Mark";i in this&&(n?(A(r,this[i],t,e),delete this[i]):(A(r,this[i],e.length,e),this[i]=0))};for(t=0;t<r;t++)switch(y=e[t],p){case o.START_BOUNDARY:if(d===a.length-2){if(45===y)h|=l;else if(13!==y)return;d++;break}if(d-1==a.length-2){if(h&l&&45===y)p=o.END,h=0;else{if(h&l||10!==y)return;d=0,A("onPartBegin"),p=o.HEADER_FIELD_START}break}y!==a[d+2]&&(d=-2),y===a[d+2]&&d++;break;case o.HEADER_FIELD_START:p=o.HEADER_FIELD,v("onHeaderField"),d=0;case o.HEADER_FIELD:if(13===y){w("onHeaderField"),p=o.HEADERS_ALMOST_DONE;break}if(d++,45===y)break;if(58===y){if(1===d)return;S("onHeaderField",!0),p=o.HEADER_VALUE_START;break}if(b=u(y),b<97||b>122)return;break;case o.HEADER_VALUE_START:if(32===y)break;v("onHeaderValue"),p=o.HEADER_VALUE;case o.HEADER_VALUE:13===y&&(S("onHeaderValue",!0),A("onHeaderEnd"),p=o.HEADER_VALUE_ALMOST_DONE);break;case o.HEADER_VALUE_ALMOST_DONE:if(10!==y)return;p=o.HEADER_FIELD_START;break;case o.HEADERS_ALMOST_DONE:if(10!==y)return;A("onHeadersEnd"),p=o.PART_DATA_START;break;case o.PART_DATA_START:p=o.PART_DATA,v("onPartData");case o.PART_DATA:if(n=d,0===d){for(t+=g;t<m&&!(e[t]in s);)t+=f;t-=g,y=e[t]}if(d<a.length)a[d]===y?(0===d&&S("onPartData",!0),d++):d=0;else if(d===a.length)d++,13===y?h|=c:45===y?h|=l:d=0;else if(d-1===a.length)if(h&c){if(d=0,10===y){h&=~c,A("onPartEnd"),A("onPartBegin"),p=o.HEADER_FIELD_START;break}}else h&l&&45===y?(A("onPartEnd"),p=o.END,h=0):d=0;if(d>0)i[d-1]=y;else if(n>0){const e=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);A("onPartData",0,n,e),n=0,v("onPartData"),t--}break;case o.END:break;default:throw new Error(`Unexpected state entered: ${p}`)}S("onHeaderField"),S("onHeaderValue"),S("onPartData"),this.index=d,this.state=p,this.flags=h}end(){if(this.state===o.HEADER_FIELD_START&&0===this.index||this.state===o.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==o.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}async function h(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");const r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");const a=new p(r[1]||r[2]);let o,s,c,l,u,d;const h=[],f=new i.Ct,g=e=>{c+=v.decode(e,{stream:!0})},m=e=>{h.push(e)},y=()=>{const e=new n.$B(h,d,{type:u});f.append(l,e)},b=()=>{f.append(l,c)},v=new TextDecoder("utf-8");v.decode(),a.onPartBegin=function(){a.onPartData=g,a.onPartEnd=b,o="",s="",c="",l="",u="",d=null,h.length=0},a.onHeaderField=function(e){o+=v.decode(e,{stream:!0})},a.onHeaderValue=function(e){s+=v.decode(e,{stream:!0})},a.onHeaderEnd=function(){if(s+=v.decode(),o=o.toLowerCase(),"content-disposition"===o){const e=s.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);e&&(l=e[2]||e[3]||""),d=function(e){const t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;const r=t[2]||t[3]||"";let n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,((e,t)=>String.fromCharCode(t))),n}(s),d&&(a.onPartData=m,a.onPartEnd=y)}else"content-type"===o&&(u=s);s="",o=""};for await(const t of e)a.write(t);return a.end(),f}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};(()=>{a.d(o,{Z:()=>Tw});var e={};a.r(e),a.d(e,{dQ:()=>wu,ci:()=>du,bytesToNumberBE:()=>fu,ty:()=>gu,eV:()=>vu,n$:()=>Eu,ql:()=>bu,hexToBytes:()=>hu,tL:()=>mu,S5:()=>yu,FF:()=>Ru});var t={};a.r(t),a.d(t,{AbiCoder:()=>qa,AbstractProvider:()=>qf,AbstractSigner:()=>Xf,AlchemyProvider:()=>iy,AnkrProvider:()=>ry,BaseContract:()=>qo,BaseWallet:()=>rb,Block:()=>co,BrowserProvider:()=>Uy,CloudflareProvider:()=>ay,ConstructorFragment:()=>La,Contract:()=>Ho,ContractEventPayload:()=>Ao,ContractFactory:()=>Rg,ContractTransactionReceipt:()=>bo,ContractTransactionResponse:()=>vo,ContractUnknownEventPayload:()=>wo,EnsPlugin:()=>wf,EnsResolver:()=>nf,ErrorDescription:()=>Wa,ErrorFragment:()=>Pa,EtherSymbol:()=>Eg,EtherscanPlugin:()=>sy,EtherscanProvider:()=>uy,EventFragment:()=>Ca,EventLog:()=>mo,EventPayload:()=>go,FallbackFragment:()=>Da,FallbackProvider:()=>Cy,FeeData:()=>oo,FeeDataNetworkPlugin:()=>Af,FetchCancelSignal:()=>zd,FetchRequest:()=>Qd,FetchResponse:()=>Kd,FetchUrlFeeDataNetworkPlugin:()=>Sf,FixedNumber:()=>Nc,Fragment:()=>Ma,FunctionFragment:()=>Va,GasCostPlugin:()=>vf,HDNodeVoidWallet:()=>lv,HDNodeWallet:()=>cv,Indexed:()=>za,InfuraProvider:()=>wy,InfuraWebSocketProvider:()=>vy,Interface:()=>Ka,IpcSocketProvider:()=>Fy,JsonRpcApiProvider:()=>dg,JsonRpcProvider:()=>hg,JsonRpcSigner:()=>ug,LangEn:()=>Ky,Log:()=>lo,LogDescription:()=>Ha,MaxInt256:()=>Sg,MaxUint256:()=>wg,MessagePrefix:()=>Tg,MinInt256:()=>Ag,Mnemonic:()=>tb,MulticoinProviderPlugin:()=>ef,N:()=>bg,NamedFragment:()=>Na,Network:()=>Tf,NetworkPlugin:()=>bf,NonceManager:()=>Vy,ParamType:()=>Oa,PocketProvider:()=>jy,QuickNodeProvider:()=>Sy,Result:()=>Ri,Signature:()=>md,SigningKey:()=>yd,SocketBlockSubscriber:()=>hy,SocketEventSubscriber:()=>gy,SocketPendingSubscriber:()=>fy,SocketProvider:()=>my,SocketSubscriber:()=>py,StructFragment:()=>Ua,Transaction:()=>Gh,TransactionDescription:()=>Ga,TransactionReceipt:()=>uo,TransactionResponse:()=>po,Typed:()=>Yn,TypedDataEncoder:()=>Pd,UndecodedEventLog:()=>yo,UnmanagedSubscriber:()=>Uf,Utf8ErrorFuncs:()=>Xn,VoidSigner:()=>eg,Wallet:()=>gv,WebSocketProvider:()=>yy,WeiPerEther:()=>vg,Wordlist:()=>zy,WordlistOwl:()=>Jy,WordlistOwlA:()=>mv,ZeroAddress:()=>Zd,ZeroHash:()=>sd,accessListify:()=>ro,assert:()=>tn,assertArgument:()=>rn,assertArgumentCount:()=>nn,assertNormalize:()=>on,assertPrivate:()=>sn,checkResultErrors:()=>ki,computeAddress:()=>bd,computeHmac:()=>Qg,concat:()=>gn,copyRequest:()=>so,dataLength:()=>mn,dataSlice:()=>yn,decodeBase58:()=>Zh,decodeBase64:()=>Ld,decodeBytes32String:()=>yg,decodeRlp:()=>Th,decryptCrowdsaleJson:()=>hv,decryptKeystoreJson:()=>Jb,decryptKeystoreJsonSync:()=>Wb,defaultPath:()=>Xb,defineProperties:()=>Kr,dnsEncode:()=>vh,encodeBase58:()=>Yh,encodeBase64:()=>Dd,encodeBytes32String:()=>mg,encodeRlp:()=>Ih,encryptKeystoreJson:()=>Zb,encryptKeystoreJsonSync:()=>Yb,ensNormalize:()=>mh,formatEther:()=>Lc,formatUnits:()=>Pc,fromTwos:()=>ci,getAccountPath:()=>uv,getAddress:()=>Pn,getBigInt:()=>di,getBytes:()=>ln,getBytesCopy:()=>un,getCreate2Address:()=>of,getCreateAddress:()=>af,getDefaultProvider:()=>Dy,getIcapAddress:()=>Cn,getIndexedAccountPath:()=>dv,getNumber:()=>gi,getUint:()=>pi,hashMessage:()=>Hm,hexlify:()=>fn,id:()=>ii,isAddress:()=>Za,isAddressable:()=>Ya,isBytesLike:()=>pn,isCallException:()=>Xr,isCrowdsaleJson:()=>pv,isError:()=>Zr,isHexString:()=>dn,isKeystoreJson:()=>qb,isValidName:()=>yh,keccak256:()=>Rn,lock:()=>qm,makeError:()=>en,mask:()=>ui,namehash:()=>bh,parseEther:()=>Dc,parseUnits:()=>Cc,pbkdf2:()=>ym,randomBytes:()=>Am,recoverAddress:()=>vd,resolveAddress:()=>eo,resolveProperties:()=>Qr,ripemd160:()=>hm,scrypt:()=>Pm,scryptSync:()=>Cm,sha256:()=>Fm,sha512:()=>$m,showThrottleMessage:()=>ey,solidityPacked:()=>Km,solidityPackedKeccak256:()=>Ym,solidityPackedSha256:()=>Zm,stripZerosLeft:()=>bn,toBeArray:()=>bi,toBeHex:()=>yi,toBigInt:()=>fi,toNumber:()=>mi,toQuantity:()=>vi,toTwos:()=>li,toUtf8Bytes:()=>ti,toUtf8CodePoints:()=>ni,toUtf8String:()=>ri,uuidV4:()=>$y,verifyMessage:()=>Gm,verifyTypedData:()=>Cd,version:()=>zr,wordlists:()=>yv,zeroPadBytes:()=>An,zeroPadValue:()=>wn}),a(28594),a(35666),a(28660);const n=r(import.meta.url)("fs");var i=a.n(n),s="Request",c="Singleton",l="Transient",u={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},d={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},p=0;function h(){return p++}var f=function(){function e(e,t){this.id=h(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=u.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===c&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),g="Metadata key was used more than once in a parameter:",m="NULL argument",y="Key Not Found",b="Ambiguous match found for serviceIdentifier:",v="No matching bindings found for serviceIdentifier:",w="Missing required @injectable annotation in:",A="Missing required @inject or @multiInject annotation in:",S="Circular dependency found:",E="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},R=function(e,t){return"onDeactivation() error in class "+e+": "+t},k="Maximum call stack size exceeded",x="named",I="name",O="unmanaged",M="optional",N="inject",_="multi_inject",P="inversify:tagged",C="inversify:tagged_props",L="inversify:paramtypes",D="post_construct",V="pre_destroy",U=[N,_,I,O,x,M],B=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(L,e),userGeneratedMetadata:Reflect.getMetadata(P,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(C,e)||[]},e}(),j={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function F(e){return e instanceof RangeError||e.message===k}function $(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function q(e,t,r){var n="",i=r(e,t);return 0!==i.length&&(n="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=W(e.implementationType)),n=n+"\n "+t,e.constraint.metaData&&(n=n+" - "+e.constraint.metaData)}))),n}function H(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||H(e.parentRequest,t))}function G(e){e.childRequests.forEach((function(e){if(H(e,e.serviceIdentifier)){var t=function(e){return function e(t,r){void 0===r&&(r=[]);var n=$(t.serviceIdentifier);return r.push(n),null!==t.parentRequest?e(t.parentRequest,r):r}(e).reverse().join(" --\x3e ")}(e);throw new Error(S+" "+t)}G(e)}))}function W(e){if(e.name)return e.name;var t=e.toString(),r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}var z=function(){function e(e){this.id=h(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),J=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===x?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),Q=function(e,t){this.parentContext=e,this.rootRequest=t},K=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),Y=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,r=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},r)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),Z=function(){function e(e,t,r,n){this.id=h(),this.type=e,this.serviceIdentifier=r;var i="symbol"==typeof t?t.toString().slice(7,-1):t;this.name=new Y(i||""),this.identifier=t,this.metadata=new Array;var a=null;"string"==typeof n?a=new J(x,n):n instanceof J&&(a=n),null!==a&&this.metadata.push(a)}return e.prototype.hasTag=function(e){for(var t=0,r=this.metadata;t<r.length;t++)if(r[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(_)},e.prototype.matchesArray=function(e){return this.matchesTag(_)(e)},e.prototype.isNamed=function(){return this.hasTag(x)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return U.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(M)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===x}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return U.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(x)(e)},e.prototype.matchesTag=function(e){var t=this;return function(r){for(var n=0,i=t.metadata;n<i.length;n++){var a=i[n];if(a.key===e&&a.value===r)return!0}return!1}},e}(),X=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function ee(e,t,r,n){var i=e.getConstructorMetadata(r),a=i.compilerGeneratedMetadata;if(void 0===a)throw new Error(w+" "+t+".");var o=i.userGeneratedMetadata,s=Object.keys(o),c=0===r.length&&s.length>0,l=s.length>r.length,u=function(e,t,r,n,i){for(var a=[],o=0;o<i;o++){var s=te(o,e,t,r,n);null!==s&&a.push(s)}return a}(n,t,a,o,c||l?s.length:r.length),d=ne(e,r,t);return X(X([],u,!0),d,!0)}function te(e,t,r,n,i){var a=i[e.toString()]||[],o=ae(a),s=!0!==o.unmanaged,c=n[e];if((c=o.inject||o.multiInject||c)instanceof K&&(c=c.unwrap()),s){if(!t&&(c===Object||c===Function||void 0===c))throw new Error(A+" argument "+e+" in class "+r+".");var l=new Z(d.ConstructorArgument,o.targetName,c);return l.metadata=a,l}return null}function re(e,t,r,n){var i=e||t;if(void 0===i){var a=w+" for property "+String(r)+" in class "+n+".";throw new Error(a)}return i}function ne(e,t,r){for(var n=e.getPropertiesMetadata(t),i=[],a=Object.getOwnPropertySymbols(n),o=0,s=Object.keys(n).concat(a);o<s.length;o++){var c=s[o],l=n[c],u=ae(l),p=u.targetName||c,h=re(u.inject,u.multiInject,c,r),f=new Z(d.ClassProperty,p,h);f.metadata=l,i.push(f)}var g=Object.getPrototypeOf(t.prototype).constructor;if(g!==Object){var m=ne(e,g,r);i=X(X([],i,!0),m,!0)}return i}function ie(e,t){var r=Object.getPrototypeOf(t.prototype).constructor;if(r!==Object){var n=ee(e,W(r),r,!0),i=n.map((function(e){return e.metadata.filter((function(e){return e.key===O}))})),a=[].concat.apply([],i).length,o=n.length-a;return o>0?o:ie(e,r)}return 0}function ae(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[N],multiInject:t[_],targetName:t[I],unmanaged:t[O]}}var oe=function(){function e(e,t,r,n,i){this.id=h(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=r,this.target=i,this.childRequests=[],this.bindings=Array.isArray(n)?n:[n],this.requestScope=null===r?new Map:null}return e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);return this.childRequests.push(i),i},e}();function se(e){return e._bindingDictionary}function ce(e,t,r,n,i){var a,o=ue(r.container,i.serviceIdentifier);return o.length===j.NoBindingsAvailable&&r.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=ue(r.container,i.serviceIdentifier)),a=t?o:o.filter((function(e){var t=new oe(e.serviceIdentifier,r,n,e,i);return e.constraint(t)})),function(e,t,r,n){switch(t.length){case j.NoBindingsAvailable:if(r.isOptional())return t;var i=$(e),a=v;throw a+=function(e,t){if(t.isTagged()||t.isNamed()){var r="",n=t.getNamedTag(),i=t.getCustomTags();return null!==n&&(r+=n.toString()+"\n"),null!==i&&i.forEach((function(e){r+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+r}return" "+e}(i,r),a+=q(n,i,ue),new Error(a);case j.OnlyOneBindingAvailable:return t;case j.MultipleBindingsAvailable:default:if(r.isArray())return t;throw i=$(e),a=b+" "+i,a+=q(n,i,ue),new Error(a)}}(i.serviceIdentifier,a,i,r.container),a}function le(e,t,r,n,i,a){var o,s;if(null===i){o=ce(e,t,n,null,a),s=new oe(r,n,null,o,a);var c=new Q(n,s);n.addPlan(c)}else o=ce(e,t,n,i,a),s=i.addChildRequest(a.serviceIdentifier,o,a);o.forEach((function(t){var r=null;if(a.isArray())r=s.addChildRequest(t.serviceIdentifier,t,a);else{if(t.cache)return;r=s}if(t.type===u.Instance&&null!==t.implementationType){var i=function(e,t){return ee(e,W(t),t,!1)}(e,t.implementationType);if(!n.container.options.skipBaseClassChecks){var o=ie(e,t.implementationType);if(i.length<o){var c=T(W(t.implementationType));throw new Error(c)}}i.forEach((function(t){le(e,!1,t.serviceIdentifier,n,r,t)}))}}))}function ue(e,t){var r=[],n=se(e);return n.hasKey(t)?r=n.get(t):null!==e.parent&&(r=ue(e.parent,t)),r}function de(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function pe(e){return!!de(e)||Array.isArray(e)&&e.some(de)}var he,fe=function(e,t){return r=void 0,n=void 0,a=function(){var r,n;return function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return r=i.sent(),e.cache=r,[3,3];case 2:throw n=i.sent(),e.cache=null,e.activated=!1,n;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(o,s)}c((a=a.apply(r,n||[])).next())}));var r,n,i,a};!function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"}(he||(he={}));var ge=function(){return ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ge.apply(this,arguments)},me=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},ye=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},be=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function ve(e){var t,r=new((t=e.constr).bind.apply(t,be([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,n){var i=t.target.identifier,a=e.propertyInjections[n];t.target.isOptional()&&void 0===a||(r[i]=a)})),r}function we(e){return me(this,void 0,void 0,(function(){var t,r,n,i;return ye(this,(function(a){for(t=[],r=0,n=e;r<n.length;r++)i=n[r],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]}))}))}function Ae(e,t){var r=function(e,t){var r,n,i,a;if(Reflect.hasMetadata(D,e)){var o=Reflect.getMetadata(D,e);try{return null===(n=(r=t)[o.value])||void 0===n?void 0:n.call(r)}catch(t){if(t instanceof Error)throw new Error((i=e.name,a=t.message,"@postConstruct error in class "+i+": "+a))}}}(e,t);return de(r)?r.then((function(){return t})):t}var Se=function(e){return function(t){t.parentContext.setCurrentRequest(t);var r=t.bindings,n=t.childRequests,i=t.target&&t.target.isArray(),a=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&a)return n.map((function(t){return Se(e)(t)}));if(!t.target.isOptional()||0!==r.length){var o=r[0];return ke(e,t,o)}}},Ee=function(e,t){var r=function(e){switch(e.type){case u.Factory:return{factory:e.factory,factoryType:he.Factory};case u.Provider:return{factory:e.provider,factoryType:he.Provider};case u.DynamicValue:return{factory:e.dynamicValue,factoryType:he.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}}(e);return function(n,i){try{return r.factory.bind(e)(t)}catch(e){throw F(e)&&(e=new Error((a=r.factoryType,o=t.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+a+"' bindings. Please investigate bindings with service identifier '"+o+"'."))),e}var a,o}()},Te=function(e,t,r){var n,i=t.childRequests;switch(function(e){var t=null;switch(e.type){case u.ConstantValue:case u.Function:t=e.cache;break;case u.Constructor:case u.Instance:t=e.implementationType;break;case u.DynamicValue:t=e.dynamicValue;break;case u.Provider:t=e.provider;break;case u.Factory:t=e.factory}if(null===t){var r=$(e.serviceIdentifier);throw new Error("Invalid binding type: "+r)}}(r),r.type){case u.ConstantValue:case u.Function:n=r.cache;break;case u.Constructor:n=r.implementationType;break;case u.Instance:n=function(e,t,r,n){!function(e,t){e.scope!==c&&function(e,t){var r="Class cannot be instantiated in "+(e.scope===s?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error(R(t.name,r));if(Reflect.hasMetadata(V,t))throw new Error("@preDestroy error in class "+t.name+": "+r)}(e,t)}(e,t);var i=function(e,t,r){var n;if(t.length>0){var i=function(e,t){return e.reduce((function(e,r){var n=t(r);return r.target.type===d.ConstructorArgument?e.constructorInjections.push(n):(e.propertyRequests.push(r),e.propertyInjections.push(n)),e.isAsync||(e.isAsync=pe(n)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,r),a=ge(ge({},i),{constr:e});n=i.isAsync?function(e){return me(this,void 0,void 0,(function(){var t,r;return ye(this,(function(n){switch(n.label){case 0:return[4,we(e.constructorInjections)];case 1:return t=n.sent(),[4,we(e.propertyInjections)];case 2:return r=n.sent(),[2,ve(ge(ge({},e),{constructorInjections:t,propertyInjections:r}))]}}))}))}(a):ve(a)}else n=new e;return n}(t,r,n);return de(i)?i.then((function(e){return Ae(t,e)})):Ae(t,i)}(r,r.implementationType,i,Se(e));break;default:n=Ee(r,t.parentContext)}return n},Re=function(e,t,r){var n=function(e,t){return t.scope===c&&t.activated?t.cache:t.scope===s&&e.has(t.id)?e.get(t.id):null}(e,t);return null!==n||function(e,t,r){t.scope===c&&function(e,t){e.cache=t,e.activated=!0,de(t)&&fe(e,t)}(t,r),t.scope===s&&function(e,t,r){e.has(t.id)||e.set(t.id,r)}(e,t,r)}(e,t,n=r()),n},ke=function(e,t,r){return Re(e,r,(function(){var n=Te(e,t,r);return de(n)?n.then((function(e){return xe(t,r,e)})):xe(t,r,n)}))};function xe(e,t,r){var n,i=Ie(e.parentContext,t,r),a=_e(e.parentContext.container),o=a.next();do{n=o.value;var s=e.parentContext,c=e.serviceIdentifier,l=Ne(n,c);i=de(i)?Me(l,s,i):Oe(l,s,i),o=a.next()}while(!0!==o.done&&!se(n).hasKey(e.serviceIdentifier));return i}var Ie=function(e,t,r){return"function"==typeof t.onActivation?t.onActivation(e,r):r},Oe=function(e,t,r){for(var n=e.next();!n.done;){if(de(r=n.value(t,r)))return Me(e,t,r);n=e.next()}return r},Me=function(e,t,r){return n=void 0,i=void 0,o=function(){var n,i;return function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(a){switch(a.label){case 0:return[4,r];case 1:n=a.sent(),i=e.next(),a.label=2;case 2:return i.done?[3,4]:[4,i.value(t,n)];case 3:return n=a.sent(),i=e.next(),[3,2];case 4:return[2,n]}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}c((o=o.apply(n,i||[])).next())}));var n,i,a,o},Ne=function(e,t){var r=e._activations;return r.hasKey(t)?r.get(t).values():[].values()},_e=function(e){for(var t=[e],r=e.parent;null!==r;)t.push(r),r=r.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},Pe=function(e,t){var r=e.parentRequest;return null!==r&&(!!t(r)||Pe(r,t))},Ce=function(e){return function(t){var r=function(r){return null!==r&&null!==r.target&&r.target.matchesTag(e)(t)};return r.metaData=new J(e,t),r}},Le=Ce(x),De=function(e){return function(t){var r=null;if(null!==t){if(r=t.bindings[0],"string"==typeof e)return r.serviceIdentifier===e;var n=t.bindings[0].implementationType;return e===n}return!1}},Ve=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new Ue(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=Le(e),new Ue(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new Ue(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=Ce(e)(t),new Ue(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return null!==t&&De(e)(t.parentRequest)},new Ue(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Le(e)(t.parentRequest)},new Ue(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(r){return null!==r&&Ce(e)(t)(r.parentRequest)},new Ue(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&Pe(t,De(e))},new Ue(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&!Pe(t,De(e))},new Ue(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Pe(t,Le(e))},new Ue(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&!Pe(t,Le(e))},new Ue(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(r){return null!==r&&Pe(r,Ce(e)(t))},new Ue(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(r){return null!==r&&!Pe(r,Ce(e)(t))},new Ue(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&Pe(t,e)},new Ue(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&!Pe(t,e)},new Ue(this._binding)},e}(),Ue=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new Ve(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new Ve(this._binding)},e}(),Be=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Ve(this._binding),this._bindingOnSyntax=new Ue(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),je=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=s,new Be(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=c,new Be(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=l,new Be(this._binding)},e}(),Fe=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Ve(this._binding),this._bindingOnSyntax=new Ue(this._binding),this._bindingInSyntax=new je(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),$e=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=u.Instance,this._binding.implementationType=e,new Fe(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=u.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=c,new Be(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=u.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Fe(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=u.Constructor,this._binding.implementationType=e,this._binding.scope=c,new Be(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=u.Factory,this._binding.factory=e,this._binding.scope=c,new Be(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(e);return this._binding.type=u.Function,this._binding.scope=c,t},e.prototype.toAutoFactory=function(e){return this._binding.type=u.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=c,new Be(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=u.Factory,this._binding.factory=function(t){return function(r){return t.container.getNamed(e,r)}},new Be(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=u.Provider,this._binding.provider=e,this._binding.scope=c,new Be(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}(),qe=function(){function e(){}return e.of=function(t,r,n,i,a){var o=new e;return o.bindings=t,o.middleware=r,o.deactivations=i,o.activations=n,o.moduleActivationStore=a,o},e}(),He=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(m);if(null==t)throw new Error(m);var r=this._map.get(e);void 0!==r?r.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(m);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(y)},e.prototype.remove=function(e){if(null==e)throw new Error(m);if(!this._map.delete(e))throw new Error(y)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(r,n){var i=e.hasKey(r)?e.get(r):void 0;if(void 0!==i){var a=n.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(r,a)}}))},e.prototype.removeByCondition=function(e){var t=this,r=[];return this._map.forEach((function(n,i){for(var a=[],o=0,s=n;o<s.length;o++){var c=s[o];e(c)?r.push(c):a.push(c)}t._setValue(i,a)})),r},e.prototype.hasKey=function(e){if(null==e)throw new Error(m);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,r){e.forEach((function(e){return t.add(r,"object"==typeof(n=e)&&null!==n&&"clone"in n&&"function"==typeof n.clone?e.clone():e);var n}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,r){e(r,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}(),Ge=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,r){this._getModuleActivationHandlers(e).onDeactivations.add(t,r)},e.prototype.addActivation=function(e,t,r){this._getModuleActivationHandlers(e).onActivations.add(t,r)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,r){t._map.set(r,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new He,onDeactivations:new He}},e}(),We=function(){return We=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},We.apply(this,arguments)},ze=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},Je=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Qe=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=l;else if(t.defaultScope!==c&&t.defaultScope!==l&&t.defaultScope!==s)throw new Error('Invalid Container option. Default scope must be a string ("singleton" or "transient").');if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h(),this._bindingDictionary=new He,this._snapshots=[],this._middleware=null,this._activations=new He,this._deactivations=new He,this.parent=null,this._metadataReader=new B,this._moduleActivationStore=new Ge}return e.merge=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=new e,o=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([t,r],n,!0).map((function(e){return se(e)})),s=se(a);return o.forEach((function(e){var t;t=s,e.traverse((function(e,r){r.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this._getContainerModuleHelpersFactory(),n=0,i=e;n<i.length;n++){var a=i[n],o=r(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ze(this,void 0,void 0,(function(){var t,r,n,i,a;return Je(this,(function(o){switch(o.label){case 0:t=this._getContainerModuleHelpersFactory(),r=0,n=e,o.label=1;case 1:return r<n.length?(i=n[r],a=t(i.id),[4,i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach((function(t){var r=e._removeModuleBindings(t.id);e._deactivateSingletons(r),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ze(this,void 0,void 0,(function(){var t,r,n,i;return Je(this,(function(a){switch(a.label){case 0:t=0,r=e,a.label=1;case 1:return t<r.length?(n=r[t],i=this._removeModuleBindings(n.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(n.id),a.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||l,r=new f(e,t);return this._bindingDictionary.add(e,r),new $e(r)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return ze(this,void 0,void 0,(function(){return Je(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return ze(this,void 0,void 0,(function(){var t;return Je(this,(function(r){switch(r.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,r){e._deactivateSingletons(r)})),this._bindingDictionary=new He},e.prototype.unbindAllAsync=function(){return ze(this,void 0,void 0,(function(){var e,t=this;return Je(this,(function(r){switch(r.label){case 0:return e=[],this._bindingDictionary.traverse((function(r,n){e.push(t._deactivateSingletonsAsync(n))})),[4,Promise.all(e)];case 1:return r.sent(),this._bindingDictionary=new He,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,x,t)},e.prototype.isBoundTagged=function(e,t,r){var n=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),a=function(e,t,r,n){var i=new Z(d.Variable,"",t,new J(r,n)),a=new z(e);return new oe(t,a,null,[],i)}(this,e,t,r);n=i.some((function(e){return e.constraint(a)}))}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,t,r)),n},e.prototype.snapshot=function(){this._snapshots.push(qe.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var r=new e(t||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),r)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return ze(this,void 0,void 0,(function(){var t;return Je(this,(function(r){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,r){var n=this._getNotAllArgs(e,!1,t,r);return this._getButThrowIfAsync(n)},e.prototype.getTaggedAsync=function(e,t,r){return ze(this,void 0,void 0,(function(){var n;return Je(this,(function(i){return n=this._getNotAllArgs(e,!1,t,r),[2,this._get(n)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,x,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,x,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,r){var n=this._getNotAllArgs(e,!0,t,r);return this._getButThrowIfAsync(n)},e.prototype.getAllTaggedAsync=function(e,t,r){var n=this._getNotAllArgs(e,!0,t,r);return this._getAll(n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,x,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,x,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var r=this.get(e);return t||this.unbind(e),r},e.prototype._preDestroy=function(e,t){var r,n;if(Reflect.hasMetadata(V,e))return null===(n=(r=t)[Reflect.getMetadata(V,e).value])||void 0===n?void 0:n.call(r)},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var r=this,n=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(de(i))return this._handleDeactivationError(i.then((function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,n)})),n)}var a=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,n);if(de(a))return this._handleDeactivationError(a,n)}catch(e){if(e instanceof Error)throw new Error(R(n.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return ze(this,void 0,void 0,(function(){var r;return Je(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return n.sent(),[3,3];case 2:if((r=n.sent())instanceof Error)throw new Error(R(t.name,r.message));return[3,3];case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var r=this,n=t.next();n.value;){var i=n.value(e);if(de(i))return i.then((function(){return r._deactivateContainerAsync(e,t)}));n=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return ze(this,void 0,void 0,(function(){var r;return Je(this,(function(n){switch(n.label){case 0:r=t.next(),n.label=1;case 1:return r.value?[4,r.value(e)]:[3,3];case 2:return n.sent(),r=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},r=function(r){return function(n){var i=e.rebind(n);return t(i,r),i}},n=function(t){return function(r,n){e._moduleActivationStore.addActivation(t,r,n),e.onActivation(r,n)}},i=function(t){return function(r,n){e._moduleActivationStore.addDeactivation(t,r,n),e.onDeactivation(r,n)}};return function(a){return{bindFunction:(o=a,function(r){var n=e.bind(r);return t(n,o),n}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:n(a),onDeactivationFunction:i(a),rebindFunction:r(a),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var o}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=We(We({},e),{contextInterceptor:function(e){return e},targetType:d.Variable});if(this._middleware){var r=this._middleware(t);if(null==r)throw new Error("Invalid return type in middleware. Middleware must return!");return r}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(pe(t))throw new Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,r,n){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:r,value:n}},e.prototype._planAndResolve=function(){var e=this;return function(t){var r=function(e,t,r,n,i,a,o,s){void 0===s&&(s=!1);var c=new z(t),l=function(e,t,r,n,i,a){var o=new J(e?_:N,r),s=new Z(t,"",r,o);if(void 0!==i){var c=new J(i,a);s.metadata.push(c)}return s}(r,n,i,0,a,o);try{return le(e,s,i,c,null,l),c}catch(e){throw F(e)&&G(c.plan.rootRequest),e}}(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(e){return Se(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}(r=t.contextInterceptor(r))}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return de(e.cache)?e.cache.then((function(r){return t._deactivate(e,r)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(de(this._deactivateIfSingleton(n)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return ze(this,void 0,void 0,(function(){var t=this;return Je(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return r.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,r){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,r)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,r){return ze(this,void 0,void 0,(function(){return Je(this,(function(n){switch(n.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,r)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+$(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,r){var n=this;if("function"==typeof e.onDeactivation){var i=e.onDeactivation(t);if(de(i))return i.then((function(){return n._preDestroy(r,t)}))}return this._preDestroy(r,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,r){return ze(this,void 0,void 0,(function(){return Je(this,(function(n){switch(n.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:n.sent(),n.label=2;case 2:return[4,this._preDestroy(r,t)];case 3:return n.sent(),[2]}}))}))},e}();function Ke(){return function(e){if(Reflect.hasOwnMetadata(L,e))throw new Error("Cannot apply @injectable decorator multiple times.");var t=Reflect.getMetadata("design:paramtypes",e)||[];return Reflect.defineMetadata(L,t,e),e}}function Ye(e,t,r,n){var i=function(e){var t=[];if(Array.isArray(e)){var r=function(e){for(var t=new Set,r=0,n=e;r<n.length;r++){var i=n[r];if(t.has(i))return i;t.add(i)}}((t=e).map((function(e){return e.key})));if(void 0!==r)throw new Error(g+" "+r.toString())}else t=[e];return t}(n),a={};Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var o=a[r];if(void 0===o)o=[];else for(var s=function(e){if(i.some((function(t){return t.key===e.key})))throw new Error(g+" "+e.key.toString())},c=0,l=o;c<l.length;c++)s(l[c]);o.push.apply(o,i),a[r]=o,Reflect.defineMetadata(e,a,t)}function Ze(e){return function(t,r,n){"number"==typeof n?function(e,t,r,n){!function(e){if(void 0!==e)throw new Error(E)}(t),Ye(P,e,r.toString(),n)}(t,r,n,e):function(e,t,r){if(void 0!==e.prototype)throw new Error(E);Ye(C,e.constructor,t,r)}(t,r,e)}}var Xe,et=(Xe=N,function(e){return function(t,r,n){if(void 0===e){var i="function"==typeof t?t.name:t.constructor.name;throw new Error("@inject called with undefined this could mean that the class "+i+" has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation.")}return Ze(new J(Xe,e))(t,r,n)}});let tt=class{channelDir;constructor(e){this.channelDir=e}animations=[];async get(e){0==this.animations?.length&&(this.animations=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/animations.json`,"utf8")));let t,r=this.animations.filter((t=>t._id==e));return r?.length>0&&(t=r[0]),t&&(t.content=i().readFileSync(`${this.channelDir}/public/backup/export/animations/${t.cid}.html`,"utf8")),t}};var rt,nt;tt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),(rt=0,nt=et("channelDir"),function(e,t){nt(e,t,rt)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],tt);let it=class{channelDir;constructor(e){this.channelDir=e}async get(e){}async getByIds(e){}async put(e){}async list(){let e=i().readFileSync(`${this.channelDir}/public/attributeTotals.json`,"utf8");return JSON.parse(e)}};it=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],it);let at=class{channelDir;constructor(e){this.channelDir=e}async get(e){return JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/authors.json`,"utf8")).filter((t=>t._id==e))[0]}};at=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],at);let ot=class{channelDir;constructor(e){this.channelDir=e}async get(){let e=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/channels.json`,"utf8"))[0];try{const t=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/contract/contract.json`,"utf8"));t?.contractAddress&&(e.contractAddress=t.contractAddress)}catch(e){}return e}};ot=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],ot);let st=class{channelDir;constructor(e){this.channelDir=e}images=[];async get(e){0==this.images?.length&&(this.images=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/images.json`,"utf8")));let t,r=this.images.filter((t=>t._id==e));return r?.length>0&&(t=r[0]),t&&(t.generated?t.svg=i().readFileSync(`${this.channelDir}/public/backup/export/images/${t.cid}.svg`,"utf8"):t.buffer=i().readFileSync(`${this.channelDir}/public/backup/export/images/${t.cid}.jpg`)),t}async list(){return 0==this.images?.length&&(this.images=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/images.json`,"utf8"))),this.images}};st=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],st);let ct=class{channelDir;constructor(e){this.channelDir=e}async get(e){return JSON.parse(i().readFileSync(`${this.channelDir}/public/itemPages/${e}.json`,"utf8"))}};ct=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],ct);let lt=class{channelDir;static CHUNK_SIZE=10;items=[];dbName="items";constructor(e){this.channelDir=e}async getRowItemViewModelsByOwner(e,t){throw new Error("Method not implemented.")}async getRowItemViewModelsByAttribute(e,t,r){throw new Error("Method not implemented.")}async load(){this.items=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/items.json`,"utf8"))}async get(e){let t=this.items.filter((t=>t._id==e));return t?.length,t[0]}async list(e,t){return this.items.slice(e,t)}async getByTokenIds(e){}async getRowItemViewModelsByTokenIds(e){let t=[];for(let r of e){const e=i().readFileSync(`${this.channelDir}/public/t/${r}/rowItemViewModel.json`,"utf8");t.push(JSON.parse(e))}return t}async getRowItemViewModelsByTokenId(e){const t=i().readFileSync(`${this.channelDir}/public/t/${e}/rowItemViewModel.json`,"utf8");return JSON.parse(t)}async getByTokenId(e){let t=this.items.filter((t=>t.tokenId==e));return t?.length,t[0]}async listByTokenId(e,t){return[]}async query(e){return[]}async all(){return this.items}};lt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],lt);let ut=class{channelDir;staticPages=[];constructor(e){this.channelDir=e}async load(){this.staticPages=JSON.parse(i().readFileSync(`${this.channelDir}/public/backup/export/backup/static-pages.json`,"utf8"))}async get(e){let t=this.staticPages.filter((t=>t._id==e));return t?.length,t[0]}async listByLocation(e,t){return this.staticPages.filter((t=>t.locations.includes(e))).slice(t,t+1e3)}};ut=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],ut);var dt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},pt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ht=class{animationRepository;constructor(){}async get(e){return this.animationRepository.get(e)}};dt([et("AnimationRepository"),pt("design:type",Object)],ht.prototype,"animationRepository",void 0),ht=dt([Ke(),pt("design:paramtypes",[])],ht);var ft=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},gt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let mt=class{attributeTotalRepository;constructor(){}async get(e){return this.attributeTotalRepository.get(e)}async put(e){return this.attributeTotalRepository.put(e)}async getByIds(e){return this.attributeTotalRepository.getByIds(e)}async list(){return this.attributeTotalRepository.list()}async buildAttributeTotals(e,t){let r=[],n=new Set(t.map((e=>e.attributeSelections.map((e=>`${e.traitType}:::${e.value}`)))).flat());for(let e of n){let t={_id:e,traitType:e.substring(0,e.indexOf(":::")),value:e.substring(e.indexOf(":::")+3,e.length),count:0,tokenIds:[]};r.push(t)}for(let e of t)for(let t of e.attributeSelections){let n=r.filter((e=>e.traitType==t.traitType&&e.value==t.value))[0];n.tokenIds.push(e.tokenId),n.count++}for(let t of r)t.categoryPercent=new Intl.NumberFormat("default",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.count/e.itemCount);return r.sort(((e,t)=>t.count-e.count)),r}};ft([et("AttributeTotalRepository"),gt("design:type",Object)],mt.prototype,"attributeTotalRepository",void 0),mt=ft([Ke(),gt("design:paramtypes",[])],mt);var yt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let vt=class{authorRepository;walletService;constructor(){}async get(e){return this.authorRepository.get(e)}getDisplayName(e){if(e)return e.name?e.name:this.walletService.truncateEthAddress(e._id)}};yt([et("AuthorRepository"),bt("design:type",Object)],vt.prototype,"authorRepository",void 0),yt([et("WalletService"),bt("design:type",Object)],vt.prototype,"walletService",void 0),vt=yt([Ke(),bt("design:paramtypes",[])],vt);var wt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},At=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let St=class{channelRepository;constructor(){}async get(){return this.channelRepository.get()}};wt([et("ChannelRepository"),At("design:type",Object)],St.prototype,"channelRepository",void 0),St=wt([Ke(),At("design:paramtypes",[])],St);var Et=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Tt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Rt=class{contractStateRepository;constructor(){}async get(e){return this.contractStateRepository.get(e)}async put(e,t){return this.contractStateRepository.put(e,t)}};Et([et("ContractStateRepository"),Tt("design:type",Object)],Rt.prototype,"contractStateRepository",void 0),Rt=Et([Ke(),Tt("design:paramtypes",[])],Rt);var kt=function(){function e(){}return e.prototype.toString=function(e,t,r,n){var i=this;void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===r&&(r=""),void 0===n&&(n=!1);var a=e?"[1m":"",o=e?"[22m":"",s=function(e){return" - property ".concat(a).concat(r).concat(e).concat(o," has failed the following constraints: ").concat(a).concat((n?Object.values:Object.keys)(null!==(t=i.constraints)&&void 0!==t?t:{}).join(", ")).concat(o," \n");var t};if(t){var c=Number.isInteger(+this.property)?"[".concat(this.property,"]"):"".concat(r?".":"").concat(this.property);return this.constraints?s(c):this.children?this.children.map((function(t){return t.toString(e,!0,"".concat(r).concat(c),n)})).join(""):""}return"An instance of ".concat(a).concat(this.target?this.target.constructor.name:"an object").concat(o," has failed the validation:\n")+(this.constraints?s(this.property):"")+(this.children?this.children.map((function(t){return t.toString(e,!0,i.property,n)})).join(""):"")},e}(),xt=function(){function e(){}return e.isValid=function(e){var t=this;return"isValid"!==e&&"getMessage"!==e&&-1!==Object.keys(this).map((function(e){return t[e]})).indexOf(e)},e.CUSTOM_VALIDATION="customValidation",e.NESTED_VALIDATION="nestedValidation",e.PROMISE_VALIDATION="promiseValidation",e.CONDITIONAL_VALIDATION="conditionalValidation",e.WHITELIST="whitelistValidation",e.IS_DEFINED="isDefined",e}(),It=function(){function e(){}return e.replaceMessageSpecialTokens=function(e,t){var r;return e instanceof Function?r=e(t):"string"==typeof e&&(r=e),r&&Array.isArray(t.constraints)&&t.constraints.forEach((function(e,t){r=r.replace(new RegExp("\\$constraint".concat(t+1),"g"),function(e){return Array.isArray(e)?e.join(", "):("symbol"==typeof e&&(e=e.description),"".concat(e))}(e))})),r&&void 0!==t.value&&null!==t.value&&"string"==typeof t.value&&(r=r.replace(/\$value/g,t.value)),r&&(r=r.replace(/\$property/g,t.property)),r&&(r=r.replace(/\$target/g,t.targetName)),r},e}();function Ot(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}var Mt=function(e){this.groups=[],this.each=!1,this.context=void 0,this.type=e.type,this.name=e.name,this.target=e.target,this.propertyName=e.propertyName,this.constraints=null==e?void 0:e.constraints,this.constraintCls=e.constraintCls,this.validationTypeOptions=e.validationTypeOptions,e.validationOptions&&(this.message=e.validationOptions.message,this.groups=e.validationOptions.groups,this.always=e.validationOptions.always,this.each=e.validationOptions.each,this.context=e.validationOptions.context)},Nt=function(){function e(){}return e.prototype.transform=function(e){var t=[];return Object.keys(e.properties).forEach((function(r){e.properties[r].forEach((function(n){var i={message:n.message,groups:n.groups,always:n.always,each:n.each},a={type:n.type,name:n.name,target:e.name,propertyName:r,constraints:n.constraints,validationTypeOptions:n.options,validationOptions:i};t.push(new Mt(a))}))})),t},e}(),_t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},Pt=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Ct=function(){function e(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}return Object.defineProperty(e.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.size},enumerable:!1,configurable:!0}),e.prototype.addValidationSchema=function(e){var t=this;(new Nt).transform(e).forEach((function(e){return t.addValidationMetadata(e)}))},e.prototype.addValidationMetadata=function(e){var t=this.validationMetadatas.get(e.target);t?t.push(e):this.validationMetadatas.set(e.target,[e])},e.prototype.addConstraintMetadata=function(e){var t=this.constraintMetadatas.get(e.target);t?t.push(e):this.constraintMetadatas.set(e.target,[e])},e.prototype.groupByPropertyName=function(e){var t={};return e.forEach((function(e){t[e.propertyName]||(t[e.propertyName]=[]),t[e.propertyName].push(e)})),t},e.prototype.getTargetValidationMetadatas=function(e,t,r,n,i){var a,o,s=function(e){return void 0!==e.always?e.always:(!e.groups||!e.groups.length)&&r},c=function(e){return!(!n||i&&i.length||!e.groups||!e.groups.length)},l=(this.validationMetadatas.get(e)||[]).filter((function(r){return(r.target===e||r.target===t)&&(!!s(r)||!c(r)&&(!(i&&i.length>0)||r.groups&&!!r.groups.find((function(e){return-1!==i.indexOf(e)}))))})),u=[];try{for(var d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.validationMetadatas.entries()),p=d.next();!p.done;p=d.next()){var h=_t(p.value,2),f=h[0],g=h[1];e.prototype instanceof f&&u.push.apply(u,Pt([],_t(g),!1))}}catch(e){a={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}var m=u.filter((function(t){return"string"!=typeof t.target&&t.target!==e&&(!(t.target instanceof Function)||e.prototype instanceof t.target)&&(!!s(t)||!c(t)&&(!(i&&i.length>0)||t.groups&&!!t.groups.find((function(e){return-1!==i.indexOf(e)}))))})).filter((function(e){return!l.find((function(t){return t.propertyName===e.propertyName&&t.type===e.type}))}));return l.concat(m)},e.prototype.getTargetValidatorConstraints=function(e){return this.constraintMetadatas.get(e)||[]},e}();var Lt,Dt,Vt=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},Ut=function(){function e(e,t){this.validator=e,this.validatorOptions=t,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=function(){var e="undefined"!=typeof globalThis?globalThis:void 0!==a.g?a.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0;return e.classValidatorMetadataStorage||(e.classValidatorMetadataStorage=new Ct),e.classValidatorMetadataStorage}()}return e.prototype.execute=function(e,t,r){var n,i,a=this;this.metadataStorage.hasValidationMetaData||!0!==(null===(n=this.validatorOptions)||void 0===n?void 0:n.enableDebugMessages)||console.warn("No validation metadata found. No validation will be  performed. There are multiple possible reasons:\n  - There may be multiple class-validator versions installed. You will need to flatten your dependencies to fix the issue.\n  - This validation runs before any file with validation decorator was parsed by NodeJS.");var o=this.validatorOptions?this.validatorOptions.groups:void 0,s=this.validatorOptions&&this.validatorOptions.strictGroups||!1,c=this.validatorOptions&&this.validatorOptions.always||!1,l=void 0===(null===(i=this.validatorOptions)||void 0===i?void 0:i.forbidUnknownValues)||!1!==this.validatorOptions.forbidUnknownValues,u=this.metadataStorage.getTargetValidationMetadatas(e.constructor,t,c,s,o),d=this.metadataStorage.groupByPropertyName(u);if(this.validatorOptions&&l&&!u.length){var p=new kt;return this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.target&&!0!==this.validatorOptions.validationError.target||(p.target=e),p.value=void 0,p.property=void 0,p.children=[],p.constraints={unknownValue:"an unknown value was passed to the validate function"},void r.push(p)}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(e,d,r),Object.keys(d).forEach((function(t){var n=e[t],i=d[t].filter((function(e){return e.type===xt.IS_DEFINED})),o=d[t].filter((function(e){return e.type!==xt.IS_DEFINED&&e.type!==xt.WHITELIST}));n instanceof Promise&&o.find((function(e){return e.type===xt.PROMISE_VALIDATION}))?a.awaitingPromises.push(n.then((function(n){a.performValidations(e,n,t,i,o,r)}))):a.performValidations(e,n,t,i,o,r)}))},e.prototype.whitelist=function(e,t,r){var n=this,i=[];Object.keys(e).forEach((function(e){t[e]&&0!==t[e].length||i.push(e)})),i.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?i.forEach((function(t){var i,a=n.generateValidationError(e,e[t],t);a.constraints=((i={})[xt.WHITELIST]="property ".concat(t," should not exist"),i),a.children=void 0,r.push(a)})):i.forEach((function(t){return delete e[t]})))},e.prototype.stripEmptyErrors=function(e){var t=this;return e.filter((function(e){if(e.children&&(e.children=t.stripEmptyErrors(e.children)),0===Object.keys(e.constraints).length){if(0===e.children.length)return!1;delete e.constraints}return!0}))},e.prototype.performValidations=function(e,t,r,n,i,a){var o=i.filter((function(e){return e.type===xt.CUSTOM_VALIDATION})),s=i.filter((function(e){return e.type===xt.NESTED_VALIDATION})),c=i.filter((function(e){return e.type===xt.CONDITIONAL_VALIDATION})),l=this.generateValidationError(e,t,r);a.push(l),this.conditionalValidations(e,t,c)&&(this.customValidations(e,t,n,l),this.mapContexts(e,t,n,l),void 0===t&&this.validatorOptions&&!0===this.validatorOptions.skipUndefinedProperties||null===t&&this.validatorOptions&&!0===this.validatorOptions.skipNullProperties||null==t&&this.validatorOptions&&!0===this.validatorOptions.skipMissingProperties||(this.customValidations(e,t,o,l),this.nestedValidations(t,s,l),this.mapContexts(e,t,i,l),this.mapContexts(e,t,o,l)))},e.prototype.generateValidationError=function(e,t,r){var n=new kt;return this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.target&&!0!==this.validatorOptions.validationError.target||(n.target=e),this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.value&&!0!==this.validatorOptions.validationError.value||(n.value=t),n.property=r,n.children=[],n.constraints={},n},e.prototype.conditionalValidations=function(e,t,r){return r.map((function(r){return r.constraints[0](e,t)})).reduce((function(e,t){return e&&t}),!0)},e.prototype.customValidations=function(e,t,r,n){var i=this;r.forEach((function(r){i.metadataStorage.getTargetValidatorConstraints(r.constraintCls).forEach((function(a){if(!(a.async&&i.ignoreAsyncValidations||i.validatorOptions&&i.validatorOptions.stopAtFirstError&&Object.keys(n.constraints||{}).length>0)){var o={targetName:e.constructor?e.constructor.name:void 0,property:r.propertyName,object:e,value:t,constraints:r.constraints};if(r.each&&(Array.isArray(t)||t instanceof Set||t instanceof Map)){var s,c=((s=t)instanceof Map?Array.from(s.values()):Array.isArray(s)?s:Array.from(s)).map((function(e){return a.instance.validate(e,o)}));if(c.some((function(e){return Ot(e)}))){var l=c.map((function(e){return Ot(e)?e:Promise.resolve(e)})),u=Promise.all(l).then((function(o){if(!o.every((function(e){return e}))){var s=Vt(i.createValidationError(e,t,r,a),2),c=s[0],l=s[1];n.constraints[c]=l,r.context&&(n.contexts||(n.contexts={}),n.contexts[c]=Object.assign(n.contexts[c]||{},r.context))}}));i.awaitingPromises.push(u)}else if(!c.every((function(e){return e}))){var d=Vt(i.createValidationError(e,t,r,a),2);g=d[0],m=d[1],n.constraints[g]=m}}else{var p=a.instance.validate(t,o);if(Ot(p)){var h=p.then((function(o){if(!o){var s=Vt(i.createValidationError(e,t,r,a),2),c=s[0],l=s[1];n.constraints[c]=l,r.context&&(n.contexts||(n.contexts={}),n.contexts[c]=Object.assign(n.contexts[c]||{},r.context))}}));i.awaitingPromises.push(h)}else if(!p){var f=Vt(i.createValidationError(e,t,r,a),2),g=f[0],m=f[1];n.constraints[g]=m}}}}))}))},e.prototype.nestedValidations=function(e,t,r){var n=this;void 0!==e&&t.forEach((function(i){if(!(i.type!==xt.NESTED_VALIDATION&&i.type!==xt.PROMISE_VALIDATION||n.validatorOptions&&n.validatorOptions.stopAtFirstError&&Object.keys(r.constraints||{}).length>0))if(Array.isArray(e)||e instanceof Set||e instanceof Map)(e instanceof Set?Array.from(e):e).forEach((function(i,a){n.performValidations(e,i,a.toString(),[],t,r.children)}));else if(e instanceof Object){var a="string"==typeof i.target?i.target:i.target.name;n.execute(e,a,r.children)}else{var o=Vt(n.createValidationError(i.target,e,i),2),s=o[0],c=o[1];r.constraints[s]=c}}))},e.prototype.mapContexts=function(e,t,r,n){var i=this;return r.forEach((function(e){if(e.context){var t=void 0;e.type===xt.CUSTOM_VALIDATION&&(t=i.metadataStorage.getTargetValidatorConstraints(e.constraintCls)[0]);var r=i.getConstraintType(e,t);n.constraints[r]&&(n.contexts||(n.contexts={}),n.contexts[r]=Object.assign(n.contexts[r]||{},e.context))}}))},e.prototype.createValidationError=function(e,t,r,n){var i=e.constructor?e.constructor.name:void 0,a=this.getConstraintType(r,n),o={targetName:i,property:r.propertyName,object:e,value:t,constraints:r.constraints},s=r.message||"";return r.message||this.validatorOptions&&(!this.validatorOptions||this.validatorOptions.dismissDefaultMessages)||n&&n.instance.defaultMessage instanceof Function&&(s=n.instance.defaultMessage(o)),[a,It.replaceMessageSpecialTokens(s,o)]},e.prototype.getConstraintType=function(e,t){return t&&t.name?t.name:e.type},e}(),Bt=function(){function e(){}return e.prototype.validate=function(e,t,r){return this.coreValidate(e,t,r)},e.prototype.validateOrReject=function(e,t,r){return n=this,i=void 0,o=function(){var n;return function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(i){switch(i.label){case 0:return[4,this.coreValidate(e,t,r)];case 1:return(n=i.sent()).length?[2,Promise.reject(n)]:[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}c((o=o.apply(n,i||[])).next())}));var n,i,a,o},e.prototype.validateSync=function(e,t,r){var n="string"==typeof e?t:e,i="string"==typeof e?e:void 0,a=new Ut(this,"string"==typeof e?r:t);a.ignoreAsyncValidations=!0;var o=[];return a.execute(n,i,o),a.stripEmptyErrors(o)},e.prototype.coreValidate=function(e,t,r){var n="string"==typeof e?t:e,i="string"==typeof e?e:void 0,a=new Ut(this,"string"==typeof e?r:t),o=[];return a.execute(n,i,o),Promise.all(a.awaitingPromises).then((function(){return a.stripEmptyErrors(o)}))},e}(),jt=new(function(){function e(){this.instances=[]}return e.prototype.get=function(e){var t=this.instances.find((function(t){return t.type===e}));return t||(t={type:e,object:new e},this.instances.push(t)),t.object},e}());function Ft(e){if(Lt)try{var t=Lt.get(e);if(t)return t;if(!Dt||!Dt.fallback)return t}catch(e){if(!Dt||!Dt.fallbackOnErrors)throw e}return jt.get(e)}function $t(e,t,r){return"string"==typeof e?Ft(Bt).validate(e,t,r):Ft(Bt).validate(e,t)}class qt extends Error{errors;constructor(e){super(),this.errors=e}}var Ht=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Gt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Wt=class{componentStateRepository;constructor(){}async get(e){return this.componentStateRepository.get(e)}async put(e){e.dateCreated||(e.dateCreated=(new Date).toJSON()),e.lastUpdated=(new Date).toJSON();let t=await $t(e,{forbidUnknownValues:!0,whitelist:!0});if(t.length>0)throw new qt(t);return this.componentStateRepository.put(e)}};Ht([et("ComponentStateRepository"),Gt("design:type",Object)],Wt.prototype,"componentStateRepository",void 0),Wt=Ht([Ke(),Gt("design:paramtypes",[])],Wt);var zt=a(8971).ZP,Jt=function(e,t){return function(r,n){t(r,n,e)}};let Qt=class{baseURI;hostname;PouchDB;channelId;dbCache={};constructor(e,t,r,n){this.baseURI=e,this.hostname=t,this.PouchDB=r,this.channelId=n}async getDatabase(e){let t=await this.PouchDB();const r=`./pouch/${this.channelId()}/${e.name}`;if(this.dbCache[r])return this.dbCache[r];this.dbCache[r]=new t(r);const n=await this.dbCache[r].info();if(0==n.doc_count&&0==n.update_seq){if(e.changesets){console.log(`Creating indexes for ${r}`);let t={_id:"_local/changesets",ids:[]};for(let n of e.changesets)await n.changeset(this.dbCache[r]),t.ids.push(n.id),console.log(`New changeset detected...${n.id}`);await this.dbCache[r].put(t)}e.initialRecords&&await this.loadInitialRecords(e,r)}else if(e.changesets){let t;try{t=await this.dbCache[r].get("_local/changesets")}catch(e){}t||(t={_id:"_local/changesets",ids:[]});let n=!1;for(let i of e.changesets)if(!t.ids.includes(i.id)){try{await i.changeset(this.dbCache[r])}catch(e){}t.ids.push(i.id),n=!0,console.log(`New changeset detected...${i.id}`)}n&&(console.log("Saving changeset log...",t),await this.dbCache[r].put(t))}return this.dbCache[r]}async loadInitialRecords(e,t){let r;r=e.initialRecordsPath?await zt(`${this.hostname()}${this.baseURI()}${e.initialRecordsPath}`):await zt(`${this.hostname()}${this.baseURI()}backup/export/backup/${e.name}.json`);let n=await r.json();n?.length>0&&(console.log(`Loading ${n?.length} initial records for ${t}`),await this.dbCache[t].bulkDocs(n))}};Qt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),Jt(0,et("baseURI")),Jt(1,et("hostname")),Jt(2,et("PouchDB")),Jt(3,et("channelId")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Function,Function,Object,Function])],Qt);let Kt=class{constructor(){}async toPNG(e,t){e.generated}};Kt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],Kt);let Yt=class{constructor(){}buildPagingViewModel(e,t,r,n){let i=new Zt;return i.offset=e||0,i.limit=t,i.count=r,i.start=i.offset+1,i.end=Math.min(i.offset+t,r),i.previousOffset=Math.max(i.offset-t,0),i.offset+t<r&&(i.nextOffset=i.offset+t),i.page=i.offset/i.limit+1,i.page>i.endPage&&(i.page=i.endPage),i.endPage=Math.ceil(i.count/i.limit),i.lastOffset=i.endPage*i.limit-i.limit,i.showNext=i.endPage>i.page,i.showPrevious=0!=i.offset,i.showFirst=i.page>2,i.showLast=i.page<i.endPage-1,i}calculateEndIndex(e,t,r){let n=t+e-1;return Math.min(r-1,n)}calculateDescendingEndIndex(e,t){let r=t-(e-1);return Math.max(0,r)}calculateDescendingOffset(e,t){let r=t-1-e;return Math.max(0,r)}};Yt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],Yt);class Zt{page;pageNumbers;endPage;offset;limit;count;start;end;previousOffset;nextOffset;lastOffset;showPrevious;showNext;showFirst;showLast}let Xt=class{app;constructor(e){this.app=e}async queuePromiseView(e){const t=this;let r={id:er.newGuid(),icon:e.icon,title:e.title};return async function(){return new Promise(((e,n)=>{t._beforeSaveAction(r),e()}))}().then((async function(){let n=await e.promise;try{t._showSuccess(n,r)}catch(e){t._showError(e,r)}return n}))}_beforeSaveAction(e){e.toast=this.app.toast.create({text:e.title,closeButton:!0}),e.toast.open()}_showError(e,t){t.toast.close(),console.log(e);let r={text:e.message,closeButton:!0,closeButtonText:"Close",closeTimeout:5e3};this.app.toast.create(r).open()}_showSuccess(e,t){t.toast.close(),this.app.toast.create({text:"Transaction Submitted",closeButton:!0,closeTimeout:5e3}).open()}};Xt=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("framework7")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Xt);class er{static newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}var tr=a(88554),rr=a(99810);let nr=class{constructor(){}async translateContent(e){if(!e?.ops)return"";const t=new tr.bc(e.ops,{});return t.renderCustomWith((function(e,t){if("divider"===e.insert.type)return"<hr />";if("ipfsimage"===e.insert.type){let t=`<img src="${e.insert.value.src}" `;return e.insert.value.width&&(t+=`width="${e.insert.value.width}" `),e.insert.value.height&&(t+=`height="${e.insert.value.height}" `),e.insert.value.style&&(t+=`style="${e.insert.value.style}"`),t+="/>",t}})),t.convert()}async generateMarkdown(e){return(0,rr.deltaToMarkdown)(e)}};nr=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],nr);var ir=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},ar=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let or=class{itemRepository;channelRepository;authorRepository;imageRepository;animationRepository;staticPageRepository;readerSettingsRepository;rowItemViewModelRepository;attributeTotalRepository;componentStateRepository;constructor(){}async load(e){const t=this.getRepositories();for(let r of e){let e=t.filter((e=>e.dbName==r))[0];await(e?.load())}}async reloadAll(){const e=this.getRepositories();for(let t of e)await t.load()}getRepositories(){const e=[];return e.push(this.itemRepository),e.push(this.channelRepository),e.push(this.authorRepository),e.push(this.imageRepository),e.push(this.animationRepository),e.push(this.staticPageRepository),e.push(this.readerSettingsRepository),e.push(this.staticPageRepository),e.push(this.readerSettingsRepository),e.push(this.attributeTotalRepository),e.push(this.componentStateRepository),e.push(this.rowItemViewModelRepository),e}async loadWallet(e){console.log(`Loading wallet: ${e}`)}};function sr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function cr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function lr(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");sr(e.outputLen),sr(e.blockLen)}function ur(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dr(e,t){cr(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}ir([et("ItemRepository"),ar("design:type",Object)],or.prototype,"itemRepository",void 0),ir([et("ChannelRepository"),ar("design:type",Object)],or.prototype,"channelRepository",void 0),ir([et("AuthorRepository"),ar("design:type",Object)],or.prototype,"authorRepository",void 0),ir([et("ImageRepository"),ar("design:type",Object)],or.prototype,"imageRepository",void 0),ir([et("AnimationRepository"),ar("design:type",Object)],or.prototype,"animationRepository",void 0),ir([et("StaticPageRepository"),ar("design:type",Object)],or.prototype,"staticPageRepository",void 0),ir([et("ReaderSettingsRepository"),ar("design:type",Object)],or.prototype,"readerSettingsRepository",void 0),ir([et("RowItemViewModelRepository"),ar("design:type",Object)],or.prototype,"rowItemViewModelRepository",void 0),ir([et("AttributeTotalRepository"),ar("design:type",Object)],or.prototype,"attributeTotalRepository",void 0),ir([et("ComponentStateRepository"),ar("design:type",Object)],or.prototype,"componentStateRepository",void 0),or=ir([Ke(),ar("design:paramtypes",[])],or);const pr=BigInt(2**32-1),hr=BigInt(32);function fr(e,t=!1){return t?{h:Number(e&pr),l:Number(e>>hr&pr)}:{h:0|Number(e>>hr&pr),l:0|Number(e&pr)}}function gr(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:o}=fr(e[i],t);[r[i],n[i]]=[a,o]}return[r,n]}const mr=(e,t,r)=>e<<r|t>>>32-r,yr=(e,t,r)=>t<<r|e>>>32-r,br=(e,t,r)=>t<<r-32|e>>>64-r,vr=(e,t,r)=>e<<r-32|t>>>64-r,wr={fromBig:fr,split:gr,toBig:(e,t)=>BigInt(e>>>0)<<hr|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:mr,rotlSL:yr,rotlBH:br,rotlBL:vr,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},Ar=e=>e instanceof Uint8Array,Sr=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Er=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Tr=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Rr=async()=>{};async function kr(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-n;e>=0&&e<t||(await Rr(),n+=e)}}function xr(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Ar(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Ir{clone(){return this._cloneInto()}}const Or={}.toString;function Mr(e,t){if(void 0!==t&&"[object Object]"!==Or.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Nr(e){const t=t=>e().update(xr(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const[_r,Pr,Cr]=[[],[],[]],Lr=BigInt(0),Dr=BigInt(1),Vr=BigInt(2),Ur=BigInt(7),Br=BigInt(256),jr=BigInt(113);for(let e=0,t=Dr,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],_r.push(2*(5*n+r)),Pr.push((e+1)*(e+2)/2%64);let i=Lr;for(let e=0;e<7;e++)t=(t<<Dr^(t>>Ur)*jr)%Br,t&Vr&&(i^=Dr<<(Dr<<BigInt(e))-Dr);Cr.push(i)}const[Fr,$r]=gr(Cr,!0),qr=(e,t,r)=>r>32?br(e,t,r):mr(e,t,r),Hr=(e,t,r)=>r>32?vr(e,t,r):yr(e,t,r);class Gr extends Ir{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sr(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Sr(this.state)}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,a=r[i],o=r[i+1],s=qr(a,o,1)^r[n],c=Hr(a,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Pr[r],a=qr(t,i,n),o=Hr(t,i,n),s=_r[r];t=e[s],i=e[s+1],e[s]=a,e[s+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=Fr[n],e[1]^=$r[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ur(this);const{blockLen:t,state:r}=this,n=(e=xr(e)).length;for(let i=0;i<n;){const a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){ur(this,!1),cr(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dr(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new Gr(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Wr=((e,t,r)=>Nr((()=>new Gr(t,e,r))))(1,136,32),zr="6.9.0";function Jr(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}async function Qr(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,n)=>(e[t[n]]=r,e)),{})}function Kr(e,t,r){for(let n in t){let i=t[n];const a=r?r[n]:null;a&&Jr(i,a,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Yr(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Yr).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return Yr(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Yr(t)}: ${Yr(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Zr(e,t){return e&&e.code===t}function Xr(e){return Zr(e,"CALL_EXCEPTION")}function en(e,t,r){let n,i=e;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Yr(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];n.push(e+"="+Yr(t))}}n.push(`code=${t}`),n.push(`version=${zr}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(e);break;default:n=new Error(e)}return Kr(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&Kr(n,{shortMessage:i}),n}function tn(e,t,r,n){if(!e)throw en(t,r,n)}function rn(e,t,r,n){tn(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function nn(e,t,r){null==r&&(r=""),r&&(r=": "+r),tn(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),tn(e<=t,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const an=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function on(e){tn(an.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function sn(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),tn(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function cn(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}rn(!1,"invalid BytesLike value",t||"value",e)}function ln(e,t){return cn(e,t,!1)}function un(e,t){return cn(e,t,!0)}function dn(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}function pn(e){return dn(e,!0)||e instanceof Uint8Array}const hn="0123456789abcdef";function fn(e){const t=ln(e);let r="0x";for(let e=0;e<t.length;e++){const n=t[e];r+=hn[(240&n)>>4]+hn[15&n]}return r}function gn(e){return"0x"+e.map((e=>fn(e).substring(2))).join("")}function mn(e){return dn(e,!0)?(e.length-2)/2:ln(e).length}function yn(e,t,r){const n=ln(e);return null!=r&&r>n.length&&tn(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),fn(n.slice(null==t?0:t,null==r?n.length:r))}function bn(e){let t=fn(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function vn(e,t,r){const n=ln(e);tn(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),fn(i)}function wn(e,t){return vn(e,t,!0)}function An(e,t){return vn(e,t,!1)}let Sn=!1;const En=function(e){return Wr(e)};let Tn=En;function Rn(e){const t=ln(e,"data");return fn(Tn(t))}Rn._=En,Rn.lock=function(){Sn=!0},Rn.register=function(e){if(Sn)throw new TypeError("keccak256 is locked");Tn=e},Object.freeze(Rn);const kn=BigInt(0),xn=BigInt(36);function In(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=ln(Rn(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const On={};for(let e=0;e<10;e++)On[String(e)]=String(e);for(let e=0;e<26;e++)On[String.fromCharCode(65+e)]=String(10+e);const Mn=15;function Nn(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>On[e])).join("");for(;t.length>=Mn;){let e=t.substring(0,Mn);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const _n=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function Pn(e){if(rn("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=In(e);return rn(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){rn(e.substring(2,4)===Nn(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=kn;for(let r=0;r<e.length;r++)t=t*xn+_n[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return In("0x"+t)}rn(!1,"invalid address","address",e)}function Cn(e){let t=BigInt(Pn(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+Nn("XE00"+t)+t}var Ln=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Dn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Vn,Column:Un,Model:Bn,HasMany:jn,CreatedAt:Fn,UpdatedAt:$n,DataType:qn,PrimaryKey:Hn}=a(10326);let Gn=class extends Bn{};Ln([Hn,Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"_id",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"_rev",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"hash",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"parentHash",void 0),Ln([Un(qn.BIGINT),Dn("design:type",Number)],Gn.prototype,"number",void 0),Ln([Un(qn.DECIMAL),Dn("design:type",Number)],Gn.prototype,"ethUSDPrice",void 0),Ln([Un(qn.BIGINT),Dn("design:type",Number)],Gn.prototype,"timestamp",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"nonce",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"difficulty",void 0),Ln([Un(qn.JSON),Dn("design:type",Object)],Gn.prototype,"gasLimit",void 0),Ln([Un(qn.JSON),Dn("design:type",Object)],Gn.prototype,"gasUsed",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"miner",void 0),Ln([Un(qn.STRING),Dn("design:type",String)],Gn.prototype,"extraData",void 0),Ln([Un(qn.JSON),Dn("design:type",Object)],Gn.prototype,"baseFeePerGas",void 0),Ln([Un(qn.DATE),Dn("design:type",Date)],Gn.prototype,"lastUpdated",void 0),Ln([Un(qn.DATE),Dn("design:type",Date)],Gn.prototype,"dateCreated",void 0),Gn=Ln([Vn({tableName:"block",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],Gn);const Wn=JSON.parse('[{"inputs":[{"internalType":"address","name":"_aggregator","type":"address"},{"internalType":"address","name":"_accessController","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"int256","name":"current","type":"int256"},{"indexed":true,"internalType":"uint256","name":"roundId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"updatedAt","type":"uint256"}],"name":"AnswerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"roundId","type":"uint256"},{"indexed":true,"internalType":"address","name":"startedBy","type":"address"},{"indexed":false,"internalType":"uint256","name":"startedAt","type":"uint256"}],"name":"NewRound","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"OwnershipTransferRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"accessController","outputs":[{"internalType":"contract AccessControllerInterface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"aggregator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_aggregator","type":"address"}],"name":"confirmAggregator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"description","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_roundId","type":"uint256"}],"name":"getAnswer","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint80","name":"_roundId","type":"uint80"}],"name":"getRoundData","outputs":[{"internalType":"uint80","name":"roundId","type":"uint80"},{"internalType":"int256","name":"answer","type":"int256"},{"internalType":"uint256","name":"startedAt","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint80","name":"answeredInRound","type":"uint80"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_roundId","type":"uint256"}],"name":"getTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"latestAnswer","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"latestRound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"latestRoundData","outputs":[{"internalType":"uint80","name":"roundId","type":"uint80"},{"internalType":"int256","name":"answer","type":"int256"},{"internalType":"uint256","name":"startedAt","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint80","name":"answeredInRound","type":"uint80"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"latestTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"","type":"uint16"}],"name":"phaseAggregators","outputs":[{"internalType":"contract AggregatorV2V3Interface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"phaseId","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_aggregator","type":"address"}],"name":"proposeAggregator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"proposedAggregator","outputs":[{"internalType":"contract AggregatorV2V3Interface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint80","name":"_roundId","type":"uint80"}],"name":"proposedGetRoundData","outputs":[{"internalType":"uint80","name":"roundId","type":"uint80"},{"internalType":"int256","name":"answer","type":"int256"},{"internalType":"uint256","name":"startedAt","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint80","name":"answeredInRound","type":"uint80"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proposedLatestRoundData","outputs":[{"internalType":"uint80","name":"roundId","type":"uint80"},{"internalType":"int256","name":"answer","type":"int256"},{"internalType":"uint256","name":"startedAt","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint80","name":"answeredInRound","type":"uint80"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_accessController","type":"address"}],"name":"setController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),zn={};function Jn(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new Yn(zn,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function Qn(e,t){return new Yn(zn,`bytes${t||""}`,e,{size:t})}const Kn=Symbol.for("_ethers_typed");class Yn{type;value;#s;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),sn(zn,e,"Typed"),Kr(this,{_typedSymbol:Kn,type:t,value:r}),this.#s=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#s}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#s?-1:!1===this.#s?this.value.length:null}static from(e,t){return new Yn(zn,e,t)}static uint8(e){return Jn(e,8)}static uint16(e){return Jn(e,16)}static uint24(e){return Jn(e,24)}static uint32(e){return Jn(e,32)}static uint40(e){return Jn(e,40)}static uint48(e){return Jn(e,48)}static uint56(e){return Jn(e,56)}static uint64(e){return Jn(e,64)}static uint72(e){return Jn(e,72)}static uint80(e){return Jn(e,80)}static uint88(e){return Jn(e,88)}static uint96(e){return Jn(e,96)}static uint104(e){return Jn(e,104)}static uint112(e){return Jn(e,112)}static uint120(e){return Jn(e,120)}static uint128(e){return Jn(e,128)}static uint136(e){return Jn(e,136)}static uint144(e){return Jn(e,144)}static uint152(e){return Jn(e,152)}static uint160(e){return Jn(e,160)}static uint168(e){return Jn(e,168)}static uint176(e){return Jn(e,176)}static uint184(e){return Jn(e,184)}static uint192(e){return Jn(e,192)}static uint200(e){return Jn(e,200)}static uint208(e){return Jn(e,208)}static uint216(e){return Jn(e,216)}static uint224(e){return Jn(e,224)}static uint232(e){return Jn(e,232)}static uint240(e){return Jn(e,240)}static uint248(e){return Jn(e,248)}static uint256(e){return Jn(e,256)}static uint(e){return Jn(e,256)}static int8(e){return Jn(e,-8)}static int16(e){return Jn(e,-16)}static int24(e){return Jn(e,-24)}static int32(e){return Jn(e,-32)}static int40(e){return Jn(e,-40)}static int48(e){return Jn(e,-48)}static int56(e){return Jn(e,-56)}static int64(e){return Jn(e,-64)}static int72(e){return Jn(e,-72)}static int80(e){return Jn(e,-80)}static int88(e){return Jn(e,-88)}static int96(e){return Jn(e,-96)}static int104(e){return Jn(e,-104)}static int112(e){return Jn(e,-112)}static int120(e){return Jn(e,-120)}static int128(e){return Jn(e,-128)}static int136(e){return Jn(e,-136)}static int144(e){return Jn(e,-144)}static int152(e){return Jn(e,-152)}static int160(e){return Jn(e,-160)}static int168(e){return Jn(e,-168)}static int176(e){return Jn(e,-176)}static int184(e){return Jn(e,-184)}static int192(e){return Jn(e,-192)}static int200(e){return Jn(e,-200)}static int208(e){return Jn(e,-208)}static int216(e){return Jn(e,-216)}static int224(e){return Jn(e,-224)}static int232(e){return Jn(e,-232)}static int240(e){return Jn(e,-240)}static int248(e){return Jn(e,-248)}static int256(e){return Jn(e,-256)}static int(e){return Jn(e,-256)}static bytes1(e){return Qn(e,1)}static bytes2(e){return Qn(e,2)}static bytes3(e){return Qn(e,3)}static bytes4(e){return Qn(e,4)}static bytes5(e){return Qn(e,5)}static bytes6(e){return Qn(e,6)}static bytes7(e){return Qn(e,7)}static bytes8(e){return Qn(e,8)}static bytes9(e){return Qn(e,9)}static bytes10(e){return Qn(e,10)}static bytes11(e){return Qn(e,11)}static bytes12(e){return Qn(e,12)}static bytes13(e){return Qn(e,13)}static bytes14(e){return Qn(e,14)}static bytes15(e){return Qn(e,15)}static bytes16(e){return Qn(e,16)}static bytes17(e){return Qn(e,17)}static bytes18(e){return Qn(e,18)}static bytes19(e){return Qn(e,19)}static bytes20(e){return Qn(e,20)}static bytes21(e){return Qn(e,21)}static bytes22(e){return Qn(e,22)}static bytes23(e){return Qn(e,23)}static bytes24(e){return Qn(e,24)}static bytes25(e){return Qn(e,25)}static bytes26(e){return Qn(e,26)}static bytes27(e){return Qn(e,27)}static bytes28(e){return Qn(e,28)}static bytes29(e){return Qn(e,29)}static bytes30(e){return Qn(e,30)}static bytes31(e){return Qn(e,31)}static bytes32(e){return Qn(e,32)}static address(e){return new Yn(zn,"address",e)}static bool(e){return new Yn(zn,"bool",!!e)}static bytes(e){return new Yn(zn,"bytes",e)}static string(e){return new Yn(zn,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Yn(zn,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===Kn}static dereference(e,t){if(Yn.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}function Zn(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}const Xn=Object.freeze({error:function(e,t,r,n,i){rn(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Zn,replace:function(e,t,r,n,i){return"OVERLONG"===e?(rn("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Zn(e,t,r))}});function ei(e,t){null==t&&(t=Xn.error);const r=ln(e,"bytes"),n=[];let i=0;for(;i<r.length;){const e=r[i++];if(e>>7==0){n.push(e);continue}let a=null,o=null;if(192==(224&e))a=1,o=127;else if(224==(240&e))a=2,o=2047;else{if(240!=(248&e)){i+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,r,n);continue}a=3,o=65535}if(i-1+a>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let s=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=r[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,r,n),s=null;break}s=s<<6|63&e,i++}null!==s&&(s>1114111?i+=t("OUT_OF_RANGE",i-1-a,r,n,s):s>=55296&&s<=57343?i+=t("UTF16_SURROGATE",i-1-a,r,n,s):s<=o?i+=t("OVERLONG",i-1-a,r,n,s):n.push(s))}return n}function ti(e,t){null!=t&&(on(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);rn(t<e.length&&56320==(64512&i),"invalid surrogate pair","str",e);const a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function ri(e,t){return ei(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function ni(e,t){return ei(ti(e,t))}function ii(e){return Rn(ti(e))}const ai=BigInt(0),oi=BigInt(1),si=9007199254740991;function ci(e,t){const r=pi(e,"value"),n=BigInt(gi(t,"width"));return tn(r>>n===ai,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-oi?-((~r&(oi<<n)-oi)+oi):r}function li(e,t){let r=di(e,"value");const n=BigInt(gi(t,"width")),i=oi<<n-oi;return r<ai?(r=-r,tn(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(oi<<n)-oi)+oi):(tn(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function ui(e,t){const r=pi(e,"value"),n=BigInt(gi(t,"bits"));return r&(oi<<n)-oi}function di(e,t){switch(typeof e){case"bigint":return e;case"number":return rn(Number.isInteger(e),"underflow",t||"value",e),rn(e>=-si&&e<=si,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){rn(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}rn(!1,"invalid BigNumberish value",t||"value",e)}function pi(e,t){const r=di(e,t);return tn(r>=ai,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const hi="0123456789abcdef";function fi(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=hi[r>>4],t+=hi[15&r];return BigInt(t)}return di(e)}function gi(e,t){switch(typeof e){case"bigint":return rn(e>=-si&&e<=si,"overflow",t||"value",e),Number(e);case"number":return rn(Number.isInteger(e),"underflow",t||"value",e),rn(e>=-si&&e<=si,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return gi(BigInt(e),t)}catch(r){rn(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}rn(!1,"invalid numeric value",t||"value",e)}function mi(e){return gi(fi(e))}function yi(e,t){let r=pi(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const n=gi(t,"width");for(tn(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function bi(e){const t=pi(e,"value");if(t===ai)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}function vi(e){let t=fn(pn(e)?e:bi(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const wi=32,Ai=new Uint8Array(wi),Si=["then"],Ei={};function Ti(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class Ri extends Array{#c;constructor(...e){const t=e[0];let r=e[1],n=(e[2]||[]).slice(),i=!0;t!==Ei&&(r=e,n=[],i=!1),super(r.length),r.forEach(((e,t)=>{this[t]=e}));const a=n.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#c=Object.freeze(r.map(((e,t)=>{const r=n[t];return null!=r&&1===a.get(r)?r:null}))),i)return Object.freeze(this),new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const r=gi(t,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=e[r];return n instanceof Error&&Ti(`index ${r}`,n),n}if(Si.indexOf(t)>=0)return Reflect.get(e,t,r);const n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}})}toArray(){const e=[];return this.forEach(((t,r)=>{t instanceof Error&&Ti(`index ${r}`,t),e.push(t)})),e}toObject(){return this.#c.reduce(((e,t,r)=>(tn(null!=t,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=[],n=[];for(let i=e;i<t;i++)r.push(this[i]),n.push(this.#c[i]);return new Ri(Ei,r,n)}filter(e,t){const r=[],n=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Ti(`index ${i}`,a),e.call(t,a,i,this)&&(r.push(a),n.push(this.#c[i]))}return new Ri(Ei,r,n)}map(e,t){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&Ti(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){const t=this.#c.indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&Ti(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new Ri(Ei,e,t)}}function ki(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const a=e.slice();a.push(i);try{r(a,n[i])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}function xi(e){let t=bi(e);return tn(t.length<=wi,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:wi,offset:t.length}),t.length!==wi&&(t=un(gn([Ai.slice(t.length%wi),t]))),t}class Ii{name;type;localName;dynamic;constructor(e,t,r,n){Kr(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){rn(!1,e,this.localName,t)}}class Oi{#l;#u;constructor(){this.#l=[],this.#u=0}get data(){return gn(this.#l)}get length(){return this.#u}#d(e){return this.#l.push(e),this.#u+=e.length,e.length}appendWriter(e){return this.#d(un(e.data))}writeBytes(e){let t=un(e);const r=t.length%wi;return r&&(t=un(gn([t,Ai.slice(r)]))),this.#d(t)}writeValue(e){return this.#d(xi(e))}writeUpdatableValue(){const e=this.#l.length;return this.#l.push(Ai),this.#u+=wi,t=>{this.#l[e]=xi(t)}}}class Mi{allowLoose;#l;#p;constructor(e,t){Kr(this,{allowLoose:!!t}),this.#l=un(e),this.#p=0}get data(){return fn(this.#l)}get dataLength(){return this.#l.length}get consumed(){return this.#p}get bytes(){return new Uint8Array(this.#l)}#h(e,t,r){let n=Math.ceil(t/wi)*wi;return this.#p+n>this.#l.length&&(this.allowLoose&&r&&this.#p+t<=this.#l.length?n=t:tn(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:un(this.#l),length:this.#l.length,offset:this.#p+n})),this.#l.slice(this.#p,this.#p+n)}subReader(e){return new Mi(this.#l.slice(this.#p+e),this.allowLoose)}readBytes(e,t){let r=this.#h(0,e,!!t);return this.#p+=r.length,r.slice(0,e)}readValue(){return fi(this.readBytes(wi))}readIndex(){return mi(this.readBytes(wi))}}class Ni extends Ii{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Yn.dereference(t,"string");try{r=Pn(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return Pn(yi(e.readValue(),20))}}class _i extends Ii{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Pi(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return tn(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),tn(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]}))}else rn(!1,"invalid tuple value","tuple",r);rn(t.length===n.length,"types/value length mismatch","tuple",r);let i=new Oi,a=new Oi,o=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=a.length;e.encode(a,r);let n=i.writeUpdatableValue();o.push((e=>{n(e+t)}))}else e.encode(i,r)})),o.forEach((e=>{e(i.length)}));let s=e.appendWriter(i);return s+=e.appendWriter(a),s}function Ci(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach((t=>{let a=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{a=t.decode(n)}catch(e){if(Zr(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(Zr(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}if(null==a)throw new Error("investigate");r.push(a),n.push(t.localName||null)})),Ri.fromItems(r,n)}class Li extends Ii{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),Kr(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=Yn.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),nn(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return Pi(e,i,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),tn(t*wi<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*wi,length:e.dataLength}));let r=[];for(let e=0;e<t;e++)r.push(new _i(this.coder));return Ci(e,r)}}class Di extends Ii{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Yn.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Vi extends Ii{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=un(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Ui extends Vi{constructor(e){super("bytes",e)}decode(e){return fn(super.decode(e))}}class Bi extends Ii{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),Kr(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=un(Yn.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return fn(e.readBytes(this.size))}}const ji=new Uint8Array([]);class Fi extends Ii{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(ji)}decode(e){return e.readBytes(0),null}}const $i=BigInt(0),qi=BigInt(1),Hi=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Gi extends Ii{size;signed;constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),Kr(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=di(Yn.dereference(t,this.type)),n=ui(Hi,256);if(this.signed){let e=ui(n,8*this.size-1);(r>e||r<-(e+qi))&&this._throwError("value out-of-bounds",t),r=li(r,256)}else(r<$i||r>ui(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=ui(e.readValue(),8*this.size);return this.signed&&(t=ci(t,8*this.size)),t}}class Wi extends Vi{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ti(Yn.dereference(t,"string")))}decode(e){return ri(super.decode(e))}}class zi extends Ii{coders;constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)})),super("tuple","tuple("+n.join(",")+")",t,r),Kr(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){const r=Yn.dereference(t,"tuple");return Pi(e,this.coders,r)}decode(e){return Ci(e,this.coders)}}function Ji(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Qi=Ji("external public payable".split(" ")),Ki="constant external internal payable private public pure view",Yi=Ji(Ki.split(" ")),Zi="constructor error event fallback function receive struct",Xi=Ji(Zi.split(" ")),ea="calldata memory storage payable indexed",ta=Ji(ea.split(" ")),ra=Ji([Zi,ea,"tuple returns",Ki].join(" ").split(" ")),na={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},ia=new RegExp("^(\\s*)"),aa=new RegExp("^([0-9]+)"),oa=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),sa=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ca=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class la{#p;#f;get offset(){return this.#p}get length(){return this.#f.length-this.#p}constructor(e){this.#p=0,this.#f=e.slice()}clone(){return new la(this.#f)}reset(){this.#p=0}#g(e=0,t=0){return new la(this.#f.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#g(this.#p+1,e.match+1);return this.#p=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#p<e.match-1;){const e=this.peek().linkNext;t.push(this.#g(this.#p+1,e)),this.#p=e}return this.#p=e.match+1,t}peek(){if(this.#p>=this.#f.length)throw new Error("out-of-bounds");return this.#f[this.#p]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#p++,e}toString(){const e=[];for(let t=this.#p;t<this.#f.length;t++){const r=this.#f[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function ua(e){const t=[],r=t=>{const r=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error(`invalid token ${r} at ${a}: ${t}`)};let n=[],i=[],a=0;for(;a<e.length;){let o=e.substring(a),s=o.match(ia);s&&(a+=s[1].length,o=e.substring(a));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(c);let l=na[o[0]]||"";if(l){if(c.type=l,c.text=o[0],a++,"OPEN_PAREN"===l)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===n.length&&r("no matching open bracket"),c.match=n.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const r=t.pop().text;e=r+e,t[t.length-1].value=gi(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(s=o.match(oa),s){if(c.text=s[1],a+=c.text.length,ra.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ca)){c.type="TYPE";continue}c.type="ID"}else{if(s=o.match(aa),!s)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`);c.text=s[1],c.type="NUMBER",a+=c.text.length}}return new la(t.map((e=>Object.freeze(e))))}function da(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function pa(e,t){if(t.peekKeyword(Xi)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function ha(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function fa(e){let t=ha(e,Yi);return da(t,Ji("constant payable nonpayable".split(" "))),da(t,Ji("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function ga(e,t){return e.popParams().map((e=>Oa.from(e,t)))}function ma(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return di(e.pop().text);throw new Error("invalid gas")}return null}function ya(e){if(e.length)throw new Error(`unexpected tokens: ${e.toString()}`)}const ba=new RegExp(/^(.*)\[([0-9]*)\]$/);function va(e){const t=e.match(ca);if(rn(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const r=parseInt(t[2]);rn(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);rn(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}const wa={},Aa=Symbol.for("_ethers_internal"),Sa="_ParamTypeInternal",Ea="_ErrorInternal",Ta="_EventInternal",Ra="_ConstructorInternal",ka="_FallbackInternal",xa="_FunctionInternal",Ia="_StructInternal";class Oa{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,a,o,s){if(sn(e,wa,"ParamType"),Object.defineProperty(this,Aa,{value:Sa}),a&&(a=Object.freeze(a.slice())),"array"===n){if(null==o||null==s)throw new Error("")}else if(null!=o||null!=s)throw new Error("");if("tuple"===n){if(null==a)throw new Error("")}else if(null!=a)throw new Error("");Kr(this,{name:t,type:r,baseType:n,indexed:i,components:a,arrayLength:o,arrayChildren:s})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,n)=>r.components[n].walk(e,t)))}return t(this.type,e)}#m(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,a=t.slice();return a.forEach(((t,n)=>{i.#m(e,t,r,(e=>{a[n]=e}))})),void n(a)}if(this.isTuple()){const i=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");a=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(a.length!==this.components.length)throw new Error("array is wrong length");return a.forEach(((t,n)=>{i[n].#m(e,t,r,(e=>{a[n]=e}))})),void n(a)}const i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){const r=[],n=[e];return this.#m(r,e,t,(e=>{n[0]=e})),r.length&&await Promise.all(r),n[0]}static from(e,t){if(Oa.isParamType(e))return e;if("string"==typeof e)try{return Oa.from(ua(e),t)}catch(t){rn(!1,"invalid param type","obj",e)}else if(e instanceof la){let r="",n="",i=null;ha(e,Ji(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map((e=>Oa.from(e))),r=`tuple(${i.map((e=>e.format())).join(",")})`):(r=va(e.popType("TYPE")),n=r);let a=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();a=new Oa(wa,"",r,n,null,i,o,a),o=t.value,r+=t.text,n="array",i=null}let s=null;if(ha(e,ta).has("indexed")){if(!t)throw new Error("");s=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Oa(wa,c,r,n,s,i,o,a)}const r=e.name;rn(!r||"string"==typeof r&&r.match(sa),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(rn(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,a=i.match(ba);if(a){const t=parseInt(a[2]||"-1"),o=Oa.from({type:a[1],components:e.components});return new Oa(wa,r||"",i,"array",n,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>Oa.from(e))):null;return new Oa(wa,r||"",i,"tuple",n,t,null,null)}return i=va(e.type),new Oa(wa,r||"",i,i,n,null,null,null)}static isParamType(e){return e&&e[Aa]===Sa}}class Ma{type;inputs;constructor(e,t,r){sn(e,wa,"Fragment"),Kr(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{Ma.from(JSON.parse(e))}catch(e){}return Ma.from(ua(e))}if(e instanceof la)switch(e.peekKeyword(Xi)){case"constructor":return La.from(e);case"error":return Pa.from(e);case"event":return Ca.from(e);case"fallback":case"receive":return Da.from(e);case"function":return Va.from(e);case"struct":return Ua.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return La.from(e);case"error":return Pa.from(e);case"event":return Ca.from(e);case"fallback":case"receive":return Da.from(e);case"function":return Va.from(e);case"struct":return Ua.from(e)}tn(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}rn(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return La.isFragment(e)}static isError(e){return Pa.isFragment(e)}static isEvent(e){return Ca.isFragment(e)}static isFunction(e){return Va.isFragment(e)}static isStruct(e){return Ua.isFragment(e)}}class Na extends Ma{name;constructor(e,t,r,n){super(e,t,n),rn("string"==typeof r&&r.match(sa),"invalid identifier","name",r),n=Object.freeze(n.slice()),Kr(this,{name:r})}}function _a(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Pa extends Na{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Aa,{value:Ea})}get selector(){return ii(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+_a(e,this.inputs)),t.join(" ")}static from(e){if(Pa.isFragment(e))return e;if("string"==typeof e)return Pa.from(ua(e));if(e instanceof la){const t=pa("error",e),r=ga(e);return ya(e),new Pa(wa,t,r)}return new Pa(wa,e.name,e.inputs?e.inputs.map(Oa.from):[])}static isFragment(e){return e&&e[Aa]===Ea}}class Ca extends Na{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,Aa,{value:Ta}),Kr(this,{anonymous:n})}get topicHash(){return ii(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+_a(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>Oa.from(e))),new Ca(wa,e,t,!1).topicHash}static from(e){if(Ca.isFragment(e))return e;if("string"==typeof e)try{return Ca.from(ua(e))}catch(t){rn(!1,"invalid event fragment","obj",e)}else if(e instanceof la){const t=pa("event",e),r=ga(e,!0),n=!!ha(e,Ji(["anonymous"])).has("anonymous");return ya(e),new Ca(wa,t,r,n)}return new Ca(wa,e.name,e.inputs?e.inputs.map((e=>Oa.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[Aa]===Ta}}class La extends Ma{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,Aa,{value:Ra}),Kr(this,{payable:n,gas:i})}format(e){if(tn(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${_a(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(La.isFragment(e))return e;if("string"==typeof e)try{return La.from(ua(e))}catch(t){rn(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof la){ha(e,Ji(["constructor"]));const t=ga(e),r=!!ha(e,Qi).has("payable"),n=ma(e);return ya(e),new La(wa,"constructor",t,r,n)}return new La(wa,"constructor",e.inputs?e.inputs.map(Oa.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Aa]===Ra}}class Da extends Ma{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,Aa,{value:ka}),Kr(this,{payable:r})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Da.isFragment(e))return e;if("string"==typeof e)try{return Da.from(ua(e))}catch(t){rn(!1,"invalid fallback fragment","obj",e)}else if(e instanceof la){const t=e.toString();if(rn(e.peekKeyword(Ji(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(Ji(["fallback","receive"]))){const t=ga(e);return rn(0===t.length,"receive cannot have arguments","obj.inputs",t),ha(e,Ji(["payable"])),ya(e),new Da(wa,[],!0)}let r=ga(e);r.length?rn(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((e=>e.format("minimal"))).join(", ")):r=[Oa.from("bytes")];const n=fa(e);if(rn("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),ha(e,Ji(["returns"])).has("returns")){const t=ga(e);rn(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return ya(e),new Da(wa,r,"payable"===n)}if("receive"===e.type)return new Da(wa,[],!0);if("fallback"===e.type){const t=[Oa.from("bytes")],r="payable"===e.stateMutability;return new Da(wa,t,r)}rn(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Aa]===ka}}class Va extends Na{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,a){super(e,"function",t,n),Object.defineProperty(this,Aa,{value:xa}),Kr(this,{constant:"view"===r||"pure"===r,gas:a,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return ii(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+_a(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(_a(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>Oa.from(e))),new Va(wa,e,"view",t,[],null).selector}static from(e){if(Va.isFragment(e))return e;if("string"==typeof e)try{return Va.from(ua(e))}catch(t){rn(!1,"invalid function fragment","obj",e)}else if(e instanceof la){const t=pa("function",e),r=ga(e),n=fa(e);let i=[];ha(e,Ji(["returns"])).has("returns")&&(i=ga(e));const a=ma(e);return ya(e),new Va(wa,t,n,r,i,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new Va(wa,e.name,t,e.inputs?e.inputs.map(Oa.from):[],e.outputs?e.outputs.map(Oa.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Aa]===xa}}class Ua extends Na{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Aa,{value:Ia})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return Ua.from(ua(e))}catch(t){rn(!1,"invalid struct fragment","obj",e)}else if(e instanceof la){const t=pa("struct",e),r=ga(e);return ya(e),new Ua(wa,t,r)}return new Ua(wa,e.name,e.inputs?e.inputs.map(Oa.from):[])}static isFragment(e){return e&&e[Aa]===Ia}}const Ba=new Map;Ba.set(0,"GENERIC_PANIC"),Ba.set(1,"ASSERT_FALSE"),Ba.set(17,"OVERFLOW"),Ba.set(18,"DIVIDE_BY_ZERO"),Ba.set(33,"ENUM_RANGE_ERROR"),Ba.set(34,"BAD_STORAGE_DATA"),Ba.set(49,"STACK_UNDERFLOW"),Ba.set(50,"ARRAY_RANGE_ERROR"),Ba.set(65,"OUT_OF_MEMORY"),Ba.set(81,"UNINITIALIZED_FUNCTION_CALL");const ja=new RegExp(/^bytes([0-9]*)$/),Fa=new RegExp(/^(u?int)([0-9]*)$/);let $a=null;class qa{#y(e){if(e.isArray())return new Li(this.#y(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new zi(e.components.map((e=>this.#y(e))),e.name);switch(e.baseType){case"address":return new Ni(e.name);case"bool":return new Di(e.name);case"string":return new Wi(e.name);case"bytes":return new Ui(e.name);case"":return new Fi(e.name)}let t=e.type.match(Fa);if(t){let r=parseInt(t[2]||"256");return rn(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new Gi(r/8,"int"===t[1],e.name)}if(t=e.type.match(ja),t){let r=parseInt(t[1]);return rn(0!==r&&r<=32,"invalid bytes length","param",e),new Bi(r,e.name)}rn(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#y(Oa.from(e))));return new zi(t,"_").defaultValue()}encode(e,t){nn(t.length,e.length,"types/values length mismatch");const r=e.map((e=>this.#y(Oa.from(e)))),n=new zi(r,"_"),i=new Oi;return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this.#y(Oa.from(e))));return new zi(n,"_").decode(new Mi(t,r))}static defaultAbiCoder(){return null==$a&&($a=new qa),$a}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",a=null,o=null;if(r){i="execution reverted";const e=ln(r);if(r=fn(r),0===e.length)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===fn(e.slice(0,4)))try{a=n.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===fn(e.slice(0,4)))try{const t=Number(n.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${Ba.get(t)||"UNKNOWN"}(${t})`,i+=`: ${a}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const s={to:t.to?Pn(t.to):null,data:t.data||"0x"};return t.from&&(s.from=Pn(t.from)),en(i,"CALL_EXCEPTION",{action:e,data:r,reason:a,transaction:s,invocation:null,revert:o})}(e,t,r,qa.defaultAbiCoder())}}class Ha{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,i=e.format();Kr(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class Ga{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const i=e.name,a=e.format();Kr(this,{fragment:e,name:i,args:r,signature:a,selector:t,value:n})}}class Wa{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,i=e.format();Kr(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class za{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){Kr(this,{hash:e,_isIndexed:!0})}}const Ja={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Qa={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Ja[e.toString()]&&(t=Ja[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class Ka{fragments;deploy;fallback;receive;#b;#v;#w;#A;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#w=new Map,this.#b=new Map,this.#v=new Map;const r=[];for(const e of t)try{r.push(Ma.from(e))}catch(e){console.log("EE",e)}Kr(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#A=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void Kr(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(rn(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=e,i=n.payable));case"function":r=this.#w;break;case"event":r=this.#v;break;case"error":r=this.#b;break;default:return}const a=e.format();r.has(a)||r.set(a,e)})),this.deploy||Kr(this,{deploy:La.from("constructor()")}),Kr(this,{fallback:n,receive:i})}format(e){const t=e?"minimal":"full",r=this.fragments.map((e=>e.format(t)));return r}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return qa.defaultAbiCoder()}#S(e,t,r){if(dn(e)){const t=e.toLowerCase();for(const e of this.#w.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#w)t.split("(")[0]===e&&n.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,i=!0;Yn.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){const t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(Yn.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}return 0===n.length?null:(n.length>1&&r&&rn(!1,`ambiguous function description (i.e. matches ${n.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),n[0])}return this.#w.get(Va.from(e).format())||null}getFunctionName(e){const t=this.#S(e,null,!1);return rn(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#S(e,null,!1)}getFunction(e,t){return this.#S(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#w.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#w.get(n),r)}}#E(e,t,r){if(dn(e)){const t=e.toLowerCase();for(const e of this.#v.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#v)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(Yn.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}return 0===n.length?null:(n.length>1&&r&&rn(!1,`ambiguous event description (i.e. matches ${n.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),n[0])}return this.#v.get(Ca.from(e).format())||null}getEventName(e){const t=this.#E(e,null,!1);return rn(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#E(e,null,!1)}getEvent(e,t){return this.#E(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#v.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#v.get(n),r)}}getError(e,t){if(dn(e)){const t=e.toLowerCase();if(Qa[t])return Pa.from(Qa[t].signature);for(const e of this.#b.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,n]of this.#b)r.split("(")[0]===e&&t.push(n);return 0===t.length?"Error"===e?Pa.from("error Error(string)"):"Panic"===e?Pa.from("error Panic(uint256)"):null:(t.length>1&&rn(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e),t[0])}if("Error(string)"===(e=Pa.from(e).format()))return Pa.from("error Error(string)");if("Panic(uint256)"===e)return Pa.from("error Panic(uint256)");return this.#b.get(e)||null}forEachError(e){const t=Array.from(this.#b.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#b.get(n),r)}}_decodeParams(e,t){return this.#A.decode(e,t)}_encodeParams(e,t){return this.#A.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);rn(t,"unknown error","fragment",e),e=t}return rn(yn(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,yn(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);rn(t,"unknown error","fragment",e),e=t}return gn([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);rn(t,"unknown function","fragment",e),e=t}return rn(yn(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,yn(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);rn(t,"unknown function","fragment",e),e=t}return gn([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);rn(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const n=un(t);if(n.length%32==0)try{return this.#A.decode(e.outputs,n)}catch(e){r="could not decode result data"}tn(!1,r,"BAD_DATA",{value:fn(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=ln(e,"data"),n=qa.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const e=fn(r.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#A.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);rn(t,"unknown function","fragment",e),e=t}return fn(this.#A.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);rn(t,"unknown event","eventFragment",e),e=t}tn(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const n=(e,t)=>"string"===e.type?ii(t):"bytes"===e.type?Rn(fn(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=yi(t):e.type.match(/^bytes/)?t=An(t,32):"address"===e.type&&this.#A.encode(["address"],[t]),wn(fn(t),32));for(t.forEach(((t,i)=>{const a=e.inputs[i];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?rn(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map((e=>n(a,e)))):r.push(n(a,t)):rn(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);rn(t,"unknown event","eventFragment",e),e=t}const r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),rn(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,a)=>{const o=t[a];if(e.indexed)if("string"===e.type)r.push(ii(o));else if("bytes"===e.type)r.push(Rn(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this.#A.encode([e.type],[o]))}else n.push(e),i.push(o)})),{data:this.#A.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){const t=this.getEvent(e);rn(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;rn(dn(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],i=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(Oa.from({type:"bytes32",name:e.name})),a.push(!0)):(n.push(e),a.push(!1)):(i.push(e),a.push(!1))}));const o=null!=r?this.#A.decode(n,gn(r)):null,s=this.#A.decode(i,t,!0),c=[],l=[];let u=0,d=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==o)r=new za(null);else if(a[t])r=new za(o[d++]);else try{r=o[d++]}catch(e){r=e}else try{r=s[u++]}catch(e){r=e}c.push(r),l.push(e.name||null)})),Ri.fromItems(c,l)}parseTransaction(e){const t=ln(e.data,"tx.data"),r=di(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(fn(t.slice(0,4)));if(!n)return null;const i=this.#A.decode(n.inputs,t.slice(4));return new Ga(n,n.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Ha(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=fn(e),r=this.getError(yn(t,0,4));if(!r)return null;const n=this.#A.decode(r.inputs,yn(t,4));return new Wa(r,r.selector,n)}static from(e){return e instanceof Ka?e:"string"==typeof e?new Ka(JSON.parse(e)):"function"==typeof e.format?new Ka(e.format("json")):new Ka(e)}}function Ya(e){return e&&"function"==typeof e.getAddress}function Za(e){try{return Pn(e),!0}catch(e){}return!1}async function Xa(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(tn("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),rn(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Pn(r)}function eo(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Pn(e):(tn(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Xa(e,t.resolveName(e))):Ya(e)?Xa(e,e.getAddress()):e&&"function"==typeof e.then?Xa(e,e):void rn(!1,"unsupported addressable value","target",e)}function to(e,t){return{address:Pn(e),storageKeys:t.map(((e,t)=>(rn(dn(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function ro(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?(rn(2===t.length,"invalid slot set",`value[${r}]`,t),to(t[0],t[1])):(rn(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),to(t.address,t.storageKeys))));rn(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return to(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}const no=BigInt(0);function io(e){return null==e?null:e}function ao(e){return null==e?null:e.toString()}class oo{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){Kr(this,{gasPrice:io(e),maxFeePerGas:io(t),maxPriorityFeePerGas:io(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:ao(e),maxFeePerGas:ao(t),maxPriorityFeePerGas:ao(r)}}}function so(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=fn(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=di(e[n],`request.${n}`));const n="type,nonce".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=gi(e[r],`request.${r}`));return e.accessList&&(t.accessList=ro(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}class co{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#T;constructor(e,t){this.#T=e.transactions.map((e=>"string"!=typeof e?new po(e,t):e)),Kr(this,{provider:t,hash:io(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:io(e.baseFeePerGas)})}get transactions(){return this.#T.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#T.slice();return 0===e.length?[]:(tn("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:a,miner:o,nonce:s,number:c,parentHash:l,timestamp:u,transactions:d}=this;return{_type:"Block",baseFeePerGas:ao(e),difficulty:ao(t),extraData:r,gasLimit:ao(n),gasUsed:ao(i),hash:a,miner:o,nonce:s,number:c,parentHash:l,timestamp:u,transactions:d}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#T.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#T[e];else{const r=e.toLowerCase();for(const e of this.#T){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;rn(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}class lo{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());Kr(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:o,transactionHash:s,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:o,transactionHash:s,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return tn(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return tn(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return tn(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class uo{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#R;constructor(e,t){this.#R=Object.freeze(e.logs.map((e=>new lo(e,t))));let r=no;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),Kr(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}get logs(){return this.#R}toJSON(){const{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:a,blockNumber:o,logsBloom:s,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:ao(this.cumulativeGasUsed),from:t,gasPrice:ao(this.gasPrice),gasUsed:ao(this.gasUsed),hash:n,index:i,logs:c,logsBloom:s,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return fo(this)}reorderedEvent(e){return tn(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ho(this,e)}}class po{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#k;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.#k=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:a,from:o,nonce:s,data:c,signature:l,accessList:u}=this;return{_type:"TransactionReceipt",accessList:u,blockNumber:e,blockHash:t,chainId:ao(this.chainId),data:c,from:o,gasLimit:ao(this.gasLimit),gasPrice:ao(this.gasPrice),hash:n,maxFeePerGas:ao(this.maxFeePerGas),maxPriorityFeePerGas:ao(this.maxPriorityFeePerGas),nonce:s,signature:l,to:a,index:r,type:i,value:ao(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await Qr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=null==e?1:e,n=null==t?0:t;let i=this.#k,a=-1,o=-1===i;const s=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await Qr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===a&&(a=i-3,a<this.#k&&(a=this.#k));a<=e;){if(o)return null;const t=await this.provider.getBlock(a,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){const a=await t.getTransaction(n);if(a.from===this.from&&a.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(a.hash);if(null==t)return;if(e-t.blockNumber+1<r)return;let n="replaced";a.data===this.data&&a.to===this.to&&a.value===this.value?n="repriced":"0x"===a.data&&a.from===a.to&&a.value===no&&(n="cancelled"),tn(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:a.replaceableTransaction(i),hash:a.hash,receipt:t})}}a++}},c=e=>{if(null==e||0!==e.status)return e;tn(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===r)return c(l);if(l){if(await l.confirmations()>=r)return c(l)}else if(await s(),0===r)return null;const u=new Promise(((e,t)=>{const a=[],l=()=>{a.forEach((e=>e()))};if(a.push((()=>{o=!0})),n>0){const e=setTimeout((()=>{l(),t(en("wait for transaction timeout","TIMEOUT"))}),n);a.push((()=>{clearTimeout(e)}))}const u=async n=>{if(await n.confirmations()>=r){l();try{e(c(n))}catch(e){t(e)}}};if(a.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await s()}catch(e){if(Zr(e,"TRANSACTION_REPLACED"))return l(),void t(e)}o||this.provider.once("block",e)};a.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return tn(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),fo(this)}reorderedEvent(e){return tn(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),tn(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ho(this,e)}replaceableTransaction(e){rn(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new po(this,this.provider);return t.#k=e,t}}function ho(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function fo(e){return{orphan:"drop-transaction",tx:e}}class go{filter;emitter;#x;constructor(e,t,r){this.#x=t,Kr(this,{emitter:e,filter:r})}async removeListener(){null!=this.#x&&await this.emitter.off(this.filter,this.#x)}}class mo extends lo{interface;fragment;args;constructor(e,t,r){super(e,e.provider),Kr(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yo extends lo{error;constructor(e,t){super(e,e.provider),Kr(this,{error:t})}}class bo extends uo{#I;constructor(e,t,r){super(r,t),this.#I=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#I.getEvent(e.topics[0]):null;if(t)try{return new mo(e,this.#I,t)}catch(t){return new yo(e,t)}return e}))}}class vo extends po{#I;constructor(e,t,r){super(r,t),this.#I=e}async wait(e){const t=await super.wait(e);return null==t?null:new bo(this.#I,this.provider,t)}}class wo extends go{log;constructor(e,t,r,n){super(e,t,r),Kr(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Ao extends wo{constructor(e,t,r,n,i){super(e,t,r,new mo(i,e.interface,n)),Kr(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const So=BigInt(0);function Eo(e){return e&&"function"==typeof e.call}function To(e){return e&&"function"==typeof e.estimateGas}function Ro(e){return e&&"function"==typeof e.resolveName}function ko(e){return e&&"function"==typeof e.sendTransaction}function xo(e){if(null!=e){if(Ro(e))return e;if(e.provider)return e.provider}}class Io{#O;fragment;constructor(e,t,r){if(Kr(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const n=Oo(e.runner,"resolveName"),i=Ro(n)?n:null;this.#O=async function(){const n=await Promise.all(t.inputs.map(((e,t)=>null==r[t]?null:e.walkAsync(r[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>eo(e,i)))):eo(t,i):t)))));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#O}}function Oo(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function Mo(e){return null==e?null:e.provider||null}async function No(e,t){const r=Yn.dereference(e,"overrides");rn("object"==typeof r,"invalid overrides parameter","overrides",e);const n=so(r);return rn(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),rn(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function _o(e,t,r){const n=Oo(e,"resolveName"),i=Ro(n)?n:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(r[t],((e,t)=>(t=Yn.dereference(t,e),"address"===e?eo(t,i):t))))))}function Po(e){const t=async function(t){const r=await No(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await eo(r.from,xo(e.runner)));const n=e.interface,i=di(r.value||So,"overrides.value")===So,a="0x"===(r.data||"0x");return!n.fallback||n.fallback.payable||!n.receive||a||i||rn(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),rn(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),rn(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),rn(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=e.runner;tn(ko(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await n.sendTransaction(await t(r)),a=Mo(e.runner);return new vo(e.interface,a,i)},n=async e=>await r(e);return Kr(n,{_contract:e,estimateGas:async function(r){const n=Oo(e.runner,"estimateGas");return tn(To(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},populateTransaction:t,send:r,staticCall:async function(r){const n=Oo(e.runner,"call");tn(Eo(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(r);try{return await n.call(i)}catch(t){if(Xr(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}}}),n}const Co=Symbol.for("_ethersInternal_contract"),Lo=new WeakMap;function Do(e){return Lo.get(e[Co])}async function Vo(e,t){let r,n=null;if(Array.isArray(t)){const n=function(t){if(dn(t,32))return t;const r=e.interface.getEvent(t);return rn(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(n):n(e)))}else"*"===t?r=[null]:"string"==typeof t?dn(t,32)?r=[t]:(n=e.interface.getEvent(t),rn(n,"unknown fragment","event",t),r=[n.topicHash]):(i=t)&&"object"==typeof i&&"getTopicFilter"in i&&"function"==typeof i.getTopicFilter&&i.fragment?r=await t.getTopicFilter():"fragment"in t?(n=t.fragment,r=[n.topicHash]):rn(!1,"unknown event name","event",t);var i;return r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:n,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function Uo(e,t){const{subs:r}=Do(e);return r.get((await Vo(e,t)).tag)||null}async function Bo(e,t,r){const n=Mo(e.runner);tn(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:a,topics:o}=await Vo(e,r),{addr:s,subs:c}=Do(e);let l=c.get(a);if(!l){const t={address:s||e,topics:o},u=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){const a=n,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];Fo(e,r,o,(n=>new Ao(e,n,r,a,t)))}else Fo(e,r,[],(n=>new wo(e,n,r,t)))};let d=[];l={tag:a,listeners:[],start:()=>{d.length||d.push(n.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),n.off(t,u)}},c.set(a,l)}return l}let jo=Promise.resolve();async function Fo(e,t,r,n){try{await jo}catch(e){}const i=async function(e,t,r,n){await jo;const i=await Uo(e,t);if(!i)return!1;const a=i.listeners.length;return i.listeners=i.listeners.filter((({listener:t,once:i})=>{const a=Array.from(r);n&&a.push(n(i?null:t));try{t.call(e,...a)}catch(e){}return!i})),0===i.listeners.length&&(i.stop(),Do(e).subs.delete(i.tag)),a>0}(e,t,r,n);return jo=i,await i}const $o=["then"];class qo{target;interface;runner;filters;[Co];fallback;constructor(e,t,r,n){rn("string"==typeof e||Ya(e),"invalid value for Contract target","target",e),null==r&&(r=null);const i=Ka.from(t);let a;Kr(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,Co,{value:{}});let o=null,s=null;if(n){const e=Mo(r);s=new vo(this.interface,e,n)}let c=new Map;if("string"==typeof e)if(dn(e))o=e,a=Promise.resolve(e);else{const t=Oo(r,"resolveName");if(!Ro(t))throw en("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=t.resolveName(e).then((t=>{if(null==t)throw en("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Do(this).addr=t,t}))}else a=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return Do(this).addr=e,e}));var l;l={addrPromise:a,addr:o,deployTx:s,subs:c},Lo.set(this[Co],l);const u=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||$o.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!Zr(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>$o.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return Kr(this,{filters:u}),Kr(this,{fallback:i.receive||i.fallback?Po(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||$o.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!Zr(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||$o.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new qo(this.target,this.interface,e)}attach(e){return new qo(e,this.interface,this.runner)}async getAddress(){return await Do(this).addrPromise}async getDeployedCode(){const e=Mo(this.runner);tn(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Mo(this.runner);return tn(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",n)}catch(e){r(e)}};n()}))}deploymentTransaction(){return Do(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());const t=function(e,t){const r=function(...r){const n=e.interface.getFunction(t,r);return tn(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=async function(...t){const n=r(...t);let i={};if(n.inputs.length+1===t.length&&(i=await No(t.pop()),i.from&&(i.from=await eo(i.from,xo(e.runner)))),n.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await _o(e.runner,n.inputs,t);return Object.assign({},i,await Qr({to:e.getAddress(),data:e.interface.encodeFunctionData(n,a)}))},i=async function(...e){const t=await o(...e);return 1===t.length?t[0]:t},a=async function(...t){const r=e.runner;tn(ko(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await n(...t)),a=Mo(e.runner);return new vo(e.interface,a,i)},o=async function(...t){const i=Oo(e.runner,"call");tn(Eo(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await n(...t);let o="0x";try{o=await i.call(a)}catch(t){if(Xr(t)&&t.data)throw e.interface.makeError(t.data,a);throw t}const s=r(...t);return e.interface.decodeFunctionResult(s,o)},s=async(...e)=>r(...e).constant?await i(...e):await a(...e);return Kr(s,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:async function(...t){const r=Oo(e.runner,"estimateGas");return tn(To(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...t))},populateTransaction:n,send:a,staticCall:i,staticCallResult:o}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getFunction(t);return tn(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),s}(this,e);return t}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const n=e.interface.getEvent(t,r);return tn(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new Io(e,r(...t),t)};return Kr(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return tn(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");const{addr:n,addrPromise:i}=Do(this),a=n||await i,{fragment:o,topics:s}=await Vo(this,e),c={address:a,topics:s,fromBlock:t,toBlock:r},l=Mo(this.runner);return tn(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new mo(e,this.interface,t)}catch(t){return new yo(e,t)}return new lo(e,l)}))}async on(e,t){const r=await Bo(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await Bo(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await Fo(this,e,t,null)}async listenerCount(e){if(e){const t=await Uo(this,e);return t?t.listeners.length:0}const{subs:t}=Do(this);let r=0;for(const{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){const t=await Uo(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=Do(this);let r=[];for(const{listeners:e}of t.values())r=r.concat(e.map((({listener:e})=>e)));return r}async off(e,t){const r=await Uo(this,e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),Do(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await Uo(this,e);if(!t)return this;t.stop(),Do(this).subs.delete(t.tag)}else{const{subs:e}=Do(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends qo{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}class Ho extends(function(){return qo}()){}var Go=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Wo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let zo=class{blockRepository;walletService;constructor(){}async getOrDownload(e,t){let r;try{r=await this.blockRepository.get(e,t)}catch(e){console.log(e)}if(!r)try{r=new Gn,r._id=e.toString(),console.log(`Downloading block #${e}`);let n=await this.walletService.provider.getBlock(e);r.blockNumber=n.blockNumber,r.hash=n.hash,r.parentHash=n.parentHash,r.number=n.number,r.timestamp=n.timestamp,r.nonce=n.nonce,r.difficulty=n.difficulty?.toString(),r.gasLimit=n.gasLimit?.toString(),r.gasUsed=n.gasUsed?.toString(),r.miner=n.miner,r.extraData=n.extraData,r.baseFeePerGas=n.baseFeePerGas?.toString(),r.ethUSDPrice=await this.getETHUSDAtBlock(r.number),await this.blockRepository.put(r,t)}catch(e){console.log(e)}return r}async put(e,t){return this.blockRepository.put(e,t)}async remove(e,t){return this.blockRepository.remove(e,t)}async putAll(e,t){return this.blockRepository.putAll(e,t)}async findBetweenBlocks(e,t,r){return this.blockRepository.findBetweenBlocks(e,t,r)}async getETHUSDAtBlock(e){let t=new Ho("0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419",Wn,this.walletService.provider),r=await t.latestAnswer({blockTag:e});return Number(r)/10**8}};Go([et("BlockRepository"),Wo("design:type",Object)],zo.prototype,"blockRepository",void 0),Go([et("WalletService"),Wo("design:type",Object)],zo.prototype,"walletService",void 0),zo=Go([Ke(),Wo("design:paramtypes",[])],zo);class Jo{_id;_rev;removed;address;data;topics;logIndex;args;event;eventSignature;isTransfer;isMint;isBurn;namedArgs;lastUpdated;dateCreated}let Qo=class{constructor(){}async translateEventToERCEvent(e){let t=new Jo;switch(t.removed=e.removed,t.address=e.address,t.data=e.data,t.topics=e.topics,t.logIndex=e.index,t.event=e.fragment?.name,t.eventSignature=e.eventSignature,t.dateCreated=(new Date).toJSON(),t.args=e.args?.map((e=>e.toString())),t.namedArgs={},t.event){case"Transfer":t.isTransfer=!0,t.namedArgs.fromAddress=t.args[0],t.namedArgs.toAddress=t.args[1],t.namedArgs.tokenId=t.args[2];break;case"Approval":t.namedArgs.owner=t.args[0],t.namedArgs.approved=t.args[1],t.namedArgs.tokenId=t.args[2];break;case"ApprovalForAll":t.namedArgs.owner=t.args[0],t.namedArgs.operator=t.args[1],t.namedArgs.approved=t.args[2]}return t.isTransfer&&"0x0000000000000000000000000000000000000000"==t.namedArgs?.fromAddress&&(t.isMint=!0),t.isTransfer&&"0x0000000000000000000000000000000000000000"==t.namedArgs?.toAddress&&(t.isBurn=!0),t}};Qo=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],Qo);var Ko=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Yo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Zo,Column:Xo,Model:es,HasMany:ts,CreatedAt:rs,UpdatedAt:ns,DataType:is,PrimaryKey:as}=a(10326);let os=class extends es{};Ko([as,Xo(is.STRING),Yo("design:type",String)],os.prototype,"_id",void 0),Ko([Xo(is.STRING),Yo("design:type",String)],os.prototype,"name",void 0),Ko([Xo(is.DATE),Yo("design:type",Date)],os.prototype,"lastEnsNameUpdate",void 0),Ko([Xo(is.DATE),Yo("design:type",Date)],os.prototype,"lastUpdated",void 0),Ko([Xo(is.DATE),Yo("design:type",Date)],os.prototype,"dateCreated",void 0),os=Ko([Zo({tableName:"ens",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],os);var ss=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},cs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ls=class{ensRepository;walletService;dayjs;constructor(){}async getOrDownloadByAddress(e,t){let r;try{r=await this.ensRepository.get(e,t)}catch(e){}if(this.dayjs(r?.lastEnsNameUpdate).isBefore(this.dayjs().subtract(7,"days"))||!r){let n=await this.walletService.provider.lookupAddress(e);console.log(`Looking up ENS for ${e} ${n?.length>0?`(${n})`:""}`),r||(r=new os,r._id=e),r.name=n,r.lastEnsNameUpdate=(new Date).toJSON(),await this.ensRepository.put(r,t)}return r.name}};ss([et("ENSRepository"),cs("design:type",Object)],ls.prototype,"ensRepository",void 0),ss([et("WalletService"),cs("design:type",Object)],ls.prototype,"walletService",void 0),ss([et("dayjs"),cs("design:type",Object)],ls.prototype,"dayjs",void 0),ls=ss([Ke(),cs("design:paramtypes",[])],ls);var us=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},ds=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:ps,Column:hs,Model:fs,HasMany:gs,CreatedAt:ms,UpdatedAt:ys,DataType:bs,PrimaryKey:vs}=a(10326);let ws=class extends fs{};us([vs,hs(bs.STRING),ds("design:type",String)],ws.prototype,"_id",void 0),us([hs(bs.STRING),ds("design:type",String)],ws.prototype,"_rev",void 0),us([hs(bs.BIGINT),ds("design:type",Number)],ws.prototype,"indexRate",void 0),us([hs(bs.BIGINT),ds("design:type",Number)],ws.prototype,"startBlock",void 0),us([hs(bs.BIGINT),ds("design:type",Number)],ws.prototype,"lastIndexedBlock",void 0),us([hs(bs.DATE),ds("design:type",Date)],ws.prototype,"lastUpdated",void 0),us([hs(bs.DATE),ds("design:type",Date)],ws.prototype,"dateCreated",void 0),ws=us([ps({tableName:"contract_state",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],ws);var As=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Ss=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Es,Column:Ts,Model:Rs,HasMany:ks,CreatedAt:xs,UpdatedAt:Is,DataType:Os,PrimaryKey:Ms}=a(10326);let Ns=class extends Rs{};As([Ms,Ts(Os.STRING),Ss("design:type",String)],Ns.prototype,"_id",void 0),As([Ts(Os.STRING),Ss("design:type",String)],Ns.prototype,"_rev",void 0),As([Ts(Os.BIGINT),Ss("design:type",Number)],Ns.prototype,"count",void 0),As([Ts(Os.BIGINT),Ss("design:type",Number)],Ns.prototype,"rank",void 0),As([Ts(Os.BIGINT),Ss("design:type",Number)],Ns.prototype,"overallRank",void 0),As([Ts(Os.BIGINT),Ss("design:type",Number)],Ns.prototype,"transactionCount",void 0),As([Ts(Os.JSON),Ss("design:type",Array)],Ns.prototype,"tokenIds",void 0),As([Ts(Os.JSON),Ss("design:type",Object)],Ns.prototype,"transactionsViewModel",void 0),As([Ts(Os.JSON),Ss("design:type",Object)],Ns.prototype,"salesReport",void 0),As([Ts(Os.STRING),Ss("design:type",String)],Ns.prototype,"ensName",void 0),As([Ts(Os.STRING),Ss("design:type",String)],Ns.prototype,"lastActive",void 0),As([Ts(Os.DATE),Ss("design:type",Date)],Ns.prototype,"lastUpdated",void 0),As([Ts(Os.DATE),Ss("design:type",Date)],Ns.prototype,"dateCreated",void 0),Ns=As([Es({tableName:"token_owner",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],Ns);var _s=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Ps=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Cs,Column:Ls,Model:Ds,HasMany:Vs,CreatedAt:Us,UpdatedAt:Bs,DataType:js,PrimaryKey:Fs,Index:$s,ForeignKey:qs,BelongsTo:Hs,AllowNull:Gs,BelongsToMany:Ws}=a(10326);let zs=class extends Ds{currentOwner};_s([Fs,Ls(js.STRING),Ps("design:type",String)],zs.prototype,"_id",void 0),_s([Ls(js.STRING),Ps("design:type",String)],zs.prototype,"_rev",void 0),_s([$s,Ls(js.BIGINT),Ps("design:type",Number)],zs.prototype,"tokenId",void 0),_s([Ls(js.JSON),Ps("design:type",Array)],zs.prototype,"attributeSelections",void 0),_s([Ws((()=>lc),(()=>dc)),Ps("design:type",Array)],zs.prototype,"processedTransactions",void 0),_s([qs((()=>Ns)),Ls(js.STRING),Ps("design:type",String)],zs.prototype,"currentOwnerId",void 0),_s([Hs((()=>Ns)),Ps("design:type",Ns)],zs.prototype,"currentOwner",void 0),_s([Ls(js.JSON),Ps("design:type",Object)],zs.prototype,"transactionsViewModel",void 0),_s([Ls(js.DATE),Ps("design:type",Date)],zs.prototype,"lastUpdated",void 0),_s([Ls(js.DATE),Ps("design:type",Date)],zs.prototype,"dateCreated",void 0),zs=_s([Cs({tableName:"token",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],zs);var Js=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Qs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Ks,Column:Ys,Model:Zs,HasMany:Xs,CreatedAt:ec,UpdatedAt:tc,DataType:rc,PrimaryKey:nc,Index:ic,ForeignKey:ac,BelongsTo:oc,AllowNull:sc,BelongsToMany:cc}=a(10326);let lc=class extends Zs{};Js([nc,Ys(rc.STRING),Qs("design:type",String)],lc.prototype,"_id",void 0),Js([Ys(rc.STRING),Qs("design:type",String)],lc.prototype,"_rev",void 0),Js([ic("block-number-transaction-index-pt"),Ys(rc.BIGINT),Qs("design:type",Number)],lc.prototype,"blockNumber",void 0),Js([ic("block-number-transaction-index-pt"),Ys(rc.BIGINT),Qs("design:type",Number)],lc.prototype,"transactionIndex",void 0),Js([ic("transactionFrom-pt"),Ys(rc.STRING),Qs("design:type",String)],lc.prototype,"transactionFrom",void 0),Js([Ys(rc.JSON),Qs("design:type",Array)],lc.prototype,"tokenTraderIds",void 0),Js([ic,Ys(rc.BIGINT),Qs("design:type",Number)],lc.prototype,"timestamp",void 0),Js([Ys(rc.JSON),Qs("design:type",Array)],lc.prototype,"tokenIds",void 0),Js([cc((()=>zs),(()=>dc)),Qs("design:type",Array)],lc.prototype,"tokens",void 0),Js([cc((()=>Ns),(()=>pc)),Qs("design:type",Array)],lc.prototype,"tokenTraders",void 0),Js([Ys(rc.JSON),Qs("design:type",Array)],lc.prototype,"ercEvents",void 0),Js([Ys(rc.JSON),Qs("design:type",Object)],lc.prototype,"transactionValue",void 0),Js([Ys(rc.DATE),Qs("design:type",Date)],lc.prototype,"lastUpdated",void 0),Js([Ys(rc.DATE),Qs("design:type",Date)],lc.prototype,"dateCreated",void 0),lc=Js([Ks({tableName:"processed_transaction",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],lc);let uc=class extends Zs{processedTransaction};Js([nc,Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"_id",void 0),Js([Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"_rev",void 0),Js([ic("block-number-transaction-index-pe"),Ys(rc.BIGINT),Qs("design:type",Number)],uc.prototype,"transactionIndex",void 0),Js([ic("block-number-transaction-index-pe"),Ys(rc.BIGINT),Qs("design:type",Number)],uc.prototype,"blockNumber",void 0),Js([ac((()=>lc)),sc(!1),Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"processedTransactionId",void 0),Js([oc((()=>lc)),Qs("design:type",lc)],uc.prototype,"processedTransaction",void 0),Js([Ys(rc.BIGINT),Qs("design:type",Number)],uc.prototype,"logIndex",void 0),Js([Ys(rc.BOOLEAN),Qs("design:type",Boolean)],uc.prototype,"isMint",void 0),Js([Ys(rc.BOOLEAN),Qs("design:type",Boolean)],uc.prototype,"isBurn",void 0),Js([Ys(rc.JSON),Qs("design:type",Object)],uc.prototype,"namedArgs",void 0),Js([Ys(rc.BIGINT),Qs("design:type",Number)],uc.prototype,"tokenId",void 0),Js([Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"fromAddress",void 0),Js([Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"toAddress",void 0),Js([Ys(rc.DECIMAL),Qs("design:type",Number)],uc.prototype,"price",void 0),Js([Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"currency",void 0),Js([Ys(rc.DECIMAL),Qs("design:type",Number)],uc.prototype,"usdValue",void 0),Js([Ys(rc.STRING),Qs("design:type",String)],uc.prototype,"event",void 0),Js([Ys(rc.DATE),Qs("design:type",Date)],uc.prototype,"lastUpdated",void 0),Js([Ys(rc.DATE),Qs("design:type",Date)],uc.prototype,"dateCreated",void 0),uc=Js([Ks({tableName:"processed_event",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],uc);let dc=class extends Zs{};Js([ic,ac((()=>lc)),Ys,Qs("design:type",Number)],dc.prototype,"processedTransactionId",void 0),Js([ic,ac((()=>zs)),Ys,Qs("design:type",Number)],dc.prototype,"tokenId",void 0),dc=Js([Ks({tableName:"processed_transaction_token",paranoid:!1})],dc);let pc=class extends Zs{};Js([ic,ac((()=>lc)),Ys,Qs("design:type",Number)],pc.prototype,"processedTransactionId",void 0),Js([ic,ac((()=>Ns)),Ys,Qs("design:type",String)],pc.prototype,"tokenOwnerId",void 0),pc=Js([Ks({tableName:"processed_transaction_trader",paranoid:!1})],pc);var hc=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},fc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let gc=class{walletService;tokenOwnerRepository;constructor(){}async get(e,t){return this.tokenOwnerRepository.get(e,t)}async getByIds(e,t){return this.tokenOwnerRepository.getByIds(e,t)}async getDisplayName(e){if(!e)return;let t=await this.tokenOwnerRepository.get(e);return t?.ensName?t?.ensName:this.walletService.truncateEthAddress(e)}async getOrCreate(e,t){let r;if(!r)try{r=await this.get(e,t)}catch(e){}return r||(r=new Ns,r._id=e,r.tokenIds=[],r.count=0,r.transactionsViewModel={transactions:[],rowItemViewModels:{}}),r}async put(e,t){return this.tokenOwnerRepository.put(e,t)}async putAll(e,t){return this.tokenOwnerRepository.putAll(e,t)}async list(e,t,r){return this.tokenOwnerRepository.list(e,t,r)}async rerank(e){return this.tokenOwnerRepository.rerank(e)}async setTokenIds(e){e.tokenIds=[];for(let t of e.transactionsViewModel.transactions)for(let r of t.events)r.toAddress&&r.tokenId&&(r.toAddress==e._id?e.tokenIds.push(r.tokenId):e.tokenIds.includes(r.tokenId)&&e.tokenIds.splice(e.tokenIds.indexOf(r.tokenId),1))}};hc([et("WalletService"),fc("design:type",Object)],gc.prototype,"walletService",void 0),hc([et("TokenOwnerRepository"),fc("design:type",Object)],gc.prototype,"tokenOwnerRepository",void 0),gc=hc([Ke(),fc("design:paramtypes",[])],gc);var mc=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},yc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let bc=class{itemRepository;rowItemViewModelRepository;attributeTotalService;constructor(){}async get(e){return this.itemRepository.get(e)}async list(e,t){return this.itemRepository.list(e,t)}async query(e){return this.itemRepository.query(e)}async all(){return this.itemRepository.all()}async getByTokenId(e){return this.itemRepository.getByTokenId(e)}async getByTokenIds(e){return this.itemRepository.getByTokenIds(e)}async getRowItemViewModelsByAttribute(e,t,r){return this.itemRepository.getRowItemViewModelsByAttribute(e,t,r)}async getRowItemViewModelsByOwner(e,t){return this.itemRepository.getRowItemViewModelsByOwner(e,t)}async getRowItemViewModelsByTokenIds(e){return this.itemRepository.getRowItemViewModelsByTokenIds(e)}async getRowItemViewModelsByTokenId(e){return this.itemRepository.getRowItemViewModelsByTokenId(e)}async listByTokenId(e,t=10){return this.itemRepository.listByTokenId(e,t)}async buildAttributeTotals(e){let t=await this.all();return this.attributeTotalService.buildAttributeTotals(e,t)}async searchTokenIds(e){return this.rowItemViewModelRepository.getByTokenIds(e)}};mc([et("ItemRepository"),yc("design:type",Object)],bc.prototype,"itemRepository",void 0),mc([et("RowItemViewModelRepository"),yc("design:type",Object)],bc.prototype,"rowItemViewModelRepository",void 0),mc([et("AttributeTotalService"),yc("design:type",mt)],bc.prototype,"attributeTotalService",void 0),bc=mc([Ke(),yc("design:paramtypes",[])],bc);var vc=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},wc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ac=class{tokenRepository;itemService;constructor(){}async get(e,t){return this.tokenRepository.get(e,t)}async getOrCreate(e){let t;try{t=await this.get(e)}catch(e){}if(!t){t=new zs,t._id=e,t.tokenId=e,t.ownershipHistory=[],t.transactionsViewModel={transactions:[],rowItemViewModels:{}};let r=await this.itemService.getByTokenId(t._id);t.attributeSelections=r?.attributeSelections}return t}async put(e,t){return e._id||(e._id=e.tokenId.toString()),this.tokenRepository.put(e,t)}async putAll(e,t){return this.tokenRepository.putAll(e,t)}async getTokenIdsByAttribute(e,t,r){return this.tokenRepository.getTokenIdsByAttribute(e,t,r)}async getLatest(e){return this.tokenRepository.getLatest(e)}};vc([et("TokenRepository"),wc("design:type",Object)],Ac.prototype,"tokenRepository",void 0),vc([et("ItemService"),wc("design:type",bc)],Ac.prototype,"itemService",void 0),Ac=vc([Ke(),wc("design:paramtypes",[])],Ac);const Sc=BigInt(-1),Ec=BigInt(0),Tc=BigInt(1),Rc=BigInt(5),kc={};let xc="0000";for(;xc.length<80;)xc+=xc;function Ic(e){let t=xc;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function Oc(e,t,r){const n=BigInt(t.width);if(t.signed){const t=Tc<<n-Tc;tn(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>Ec?ci(ui(e,n),n):-ci(ui(-e,n),n)}else{const t=Tc<<n;tn(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-Tc}return e}function Mc(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);rn(i,"invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){const i=e,a=(e,t,r)=>null==i[e]?r:(rn(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=a("signed","boolean",t),r=a("width","number",r),n=a("decimals","number",n)}return rn(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),rn(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n),{signed:t,width:r,decimals:n,name:(t?"":"u")+"fixed"+String(r)+"x"+String(n)}}class Nc{format;#M;#N;#_;_value;constructor(e,t,r){sn(e,kc,"FixedNumber"),this.#N=t,this.#M=r;const n=function(e,t){let r="";e<Ec&&(r="-",e*=Sc);let n=e.toString();if(0===t)return r+n;for(;n.length<=t;)n=xc+n;const i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(t,r.decimals);Kr(this,{format:r.name,_value:n}),this.#_=Ic(r.decimals)}get signed(){return this.#M.signed}get width(){return this.#M.width}get decimals(){return this.#M.decimals}get value(){return this.#N}#P(e){rn(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#C(e,t){return e=Oc(e,this.#M,t),new Nc(kc,e,this.#M)}#L(e,t){return this.#P(e),this.#C(this.#N+e.#N,t)}addUnsafe(e){return this.#L(e)}add(e){return this.#L(e,"add")}#D(e,t){return this.#P(e),this.#C(this.#N-e.#N,t)}subUnsafe(e){return this.#D(e)}sub(e){return this.#D(e,"sub")}#V(e,t){return this.#P(e),this.#C(this.#N*e.#N/this.#_,t)}mulUnsafe(e){return this.#V(e)}mul(e){return this.#V(e,"mul")}mulSignal(e){this.#P(e);const t=this.#N*e.#N;return tn(t%this.#_===Ec,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#C(t/this.#_,"mulSignal")}#U(e,t){return tn(e.#N!==Ec,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#P(e),this.#C(this.#N*this.#_/e.#N,t)}divUnsafe(e){return this.#U(e)}div(e){return this.#U(e,"div")}divSignal(e){tn(e.#N!==Ec,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#P(e);const t=this.#N*this.#_;return tn(t%e.#N===Ec,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#C(t/e.#N,"divSignal")}cmp(e){let t=this.value,r=e.value;const n=this.decimals-e.decimals;return n>0?r*=Ic(n):n<0&&(t*=Ic(-n)),t<r?-1:t>r?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#N;return this.#N<Ec&&(e-=this.#_-Tc),e=this.#N/this.#_*this.#_,this.#C(e,"floor")}ceiling(){let e=this.#N;return this.#N>Ec&&(e+=this.#_-Tc),e=this.#N/this.#_*this.#_,this.#C(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=Rc*Ic(t-1);let n=this.value+r;const i=Ic(t);return n=n/i*i,Oc(n,this.#M,"round"),new Nc(kc,n,this.#M)}isZero(){return this.#N===Ec}isNegative(){return this.#N<Ec}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Nc.fromString(this.toString(),e)}static fromValue(e,t,r){const n=null==t?0:gi(t),i=Mc(r);let a=di(e,"value");const o=n-i.decimals;if(o>0){const t=Ic(o);tn(a%t===Ec,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=t}else o<0&&(a*=Ic(-o));return Oc(a,i,"fromValue"),new Nc(kc,a,i)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);rn(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const n=Mc(t);let i=r[2]||"0",a=r[3]||"";for(;a.length<n.decimals;)a+=xc;tn(a.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,n.decimals);const o=BigInt(r[1]+i+a);return Oc(o,n,"fromString"),new Nc(kc,o,n)}static fromBytes(e,t){let r=fi(ln(e,"value"));const n=Mc(t);return n.signed&&(r=ci(r,n.width)),Oc(r,n,"fromBytes"),new Nc(kc,r,n)}}const _c=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Pc(e,t){let r=18;if("string"==typeof t){const e=_c.indexOf(t);rn(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=gi(t,"unit"));return Nc.fromValue(e,r,{decimals:r,width:512}).toString()}function Cc(e,t){rn("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){const e=_c.indexOf(t);rn(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=gi(t,"unit"));return Nc.fromString(e,{decimals:r,width:512}).value}function Lc(e){return Pc(e,18)}function Dc(e){return Cc(e,18)}var Vc=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Uc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:Bc,Column:jc,Model:Fc,HasMany:$c,CreatedAt:qc,UpdatedAt:Hc,DataType:Gc,PrimaryKey:Wc,Index:zc}=a(10326);let Jc=class extends Fc{};Vc([Wc,jc(Gc.STRING),Uc("design:type",String)],Jc.prototype,"_id",void 0),Vc([jc(Gc.STRING),Uc("design:type",String)],Jc.prototype,"_rev",void 0),Vc([jc(Gc.STRING),Uc("design:type",String)],Jc.prototype,"hash",void 0),Vc([jc(Gc.STRING),Uc("design:type",String)],Jc.prototype,"blockHash",void 0),Vc([zc("block-number-transaction-index"),jc(Gc.BIGINT),Uc("design:type",Number)],Jc.prototype,"blockNumber",void 0),Vc([zc("block-number-transaction-index"),jc(Gc.BIGINT),Uc("design:type",Number)],Jc.prototype,"transactionIndex",void 0),Vc([jc(Gc.STRING),Uc("design:type",String)],Jc.prototype,"data",void 0),Vc([jc(Gc.STRING),Uc("design:type",String)],Jc.prototype,"from",void 0),Vc([jc(Gc.JSON),Uc("design:type",Object)],Jc.prototype,"gasLimit",void 0),Vc([jc(Gc.JSON),Uc("design:type",Object)],Jc.prototype,"gasPrice",void 0),Vc([jc(Gc.BIGINT),Uc("design:type",Number)],Jc.prototype,"nonce",void 0),Vc([jc(Gc.JSON),Uc("design:type",Object)],Jc.prototype,"value",void 0),Vc([jc(Gc.BIGINT),Uc("design:type",Number)],Jc.prototype,"networkId",void 0),Vc([jc(Gc.TEXT),Uc("design:type",String)],Jc.prototype,"r",void 0),Vc([jc(Gc.TEXT),Uc("design:type",String)],Jc.prototype,"s",void 0),Vc([jc(Gc.BIGINT),Uc("design:type",Number)],Jc.prototype,"v",void 0),Vc([jc(Gc.TEXT),Uc("design:type",String)],Jc.prototype,"raw",void 0),Vc([jc(Gc.JSON),Uc("design:type",Object)],Jc.prototype,"receipt",void 0),Vc([jc(Gc.DATE),Uc("design:type",Date)],Jc.prototype,"lastUpdated",void 0),Vc([jc(Gc.DATE),Uc("design:type",Date)],Jc.prototype,"dateCreated",void 0),Jc=Vc([Bc({tableName:"transaction",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],Jc);var Qc=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Kc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Yc=class{transactionRepository;walletService;constructor(){}async get(e){return this.transactionRepository.get(e)}async getOrDownload(e,t){let r;try{r=await this.transactionRepository.get(e)}catch(e){}if(!r)try{console.log(`Downloading transaction #${e}`),r=new Jc;let n=await this.walletService.provider.getTransaction(e),i=await this.walletService.provider.getTransactionReceipt(e);r._id=n.hash,r.data=n.data,r.hash=n.hash,r.blockHash=n.blockHash,r.blockNumber=n.blockNumber,r.transactionIndex=n.transactionIndex,r.from=n.from,r.gasLimit=n.gasLimit?.toString(),r.gasPrice=n.gasPrice?.toString(),r.nonce=n.nonce,r.value=n.value?.toString(),r.networkId=n.networkId,r.r=n.r?.toString(),r.s=n.s?.toString(),r.v=n.v?Number(n.v):void 0,r.raw=n.raw,r.receipt={to:i.to,contractAddress:i.contractAddress,cumulativeGasUsed:i.cumulativeGasUsed?.toString(),effectiveGasPrice:i.effectiveGasPrice?.toString(),gasUsed:i.gasUsed?.toString(),logs:i.logs},await this.transactionRepository.put(r,t)}catch(e){console.log(e)}return r}async put(e,t){return this.transactionRepository.put(e,t)}async remove(e,t){return this.transactionRepository.remove(e,t)}async putAll(e,t){return this.transactionRepository.putAll(e,t)}async findBetweenBlocks(e,t,r){return this.transactionRepository.findBetweenBlocks(e,t,r)}async getLatest(){let e=await this.transactionRepository.list(1,0);if(e?.length>0)return Object.assign(new Jc,e[0])}async getTransactionValue(e,t,r){if(!e.receipt.to)return;const n=Pn(e.receipt.to);if(n in Xc){const i=Xc[n];return this.processMarketplaceTransaction(i,e,n,t,r)}return n in el?this.processAggregatorTransaction(Xc,e,n,t,r):void 0}processAggregatorTransaction(e,t,r,n,i){let a={tokenIds:[],totalPrice:0,tokenPrice:{},markets:{}},o="0x0000000000000000000000000000000000000000";t.receipt.logs.forEach((e=>{const t=Pn(e.address);t in Zc&&(o=t)}));const s=Zc[o];let c,l=[];return t.receipt.logs.forEach(((r,o)=>{if("0x"===r.data&&r.topics[0]===tl){const e=BigInt(r.topics[3]).toString();a.tokenIds.push(parseInt(e)),l.push(e)}else{let u=rl.find((e=>e.signature==r.topics[0]));if(u){let d,p=Object.entries(e).find((e=>e[1].id==u.market))[1],h=this.decodeSale(p,s,r,n);if(a.totalPrice+=h.price,o=c?Math.max(c,o):o,l?.length>0)d=JSON.parse(JSON.stringify(l)),l.length=0;else for(let e=o+1;e<t.receipt.logs.length;e++){let r=t.receipt.logs[e];if("0x"===r.data&&r.topics[0]===tl){d=[BigInt(r.topics[3]).toString()],c=e,l.length=0;break}}d?.forEach((e=>{let t=1==d.length?h.price:h.price/d.length;a.tokenPrice[e]={price:t,currency:s.name,usdValue:this.getUSDValue(s,t,i)}})),a.markets[p.name]||(a.markets[p.name]={currencies:{}});let f=a.markets[p.name].currencies[s.name]?.price?a.markets[p.name].currencies[s.name].price:0,g=a.markets[p.name].currencies[s.name]?.usdValue?a.markets[p.name].currencies[s.name].usdValue:0;a.markets[p.name].currencies[s.name]={price:f+h.price,usdValue:g+this.getUSDValue(s,h.price,i)}}}})),a.totalPrice=parseFloat(a.totalPrice.toFixed(10)),a.currency=s.name,a.aggregator=el[r].name,a.usdValue=this.getUSDValue(s,a.totalPrice,i),a}processMarketplaceTransaction(e,t,r,n,i){let a={tokenIds:[],totalPrice:0,tokenPrice:{},markets:{}},o="0x0000000000000000000000000000000000000000";t.receipt.logs.forEach((e=>{const t=Pn(e.address);t in Zc&&(o=t)}));const s=Zc[o];let c,l=[];return t.receipt.logs.forEach(((o,u)=>{if("0x"===o.data&&o.topics[0]===tl){const e=BigInt(o.topics[3]).toString();a.tokenIds.push(parseInt(e)),l.push(e)}else{const d=Pn(o.address);let p=rl.find((e=>e.signature==o.topics[0]));if(d==r&&p){let r,d=this.decodeSale(e,s,o,n);if(a.totalPrice+=d.price,u=c?Math.max(c,u):u,l?.length>0)r=JSON.parse(JSON.stringify(l)),l.length=0;else for(let e=u+1;e<t.receipt.logs.length;e++){let n=t.receipt.logs[e];if("0x"===n.data&&n.topics[0]===tl){r=[BigInt(n.topics[3]).toString()],c=e,l.length=0;break}}r?.forEach((e=>{let t=1==r.length?d.price:d.price/r.length;a.tokenPrice[e]={price:t,currency:s.name,usdValue:this.getUSDValue(s,t,i)}}))}}})),a.totalPrice=parseFloat(a.totalPrice.toFixed(10)),a.currency=s.name,a.usdValue=this.getUSDValue(s,a.totalPrice,i),a.markets[e.name]={currencies:{}},a.markets[e.name].currencies[s.name]={price:parseFloat(a.totalPrice.toFixed(10)),usdValue:this.getUSDValue(s,a.totalPrice,i)},a}decodeSale(e,t,r,n){const i=qa.defaultAbiCoder().decode(e.logDecoder,r.data);let a=0;switch(e.id){case"Blur":a=parseFloat(Pc(i.sell.price,t.decimals));break;case"OpenSea (Seaport)":a=al(i,n);break;case"X2Y2":a=parseFloat(Pc(i.amount,t.decimals));break;default:a=parseFloat(Pc(i.price,t.decimals))}return{price:a}}getTokenForLog(e,t,r,n){switch(r){case"before":if(n)return n;case"after":for(let r=t+1;r<e.receipt.logs.length;r++){let t=e.receipt.logs[r];if("0x"===t.data&&t.topics[0]===tl)return BigInt(t.topics[3]).toString()}}}getUSDValue(e,t,r){let n;switch(e.name){case"ETH":case"WETH":n=t*r;break;case"DAI":case"USDC":n=t}return n}};Qc([et("TransactionRepository"),Kc("design:type",Object)],Yc.prototype,"transactionRepository",void 0),Qc([et("WalletService"),Kc("design:type",Object)],Yc.prototype,"walletService",void 0),Yc=Qc([Ke(),Kc("design:paramtypes",[])],Yc);const Zc={"0x0000000000000000000000000000000000000000":{name:"ETH",decimals:18},"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2":{name:"WETH",decimals:18},"0x6B175474E89094C44Da98b954EedeAC495271d0F":{name:"DAI",decimals:18},"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48":{name:"USDC",decimals:6}},Xc={"0x74312363e45DCaBA76c59ec49a7Aa8A65a67EeD3":{id:"X2Y2",name:"X2Y2",marketplaceUrl:"https://x2y2.io/eth/",logDecoder:[{type:"bytes32",name:"itemHash"},{type:"address",name:"currency"},{type:"address",name:"to"},{type:"uint256",name:"amount"}]},"0x7f268357A8c2552623316e2562D90e642bB538E5":{id:"OpenSea (Wyvern)",name:"OpenSea",marketplaceUrl:"https://opensea.io/assets/",logDecoder:[{type:"bytes32",name:"buyHash"},{type:"bytes32",name:"sellHash"},{type:"uint256",name:"price"}]},"0x7Be8076f4EA4A4AD08075C2508e481d6C946D12b":{id:"OpenSea (Wyvern)",name:"OpenSea",marketplaceUrl:"https://opensea.io/assets/",logDecoder:[{type:"bytes32",name:"buyHash"},{type:"bytes32",name:"sellHash"},{type:"uint256",name:"price"}]},"0x59728544B08AB483533076417FbBB2fD0B17CE3a":{id:"LooksRare",name:"LooksRare",marketplaceUrl:"https://looksrare.org/collections/",logDecoder:[{type:"bytes32",name:"orderHash"},{type:"uint256",name:"orderNonce"},{type:"address",name:"currency"},{type:"address",name:"collection"},{type:"uint256",name:"tokenId"},{type:"uint256",name:"amount"},{type:"uint256",name:"price"}]},"0x00000000006c3852cbEf3e08E8dF289169EdE581":{id:"OpenSea (Seaport)",name:"OpenSea",marketplaceUrl:"https://opensea.io/assets/",logDecoder:[{type:"bytes32",name:"orderHash"},{type:"address",name:"recipient"},{type:"tuple[]",name:"offer",components:[{type:"uint8",name:"itemType"},{type:"address",name:"token"},{type:"uint256",name:"identifier"},{type:"uint256",name:"amount"}]},{type:"tuple[]",name:"consideration",components:[{type:"uint8",name:"itemType"},{type:"address",name:"token"},{type:"uint256",name:"identifier"},{type:"uint256",name:"amount"},{type:"address",name:"recipient"}]}]},"0x000000000000Ad05Ccc4F10045630fb830B95127":{id:"Blur",name:"Blur",marketplaceUrl:"https://blur.io",logDecoder:[{components:[{name:"trader",type:"address"},{name:"side",type:"uint8"},{name:"matchingPolicy",type:"address"},{name:"collection",type:"address"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"},{name:"paymentToken",type:"address"},{name:"price",type:"uint256"},{name:"listingTime",type:"uint256"},{name:"expirationTime",type:"uint256"},{components:[{name:"rate",type:"uint16"},{name:"recipient",type:"address"}],name:"fees",type:"tuple[]"},{name:"salt",type:"uint256"},{name:"extraParams",type:"bytes"}],name:"sell",type:"tuple"},{name:"sellHash",type:"bytes32"},{components:[{name:"trader",type:"address"},{name:"side",type:"uint8"},{name:"matchingPolicy",type:"address"},{name:"collection",type:"address"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"},{name:"paymentToken",type:"address"},{name:"price",type:"uint256"},{name:"listingTime",type:"uint256"},{name:"expirationTime",type:"uint256"},{components:[{name:"rate",type:"uint16"},{name:"recipient",type:"address"}],name:"fees",type:"tuple[]"},{name:"salt",type:"uint256"},{name:"extraParams",type:"bytes"}],name:"buy",type:"tuple"},{name:"buyHash",type:"bytes32"}]}},el={"0x0a267cF51EF038fC00E71801F5a524aec06e4f07":{id:"Genie",name:"Genie"}},tl="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",rl=[{signature:"0xc4109843e0b7d514e4c093114b863f8e7d8d9a458c372cd51bfe526b588006c9",market:"OpenSea (Wyvern)"},{signature:"0xe2c49856b032c255ae7e325d18109bc4e22a2804e2e49a017ec0f59f19cd447b",market:"X2Y2"},{signature:"0x95fb6205e23ff6bda16a2d1dba56b9ad7c783f67c96fa149785052f47696f2be",market:"LooksRare"},{signature:"0x68cd251d4d267c6e2034ff0088b990352b97b2002c0476587d0c4da889c11330",market:"LooksRare"},{signature:"0x9d9af8e38d66c62e2c12f0225249fd9d721c54b83f48d9352c97c6cacdcb6f31",market:"OpenSea (Seaport)"},{signature:"0x61cbb2a3dee0b6064c2e681aadd61677fb4ef319f0b547508d495626f5a62f64",market:"Blur"}],nl=(e,t)=>e[t];function il(e,t){const r=Zc[Pn(nl(t,"token"))];return void 0!==r?e+Number(Pc(nl(t,"amount"),r.decimals)):e}const al=(e,t)=>{const r=e.offer,n=e.consideration;if(r.some((e=>nl(e,"token").toLowerCase()===t.toLowerCase()))){const e=n.reduce(il,0);return parseFloat(e.toFixed(10))}{const e=r.reduce(il,0);return parseFloat(e.toFixed(10))}};var ol=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},sl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let cl=class{processedTransactionRepository;blockService;transactionService;itemService;tokenService;tokenOwnerService;walletService;constructor(){}async get(e,t){return this.processedTransactionRepository.get(e,t)}async getByIds(e,t){return this.processedTransactionRepository.getByIds(e,t)}async getViewModel(e,t){let r=await this.processedTransactionRepository.get(e,t);if(!r)return;let n=await this.processedTransactionRepository.getEventsByTransaction(r);return{transaction:this._translateProcessedTransactionToViewModel(r),events:n.map((e=>this._translateProcessedEventToViewModel(e)))}}async put(e,t){return this.processedTransactionRepository.put(e,t)}async putAll(e,t){return this.processedTransactionRepository.putAll(e,t)}async putEvents(e,t){return this.processedTransactionRepository.putEvents(e,t)}async list(e,t,r){return this.processedTransactionRepository.list(e,t,r)}async listByTokens(e,t,r){return this.processedTransactionRepository.listByTokens(e,r)}async listByToken(e,t,r){return this.processedTransactionRepository.listByToken(e,r)}async listByTrader(e,t){return this.processedTransactionRepository.listByTrader(e,t)}async listIds(e,t){return this.processedTransactionRepository.listIds(e,t)}async getLatest(e,t){return this.processedTransactionRepository.getLatest(e,t)}async getLatestViewModel(e,t){let r=await this.processedTransactionRepository.getLatest(e,t);if(!r)return;let n=await this.processedTransactionRepository.getEventsByTransaction(r);return{transaction:this._translateProcessedTransactionToViewModel(r),events:n.map((e=>this._translateProcessedEventToViewModel(e)))}}async getRowItemViewModels(e){let t={},r=new Set;for(let t of e)t.tokenId&&r.add(t.tokenId);let n=await this.itemService.getRowItemViewModelsByTokenIds(Array.from(r));for(let e of n)t[e.tokenId]=e;return t}async getEnsFromEvents(e,t){let r={},n=[];for(let t of e)t.fromAddress?.length>0&&!n.includes(t.fromAddress)&&n.push(t.fromAddress),t.toAddress?.length>0&&!n.includes(t.toAddress)&&n.push(t.toAddress),t.namedArgs.owner?.length>0&&!n.includes(t.namedArgs.owner)&&n.push(t.namedArgs.owner),t.namedArgs.operator?.length>0&&!n.includes(t.namedArgs.operator)&&n.push(t.namedArgs.operator),t.namedArgs.approved?.length>0&&!n.includes(t.namedArgs.approved)&&n.push(t.namedArgs.approved);let i=await this.tokenOwnerService.getByIds(n,t);for(let e of i)r[e._id]=e.ensName?e.ensName:this.walletService.truncateEthAddress(e._id);return r}async translateTransactionsToViewModels(e,t,r){let n=[],i=[];for(let t of e){let e=await this.processedTransactionRepository.getEventsByTransaction(t,r);n.push({transaction:this._translateProcessedTransactionToViewModel(t),events:e.map((e=>this._translateProcessedEventToViewModel(e)))}),i.push(...e)}return{lastUpdated:t,transactions:n,rowItemViewModels:await this.getRowItemViewModels(i),ens:await this.getEnsFromEvents(i,r)}}translateTransactionViewModel(e,t){return{transaction:this._translateProcessedTransactionToViewModel(e),events:t.map((e=>this._translateProcessedEventToViewModel(e)))}}_translateProcessedTransactionToViewModel(e){return{_id:e._id,blockNumber:e.blockNumber,transactionFrom:e.transactionFrom,tokenTraders:e.tokenTraderIds,timestamp:e.timestamp,tokenIds:e.tokenIds,transactionValue:e.transactionValue}}_translateProcessedEventToViewModel(e){return{isMint:e.isMint,isBurn:e.isBurn,namedArgs:e.namedArgs,tokenId:e.tokenId,fromAddress:e.fromAddress,toAddress:e.toAddress,price:e.price,currency:e.currency,usdValue:e.usdValue,event:e.event}}async getSalesReport(){return this.processedTransactionRepository.getSalesReport()}async getAttributeSalesReport(e){let t={owners:[],largestSales:{},rowItemViewModels:{}};t.totals=await this.processedTransactionRepository.getAttributeSalesRows(0,e);let r=await this.processedTransactionRepository.getAttributes();for(let n of r){t.owners[`${n.traitType}::::${n.v}`]=await this.processedTransactionRepository.getOwnersByAttribute(n.traitType,n.v,e),t.largestSales[`${n.traitType}::::${n.v}`]=await this.processedTransactionRepository.getLargestSalesByAttribute(n.traitType,n.v,50,e);let r=t.largestSales[`${n.traitType}::::${n.v}`].map((e=>e.tokenId)),i=await this.itemService.getRowItemViewModelsByTokenIds(r);t.rowItemViewModels[`${n.traitType}::::${n.v}`]={};for(let e of i)t.rowItemViewModels[`${n.traitType}::::${n.v}`][e.tokenId]=e}return t}async getLargestSales(e){let t=await this.processedTransactionRepository.getLargestSales(e),r=t?.map((e=>e.tokenId)),n={sales:t};if(r?.length>0){n.rowItemViewModels={};let e=await this.itemService.getRowItemViewModelsByTokenIds(r);for(let t of e)n.rowItemViewModels[t.tokenId]=t}return n}async getSalesByAttribute(e,t){return this.processedTransactionRepository.getSalesByAttribute(e,t)}async getTokenOwnerSalesReport(e){return this.processedTransactionRepository.getTokenOwnerSalesReport(e)}async deleteBetweenBlocks(e,t,r){let n=await this.processedTransactionRepository.findBetweenBlocks(e.startBlock,e.endBlock,r);const i=Array.from(new Set(n.flatMap((({tokenIds:e})=>e))));for(let t of i){e.tokensToUpdate[t]||(e.tokensToUpdate[t]=await this.tokenService.get(t,r));let n=e.tokensToUpdate[t];n.transactionsViewModel.transactions=n.transactionsViewModel?.transactions.filter((t=>t.transaction.blockNumber<e.startBlock));let i=JSON.parse(JSON.stringify(n.transactionsViewModel));i.transactions.reverse();let a=!1;for(let e of i.transactions){for(let t of e.events)if(t.toAddress){n.currentOwnerId=t.toAddress,a=!0;break}if(a)break}}const a=Array.from(new Set(n.flatMap((({tokenTraderIds:e})=>e))));for(let t of a)e.ownersToUpdate[t]||(e.ownersToUpdate[t]=await this.tokenOwnerService.get(t,r)),e.ownersToUpdate[t].transactionsViewModel.transactions=e.ownersToUpdate[t].transactionsViewModel?.transactions.filter((t=>t.transaction.blockNumber<e.startBlock)),await this.tokenOwnerService.setTokenIds(e.ownersToUpdate[t]);for(let t of n)await this.processedTransactionRepository.remove(t,r),delete e.processedTransactionViewModels[t._id];let o=await this.blockService.findBetweenBlocks(e.endBlock-t,e.endBlock,r),s=await this.transactionService.findBetweenBlocks(e.endBlock-t,e.endBlock,r);for(let e of o)console.log(`Clearing block #${e._id}`),await this.blockService.remove(e,r);for(let e of s)console.log(`Clearing transaction #${e._id}`),await this.transactionService.remove(e,r)}async remove(e,t){return this.processedTransactionRepository.remove(e,t)}async getPreviousByTokenId(e,t,r,n){return this.processedTransactionRepository.getPreviousByTokenId(e,t,r,n)}async getPreviousByInitiator(e,t,r,n){return this.processedTransactionRepository.getPreviousByInitiator(e,t,r,n)}async getPreviousByTrader(e,t,r,n){return this.processedTransactionRepository.getPreviousByTrader(e,t,r,n)}async buildTransactionPages(e,t,r){let n=[];for(let i=0;i<e.transactions.length;i+=t){let a=[],o=e.transactions.slice(i,i+t);for(let e of o)a.push(...e.events);n.push({transactions:o,rowItemViewModels:await this.getRowItemViewModels(a),ens:await this.getEnsFromEvents(a,r)})}return n}attributeKeyToInteger(e){let t,r,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)r=e.charCodeAt(t),n=(n<<5)-n+r,n|=0;return n}};ol([et("ProcessedTransactionRepository"),sl("design:type",Object)],cl.prototype,"processedTransactionRepository",void 0),ol([et("BlockService"),sl("design:type",zo)],cl.prototype,"blockService",void 0),ol([et("TransactionService"),sl("design:type",Yc)],cl.prototype,"transactionService",void 0),ol([et("ItemService"),sl("design:type",bc)],cl.prototype,"itemService",void 0),ol([et("TokenService"),sl("design:type",Ac)],cl.prototype,"tokenService",void 0),ol([et("TokenOwnerService"),sl("design:type",gc)],cl.prototype,"tokenOwnerService",void 0),ol([et("WalletService"),sl("design:type",Object)],cl.prototype,"walletService",void 0),cl=ol([Ke(),sl("design:paramtypes",[])],cl);var ll=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},ul=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let dl=class{contractStateService;ercEventService;tokenOwnerService;tokenService;walletService;ensService;transactionService;processedTransactionService;itemService;blockService;sequelize;blockNumber;contractState;contract;contractAddress;constructor(){}BLOCK_CONFIRMATIONS=12;async init(e,t){await this.sequelize();let r=await e.getAddress();console.log(`Starting transaction indexer for ${r}`),this.contractAddress=Pn(r),this.contractState=await this._getContractState(this.contractAddress,t),this.walletService.provider||await this.walletService.initProvider(),this.contract=e}async index(e,t){await this._updateBlockNumber(),console.log(`\n            Block Number: ${this.blockNumber}\n            Last Indexed: ${this.contractState.lastIndexedBlock}\n        `),e.startBlock=this.getStartBlock(this.contractState),e.endBlock=this.getEndBlock(),e.blockNumber=this.blockNumber,console.log(`Indexing blocks: ${e.startBlock} to ${e.endBlock}`),await this.processedTransactionService.deleteBetweenBlocks(e,this.BLOCK_CONFIRMATIONS,t),e.mostRecentTransaction=await this.processedTransactionService.getLatestViewModel(e.startBlock,t);const r=await this.getEvents(e.startBlock,e.endBlock),n=r.events;e.endBlock=r.endBlock,e.isCurrent=this.blockNumber==e.endBlock;let i=this.groupBy(n,(e=>e.transactionHash)),a=0;if(i.size>0){console.log(`Found ${n.length} events up to block ${e.endBlock}`);for(let r of i.keys()){let n,o,s,c=i.get(r);for(console.time(`Processesing / ${r} / (${a+1} of ${i.size})`);null==s||null==o;)try{s=await this.transactionService.getOrDownload(r,t),o=await this.blockService.getOrDownload(s.blockNumber,t)}catch(e){console.log("Problem fetching transaction and block data. Queueing for retry."),await new Promise((e=>setTimeout(e,3e4)))}let l=new lc;l._id=s.hash,l.transactionFrom=s.from,l.blockNumber=s.blockNumber,l.transactionIndex=s.transactionIndex,l.ercEvents=[],l.tokenTraders=[],l.tokenIds=[],l.tokenTraderIds=[],l.transactionValue=await this.transactionService.getTransactionValue(s,Pn(await this.contract.getAddress()),o.ethUSDPrice);for(let r of c){let i,a;if(!o||!l)throw new Error("Block and/or transaction not found.");if(r.transactionHash!=l._id)throw new Error("Wrong transaction found.");let s=await this.ercEventService.translateEventToERCEvent(r);if(l.timestamp=o.timestamp,n=await this._getTokenOwner(l.transactionFrom,e,t),n.lastActive=new Date(1e3*l.timestamp).toJSON(),s.namedArgs?.tokenId){let r=parseInt(s.namedArgs.tokenId),n=await this._getToken(r.toString(),e);i=await this._getTokenOwner(s.namedArgs.fromAddress,e,t),a=await this._getTokenOwner(s.namedArgs.toAddress,e,t),s.isTransfer&&(n.currentOwnerId=a._id)}l.ercEvents.push(s)}let u=this.createProcessedEvents(l),d=this.processedTransactionService.translateTransactionViewModel(l,u),p=u?.map((e=>e.tokenId)).filter((e=>void 0!==e));p?.length>0&&(l.tokenIds=Array.from(new Set(u?.map((e=>e.tokenId))?.filter((e=>e)))),l.tokens=l.tokenIds?.map((t=>e.tokensToUpdate[t])));for(let t of p)e.tokensToUpdate[t].transactionsViewModel.transactions.unshift({transaction:d.transaction,events:d.events.filter((e=>e.tokenId==t))}),e.tokensToUpdate[t].transactionsViewModel.rowItemViewModels[t]=await this.itemService.getRowItemViewModelsByTokenId(t);let h=new Set(u?.map((e=>e.fromAddress))),f=new Set(u?.map((e=>e.toAddress))),g=Array.from(new Set([...h,...f])).filter((e=>void 0!==e));g?.length>0&&(l.tokenTraderIds.push(...g),l.tokenTraders=l.tokenTraderIds?.map((t=>e.ownersToUpdate[t])));for(let t of g)e.ownersToUpdate[t].transactionsViewModel.transactions.push({transaction:d.transaction,events:d.events}),e.ownersToUpdate[t].transactionsViewModel.rowItemViewModels=await this.processedTransactionService.getRowItemViewModels(d.events),this.tokenOwnerService.setTokenIds(e.ownersToUpdate[t]);e.processedTransactionViewModels[l._id]={events:u,transaction:l},e.mostRecentTransaction=e.processedTransactionViewModels[l._id],console.timeEnd(`Processesing / ${r} / (${a+1} of ${i.size})`),a++}await this.saveTokenOwners(e,t),await this.saveTokens(e,t),await this.saveProcessedTransactions(e,t),await this.tokenOwnerService.rerank(t)}return this.contractState.lastIndexedBlock=e.endBlock,e}async saveTokens(e,t){console.log(`Saving ${Object.keys(e.tokensToUpdate).length} tokens `);let r=[];for(let t of Object.keys(e.tokensToUpdate))r.push(e.tokensToUpdate[t]);await this.tokenService.putAll(r,t)}async saveProcessedTransactions(e,t){console.log(`Saving ${Object.keys(e.processedTransactionViewModels).length} processed transactions`);let r=[],n=[];for(let t of Object.keys(e.processedTransactionViewModels))r.push(e.processedTransactionViewModels[t].transaction),n.push(...e.processedTransactionViewModels[t].events);await this.processedTransactionService.putAll(r,t),await this.processedTransactionService.putEvents(n,t)}async saveTokenOwners(e,t){console.log(`Saving ${Object.keys(e.ownersToUpdate).length} updated token owners`);let r=[];for(let t of Object.keys(e.ownersToUpdate)){let n=e.ownersToUpdate[t];n.count=n.tokenIds?.length,n.transactionCount=n.transactionsViewModel?.transactions?.length,n.tokenIds.sort(),r.push(n)}await this.tokenOwnerService.putAll(r,t)}createProcessedEvents(e){e.ercEvents=e.ercEvents?.filter(((t,r)=>{let n;return e.ercEvents.length>=r+2&&(n=e.ercEvents[r+1]),!("Approval"==t.event&&"Transfer"==n?.event&&n.namedArgs.tokenId==t.namedArgs.tokenId&&"0x0000000000000000000000000000000000000000"==t.namedArgs.approved)}));let t=[];for(let r=0;r<e.ercEvents?.length;r++){let n=e.ercEvents[r],i=new uc;if(i.processedTransactionId=e._id,i.blockNumber=e.blockNumber,i.transactionIndex=e.transactionIndex,i.logIndex=n.logIndex,i._id=`${i.processedTransactionId}-${i.logIndex}`,i.isMint=n.isMint,i.isBurn=n.isBurn,i.event=n.event,i.namedArgs=n.namedArgs,n.namedArgs.fromAddress&&(i.fromAddress=n.namedArgs.fromAddress),n.namedArgs.toAddress&&(i.toAddress=n.namedArgs.toAddress),n.namedArgs.tokenId){i.tokenId=parseInt(n.namedArgs.tokenId);let t=e.transactionValue?.tokenPrice[n.namedArgs.tokenId];t&&(i.price=t.price,i.currency=t.currency,i.usdValue=t.usdValue)}t.push(i)}return t}async getEvents(e,t){let r=[],n=!0;for(;n;)try{r=await this.contract.queryFilter("*",e,t),n=!1}catch(r){let i=r?.error?.message,a=i?.substring(i.indexOf("[")+1,i.indexOf("]"))?.split(",");a?.length>1?t=parseInt(a[1]):(t=e,n=!1)}return{events:r,endBlock:t}}async _getContractState(e,t){let r;try{r=await this.contractStateService.get(e)}catch(e){}if(!r){r=new ws,r._id=e,r.lastIndexedBlock=0;try{await this.contractStateService.put(r,t)}catch(e){console.log(JSON.stringify(e))}}return r}async _updateBlockNumber(){try{this.blockNumber=await this.walletService.provider.getBlockNumber()}catch(e){console.log(e)}}getStartBlock(e){if(!e.lastIndexedBlock)return 0;let t=e.lastIndexedBlock-this.BLOCK_CONFIRMATIONS;return t>=0?t:0}getEndBlock(){return this.blockNumber}async _getTokenOwner(e,t,r){if(e){if(!t.ownersToUpdate[e]){let n=await this.tokenOwnerService.getOrCreate(e,r);t.ownersToUpdate[e]=n}return t.ownersToUpdate[e]}}async _getToken(e,t){return t.tokensToUpdate[e]||(t.tokensToUpdate[e]=await this.tokenService.getOrCreate(e)),t.tokensToUpdate[e]}groupBy(e,t){const r=new Map;return e.forEach((e=>{const n=t(e),i=r.get(n);i?i.push(e):r.set(n,[e])})),r}};ll([et("ContractStateService"),ul("design:type",Rt)],dl.prototype,"contractStateService",void 0),ll([et("ERCEventService"),ul("design:type",Qo)],dl.prototype,"ercEventService",void 0),ll([et("TokenOwnerService"),ul("design:type",gc)],dl.prototype,"tokenOwnerService",void 0),ll([et("TokenService"),ul("design:type",Ac)],dl.prototype,"tokenService",void 0),ll([et("WalletService"),ul("design:type",Object)],dl.prototype,"walletService",void 0),ll([et("ENSService"),ul("design:type",ls)],dl.prototype,"ensService",void 0),ll([et("TransactionService"),ul("design:type",Yc)],dl.prototype,"transactionService",void 0),ll([et("ProcessedTransactionService"),ul("design:type",cl)],dl.prototype,"processedTransactionService",void 0),ll([et("ItemService"),ul("design:type",bc)],dl.prototype,"itemService",void 0),ll([et("BlockService"),ul("design:type",zo)],dl.prototype,"blockService",void 0),ll([et("sequelize"),ul("design:type",Function)],dl.prototype,"sequelize",void 0),dl=ll([Ke(),ul("design:paramtypes",[])],dl);let pl=class{app;constructor(e){this.app=e}showExceptionPopup(e){console.log(e),this.app.dialog.alert(e.message,"There was an error")}showPopup(e){this.app.dialog.alert(e)}showAlert(e){this.app.dialog.alert(e)}spinnerDialog;showSpinner(e){this.spinnerDialog&&this.hideSpinner(),this.spinnerDialog=this.app.dialog.preloader(e||"Loading")}hideSpinner(){this.spinnerDialog&&(this.spinnerDialog.close(),this.spinnerDialog=null)}progressDialog;showProgress(e){this.progressDialog&&this.hideProgress(),this.progressDialog=this.app.dialog.progress(e||"Loading",0)}setProgress(e,t){this.progressDialog&&(this.progressDialog.setProgress(e),this.progressDialog.setText(t))}hideProgress(){this.progressDialog&&(this.progressDialog.close(),this.progressDialog=null)}};pl=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("framework7")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],pl);var hl=function(e,t){return function(r,n){t(r,n,e)}};let fl=class{contracts;getProvider;$f7;wallet;address;ethersContracts={};provider;constructor(e,t,r){this.contracts=e,this.getProvider=t,this.$f7=r}async initProvider(){this.provider=await this.getProvider(),globalThis.ethereum?.on("accountsChanged",(async e=>{delete this.address,e?.length>0&&await this.initWallet(),this.$f7.views.main.router.refreshPage()})),globalThis.ethereum?.on("networkChanged",(async e=>{this.ethersContracts={},this.provider=await this.getProvider(),await this.initWallet()}))}async initWallet(){console.log("Init wallet"),delete this.address,this.provider||await this.initProvider();let e=await this.provider.send("eth_accounts",[]);if(e?.length>0)return this.connect();console.log("Init wallet complete")}async connect(){console.log("Connect wallet"),await this.provider.send("eth_requestAccounts",[]),this.wallet=await this.provider.getSigner(),this.address=await this.getAddress(),console.log(`Wallet ${this.address} connected`)}async getAddress(){if(!this.provider)return;let e=await this.provider.send("eth_accounts",[]);return e?.length>0?Pn(e[0]):void 0}async getWallet(){return this.provider.getSigner()}async getContract(e){let t=(await this.contracts())[e];return this.ethersContracts[e]=new Ho(t.address,t.abi,this.wallet?this.wallet:this.provider),this.ethersContracts[e]}truncateEthAddress(e){if(!e)return;const t=e.match(/^(0x[a-zA-Z0-9]{4})[a-zA-Z0-9]+([a-zA-Z0-9]{4})$/);return t?`${t[1]}…${t[2]}`:e}};fl=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),hl(0,et("contracts")),hl(1,et("provider")),hl(2,et("framework7")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Function,Function,Object])],fl);var gl=a(42555),ml=a.n(gl),yl=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},bl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let vl=class{imageRepository;constructor(){}async get(e){return this.imageRepository.get(e)}async list(){return this.imageRepository.list()}async getUrl(e){return e.buffer||e.svg?e.buffer?this.bufferToDataURL("image/jpg",e.buffer):e.svg?this.getSVGURL(e):void 0:""}async getSVGURL(e){return e.svg?this.svgToDataURL(e.svg):""}svgToDataURL(e){return ml()(e)}bufferToDataURL(e,t){return`data:${e};base64,${t.toString("base64")}`}};yl([et("ImageRepository"),bl("design:type",Object)],vl.prototype,"imageRepository",void 0),vl=yl([Ke(),bl("design:paramtypes",[])],vl);var wl=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Al=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Sl=class{itemPageRepository;constructor(){}async get(e){return this.itemPageRepository.get(e)}};wl([et("ItemPageRepository"),Al("design:type",Object)],Sl.prototype,"itemPageRepository",void 0),Sl=wl([Ke(),Al("design:paramtypes",[])],Sl);var El=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Tl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Rl=class{readerSettingsRepository;schemaService;constructor(){}async get(){return await this.schemaService.load(["reader-settings"]),this.readerSettingsRepository.get()}async put(e){e.lastUpdated=(new Date).toJSON();let t=await $t(e,{forbidUnknownValues:!0,whitelist:!0});if(t.length>0)throw new qt(t);await this.readerSettingsRepository.put(e)}async updateCurrentPage(e){let t=await this.get();t.currentPage=e,await this.put(t)}};El([et("ReaderSettingsRepository"),Tl("design:type",Object)],Rl.prototype,"readerSettingsRepository",void 0),El([et("SchemaService"),Tl("design:type",or)],Rl.prototype,"schemaService",void 0),Rl=El([Ke(),Tl("design:paramtypes",[])],Rl);var kl=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},xl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Il=class{staticPageRepository;constructor(){}async get(e){return this.staticPageRepository.get(e)}async listByLocation(e,t){return this.staticPageRepository.listByLocation(e,t)}async listRoutablePages(){let e=[];if(e=e.concat(await this.staticPageRepository.listByLocation("navbar",0)),e=e.concat(await this.staticPageRepository.listByLocation("links",0)),e=JSON.parse(JSON.stringify(e)),e?.length>0)for(let t of e)delete t?.content,delete t?.contentHTML,delete t?.contentMarkdown;return e}};kl([et("StaticPageRepository"),xl("design:type",Object)],Il.prototype,"staticPageRepository",void 0),Il=kl([Ke(),xl("design:paramtypes",[])],Il);var Ol=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Ml=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Nl=class{authorService;constructor(){}async get(e){return this.getViewModel(await this.authorService.get(e))}async getViewModel(e){return{author:e,authorDisplayName:this.authorService.getDisplayName(e)}}};Ol([et("AuthorService"),Ml("design:type",vt)],Nl.prototype,"authorService",void 0),Nl=Ol([Ke(),Ml("design:paramtypes",[])],Nl);var _l=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Pl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Cl=class{channelService;authorService;imageService;pagingService;schemaService;walletService;staticPageService;loadedChannelData;constructor(){}async get(e){return this.getViewModel(await this.channelService.get(),e)}async getViewModel(e,t){let r,n;e.authorId&&(r=await this.authorService.get(e.authorId));let i=e.itemCount,a=this.pagingService.buildPagingViewModel(t,10,i,5),o=["navbar","links","index","none"],s={};for(let e of o)s[e]=await this.staticPageService.listByLocation(e,0);return e.coverImageId&&(n=await this.imageService.get(e.coverImageId)),{channelContractAbbrev:e.contractAddress?this.walletService.truncateEthAddress(e.contractAddress):void 0,channel:e,staticPagesViewModel:s,author:r,authorDisplayName:this.authorService.getDisplayName(r),itemCount:i,pagingViewModel:a,coverImage:n}}async loadChannel(e,t,r){globalThis.channelId=e,globalThis.baseURI=t,globalThis.hostname=r}async loadChannelData(e){e&&this.loadedChannelData!=e&&(await this.schemaService.reloadAll(),await this.schemaService.load(["component-state"])),this.loadedChannelData=e}};_l([et("ChannelService"),Pl("design:type",St)],Cl.prototype,"channelService",void 0),_l([et("AuthorService"),Pl("design:type",vt)],Cl.prototype,"authorService",void 0),_l([et("ImageService"),Pl("design:type",vl)],Cl.prototype,"imageService",void 0),_l([et("PagingService"),Pl("design:type",Yt)],Cl.prototype,"pagingService",void 0),_l([et("SchemaService"),Pl("design:type",or)],Cl.prototype,"schemaService",void 0),_l([et("WalletService"),Pl("design:type",Object)],Cl.prototype,"walletService",void 0),_l([et("StaticPageService"),Pl("design:type",Il)],Cl.prototype,"staticPageService",void 0),Cl=_l([Ke(),Pl("design:paramtypes",[])],Cl);var Ll=a(86492),Dl=a.n(Ll),Vl=a(3969),Ul=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Bl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const jl=new Vl.DOMParser;let Fl=class{itemService;channelService;authorService;imageService;schemaService;quillService;animationService;itemPageService;attributeTotalService;allTokensCache;constructor(){}async get(e){let t=await this.itemService.get(e);const r=await this.channelService.get(),n=await this.attributeTotalService.list();return this.getViewModel(t,r,n)}async getByTokenId(e){return this.itemService.getByTokenId(e)}async getViewModel(e,t,r){let n,i,a,o,s=[];if(t.authorId&&(n=await this.authorService.get(t.authorId)),t.attributeOptions.length>0)for(let n of t.attributeOptions){let t=e?.attributeSelections?.filter((e=>n?.traitType==e?.traitType)),i=t?.length>0?t[0].value:void 0,a=r.filter((e=>e.traitType==n.traitType)),o=a?.filter((e=>e.value==i));s.push({id:n.id,traitType:n.traitType,values:n.values,value:i,attributeTotal:o?.length>0?o[0]:void 0})}if(e.coverImageId&&(i=await this.imageService.get(e.coverImageId)),e.animationId&&!e.coverImageAsAnimation){a=await this.animationService.get(e.animationId);let t=jl.parseFromString(a.content,"text/html").getElementsByTagName("body")[0];o=Dl().unescape((new Vl.B).serializeToString(t)),o="<div"+o.slice(5),o=o.substring(0,o.length-7)+"</div>"}if(e.content?.ops?.length>0){let t=[];for(let r of e.content.ops){if(r.insert&&r.insert.ipfsimage){let e=await this.imageService.get(r.insert.ipfsimage.cid);r.insert.ipfsimage.src=await this.imageService.getUrl(e)}t.push(r)}e.content.ops=t}return{item:e,animation:a,animationContentHTML:o,contentHTML:await this.quillService.translateContent(e.content),channel:t,author:n,authorDisplayName:this.authorService.getDisplayName(n),attributeSelections:s,coverImage:i}}async getMintViewModel(e,t){let r;return e.coverImageId&&(r=await this.imageService.get(e.coverImageId)),{item:e,animation:void 0,channel:t,author:void 0,attributeSelections:[],coverImage:r}}async getSearchViewModel(e,t){return{item:e,animation:void 0,channel:t,author:void 0,attributeSelections:[]}}async getExploreAttributeOptions(e){await this.schemaService.load(["channels","authors","attribute-totals"]);const t=await this.channelService.get();let r=await this.attributeTotalService.list(),n=t.attributeOptions,i=[];for(let t of n){let n=[];for(let i of t.values.sort()){let a=JSON.parse(JSON.stringify(e));delete a[t.traitType];let o=await this._paramsToFilteredIds(a,r),s=r.filter((e=>e.traitType==t.traitType&&e.value==i))[0];s&&n.push({value:i,count:s.tokenIds.filter((e=>o.includes(e))).length})}n.sort(((e,t)=>t.count-e.count));let a={id:t.id,traitType:t.traitType,values:n};i.push(a)}return i}async exploreList(e,t,r){if(await this.schemaService.load(["channels","authors","attribute-totals","row-item-view-models"]),e&&Object.keys(e)?.length>0)return this.exploreQuery(e,t,r);{let e=t/r,n=await this.itemPageService.get(e),i=await this.channelService.get();return{items:n.items,totalMatches:i.itemCount,limit:r,skip:t}}}async exploreQuery(e,t,r){await this.schemaService.load(["channels","authors","attribute-totals","row-item-view-models"]);let n=await this.attributeTotalService.list(),i=await this._paramsToFilteredIds(e,n),a=i.length;return i=i.slice(t,t+r),{items:await this.itemService.searchTokenIds(i),totalMatches:a,limit:r,skip:t}}async _paramsToFilteredIds(e,t){let r=[];for(let t of Object.keys(e))r.push(`${t}:::${e[t]}`);let n=t?.filter((e=>r?.includes(e._id)));return n?.length>0?n.map((e=>e.tokenIds)).reduce(((e,t)=>e.filter((e=>t.includes(e))))):(this.allTokensCache||(this.allTokensCache=Array.from(new Set(t.map((e=>e.tokenIds)).flat()))),this.allTokensCache)}async list(e,t){let r=[];const n=await this.channelService.get(),i=await this.itemService.buildAttributeTotals(n);let a=await this.itemService.list(e,t);for(let e of a)r.push(await this.getViewModel(e,n,i));return r}async mintList(e,t){let r=[];const n=await this.channelService.get();let i=await this.itemService.list(e,t);for(let e of i)r.push(await this.getMintViewModel(e,n));return r}async itemPage(e){return this.itemPageService.get(e)}async attributeItemPage(e,t,r){return this.itemService.getRowItemViewModelsByAttribute(e,t,r)}async ownerItemPage(e,t){return this.itemService.getRowItemViewModelsByOwner(e,t)}async query(e){await this.schemaService.load(["items","channels"]);let t=await this.itemService.query(e);const r=await this.channelService.get();let n=[];for(let e of t)n.push(await this.getSearchViewModel(e,r));return n}async buildItemPages(e,t){let r=[],n=[];for(let t of e){let e=t.item;n.push({_id:e._id,coverImageGenerated:!!t.coverImage.generated,coverImageId:t.coverImage._id,title:`${e.title?e.title:`#${e.tokenId}`}`,tokenId:e.tokenId})}for(let e=0;e<n.length;e+=t)r.push({items:n.slice(e,e+t)});return r}async buildAttributeTotals(e){return this.itemService.buildAttributeTotals(e)}async getRowItemViewModelsByTokenIds(e){return this.itemService.getRowItemViewModelsByTokenIds(e)}translateRowItemViewModel(e,t){return{_id:e._id,coverImageGenerated:!!t.generated,coverImageId:t._id,title:`${e.title?e.title:`#${e.tokenId}`}`,tokenId:e.tokenId}}};function $l(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ql(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Hl(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Ul([et("ItemService"),Bl("design:type",bc)],Fl.prototype,"itemService",void 0),Ul([et("ChannelService"),Bl("design:type",St)],Fl.prototype,"channelService",void 0),Ul([et("AuthorService"),Bl("design:type",vt)],Fl.prototype,"authorService",void 0),Ul([et("ImageService"),Bl("design:type",vl)],Fl.prototype,"imageService",void 0),Ul([et("SchemaService"),Bl("design:type",or)],Fl.prototype,"schemaService",void 0),Ul([et("QuillService"),Bl("design:type",nr)],Fl.prototype,"quillService",void 0),Ul([et("AnimationService"),Bl("design:type",ht)],Fl.prototype,"animationService",void 0),Ul([et("ItemPageService"),Bl("design:type",Sl)],Fl.prototype,"itemPageService",void 0),Ul([et("AttributeTotalService"),Bl("design:type",mt)],Fl.prototype,"attributeTotalService",void 0),Fl=Ul([Ke(),Bl("design:paramtypes",[])],Fl);const Gl="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Wl=e=>e instanceof Uint8Array,zl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Jl=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Ql(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Wl(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Kl{clone(){return this._cloneInto()}}function Yl(e){const t=t=>e().update(Ql(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Zl(e=32){if(Gl&&"function"==typeof Gl.getRandomValues)return Gl.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Xl extends Kl{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zl(this.buffer)}update(e){Hl(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Ql(e)).length;for(let a=0;a<i;){const o=Math.min(n-this.pos,i-a);if(o!==n)r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=zl(e);for(;n<=i-a;a+=n)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hl(this),function(e,t){ql(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=zl(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}const eu=(e,t,r)=>e&t^~e&r,tu=(e,t,r)=>e&t^e&r^t&r,ru=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),iu=new Uint32Array(64);class au extends Xl{constructor(){super(64,32,8,!1),this.A=0|nu[0],this.B=0|nu[1],this.C=0|nu[2],this.D=0|nu[3],this.E=0|nu[4],this.F=0|nu[5],this.G=0|nu[6],this.H=0|nu[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:a,G:o,H:s}=this;return[e,t,r,n,i,a,o,s]}set(e,t,r,n,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)iu[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=iu[e-15],r=iu[e-2],n=Jl(t,7)^Jl(t,18)^t>>>3,i=Jl(r,17)^Jl(r,19)^r>>>10;iu[e]=i+iu[e-7]+n+iu[e-16]|0}let{A:r,B:n,C:i,D:a,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(Jl(o,6)^Jl(o,11)^Jl(o,25))+eu(o,s,c)+ru[e]+iu[e]|0,u=(Jl(r,2)^Jl(r,13)^Jl(r,22))+tu(r,n,i)|0;l=c,c=s,s=o,o=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,a,o,s,c,l)}roundClean(){iu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ou=Yl((()=>new au)),su=(BigInt(0),BigInt(1)),cu=BigInt(2),lu=e=>e instanceof Uint8Array,uu=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function du(e){if(!lu(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=uu[e[r]];return t}function pu(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function hu(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[t]=a}return r}function fu(e){return pu(du(e))}function gu(e){if(!lu(e))throw new Error("Uint8Array expected");return pu(du(Uint8Array.from(e).reverse()))}function mu(e,t){return hu(e.toString(16).padStart(2*t,"0"))}function yu(e,t){return mu(e,t).reverse()}function bu(e,t,r){let n;if("string"==typeof t)try{n=hu(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!lu(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function vu(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!lu(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}const wu=e=>(cu<<BigInt(e-1))-su,Au=e=>new Uint8Array(e),Su=e=>Uint8Array.from(e);function Eu(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=Au(e),i=Au(e),a=0;const o=()=>{n.fill(1),i.fill(0),a=0},s=(...e)=>r(i,n,...e),c=(e=Au())=>{i=s(Su([0]),e),n=s(),0!==e.length&&(i=s(Su([1]),e),n=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=s();const t=n.slice();r.push(t),e+=n.length}return vu(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}const Tu={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ru(e,t,r={}){const n=(t,r,n)=>{const i=Tu[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const a=e[t];if(!(n&&void 0===a||i(a,e)))throw new Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}const ku=BigInt(0),xu=BigInt(1),Iu=BigInt(2),Ou=BigInt(3),Mu=BigInt(4),Nu=BigInt(5),_u=BigInt(8);function Pu(e,t){const r=e%t;return r>=ku?r:t+r}function Cu(e,t,r){if(r<=ku||t<ku)throw new Error("Expected power/modulo > 0");if(r===xu)return ku;let n=xu;for(;t>ku;)t&xu&&(n=n*e%r),e=e*e%r,t>>=xu;return n}function Lu(e,t,r){let n=e;for(;t-- >ku;)n*=n,n%=r;return n}function Du(e,t){if(e===ku||t<=ku)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Pu(e,t),n=t,i=ku,a=xu,o=xu,s=ku;for(;r!==ku;){const e=n/r,t=n%r,c=i-o*e,l=a-s*e;n=r,r=t,i=o,a=s,o=c,s=l}if(n!==xu)throw new Error("invert: does not exist");return Pu(i,t)}BigInt(9),BigInt(16);const Vu=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uu(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Bu(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ju(e){const t=Bu(e);return t+Math.ceil(t/2)}class Fu extends Kl{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");$l(e.outputLen),$l(e.blockLen)}(e);const r=Ql(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Hl(this),this.iHash.update(e),this}digestInto(e){Hl(this),ql(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $u=(e,t,r)=>new Fu(e,t).update(r).digest();$u.create=(e,t)=>new Fu(e,t);const qu=BigInt(0),Hu=BigInt(1);function Gu(e){return Ru(e.Fp,Vu.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ru(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Uu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:Wu,hexToBytes:zu}=e,Ju={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Ju;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Wu(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Ju,r="string"==typeof e?zu(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:a}=Ju._parseInt(r.subarray(2)),{d:o,l:s}=Ju._parseInt(a);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),a=n.length/2,o=i.length/2,s=r(a),c=r(o);return`30${r(o+a+4)}02${c}${i}02${s}${n}`}},Qu=BigInt(0),Ku=BigInt(1),Yu=(BigInt(2),BigInt(3));function Zu(e){const t=function(e){const t=Gu(e);return Ru(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function o(e){return Pu(e,n)}function s(e){return Du(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){const t=function(e){const t=Gu(e);Ru(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return vu(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function a(e){const{a:n,b:i}=t,a=r.sqr(e),o=r.mul(a,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"==typeof e&&Qu<e&&e<t.n}function s(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:a}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=du(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let o;try{o="bigint"==typeof e?e:fu(bu("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=Pu(o,a)),s(o),o}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(bu("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=a(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:a,py:o,pz:s}=e,c=r.eql(r.mul(t,s),r.mul(a,i)),l=r.eql(r.mul(n,s),r.mul(o,i));return c&&l}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,Yu),{px:a,py:o,pz:s}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,p=r.mul(a,a),h=r.mul(o,o),f=r.mul(s,s),g=r.mul(a,o);return g=r.add(g,g),u=r.mul(a,s),u=r.add(u,u),c=r.mul(e,u),l=r.mul(i,f),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(g,c),u=r.mul(i,u),f=r.mul(e,f),g=r.sub(p,f),g=r.mul(e,g),g=r.add(g,u),u=r.add(p,p),p=r.add(u,p),p=r.add(p,f),p=r.mul(p,g),l=r.add(l,p),f=r.mul(o,s),f=r.add(f,f),p=r.mul(f,g),c=r.sub(c,p),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new d(c,l,u)}add(e){u(e);const{px:n,py:i,pz:a}=this,{px:o,py:s,pz:c}=e;let l=r.ZERO,p=r.ZERO,h=r.ZERO;const f=t.a,g=r.mul(t.b,Yu);let m=r.mul(n,o),y=r.mul(i,s),b=r.mul(a,c),v=r.add(n,i),w=r.add(o,s);v=r.mul(v,w),w=r.add(m,y),v=r.sub(v,w),w=r.add(n,a);let A=r.add(o,c);return w=r.mul(w,A),A=r.add(m,b),w=r.sub(w,A),A=r.add(i,a),l=r.add(s,c),A=r.mul(A,l),l=r.add(y,b),A=r.sub(A,l),h=r.mul(f,w),l=r.mul(g,b),h=r.add(l,h),l=r.sub(y,h),h=r.add(y,h),p=r.mul(l,h),y=r.add(m,m),y=r.add(y,m),b=r.mul(f,b),w=r.mul(g,w),y=r.add(y,b),b=r.sub(m,b),b=r.mul(f,b),w=r.add(w,b),m=r.mul(y,w),p=r.add(p,m),m=r.mul(A,w),l=r.mul(v,l),l=r.sub(l,m),m=r.mul(v,y),h=r.mul(A,h),h=r.add(h,m),new d(l,p,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,l,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}))}multiplyUnsafe(e){const n=d.ZERO;if(e===Qu)return n;if(s(e),e===Ku)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:a,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=n,p=n,f=this;for(;o>Qu||l>Qu;)o&Ku&&(u=u.add(f)),l&Ku&&(p=p.add(f)),f=f.double(),o>>=Ku,l>>=Ku;return a&&(u=u.negate()),c&&(p=p.negate()),p=new d(r.mul(p.px,i.beta),p.py,p.pz),u.add(p)}multiply(e){s(e);let n,i,a=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:s,k2:c}=o.splitScalar(a);let{p:l,f:u}=this.wNAF(t),{p,f}=this.wNAF(c);l=h.constTimeNegate(e,l),p=h.constTimeNegate(s,p),p=new d(r.mul(p.px,o.beta),p.py,p.pz),n=l.add(p),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(a);n=e,i=t}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=d.BASE,i=(e,t)=>t!==Qu&&t!==Ku&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){const{px:t,py:n,pz:i}=this,a=this.is0();null==e&&(e=a?r.ONE:r.inv(i));const o=r.mul(t,e),s=r.mul(n,e),c=r.mul(i,e);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:s}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Ku)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Ku?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(d,this,e)}toHex(e=!0){return du(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,h=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>qu;)r&Hu&&(n=n.add(i)),i=i.double(),r>>=Hu;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),a=[];let o=e,s=o;for(let e=0;e<r;e++){s=o,a.push(s);for(let e=1;e<i;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(t,i,a){const{windows:o,windowSize:s}=n(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,p=BigInt(t);for(let e=0;e<o;e++){const t=e*s;let n=Number(a&u);a>>=p,n>s&&(n-=d,a+=Hu);const o=t,h=t+Math.abs(n)-1,f=e%2!=0,g=n<0;0===n?l=l.add(r(f,i[o])):c=c.add(r(g,i[h]))}return{p:c,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let a=t.get(e);return a||(a=this.precomputeWindow(e,i),1!==i&&t.set(e,n(a))),this.wNAF(i,a,r)}}}(d,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}({...t,toBytes(e,t,n){const i=t.toAffine(),a=r.toBytes(i.x),o=vu;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===a&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}{const e=fu(o);if(!(Qu<(s=e)&&s<r.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=r.sqrt(t);return 1==(1&n)!=((i&Ku)===Ku)&&(i=r.neg(i)),{x:e,y:i}}var s}}),p=e=>du(mu(e,t.nByteLength));function h(e){return e>n>>Ku}const f=(e,t,r)=>fu(e.slice(t,r));class g{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=bu("compactSignature",e,2*r),new g(f(e,0,r),f(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Ju.toSig(bu("DER",e));return new g(t,r)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:a}=this,l=v(bu("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const u=2===a||3===a?n+t.n:n;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0==(1&a)?"02":"03",h=c.fromHex(d+p(u)),f=s(u),g=o(-l*f),m=o(i*f),y=c.BASE.multiplyAndAddUnsafe(h,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return hu(this.toDERHex())}toDERHex(){return Ju.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hu(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const m={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=ju(t.n);return function(e,t,r=!1){const n=e.length,i=Bu(t),a=ju(t);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const o=Pu(r?fu(e):gu(e),t-xu)+xu;return r?yu(o,i):mu(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function y(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===a:r?n===2*i||n===2*a:e instanceof c}const b=t.bits2int||function(e){const r=fu(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return o(b(e))},w=wu(t.nBitLength);function A(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Qu<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return mu(e,t.nByteLength)}const S={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,n,i=S){const{seed:a,k2sig:u}=function(e,n,i=S){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:u}=t;let{lowS:p,prehash:f,extraEntropy:m}=i;null==p&&(p=!0),e=bu("msgHash",e),f&&(e=bu("prehashed msgHash",a(e)));const y=v(e),w=l(n),E=[A(w),A(y)];if(null!=m){const e=!0===m?u(r.BYTES):m;E.push(bu("extraEntropy",e))}const T=vu(...E),R=y;return{seed:T,k2sig:function(e){const t=b(e);if(!d(t))return;const r=s(t),n=c.BASE.multiply(t).toAffine(),i=o(n.x);if(i===Qu)return;const a=o(r*o(R+i*w));if(a===Qu)return;let l=(n.x===i?0:2)|Number(n.y&Ku),u=a;return p&&h(a)&&(u=function(e){return h(e)?o(-e):e}(a),l^=1),new g(i,u,l)}}}(e,n,i),p=t;return Eu(p.hash.outputLen,p.nByteLength,p.hmac)(a,u)},verify:function(e,r,n,i=E){const a=e;if(r=bu("msgHash",r),n=bu("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=i;let d,p;try{if("string"==typeof a||a instanceof Uint8Array)try{d=g.fromDER(a)}catch(e){if(!(e instanceof Ju.Err))throw e;d=g.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;d=new g(e,t)}}p=c.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(r=t.hash(r));const{r:h,s:f}=d,m=v(r),y=s(f),b=o(m*y),w=o(h*y),A=c.BASE.multiplyAndAddUnsafe(p,b,w)?.toAffine();return!!A&&o(A.x)===h},ProjectivePoint:c,Signature:g,utils:m}}function Xu(e){return{hash:e,hmac:(t,...r)=>$u(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Wl(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}(...r)),randomBytes:Zl}}BigInt(4);const ed=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),td=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rd=BigInt(1),nd=BigInt(2),id=(e,t)=>(e+t/nd)/t;const ad=function(e,t,r=!1,n={}){if(e<=ku)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:a}=Uu(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=function(e){if(e%Mu===Ou){const t=(e+xu)/Mu;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%_u===Nu){const t=(e-Nu)/_u;return function(e,r){const n=e.mul(r,Iu),i=e.pow(n,t),a=e.mul(r,i),o=e.mul(e.mul(a,Iu),i),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-xu)/Iu;let r,n,i;for(r=e-xu,n=0;r%Iu===ku;r/=Iu,n++);for(i=Iu;i<e&&Cu(i,t,e)!==e-xu;i++);if(1===n){const t=(e+xu)/Mu;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const a=(r+xu)/Iu;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,c=e.pow(e.mul(e.ONE,i),r),l=e.pow(o,a),u=e.pow(o,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,xu<<BigInt(s-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),s=t}return l}}(e)}(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:wu(i),ZERO:ku,ONE:xu,create:t=>Pu(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return ku<=t&&t<e},is0:e=>e===ku,isOdd:e=>(e&xu)===xu,neg:t=>Pu(-t,e),eql:(e,t)=>e===t,sqr:t=>Pu(t*t,e),add:(t,r)=>Pu(t+r,e),sub:(t,r)=>Pu(t-r,e),mul:(t,r)=>Pu(t*r,e),pow:(e,t)=>function(e,t,r){if(r<ku)throw new Error("Expected power > 0");if(r===ku)return e.ONE;if(r===xu)return t;let n=e.ONE,i=t;for(;r>ku;)r&xu&&(n=e.mul(n,i)),i=e.sqr(i),r>>=xu;return n}(s,e,t),div:(t,r)=>Pu(t*Du(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Du(t,e),sqrt:n.sqrt||(e=>o(s,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(s,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?yu(e,a):mu(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return r?gu(e):fu(e)}});return Object.freeze(s)}(ed,void 0,void 0,{sqrt:function(e){const t=ed,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Lu(u,r,t)*u%t,p=Lu(d,r,t)*u%t,h=Lu(p,nd,t)*l%t,f=Lu(h,i,t)*h%t,g=Lu(f,a,t)*f%t,m=Lu(g,s,t)*g%t,y=Lu(m,c,t)*m%t,b=Lu(y,s,t)*g%t,v=Lu(b,r,t)*u%t,w=Lu(v,o,t)*f%t,A=Lu(w,n,t)*l%t,S=Lu(A,nd,t);if(!ad.eql(ad.sqr(S),e))throw new Error("Cannot find square root");return S}}),od=function(e,t){const r=t=>Zu({...e,...Xu(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:ad,n:td,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=td,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-rd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=BigInt("0x100000000000000000000000000000000"),s=id(a*e,t),c=id(-n*e,t);let l=Pu(e-s*r-c*i,t),u=Pu(-s*n-c*a,t);const d=l>o,p=u>o;if(d&&(l=t-l),p&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},ou);BigInt(0),od.ProjectivePoint;const sd="0x0000000000000000000000000000000000000000000000000000000000000000",cd=BigInt(0),ld=BigInt(1),ud=BigInt(2),dd=BigInt(27),pd=BigInt(28),hd=BigInt(35),fd={};function gd(e){return wn(bi(e),32)}class md{#B;#j;#F;#$;get r(){return this.#B}set r(e){rn(32===mn(e),"invalid r","value",e),this.#B=fn(e)}get s(){return this.#j}set s(e){rn(32===mn(e),"invalid s","value",e);const t=fn(e);rn(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#j=t}get v(){return this.#F}set v(e){const t=gi(e,"value");rn(27===t||28===t,"invalid v","v",e),this.#F=t}get networkV(){return this.#$}get legacyChainId(){const e=this.networkV;return null==e?null:md.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=ln(this.s);return this.yParity&&(e[0]|=128),fn(e)}get compactSerialized(){return gn([this.r,this.yParityAndS])}get serialized(){return gn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){sn(e,fd,"Signature"),this.#B=t,this.#j=r,this.#F=n,this.#$=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new md(fd,this.r,this.s,this.v);return this.networkV&&(e.#$=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=di(e,"v");return t==dd||t==pd?cd:(rn(t>=hd,"invalid EIP-155 v","v",e),(t-hd)/ud)}static getChainIdV(e,t){return di(e)*ud+BigInt(35+t-27)}static getNormalizedV(e){const t=di(e);return t===cd||t===dd?27:t===ld||t===pd?28:(rn(t>=hd,"invalid v","v",e),t&ld?27:28)}static from(e){function t(t,r){rn(t,r,"signature",e)}if(null==e)return new md(fd,sd,sd,27);if("string"==typeof e){const r=ln(e,"signature");if(64===r.length){const e=fn(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new md(fd,e,fn(t),n)}if(65===r.length){const e=fn(r.slice(0,32)),n=r.slice(32,64);t(0==(128&n[0]),"non-canonical s");const i=md.getNormalizedV(r[64]);return new md(fd,e,fn(n),i)}t(!1,"invalid raw signature length")}if(e instanceof md)return e.clone();const r=e.r;t(null!=r,"missing r");const n=gd(r),i=function(e,r){if(null!=e)return gd(e);if(null!=r){t(dn(r,32),"invalid yParityAndS");const e=ln(r);return e[0]&=127,fn(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&ln(i)[0]),"non-canonical s");const{networkV:a,v:o}=function(e,r,n){if(null!=e){const t=di(e);return{networkV:t>=hd?t:void 0,v:md.getNormalizedV(t)}}if(null!=r)return t(dn(r,32),"invalid yParityAndS"),{v:128&ln(r)[0]?28:27};if(null!=n){switch(gi(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),s=new md(fd,n,i,o);return a&&(s.#$=a),t(null==e.yParity||gi(e.yParity,"sig.yParity")===s.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===s.yParityAndS,"yParityAndS mismatch"),s}}class yd{#q;constructor(e){rn(32===mn(e),"invalid private key","privateKey","[REDACTED]"),this.#q=fn(e)}get privateKey(){return this.#q}get publicKey(){return yd.computePublicKey(this.#q)}get compressedPublicKey(){return yd.computePublicKey(this.#q,!0)}sign(e){rn(32===mn(e),"invalid digest length","digest",e);const t=od.sign(un(e),un(this.#q),{lowS:!0});return md.from({r:yi(t.r,32),s:yi(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=yd.computePublicKey(e);return fn(od.getSharedSecret(un(this.#q),ln(t),!1))}static computePublicKey(e,t){let r=ln(e,"key");if(32===r.length)return fn(od.getPublicKey(r,!!t));if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return fn(od.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){rn(32===mn(e),"invalid digest length","digest",e);const r=md.from(t);let n=od.Signature.fromCompact(un(gn([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const i=n.recoverPublicKey(un(e));return rn(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){const n=od.ProjectivePoint.fromHex(yd.computePublicKey(e).substring(2)),i=od.ProjectivePoint.fromHex(yd.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}function bd(e){let t;return t="string"==typeof e?yd.computePublicKey(e,!1):e.publicKey,Pn(Rn("0x"+t.substring(4)).substring(26))}function vd(e,t){return bd(yd.recoverPublicKey(e,t))}const wd=new Uint8Array(32);wd.fill(0);const Ad=BigInt(-1),Sd=BigInt(0),Ed=BigInt(1),Td=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Rd=yi(Ed,32),kd=yi(Sd,32),xd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Id=["name","version","chainId","verifyingContract","salt"];function Od(e){return function(t){return rn("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Md={name:Od("name"),version:Od("version"),chainId:function(e){const t=di(e,"domain.chainId");return rn(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):vi(t)},verifyingContract:function(e){try{return Pn(e).toLowerCase()}catch(e){}rn(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=ln(e,"domain.salt");return rn(32===t.length,'invalid domain value "salt"',"domain.salt",e),fn(t)}};function Nd(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");rn(n%8==0&&0!==n&&n<=256&&(null==t[2]||t[2]===String(n)),"invalid numeric width","type",e);const i=ui(Td,r?n-1:n),a=r?(i+Ed)*Ad:Sd;return function(t){const n=di(t,"value");return rn(n>=a&&n<=i,`value out-of-bounds for ${e}`,"value",n),yi(r?li(n,256):n,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return rn(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return rn(ln(t).length===r,`invalid length for ${e}`,"value",t),function(e){const t=ln(e),r=t.length%32;return r?gn([t,wd.slice(r)]):fn(t)}(t)}}}switch(e){case"address":return function(e){return wn(Pn(e),32)};case"bool":return function(e){return e?Rd:kd};case"bytes":return function(e){return Rn(e)};case"string":return function(e){return ii(e)}}return null}function _d(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class Pd{primaryType;#H;get types(){return JSON.parse(this.#H)}#G;#W;constructor(e){this.#H=JSON.stringify(e),this.#G=new Map,this.#W=new Map;const t=new Map,r=new Map,n=new Map;Object.keys(e).forEach((e=>{t.set(e,new Set),r.set(e,[]),n.set(e,new Set)}));for(const n in e){const i=new Set;for(const a of e[n]){rn(!i.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(n)}`,"types",e),i.add(a.name);const o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;rn(o!==n,`circular type reference to ${JSON.stringify(o)}`,"types",e),Nd(o)||(rn(r.has(o),`unknown type ${JSON.stringify(o)}`,"types",e),r.get(o).push(n),t.get(n).add(o))}}const i=Array.from(r.keys()).filter((e=>0===r.get(e).length));rn(0!==i.length,"missing primary type","types",e),rn(1===i.length,`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),Kr(this,{primaryType:i[0]}),function i(a,o){rn(!o.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),o.add(a);for(const e of t.get(a))if(r.has(e)){i(e,o);for(const t of o)n.get(t).add(e)}o.delete(a)}(this.primaryType,new Set);for(const[t,r]of n){const n=Array.from(r);n.sort(),this.#G.set(t,_d(t,e[t])+n.map((t=>_d(t,e[t]))).join(""))}}getEncoder(e){let t=this.#W.get(e);return t||(t=this.#z(e),this.#W.set(e,t)),t}#z(e){{const t=Nd(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e);return n=>{rn(!t[3]||parseInt(t[3])===n.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",n);let i=n.map(r);return this.#G.has(e)&&(i=i.map(Rn)),Rn(gn(i))}}const r=this.types[e];if(r){const t=ii(this.#G.get(e));return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this.#G.has(r)?Rn(n):n}));return n.unshift(t),gn(n)}}rn(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#G.get(e);return rn(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Rn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Nd(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n)return rn(!n[3]||parseInt(n[3])===t.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",t),t.map((e=>this._visit(n[1],e,r)));const i=this.types[e];if(i)return i.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{});rn(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Pd(e)}static getPrimaryType(e){return Pd.from(e).primaryType}static hashStruct(e,t,r){return Pd.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const n=xd[r];rn(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>Id.indexOf(e.name)-Id.indexOf(t.name))),Pd.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return gn(["0x1901",Pd.hashDomain(e),Pd.from(t).hash(r)])}static hash(e,t,r){return Rn(Pd.encode(e,t,r))}static async resolveNames(e,t,r,n){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const i={};e.verifyingContract&&!dn(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Pd.from(t);a.visit(r,((e,t)=>("address"!==e||dn(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=a.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,r){Pd.hashDomain(e);const n={},i=[];Id.forEach((t=>{const r=e[t];null!=r&&(n[t]=Md[t](r),i.push({name:t,type:xd[t]}))}));const a=Pd.from(t),o=Object.assign({},t);return rn(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,a.encode(r),{types:o,domain:n,primaryType:a.primaryType,message:a.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return fn(ln(t));if(e.match(/^u?int/))return di(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return rn("string"==typeof t,"invalid string","value",t),t}rn(!1,"unsupported type","type",e)}))}}}function Cd(e,t,r,n){return vd(Pd.hash(e,t,r),n)}function Ld(e){e=atob(e);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return ln(t)}function Dd(e){const t=ln(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}var Vd=a(8971).ZP;function Ud(e){return async function(e,t){const r=e.url.split(":")[0].toLowerCase();let n;if(tn("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),tn("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;n=e.signal,t.addListener((()=>{e.abort()}))}const i={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:n},a=await Vd(e.url,i),o={};a.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e}));const s=await a.arrayBuffer(),c=null==s?null:new Uint8Array(s);return{statusCode:a.status,statusMessage:a.statusText,headers:o,body:c}}}Ud();let Bd=Ud();const jd=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Fd=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let $d=!1;async function qd(e,t){try{const t=e.match(jd);if(!t)throw new Error("invalid data");return new Kd(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?Ld(t[3]):ti(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new Kd(599,"BAD REQUEST (invalid data: URI)",{},null,new Qd(e))}}function Hd(e){return async function(t,r){try{const r=t.match(Fd);if(!r)throw new Error("invalid link");return new Qd(`${e}${r[2]}`)}catch(e){return new Kd(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Qd(t))}}}const Gd={data:qd,ipfs:Hd("https://gateway.ipfs.io/ipfs/")},Wd=new WeakMap;class zd{#J;#Q;constructor(e){this.#J=[],this.#Q=!1,Wd.set(e,(()=>{if(!this.#Q){this.#Q=!0;for(const e of this.#J)setTimeout((()=>{e()}),0);this.#J=[]}}))}addListener(e){tn(!this.#Q,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#J.push(e)}get cancelled(){return this.#Q}checkSignal(){tn(!this.cancelled,"cancelled","CANCELLED",{})}}function Jd(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class Qd{#K;#Y;#Z;#X;#ee;#te;#re;#ne;#ie;#ae;#oe;#se;#ce;#le;#ue;get url(){return this.#te}set url(e){this.#te=String(e)}get body(){return null==this.#re?null:new Uint8Array(this.#re)}set body(e){if(null==e)this.#re=void 0,this.#ne=void 0;else if("string"==typeof e)this.#re=ti(e),this.#ne="text/plain";else if(e instanceof Uint8Array)this.#re=e,this.#ne="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#re=ti(JSON.stringify(e)),this.#ne="application/json"}}hasBody(){return null!=this.#re}get method(){return this.#X?this.#X:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#X=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#Z);return this.#ie&&(e.authorization=`Basic ${Dd(ti(this.#ie))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#ne&&(e["content-type"]=this.#ne),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#Z[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#Z={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#ie||null}setCredentials(e,t){rn(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#ie=`${e}:${t}`}get allowGzip(){return this.#Y}set allowGzip(e){this.#Y=!!e}get allowInsecureAuthentication(){return!!this.#K}set allowInsecureAuthentication(e){this.#K=!!e}get timeout(){return this.#ee}set timeout(e){rn(e>=0,"timeout must be non-zero","timeout",e),this.#ee=e}get preflightFunc(){return this.#ae||null}set preflightFunc(e){this.#ae=e}get processFunc(){return this.#oe||null}set processFunc(e){this.#oe=e}get retryFunc(){return this.#se||null}set retryFunc(e){this.#se=e}get getUrlFunc(){return this.#ue||Bd}set getUrlFunc(e){this.#ue=e}constructor(e){this.#te=String(e),this.#K=!1,this.#Y=!0,this.#Z={},this.#X="",this.#ee=3e5,this.#le={slotInterval:250,maxAttempts:12},this.#ue=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#re?fn(this.#re):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#le.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#le.maxAttempts=e.maxAttempts)}async#de(e,t,r,n,i){if(e>=this.#le.maxAttempts)return i.makeServerError("exceeded maximum retry limit");tn(Yd()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in Gd){const e=await Gd[o](a.url,Jd(n.#ce));if(e instanceof Kd){let t=e;if(this.processFunc){Jd(n.#ce);try{t=await this.processFunc(a,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}a=e}this.preflightFunc&&(a=await this.preflightFunc(a));const s=await this.getUrlFunc(a,Jd(n.#ce));let c=new Kd(s.statusCode,s.statusMessage,s.headers,s.body,n);if(301===c.statusCode||302===c.statusCode){try{const r=c.headers.location||"";return a.redirect(r).#de(e+1,t,0,n,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(a,c,e))){const r=c.headers["retry-after"];let i=this.#le.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),a.clone().#de(e+1,t,i,n,c)}if(this.processFunc){Jd(n.#ce);try{c=await this.processFunc(a,c)}catch(r){null!=r.throttle&&"number"==typeof r.stall||c.makeServerError("error in post-processing function",r).assertOk();let i=this.#le.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return r.stall>=0&&(i=r.stall),a.clone().#de(e+1,t,i,n,c)}}return c}send(){return tn(null==this.#ce,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#ce=new zd(this),this.#de(0,Yd()+this.timeout,0,this,new Kd(0,"",{},null,this))}cancel(){tn(null!=this.#ce,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Wd.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();tn("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const n=new Qd(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#Z=Object.assign({},this.#Z),this.#re&&(n.#re=new Uint8Array(this.#re)),n.#ne=this.#ne,n}clone(){const e=new Qd(this.url);return e.#X=this.#X,this.#re&&(e.#re=this.#re),e.#ne=this.#ne,e.#Z=Object.assign({},this.#Z),e.#ie=this.#ie,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#ae=this.#ae,e.#oe=this.#oe,e.#se=this.#se,e.#ue=this.#ue,e}static lockConfig(){$d=!0}static getGateway(e){return Gd[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if($d)throw new Error("gateways locked");Gd[e]=t}static registerGetUrl(e){if($d)throw new Error("gateways locked");Bd=e}static createGetUrlFunc(e){return Ud()}static createDataGateway(){return qd}static createIpfsGatewayFunc(e){return Hd(e)}}class Kd{#pe;#he;#Z;#re;#fe;#ge;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#re?fn(this.#re):"null"}>`}get statusCode(){return this.#pe}get statusMessage(){return this.#he}get headers(){return Object.assign({},this.#Z)}get body(){return null==this.#re?null:new Uint8Array(this.#re)}get bodyText(){try{return null==this.#re?"":ri(this.#re)}catch(e){tn(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){tn(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#pe=e,this.#he=t,this.#Z=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#re=null==n?null:new Uint8Array(n),this.#fe=i||null,this.#ge={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const n=new Kd(599,r,this.headers,this.body,this.#fe||void 0);return n.#ge={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:rn(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw Kr(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#re}get request(){return this.#fe}ok(){return""===this.#ge.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#ge;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`),tn(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}}function Yd(){return(new Date).getTime()}const Zd="0x0000000000000000000000000000000000000000";var Xd="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const ep=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),tp=4;function rp(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let o=r(),s=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const d=2**31,p=d>>>1,h=d-1;let f=0;for(let e=0;e<31;e++)f=f<<1|u();let g=[],m=0,y=d;for(;;){let e=Math.floor(((f-m+1)*i-1)/y),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;g.push(t);let o=m+Math.floor(y*a[t]/i),s=m+Math.floor(y*a[t+1]/i)-1;for(;0==((o^s)&p);)f=f<<1&h|u(),o=o<<1&h,s=s<<1&h|1;for(;o&~s&536870912;)f=f&p|f<<1&h>>>1|u(),o=o<<1^p,s=(s^p)<<1|p|1;m=o,y=1+s-o}let b=n-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return b+256+(e[s++]<<8|e[s++]);case 1:return b+e[s++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,a=0,o=0,s=0;i<r;i++)s=s<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(n[a++]=s>>(o-=8));return n}(e)))}function np(e){return 1&e?~e>>1:e>>1}function ip(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=np(t());return r}function ap(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function op(e){return cp((()=>{let t=ap(e);if(t.length)return t}))}function sp(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(up(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(dp(r,e))}return t.flat()}function cp(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function lp(e,t,r){let n=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)ip(e,r).forEach(((e,t)=>n[t].push(e)));return n}function up(e,t){let r=1+t(),n=t(),i=cp(t);return lp(i.length,1+e,t).flatMap(((e,t)=>{let[a,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*n;return[a+t*r,o.map((e=>e+i))]}))}))}function dp(e,t){return lp(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function pp(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function hp(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function fp(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}var gp="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const mp=44032,yp=4352,bp=4449,vp=4519,wp=28,Ap=21*wp,Sp=mp+19*Ap,Ep=yp+19,Tp=bp+21,Rp=vp+wp;function kp(e){return e>>24&255}function xp(e){return 16777215&e}let Ip,Op,Mp,Np;function _p(e){return e>=mp&&e<Sp}function Pp(e,t){if(e>=yp&&e<Ep&&t>=bp&&t<Tp)return mp+(e-yp)*Ap+(t-bp)*wp;if(_p(e)&&t>vp&&t<Rp&&(e-mp)%wp==0)return e+(t-vp);{let r=Np.get(e);return r&&(r=r.get(t),r)?r:-1}}function Cp(e){Ip||function(){let e=rp(gp);Ip=new Map(op(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Op=new Set(ap(e)),Mp=new Map,Np=new Map;for(let[t,r]of sp(e)){if(!Op.has(t)&&2==r.length){let[e,n]=r,i=Np.get(e);i||(i=new Map,Np.set(e,i)),i.set(n,t)}Mp.set(t,r.reverse())}}();let t=[],r=[],n=!1;function i(e){let r=Ip.get(e);r&&(n=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(_p(n)){let e=n-mp,t=e%Ap/wp|0,r=e%wp;i(yp+(e/Ap|0)),i(bp+t),r>0&&i(vp+r)}else{let e=Mp.get(n);e?r.push(...e):i(n)}if(!r.length)break;n=r.pop()}if(n&&t.length>1){let e=kp(t[0]);for(let r=1;r<t.length;r++){let n=kp(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i)break;if(e=kp(t[--i]),e<=n)break}e=kp(t[r])}}return t}function Lp(e){return Cp(e).map(xp)}function Dp(e){return function(e){let t=[],r=[],n=-1,i=0;for(let a of e){let e=kp(a),o=xp(a);if(-1==n)0==e?n=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),i=e;else{let a=Pp(n,o);a>=0?n=a:0==i&&0==e?(t.push(n),n=o):(r.push(o),i=e)}}return n>=0&&t.push(n,...r),t}(Cp(e))}const Vp=45,Up=".",Bp=65039,jp=1,Fp=e=>Array.from(e);function $p(e,t){return e.P.has(t)||e.Q.has(t)}class qp extends Array{get is_emoji(){return!0}}let Hp,Gp,Wp,zp,Jp,Qp,Kp,Yp,Zp,Xp,eh,th;function rh(){if(Hp)return;let e=rp(Xd);const t=()=>ap(e),r=()=>new Set(t());Hp=new Map(sp(e)),Gp=r(),Wp=t(),zp=new Set(t().map((e=>Wp[e]))),Wp=new Set(Wp),Jp=r(),Qp=r();let n=op(e),i=e();const a=()=>new Set(t().flatMap((e=>n[e])).concat(t()));Kp=cp((t=>{let r=cp(e).map((e=>e+96));if(r.length){let n=t>=i;return r[0]-=32,r=hp(r),n&&(r=`Restricted[${r}]`),{N:r,P:a(),Q:a(),M:!e(),R:n}}})),Yp=r(),Zp=new Map;let o=t().concat(Fp(Yp)).sort(((e,t)=>e-t));o.forEach(((t,r)=>{let n=e(),i=o[r]=n?o[r-n]:{V:[],M:new Map};i.V.push(t),Yp.has(t)||Zp.set(t,i)}));for(let{V:e,M:t}of new Set(Zp.values())){let r=[];for(let t of e){let e=Kp.filter((e=>$p(e,t))),n=r.find((({G:t})=>e.some((e=>t.has(e)))));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),e.forEach((e=>n.G.add(e)))}let n=r.flatMap((e=>Fp(e.G)));for(let{G:e,V:i}of r){let r=new Set(n.filter((t=>!e.has(t))));for(let e of i)t.set(e,r)}}let s=new Set,c=new Set;const l=e=>s.has(e)?c.add(e):s.add(e);for(let e of Kp){for(let t of e.P)l(t);for(let t of e.Q)l(t)}for(let e of s)Zp.has(e)||c.has(e)||Zp.set(e,jp);Xp=new Set(Fp(s).concat(Fp(Lp(s)))),eh=function(e){let t=[],r=ap(e);return function e({S:r,B:n},i,a){if(!(4&r&&a===i[i.length-1])){2&r&&(a=i[i.length-1]),1&r&&t.push(i);for(let t of n)for(let r of t.Q)e(t,[...i,r],a)}}(function t(n){return{S:e(),B:cp((()=>{let n=ap(e).map((e=>r[e]));if(n.length)return t(n)})),Q:n}}([]),[]),t}(e).map((e=>qp.from(e))).sort(fp),th=new Map;for(let e of eh){let t=[th];for(let r of e){let e=t.map((e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t}));r===Bp?t.push(...e):t=e}for(let r of t)r.V=e}}function nh(e){return(oh(e)?"":`${ih(ah([e]))} `)+pp(e)}function ih(e){return`"${e}"‎`}function ah(e,t=pp){let r=[];var n;n=e[0],rh(),Wp.has(n)&&r.push("◌");let i=0,a=e.length;for(let n=0;n<a;n++){let a=e[n];oh(a)&&(r.push(hp(e.slice(i,n))),r.push(t(a)),i=n+1)}return r.push(hp(e.slice(i,a))),r.join("")}function oh(e){return rh(),Jp.has(e)}function sh(e,t,r){if(!e)return[];rh();let n=0;return e.split(Up).map((e=>{let i=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),a={input:i,offset:n};n+=i.length+1;try{let e,n=a.tokens=function(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let a=ph(e);if(a)i.length&&(n.push(t(i)),i=[]),n.push(r(a));else{let t=e.pop();if(Xp.has(t))i.push(t);else{let e=Hp.get(t);if(e)i.push(...e);else if(!Gp.has(t))throw ch(t)}}}return i.length&&n.push(t(i)),n}(i,t,r),o=n.length;if(!o)throw new Error("empty label");let s=a.output=n.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(s),!(a.emoji=o>1||n[0].is_emoji)&&s.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==Vp&&e[3]==Vp)throw new Error(`invalid label extension: "${hp(e.slice(0,4))}"`)}(s),e="ASCII";else{let t=n.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Wp.has(s[0]))throw uh("leading combining mark");for(let e=1;e<o;e++){let t=n[e];if(!t.is_emoji&&Wp.has(t[0]))throw uh(`emoji + combining mark: "${hp(n[e-1])} + ${ah([t[0]])}"`)}!function(e){let t=e[0],r=ep.get(t);if(r)throw uh(`leading ${r}`);let n=e.length,i=-1;for(let a=1;a<n;a++){t=e[a];let n=ep.get(t);if(n){if(i==a)throw uh(`${r} + ${n}`);i=a+1,r=n}}if(i==n)throw uh(`trailing ${r}`)}(s);let r=Fp(new Set(t)),[i]=function(e){let t=Kp;for(let r of e){let e=t.filter((e=>$p(e,r)));if(!e.length)throw Kp.some((e=>$p(e,r)))?lh(t[0],r):ch(r);if(t=e,1==e.length)break}return t}(r);!function(e,t){for(let r of t)if(!$p(e,r))throw lh(e,r);if(e.M){let e=Lp(t);for(let t=1,r=e.length;t<r;t++)if(zp.has(e[t])){let n=t+1;for(let i;n<r&&zp.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw new Error(`duplicate non-spacing marks: ${nh(i)}`);if(n-t>tp)throw new Error(`excessive non-spacing marks: ${ih(ah(e.slice(t-1,n)))} (${n-t}/${tp})`);t=n}}}(i,t),function(e,t){let r,n=[];for(let e of t){let t=Zp.get(e);if(t===jp)return;if(t){let n=t.M.get(e);if(r=r?r.filter((e=>n.has(e))):Fp(n),!r.length)return}else n.push(e)}if(r)for(let t of r)if(n.every((e=>$p(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(i,r),e=i.N}else e="Emoji"}a.type=e}catch(e){a.error=e}return a}))}function ch(e){return new Error(`disallowed character: ${nh(e)}`)}function lh(e,t){let r=nh(t),n=Kp.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function uh(e){return new Error(`illegal placement: ${e}`)}function dh(e){return e.filter((e=>e!=Bp))}function ph(e,t){let r,n=th,i=e.length;for(;i&&(n=n.get(e[--i]),n);){let{V:a}=n;a&&(r=a,t&&t.push(...e.slice(i).reverse()),e.length=i)}return r}const hh=new Uint8Array(32);function fh(e){return rn(0!==e.length,"invalid ENS name; empty component","comp",e),e}function gh(e){const t=ti(mh(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(fh(t.slice(n,e))),n=e+1);return rn(n<t.length,"invalid ENS name; empty component","name",e),r.push(fh(t.slice(n))),r}function mh(e){try{if(0===e.length)throw new Error("empty label");return function(e){return function(e){return e.map((({input:t,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==e.length?n:`Invalid label ${ih(ah(t))}: ${n}`)}return hp(n)})).join(Up)}(sh(e,Dp,dh))}(e)}catch(t){rn(!1,`invalid ENS name (${t.message})`,"name",e)}}function yh(e){try{return 0!==gh(e).length}catch(e){}return!1}function bh(e){rn("string"==typeof e,"invalid ENS name; not a string","name",e),rn(e.length,"invalid ENS name (empty label)","name",e);let t=hh;const r=gh(e);for(;r.length;)t=Rn(gn([t,Rn(r.pop())]));return fn(t)}function vh(e){return fn(gn(gh(e).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}function wh(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Ah(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function Sh(e,t,r,n){const i=[];for(;r<t+1+n;){const a=Eh(e,r);i.push(a.result),tn((r+=a.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function Eh(e,t){tn(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{tn(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const n=e[t]-247;r(t+1+n);const i=Ah(e,t+1,n);return r(t+1+n+i),Sh(e,t,t+1+n,n+i)}if(e[t]>=192){const n=e[t]-192;return r(t+1+n),Sh(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;r(t+1+n);const i=Ah(e,t+1,n);return r(t+1+n+i),{consumed:1+n+i,result:fn(e.slice(t+1+n,t+1+n+i))}}if(e[t]>=128){const n=e[t]-128;return r(t+1+n),{consumed:1+n,result:fn(e.slice(t+1,t+1+n))}}return{consumed:1,result:wh(e[t])}}function Th(e){const t=ln(e,"data"),r=Eh(t,0);return rn(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function Rh(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function kh(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(kh(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=Rh(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call(ln(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Rh(t.length);return r.unshift(183+r.length),r.concat(t)}hh.fill(0);const xh="0123456789abcdef";function Ih(e){let t="0x";for(const r of kh(e))t+=xh[r>>4],t+=xh[15&r];return t}const Oh=BigInt(0),Mh=BigInt(2),Nh=BigInt(27),_h=BigInt(28),Ph=BigInt(35),Ch=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Lh(e){return"0x"===e?null:Pn(e)}function Dh(e,t){try{return ro(e)}catch(r){rn(!1,r.message,t,e)}}function Vh(e,t){return"0x"===e?0:gi(e,t)}function Uh(e,t){if("0x"===e)return Oh;const r=di(e,t);return rn(r<=Ch,"value exceeds uint size",t,r),r}function Bh(e,t){const r=di(e,"value"),n=bi(r);return rn(n.length<=32,"value too large",`tx.${t}`,r),n}function jh(e){return ro(e).map((e=>[e.address,e.storageKeys]))}function Fh(e,t){const r=[Bh(e.nonce||0,"nonce"),Bh(e.gasPrice||0,"gasPrice"),Bh(e.gasLimit||0,"gasLimit"),null!=e.to?Pn(e.to):"0x",Bh(e.value||0,"value"),e.data||"0x"];let n=Oh;if(e.chainId!=Oh)n=di(e.chainId,"tx.chainId"),rn(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==Oh&&(r.push(bi(n)),r.push("0x"),r.push("0x")),Ih(r);let i=BigInt(27+t.yParity);return n!==Oh?i=md.getChainIdV(n,t.v):BigInt(t.v)!==i&&rn(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(bi(i)),r.push(bi(t.r)),r.push(bi(t.s)),Ih(r)}function $h(e,t){let r;try{if(r=Vh(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(e){rn(!1,"invalid yParity","yParity",t[0])}const n=wn(t[1],32),i=wn(t[2],32),a=md.from({r:n,s:i,yParity:r});e.signature=a}function qh(e,t){const r=[Bh(e.chainId||0,"chainId"),Bh(e.nonce||0,"nonce"),Bh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Bh(e.maxFeePerGas||0,"maxFeePerGas"),Bh(e.gasLimit||0,"gasLimit"),null!=e.to?Pn(e.to):"0x",Bh(e.value||0,"value"),e.data||"0x",jh(e.accessList||[])];return t&&(r.push(Bh(t.yParity,"yParity")),r.push(bi(t.r)),r.push(bi(t.s))),gn(["0x02",Ih(r)])}function Hh(e,t){const r=[Bh(e.chainId||0,"chainId"),Bh(e.nonce||0,"nonce"),Bh(e.gasPrice||0,"gasPrice"),Bh(e.gasLimit||0,"gasLimit"),null!=e.to?Pn(e.to):"0x",Bh(e.value||0,"value"),e.data||"0x",jh(e.accessList||[])];return t&&(r.push(Bh(t.yParity,"recoveryParam")),r.push(bi(t.r)),r.push(bi(t.s))),gn(["0x01",Ih(r)])}class Gh{#n;#me;#l;#ye;#be;#ve;#we;#Ae;#Se;#Ee;#Te;#Re;get type(){return this.#n}set type(e){switch(e){case null:this.#n=null;break;case 0:case"legacy":this.#n=0;break;case 1:case"berlin":case"eip-2930":this.#n=1;break;case 2:case"london":case"eip-1559":this.#n=2;break;default:rn(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#me}set to(e){this.#me=null==e?null:Pn(e)}get nonce(){return this.#ye}set nonce(e){this.#ye=gi(e,"value")}get gasLimit(){return this.#be}set gasLimit(e){this.#be=di(e)}get gasPrice(){const e=this.#ve;return null!=e||0!==this.type&&1!==this.type?e:Oh}set gasPrice(e){this.#ve=null==e?null:di(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#we;return null==e?2===this.type?Oh:null:e}set maxPriorityFeePerGas(e){this.#we=null==e?null:di(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#Ae;return null==e?2===this.type?Oh:null:e}set maxFeePerGas(e){this.#Ae=null==e?null:di(e,"maxFeePerGas")}get data(){return this.#l}set data(e){this.#l=fn(e)}get value(){return this.#Se}set value(e){this.#Se=di(e,"value")}get chainId(){return this.#Ee}set chainId(e){this.#Ee=di(e)}get signature(){return this.#Te||null}set signature(e){this.#Te=null==e?null:md.from(e)}get accessList(){const e=this.#Re||null;return null==e?1===this.type||2===this.type?[]:null:e}set accessList(e){this.#Re=null==e?null:ro(e)}constructor(){this.#n=null,this.#me=null,this.#ye=0,this.#be=BigInt(0),this.#ve=null,this.#we=null,this.#Ae=null,this.#l="0x",this.#Se=BigInt(0),this.#Ee=BigInt(0),this.#Te=null,this.#Re=null}get hash(){return null==this.signature?null:Rn(this.serialized)}get unsignedHash(){return Rn(this.unsignedSerialized)}get from(){return null==this.signature?null:vd(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:yd.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(tn(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return Fh(this,this.signature);case 1:return Hh(this,this.signature);case 2:return qh(this,this.signature)}tn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return Fh(this);case 1:return Hh(this);case 2:return qh(this)}tn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&tn(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),tn(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),tn(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return null!=this.type?n.push(this.type):t?n.push(2):e?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(n.push(0),n.push(1),n.push(2)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return Gh.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Gh;if("string"==typeof e){const t=ln(e);if(t[0]>=127)return Gh.from(function(e){const t=Th(e);rn(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:Vh(t[0],"nonce"),gasPrice:Uh(t[1],"gasPrice"),gasLimit:Uh(t[2],"gasLimit"),to:Lh(t[3]),value:Uh(t[4],"value"),data:fn(t[5]),chainId:Oh};if(6===t.length)return r;const n=Uh(t[6],"v"),i=Uh(t[7],"r"),a=Uh(t[8],"s");if(i===Oh&&a===Oh)r.chainId=n;else{let i=(n-Ph)/Mh;i<Oh&&(i=Oh),r.chainId=i,rn(i!==Oh||n===Nh||n===_h,"non-canonical legacy v","v",t[6]),r.signature=md.from({r:wn(t[7],32),s:wn(t[8],32),v:n}),r.hash=Rn(e)}return r}(t));switch(t[0]){case 1:return Gh.from(function(e){const t=Th(ln(e).slice(1));rn(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",fn(e));const r={type:1,chainId:Uh(t[0],"chainId"),nonce:Vh(t[1],"nonce"),gasPrice:Uh(t[2],"gasPrice"),gasLimit:Uh(t[3],"gasLimit"),to:Lh(t[4]),value:Uh(t[5],"value"),data:fn(t[6]),accessList:Dh(t[7],"accessList")};return 8===t.length||(r.hash=Rn(e),$h(r,t.slice(8))),r}(t));case 2:return Gh.from(function(e){const t=Th(ln(e).slice(1));rn(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",fn(e));const r=Uh(t[2],"maxPriorityFeePerGas"),n=Uh(t[3],"maxFeePerGas"),i={type:2,chainId:Uh(t[0],"chainId"),nonce:Vh(t[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Uh(t[4],"gasLimit"),to:Lh(t[5]),value:Uh(t[6],"value"),data:fn(t[7]),accessList:Dh(t[8],"accessList")};return 9===t.length||(i.hash=Rn(e),$h(i,t.slice(9))),i}(t))}tn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Gh;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=md.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.hash&&(rn(t.isSigned(),"unsigned transaction cannot define hash","tx",e),rn(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(rn(t.isSigned(),"unsigned transaction cannot define from","tx",e),rn(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Wh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let zh=null;function Jh(e){if(null==zh){zh={};for(let e=0;e<Wh.length;e++)zh[Wh[e]]=BigInt(e)}const t=zh[e];return rn(null!=t,"invalid base58 value","letter",e),t}const Qh=BigInt(0),Kh=BigInt(58);function Yh(e){let t=fi(ln(e)),r="";for(;t;)r=Wh[Number(t%Kh)]+r,t/=Kh;return r}function Zh(e){let t=Qh;for(let r=0;r<e.length;r++)t*=Kh,t+=Jh(e[r]);return t}function Xh(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):rn(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class ef{name;constructor(e){Kr(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const tf=new RegExp("^(ipfs)://(.*)$","i"),rf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),tf,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class nf{provider;address;name;#ke;#xe;constructor(e,t,r){Kr(this,{provider:e,address:t,name:r}),this.#ke=null,this.#xe=new Ho(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ke&&(this.#ke=(async()=>{try{return await this.#xe.supportsInterface("0x9061b923")}catch(e){if(Zr(e,"CALL_EXCEPTION"))return!1;throw this.#ke=null,e}})()),await this.#ke}async#Ie(e,t){t=(t||[]).slice();const r=this.#xe.interface;t.unshift(bh(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(e),tn(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[vh(this.name),r.encodeFunctionData(n,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#xe[e](...t);return n?r.decodeFunctionResult(n,i)[0]:i}catch(e){if(!Zr(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Ie("addr(bytes32)");return null==e||e===Zd?null:e}catch(e){if(Zr(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const r=await this.#Ie("addr(bytes32,uint)",[t]);if(dn(r,20))return Pn(r)}let t=null;for(const r of this.provider.plugins)if(r instanceof ef&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;const r=await this.#Ie("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;const n=await t.decodeAddress(e,r);if(null!=n)return n;tn(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#Ie("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Ie("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${Yh("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;tn(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<rf.length;r++){const n=t.match(rf[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const r=Xh(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{const r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(n[2]||"").split("/");if(2!==o.length)return e.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:e};const s=o[1],c=new Ho(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){const t=await c.ownerOf(s);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){const t=await c.balanceOf(a,s);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let l=await c[r](s);if(null==l||"0x"===l)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),"erc1155"===i&&(l=l.replace("{id}",yi(s,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=Xh(l)),e.push({type:"metadata-url",value:l});let u={};const d=await new Qd(l).send();d.assertOk();try{u=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const r=d.body;return r&&e.push({type:"!metadata",value:fn(r)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let p=u.image;if("string"!=typeof p)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(p.match(/^(https:\/\/|data:)/i));else{if(null==p.match(tf))return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=Xh(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return tn(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#Oe(e,t){const r=await nf.getEnsAddress(e);try{const n=new Ho(r,["function resolver(bytes32) view returns (address)"],e),i=await n.resolver(bh(t),{enableCcipRead:!0});return i===Zd?null:i}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const n=await nf.#Oe(e,r);if(null!=n){const i=new nf(e,n,t);return r===t||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}function af(e){const t=Pn(e.from);let r=di(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,Pn(yn(Rn(Ih([t,r])),12))}function of(e,t,r){const n=Pn(e),i=ln(t,"salt"),a=ln(r,"initCodeHash");return rn(32===i.length,"salt must be 32 bytes","salt",t),rn(32===a.length,"initCodeHash must be 32 bytes","initCodeHash",r),Pn(yn(Rn(gn(["0xff",n,i,a])),12))}const sf=BigInt(0);function cf(e,t){return function(r){return null==r?t:e(r)}}function lf(e){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map((t=>e(t)))}}function uf(e,t){return r=>{const n={};for(const i in e){let a=i;if(t&&i in t&&!(a in r))for(const e of t[i])if(e in r){a=e;break}try{const t=e[i](r[a]);void 0!==t&&(n[i]=t)}catch(e){tn(!1,`invalid value for value.${i} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return n}}function df(e){return rn(dn(e,!0),"invalid data","value",e),e}function pf(e){return rn(dn(e,32),"invalid hash","value",e),e}const hf=uf({address:Pn,blockHash:pf,blockNumber:gi,data:df,index:gi,removed:cf((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}rn(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:lf(pf),transactionHash:pf,transactionIndex:gi},{index:["logIndex"]}),ff=uf({hash:cf(pf),parentHash:pf,number:gi,timestamp:gi,nonce:cf(df),difficulty:di,gasLimit:di,gasUsed:di,miner:cf(Pn),extraData:df,baseFeePerGas:cf(di)}),gf=uf({transactionIndex:gi,blockNumber:gi,transactionHash:pf,address:Pn,topics:lf(pf),data:df,index:gi,blockHash:pf},{index:["logIndex"]}),mf=uf({to:cf(Pn,null),from:cf(Pn,null),contractAddress:cf(Pn,null),index:gi,root:cf(fn),gasUsed:di,logsBloom:cf(df),blockHash:pf,hash:pf,logs:lf((function(e){return gf(e)})),blockNumber:gi,cumulativeGasUsed:di,effectiveGasPrice:cf(di),status:cf(gi),type:cf(gi,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function yf(e){e.to&&di(e.to)===sf&&(e.to="0x0000000000000000000000000000000000000000");const t=uf({hash:pf,type:e=>"0x"===e||null==e?0:gi(e),accessList:cf(ro,null),blockHash:cf(pf,null),blockNumber:cf(gi,null),transactionIndex:cf(gi,null),from:Pn,gasPrice:cf(di),maxPriorityFeePerGas:cf(di),maxFeePerGas:cf(di),gasLimit:di,to:cf(Pn,null),value:di,nonce:gi,data:df,creates:cf(Pn,null),chainId:cf(di,null)},{data:["input"],gasLimit:["gas"]})(e);if(null==t.to&&null==t.creates&&(t.creates=af(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=md.from(e.signature):t.signature=md.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&di(t.blockHash)===sf&&(t.blockHash=null),t}class bf{name;constructor(e){Kr(this,{name:e})}clone(){return new bf(this.name)}}class vf extends bf{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function n(e,n){let i=(t||{})[e];null==i&&(i=n),rn("number"==typeof i,`invalud value for ${e}`,"costs",t),r[e]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),Kr(this,r)}clone(){return new vf(this.effectiveBlock,this)}}class wf extends bf{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),Kr(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new wf(this.address,this.targetNetwork)}}class Af extends bf{#Me;get feeDataFunc(){return this.#Me}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#Me=e}async getFeeData(e){return await this.#Me(e)}clone(){return new Af(this.#Me)}}class Sf extends bf{#te;#Ne;get url(){return this.#te}get processFunc(){return this.#Ne}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#te=e,this.#Ne=t}clone(){return this}}const Ef=new Map;class Tf{#t;#Ee;#_e;constructor(e,t){this.#t=e,this.#Ee=di(t),this.#_e=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(e){this.#t=e}get chainId(){return this.#Ee}set chainId(e){this.#Ee=di(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===di(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===di(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===di(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#_e.values())}attachPlugin(e){if(this.#_e.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#_e.set(e.name,e.clone()),this}getPlugin(e){return this.#_e.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Tf(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new vf;let r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const n=ro(e.accessList);for(const e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){function e(e,t,r){const n=function(){const n=new Tf(e,t);return null!=r.ensNetwork&&n.attachPlugin(new wf(null,r.ensNetwork)),n.attachPlugin(new vf),(r.plugins||[]).forEach((e=>{n.attachPlugin(e)})),n};Tf.register(e,n),Tf.register(t,n),r.altNames&&r.altNames.forEach((e=>{Tf.register(e,n)}))}xf||(xf=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("matic",137,{ensNetwork:1,plugins:[kf("https://gasstation.polygon.technology/v2")]}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[kf("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("xdai",100,{ensNetwork:1}))}(),null==e)return Tf.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=Ef.get(e);if(t)return t();if("bigint"==typeof e)return new Tf("unknown",e);rn(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){rn("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Tf(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new wf(e.ensAddress,e.ensNetwork)),t}rn(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const r=Ef.get(e);r&&rn(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Ef.set(e,t)}}function Rf(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function kf(e){return new Sf(e,(async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([r.send(),e()]);n=t;const a=n.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Rf(a.maxFee,9),maxPriorityFeePerGas:Rf(a.maxPriorityFee,9)}}catch(e){tn(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}}))}let xf=!1;function If(e){return JSON.parse(JSON.stringify(e))}class Of{#Pe;#Ce;#Le;#De;constructor(e){this.#Pe=e,this.#Ce=null,this.#Le=4e3,this.#De=-2}get pollingInterval(){return this.#Le}set pollingInterval(e){this.#Le=e}async#Ve(){try{const e=await this.#Pe.getBlockNumber();if(-2===this.#De)return void(this.#De=e);if(e!==this.#De){for(let t=this.#De+1;t<=e;t++){if(null==this.#Ce)return;await this.#Pe.emit("block",t)}this.#De=e}}catch(e){}null!=this.#Ce&&(this.#Ce=this.#Pe._setTimeout(this.#Ve.bind(this),this.#Le))}start(){this.#Ce||(this.#Ce=this.#Pe._setTimeout(this.#Ve.bind(this),this.#Le),this.#Ve())}stop(){this.#Ce&&(this.#Pe._clearTimeout(this.#Ce),this.#Ce=null)}pause(e){this.stop(),e&&(this.#De=-2)}resume(){this.start()}}class Mf{#Pe;#Ve;#Ue;constructor(e){this.#Pe=e,this.#Ue=!1,this.#Ve=e=>{this._poll(e,this.#Pe)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Ue||(this.#Ue=!0,this.#Ve(-2),this.#Pe.on("block",this.#Ve))}stop(){this.#Ue&&(this.#Ue=!1,this.#Pe.off("block",this.#Ve))}pause(e){this.stop()}resume(){this.start()}}class Nf extends Mf{#Be;#je;constructor(e,t){super(e),this.#Be=t,this.#je=-2}pause(e){e&&(this.#je=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#Be);null!=r&&(-2===this.#je?this.#je=r.number:r.number>this.#je&&(t.emit(this.#Be,r.number),this.#je=r.number))}}class _f extends Mf{#O;constructor(e,t){super(e),this.#O=If(t)}async _poll(e,t){throw new Error("@TODO")}}class Pf extends Mf{#Fe;constructor(e,t){super(e),this.#Fe=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Fe);r&&t.emit(this.#Fe,r)}}class Cf{#Pe;#O;#Ce;#Ue;#De;constructor(e,t){this.#Pe=e,this.#O=If(t),this.#Ce=this.#Ve.bind(this),this.#Ue=!1,this.#De=-2}async#Ve(e){if(-2===this.#De)return;const t=If(this.#O);t.fromBlock=this.#De+1,t.toBlock=e;const r=await this.#Pe.getLogs(t);if(0!==r.length)for(const e of r)this.#Pe.emit(this.#O,e),this.#De=e.blockNumber;else this.#De<e-60&&(this.#De=e-60)}start(){this.#Ue||(this.#Ue=!0,-2===this.#De&&this.#Pe.getBlockNumber().then((e=>{this.#De=e})),this.#Pe.on("block",this.#Ce))}stop(){this.#Ue&&(this.#Ue=!1,this.#Pe.off("block",this.#Ce))}pause(e){this.stop(),e&&(this.#De=-2)}resume(){this.start()}}const Lf=BigInt(2);function Df(e){return e&&"function"==typeof e.then}function Vf(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class Uf{name;constructor(e){Kr(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Bf(e){return(e=Array.from(new Set(e).values())).sort(),e}async function jf(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(dn(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Vf("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Vf("orphan",t),filter:(r=t,JSON.parse(JSON.stringify(r)))}}var r;if(e.address||e.topics){const r=e,n={topics:(r.topics||[]).map((e=>null==e?null:Array.isArray(e)?Bf(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(r.address){const e=[],i=[],a=r=>{dn(r)?e.push(r):i.push((async()=>{e.push(await eo(r,t))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=Bf(e.map((e=>e.toLowerCase())))}return{filter:n,tag:Vf("event",n),type:"event"}}rn(!1,"unknown ProviderEvent","event",e)}function Ff(){return(new Date).getTime()}const $f={cacheTimeout:250,pollingInterval:4e3};class qf{#$e;#_e;#qe;#He;#Ge;#We;#ze;#Je;#Qe;#Ke;#Ye;#s;constructor(e,t){if(this.#s=Object.assign({},$f,t||{}),"any"===e)this.#We=!0,this.#Ge=null;else if(e){const t=Tf.from(e);this.#We=!1,this.#Ge=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#We=!1,this.#Ge=null;this.#Je=-1,this.#ze=new Map,this.#$e=new Map,this.#_e=new Map,this.#qe=null,this.#He=!1,this.#Qe=1,this.#Ke=new Map,this.#Ye=!1}get pollingInterval(){return this.#s.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#_e.values())}attachPlugin(e){if(this.#_e.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#_e.set(e.name,e.connect(this)),this}getPlugin(e){return this.#_e.get(e)||null}get disableCcipRead(){return this.#Ye}set disableCcipRead(e){this.#Ye=!!e}async#Ze(e){const t=this.#s.cacheTimeout;if(t<0)return await this._perform(e);const r=Vf(e.method,e);let n=this.#ze.get(r);return n||(n=this._perform(e),this.#ze.set(r,n),setTimeout((()=>{this.#ze.get(r)===n&&this.#ze.delete(r)}),t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let t=0;t<r.length;t++){const o=r[t],s=o.replace("{sender}",n).replace("{data}",i),c=new Qd(s);-1===o.indexOf("{data}")&&(c.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:t,urls:r});let l="unknown error";const u=await c.send();try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(l=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(e){}tn(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:l}}),a.push(l)}tn(!1,`error encountered during CCIP fetch: ${a.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,t){return new co(function(e){const t=ff(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:yf(e))),t}(e),this)}_wrapLog(e,t){return new lo(function(e){return hf(e)}(e),this)}_wrapTransactionReceipt(e,t){return new uo(function(e){return mf(e)}(e),this)}_wrapTransactionResponse(e,t){return new po(yf(e),this)}_detectNetwork(){tn(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){tn(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=gi(await this.#Ze({method:"getBlockNumber"}),"%response");return this.#Je>=0&&(this.#Je=e),e}_getAddress(e){return eo(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return dn(e)?dn(e,32)?e:vi(e):("bigint"==typeof e&&(e=gi(e,"blockTag")),"number"==typeof e?e>=0?vi(e):this.#Je>=0?vi(this.#Je+e):this.getBlockNumber().then((t=>vi(t+e))):void rn(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?Bf(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,n=(e,n,i)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const o={};return a&&(o.address=a),t.length&&(o.topics=t),n&&(o.fromBlock=n),i&&(o.toBlock=i),r&&(o.blockHash=r),o};let i,a,o=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)o.push(this._getAddress(t));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!=typeof e)).length||null!=i&&"string"!=typeof i||null!=a&&"string"!=typeof a?Promise.all([Promise.all(o),i,a]).then((e=>n(e[0],e[1],e[2]))):n(o,i,a)}_getTransactionRequest(e){const t=so(e),r=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const n=eo(t[e],this);Df(n)?r.push(async function(){t[e]=await n}()):t[e]=n})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);Df(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#Ge){const e=this._detectNetwork().then((e=>(this.emit("network",e,null),e)),(t=>{throw this.#Ge===e&&(this.#Ge=null),t}));return this.#Ge=e,(await e).clone()}const e=this.#Ge,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#We?(this.emit("network",r,t),this.#Ge===e&&(this.#Ge=Promise.resolve(r))):tn(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r,priorityFee:n}=await Qr({_block:this.#Xe("latest",!1),gasPrice:(async()=>{try{return di(await this.#Ze({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return di(await this.#Ze({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,a=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(a=null!=n?n:BigInt("1000000000"),i=o.baseFeePerGas*Lf+a),new oo(r,i,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new Qd(r.url),n=await r.processFunc(t,this,e);return new oo(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Df(t)&&(t=await t),di(await this.#Ze({method:"estimateGas",transaction:t}),"%response")}async#et(e,t,r){tn(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const n=so(e);try{return fn(await this._perform({method:"call",transaction:n,blockTag:t}))}catch(e){if(!this.disableCcipRead&&Xr(e)&&e.data&&r>=0&&"latest"===t&&null!=n.to&&"0x556f1830"===yn(e.data,0,4)){const i=e.data,a=await eo(n.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};tn(mn(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=yn(e,0,32);tn(yn(r,0,12)===yn(Kf,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=yn(r,12);try{const r=[],n=gi(yn(e,32,64)),i=gi(yn(e,n,n+32)),a=yn(e,n+32);for(let e=0;e<i;e++){const t=Hf(a,32*e);if(null==t)throw new Error("abort");r.push(t)}t.urls=r}catch(e){tn(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Gf(e,64);if(null==r)throw new Error("abort");t.calldata=r}catch(e){tn(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}tn(yn(e,100,128)===yn(Kf,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=yn(e,96,100);try{const r=Gf(e,128);if(null==r)throw new Error("abort");t.extraData=r}catch(e){tn(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(yn(e.data,4))}catch(e){tn(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:i}})}tn(o.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const s=await this.ccipReadFetch(n,o.calldata,o.urls);tn(null!=s,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:e.data,errorArgs:o.errorArgs}});const c={to:a,data:gn([o.selector,Qf([s,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#et(c,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:e}),e}}throw e}}async#tt(e){const{value:t}=await Qr({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await Qr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#tt(this.#et(t,r,e.enableCcipRead?0:-1))}async#rt(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof i||([n,i]=await Promise.all([n,i])),await this.#tt(this.#Ze(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return di(await this.#rt({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return gi(await this.#rt({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return fn(await this.#rt({method:"getCode"},e,t))}async getStorage(e,t,r){const n=di(t,"position");return fn(await this.#rt({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:n}=await Qr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Gh.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(t)}async#Xe(e,t){if(dn(e,32))return await this.#Ze({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#Ze({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:n}=await Qr({network:this.getNetwork(),params:this.#Xe(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){const{network:t,params:r}=await Qr({network:this.getNetwork(),params:this.#Ze({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await Qr({network:this.getNetwork(),params:this.#Ze({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#Ze({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await Qr({network:this.getNetwork(),result:this.#Ze({method:"getTransactionResult",hash:e})});return null==t?null:fn(t)}async getLogs(e){let t=this._getFilter(e);Df(t)&&(t=await t);const{network:r,params:n}=await Qr({network:this.getNetwork(),params:this.#Ze({method:"getLogs",filter:t})});return n.map((e=>this._wrapLog(e,r)))}_getProvider(e){tn(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await nf.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=bh((e=Pn(e)).substring(2).toLowerCase()+".addr.reverse");try{const r=await nf.getEnsAddress(this),n=new Ho(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(t);if(null==i||i===Zd)return null;const a=new Ho(i,["function name(bytes32) view returns (string)"],this),o=await a.name(t);return await this.resolveName(o)!==e?null:o}catch(e){if(Zr(e,"BAD_DATA")&&"0x"===e.value)return null;if(Zr(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){const n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let a=null;const o=async r=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n)return t(i),void(a&&(clearTimeout(a),a=null))}catch(e){console.log("EEE",e)}this.once("block",o)};null!=r&&(a=setTimeout((()=>{null!=a&&(a=null,this.off("block",o),i(en("timeout","TIMEOUT",{reason:"timeout"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(e){tn(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ke.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ke.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#Qe++,n=()=>{this.#Ke.delete(r),e()};if(this.paused)this.#Ke.set(r,{timer:null,func:n,time:t});else{const e=setTimeout(n,t);this.#Ke.set(r,{timer:e,func:n,time:Ff()})}return r}_forEachSubscriber(e){for(const t of this.#$e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Uf(e.type);case"block":{const e=new Of(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Nf(this,e.type);case"event":return new Cf(this,e.filter);case"transaction":return new Pf(this,e.hash);case"orphan":return new _f(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#$e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#qe&&t.pause(this.#qe);break}}async#nt(e,t){let r=await jf(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await jf({orphan:"drop-log",log:t[0]},this)),this.#$e.get(r.tag)||null}async#it(e){const t=await jf(e,this),r=t.tag;let n=this.#$e.get(r);return n||(n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#$e.set(r,n)),n}async on(e,t){const r=await this.#it(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#qe&&r.subscriber.pause(this.#qe)),this}async once(e,t){const r=await this.#it(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#qe&&r.subscriber.pause(this.#qe)),this}async emit(e,...t){const r=await this.#nt(e,t);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const i=new go(this,n?null:r,e);try{r.call(this,...t,i)}catch(e){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#$e.delete(r.tag)),n>0}async listenerCount(e){if(e){const t=await this.#nt(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#$e.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#nt(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#$e.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const r=await this.#nt(e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#$e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:n}=await this.#it(e);r&&n.stop(),this.#$e.delete(t)}else for(const[e,{started:t,subscriber:r}]of this.#$e)t&&r.stop(),this.#$e.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#He}destroy(){this.removeAllListeners();for(const e of this.#Ke.keys())this._clearTimeout(e);this.#He=!0}get paused(){return null!=this.#qe}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Je=-1,null!=this.#qe){if(this.#qe==!!e)return;tn(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#qe=!!e;for(const e of this.#Ke.values())e.timer&&clearTimeout(e.timer),e.time=Ff()-e.time}resume(){if(null!=this.#qe){this._forEachSubscriber((e=>e.resume())),this.#qe=null;for(const e of this.#Ke.values()){let t=e.time;t<0&&(t=0),e.time=Ff(),setTimeout(e.func,t)}}}}function Hf(e,t){try{const r=Gf(e,t);if(r)return ri(r)}catch(e){}return null}function Gf(e,t){if("0x"===e)return null;try{const r=gi(yn(e,t,t+32)),n=gi(yn(e,r,r+32));return yn(e,r+32,r+32+n)}catch(e){}return null}function Wf(e){const t=bi(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function zf(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Jf=new Uint8Array([]);function Qf(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(Jf),r+=32;for(let n=0;n<e.length;n++){const i=ln(e[n]);t[n]=Wf(r),t.push(Wf(i.length)),t.push(zf(i)),r+=32+32*Math.ceil(i.length/32)}return gn(t)}const Kf="0x0000000000000000000000000000000000000000000000000000000000000000";function Yf(e,t){if(e.provider)return e.provider;tn(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Zf(e,t){let r=so(t);if(null!=r.to&&(r.to=eo(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),eo(t,e)]).then((([e,t])=>(rn(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else r.from=e.getAddress();return await Qr(r)}class Xf{provider;constructor(e){Kr(this,{provider:e||null})}async getNonce(e){return Yf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Zf(this,e)}async populateTransaction(e){const t=Yf(this,"populateTransaction"),r=await Zf(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();null!=r.chainId?rn(di(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=n.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||rn(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):rn(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();tn(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(tn(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):tn(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await Qr(r)}async estimateGas(e){return Yf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Yf(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Yf(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Yf(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const n=Gh.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class eg extends Xf{address;constructor(e,t){super(t),Kr(this,{address:e})}async getAddress(){return this.address}connect(e){return new eg(this.address,e)}#at(e,t){tn(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#at("transactions","signTransaction")}async signMessage(e){this.#at("messages","signMessage")}async signTypedData(e,t,r){this.#at("typed-data","signTypedData")}}class tg{#Pe;#ot;#Ce;#Ue;#st;#ct;constructor(e){this.#Pe=e,this.#ot=null,this.#Ce=this.#Ve.bind(this),this.#Ue=!1,this.#st=null,this.#ct=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Ve(e){try{null==this.#ot&&(this.#ot=this._subscribe(this.#Pe));let e=null;try{e=await this.#ot}catch(e){if(!Zr(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#ot=null,void this.#Pe._recoverSubscriber(this,this._recover(this.#Pe));const t=await this.#Pe.getNetwork();if(this.#st||(this.#st=t),this.#st.chainId!==t.chainId)throw new Error("chaid changed");if(this.#ct)return;const r=await this.#Pe.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Pe,r)}catch(e){console.log("@TODO",e)}this.#Pe.once("block",this.#Ce)}#lt(){const e=this.#ot;e&&(this.#ot=null,e.then((e=>{this.#Pe.send("eth_uninstallFilter",[e])})))}start(){this.#Ue||(this.#Ue=!0,this.#Ve(-2))}stop(){this.#Ue&&(this.#Ue=!1,this.#ct=!0,this.#lt(),this.#Pe.off("block",this.#Ce))}pause(e){e&&this.#lt(),this.#Pe.off("block",this.#Ce)}resume(){this.start()}}class rg extends tg{#ut;constructor(e,t){var r;super(e),this.#ut=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new Cf(e,this.#ut)}async _subscribe(e){return await e.send("eth_newFilter",[this.#ut])}async _emitResults(e,t){for(const r of t)e.emit(this.#ut,e._wrapLog(r,e._network))}}class ng extends tg{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const ig="bigint,boolean,function,number,string,symbol".split(/,/g);function ag(e){if(null==e||ig.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(ag);if("object"==typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function og(e){return new Promise((t=>{setTimeout(t,e)}))}function sg(e){return e?e.toLowerCase():e}function cg(e){return e&&"number"==typeof e.pollingInterval}const lg={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class ug extends Xf{address;constructor(e,t){super(e),Kr(this,{address:t=Pn(t)})}connect(e){tn(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=ag(e),r=[];if(t.from){const n=t.from;r.push((async()=>{const r=await eo(n,this.provider);rn(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;r.push((async()=>{t.to=await eo(e,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,n)=>{const i=[1e3,100],a=async()=>{const n=await this.provider.getTransaction(r);null==n?this.provider._setTimeout((()=>{a()}),i.pop()||4e3):e(n.replaceableTransaction(t))};a()}))}async signTransaction(e){const t=ag(e);if(t.from){const r=await eo(t.from,this.provider);rn(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t="string"==typeof e?ti(e):e;return await this.provider.send("personal_sign",[fn(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const n=ag(r),i=await Pd.resolveNames(e,t,n,(async e=>{const t=await eo(e);return rn(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Pd.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?ti(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),fn(t)])}}class dg extends qf{#s;#dt;#pt;#ht;#ft;#st;#gt;#mt(){if(this.#ht)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ht=setTimeout((()=>{this.#ht=null;const e=this.#pt;for(this.#pt=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#s.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#s.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:n,payload:i}of t){if(this.destroyed){n(en("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=r.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?n(this.getRpcError(i,t)):e(t.result);else{const e=en("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),n(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:r}of t)r(e)}})()}}),e)}constructor(e,t){super(e,t),this.#dt=1,this.#s=Object.assign({},lg,t||{}),this.#pt=[],this.#ht=null,this.#st=null,this.#gt=null;{let e=null;const t=new Promise((t=>{e=t}));this.#ft={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?(rn(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#st=Tf.from(e))):r&&(rn(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#st=r)}_getOption(e){return this.#s[e]}get _network(){return tn(this.#st,"network is not available yet","NETWORK_ERROR"),this.#st}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&di(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#st)return this.#st}return this.#gt?await this.#gt:this.ready?(this.#gt=(async()=>{const e=Tf.from(di(await this.send("eth_chainId",[])));return this.#gt=null,e})(),await this.#gt):(this.#gt=(async()=>{const e={id:this.#dt++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#gt=null}catch(e){throw this.#gt=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Tf.from(di(t.result));throw this.getRpcError(e,t)})(),await this.#gt)}_start(){null!=this.#ft&&null!=this.#ft.resolve&&(this.#ft.resolve(),this.#ft=null,(async()=>{for(;null==this.#st&&!this.destroyed;)try{this.#st=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",en("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await og(1e3)}this.#mt()})())}async _waitUntilReady(){if(null!=this.#ft)return await this.#ft.promise}_getSubscriber(e){return"pending"===e.type?new ng(this):"event"===e.type?this._getOption("polling")?new Cf(this,e.filter):new rg(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Uf("orphan"):super._getSubscriber(e)}get ready(){return null==this.#ft}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=vi(di(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=fn(e[r]))})),e.accessList&&(t.accessList=ro(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[sg(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[sg(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[sg(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[sg(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(sg):e.filter.address=sg(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:n}=t;if("eth_estimateGas"===r&&n.message){const t=n.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return en("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){const t=fg(n),i=qa.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:n,payload:e},i}const i=JSON.stringify(function(e){const t=[];return gg(e,t),t}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i))return en("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:n}});if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return en("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:n}});if(i.match(/nonce/i)&&i.match(/too low/i))return en("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:n}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return en("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:n}});if(i.match(/only replay-protected/i))return en("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:n}}})}let a=!!i.match(/the method .* does not exist/i);return a||n&&n.details&&n.details.startsWith("Unauthorized method:")&&(a=!0),a?en("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:n,payload:e}}):en("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(en("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#dt++,n=new Promise(((n,i)=>{this.#pt.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#mt(),n}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const r=await t;if(e>=r.length)throw new Error("no such account");return new ug(this,r[e])}const{accounts:r}=await Qr({network:this.getNetwork(),accounts:t});e=Pn(e);for(const t of r)if(Pn(t)===e)return new ug(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new ug(this,e)))}destroy(){this.#ht&&(clearTimeout(this.#ht),this.#ht=null);for(const{payload:e,reject:t}of this.#pt)t(en("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#pt=[],super.destroy()}}class pg extends dg{#yt;constructor(e,t){super(e,t),this.#yt=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return cg(t)&&(t.pollingInterval=this.#yt),t}get pollingInterval(){return this.#yt}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#yt=e,this._forEachSubscriber((e=>{cg(e)&&(e.pollingInterval=this.#yt)}))}}class hg extends pg{#bt;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),this.#bt="string"==typeof e?new Qd(e):e.clone()}_getConnection(){return this.#bt.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const r=await t.send();r.assertOk();let n=r.bodyJson;return Array.isArray(n)||(n=[n]),n}}function fg(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&dn(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const r=fg(e[t]);if(r)return r}return null}if("string"==typeof e)try{return fg(JSON.parse(e))}catch(e){}return null}function gg(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const r in e)gg(e[r],t);if("string"==typeof e)try{return gg(JSON.parse(e),t)}catch(e){}}}function mg(e){const t=ti(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return An(t,32)}function yg(e){const t=ln(e,"bytes");if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return ri(t.slice(0,r))}const bg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vg=BigInt("1000000000000000000"),wg=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ag=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Sg=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Eg="Ξ",Tg="Ethereum Signed Message:\n";class Rg{interface;bytecode;runner;constructor(e,t,r){const n=Ka.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),Kr(this,{bytecode:t=fn(ln(t)),interface:n,runner:r||null})}attach(e){return new qo(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={};const r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await No(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const n=await _o(this.runner,r.inputs,e),i=gn([this.bytecode,this.interface.encodeDeploy(n)]);return Object.assign({},t,{data:i})}async deploy(...e){const t=await this.getDeployTransaction(...e);tn(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await this.runner.sendTransaction(t),n=af(r);return new qo(n,this.interface,this.runner,r)}connect(e){return new Rg(this.interface,this.bytecode,e)}static fromSolidity(e,t){rn(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n="";return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}}class kg extends Ir{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,lr(e);const r=xr(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ur(this),this.iHash.update(e),this}digestInto(e){ur(this),cr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xg=(e,t,r)=>new kg(e,t).update(r).digest();function Ig(e,t,r,n){const{c:i,dkLen:a,DK:o,PRF:s,PRFSalt:c}=function(e,t,r,n){lr(e);const i=Mr({dkLen:32,asyncTick:10},n),{c:a,dkLen:o,asyncTick:s}=i;if(sr(a),sr(o),sr(s),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=xr(t),l=xr(r),u=new Uint8Array(o),d=xg.create(e,c),p=d._cloneInto().update(l);return{c:a,dkLen:o,asyncTick:s,DK:u,PRF:d,PRFSalt:p}}(e,t,r,n);let l;const u=new Uint8Array(4),d=Er(u),p=new Uint8Array(s.outputLen);for(let e=1,t=0;t<a;e++,t+=s.outputLen){const r=o.subarray(t,t+s.outputLen);d.setInt32(0,e,!1),(l=c._cloneInto(l)).update(u).digestInto(p),r.set(p.subarray(0,r.length));for(let e=1;e<i;e++){s._cloneInto(l).update(p).digestInto(p);for(let e=0;e<r.length;e++)r[e]^=p[e]}}return function(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}(s,c,o,l,p)}xg.create=(e,t)=>new kg(e,t);class Og extends Ir{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Er(this.buffer)}update(e){ur(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=xr(e)).length;for(let a=0;a<i;){const o=Math.min(n-this.pos,i-a);if(o!==n)r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Er(e);for(;n<=i-a;a+=n)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ur(this),dr(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Er(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}const Mg=(e,t,r)=>e&t^~e&r,Ng=(e,t,r)=>e&t^e&r^t&r,_g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cg=new Uint32Array(64);class Lg extends Og{constructor(){super(64,32,8,!1),this.A=0|Pg[0],this.B=0|Pg[1],this.C=0|Pg[2],this.D=0|Pg[3],this.E=0|Pg[4],this.F=0|Pg[5],this.G=0|Pg[6],this.H=0|Pg[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:a,G:o,H:s}=this;return[e,t,r,n,i,a,o,s]}set(e,t,r,n,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)Cg[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Cg[e-15],r=Cg[e-2],n=Tr(t,7)^Tr(t,18)^t>>>3,i=Tr(r,17)^Tr(r,19)^r>>>10;Cg[e]=i+Cg[e-7]+n+Cg[e-16]|0}let{A:r,B:n,C:i,D:a,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(Tr(o,6)^Tr(o,11)^Tr(o,25))+Mg(o,s,c)+_g[e]+Cg[e]|0,u=(Tr(r,2)^Tr(r,13)^Tr(r,22))+Ng(r,n,i)|0;l=c,c=s,s=o,o=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,a,o,s,c,l)}roundClean(){Cg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Dg=Nr((()=>new Lg)),[Vg,Ug]=(()=>wr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Bg=new Uint32Array(80),jg=new Uint32Array(80);class Fg extends Og{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:o,Dl:s,Eh:c,El:l,Fh:u,Fl:d,Gh:p,Gl:h,Hh:f,Hl:g}=this;return[e,t,r,n,i,a,o,s,c,l,u,d,p,h,f,g]}set(e,t,r,n,i,a,o,s,c,l,u,d,p,h,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|o,this.Dl=0|s,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|p,this.Gl=0|h,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)Bg[r]=e.getUint32(t),jg[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Bg[e-15],r=0|jg[e-15],n=wr.rotrSH(t,r,1)^wr.rotrSH(t,r,8)^wr.shrSH(t,r,7),i=wr.rotrSL(t,r,1)^wr.rotrSL(t,r,8)^wr.shrSL(t,r,7),a=0|Bg[e-2],o=0|jg[e-2],s=wr.rotrSH(a,o,19)^wr.rotrBH(a,o,61)^wr.shrSH(a,o,6),c=wr.rotrSL(a,o,19)^wr.rotrBL(a,o,61)^wr.shrSL(a,o,6),l=wr.add4L(i,c,jg[e-7],jg[e-16]),u=wr.add4H(l,n,s,Bg[e-7],Bg[e-16]);Bg[e]=0|u,jg[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:o,Cl:s,Dh:c,Dl:l,Eh:u,El:d,Fh:p,Fl:h,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=wr.rotrSH(u,d,14)^wr.rotrSH(u,d,18)^wr.rotrBH(u,d,41),b=wr.rotrSL(u,d,14)^wr.rotrSL(u,d,18)^wr.rotrBL(u,d,41),v=u&p^~u&f,w=d&h^~d&g,A=wr.add5L(y,b,w,Ug[e],jg[e]),S=wr.add5H(A,m,t,v,Vg[e],Bg[e]),E=0|A,T=wr.rotrSH(r,n,28)^wr.rotrBH(r,n,34)^wr.rotrBH(r,n,39),R=wr.rotrSL(r,n,28)^wr.rotrBL(r,n,34)^wr.rotrBL(r,n,39),k=r&i^r&o^i&o,x=n&a^n&s^a&s;m=0|f,y=0|g,f=0|p,g=0|h,p=0|u,h=0|d,({h:u,l:d}=wr.add(0|c,0|l,0|S,0|E)),c=0|o,l=0|s,o=0|i,s=0|a,i=0|r,a=0|n;const I=wr.add3L(E,R,x);r=wr.add3H(I,S,T,k),n=0|I}({h:r,l:n}=wr.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=wr.add(0|this.Bh,0|this.Bl,0|i,0|a)),({h:o,l:s}=wr.add(0|this.Ch,0|this.Cl,0|o,0|s)),({h:c,l}=wr.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=wr.add(0|this.Eh,0|this.El,0|u,0|d)),({h:p,l:h}=wr.add(0|this.Fh,0|this.Fl,0|p,0|h)),({h:f,l:g}=wr.add(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=wr.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,a,o,s,c,l,u,d,p,h,f,g,m,y)}roundClean(){Bg.fill(0),jg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $g=Nr((()=>new Fg)),qg=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),Hg=qg.crypto||qg.msCrypto;function Gg(e){switch(e){case"sha256":return Dg.create();case"sha512":return $g.create()}rn(!1,"invalid hashing algorithm name","algorithm",e)}let Wg=!1;const zg=function(e,t,r){return function(e,t){const r={sha256:Dg,sha512:$g}[e];return rn(null!=r,"invalid hmac algorithm","algorithm",e),xg.create(r,t)}(e,t).update(r).digest()};let Jg=zg;function Qg(e,t,r){const n=ln(t,"key"),i=ln(r,"data");return fn(Jg(e,n,i))}Qg._=zg,Qg.lock=function(){Wg=!0},Qg.register=function(e){if(Wg)throw new Error("computeHmac is locked");Jg=e},Object.freeze(Qg);const Kg=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Yg=Uint8Array.from({length:16},((e,t)=>t));let Zg=[Yg],Xg=[Yg.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[Zg,Xg])t.push(t[e].map((e=>Kg[e])));const em=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),tm=Zg.map(((e,t)=>e.map((e=>em[t][e])))),rm=Xg.map(((e,t)=>e.map((e=>em[t][e])))),nm=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),im=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),am=(e,t)=>e<<t|e>>>32-t;function om(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const sm=new Uint32Array(16);class cm extends Og{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)sm[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,a=i,o=0|this.h2,s=o,c=0|this.h3,l=c,u=0|this.h4,d=u;for(let e=0;e<5;e++){const t=4-e,p=nm[e],h=im[e],f=Zg[e],g=Xg[e],m=tm[e],y=rm[e];for(let t=0;t<16;t++){const n=am(r+om(e,i,o,c)+sm[f[t]]+p,m[t])+u|0;r=u,u=c,c=0|am(o,10),o=i,i=n}for(let e=0;e<16;e++){const r=am(n+om(t,a,s,l)+sm[g[e]]+h,y[e])+d|0;n=d,d=l,l=0|am(s,10),s=a,a=r}}this.set(this.h1+o+l|0,this.h2+c+d|0,this.h3+u+n|0,this.h4+r+a|0,this.h0+i+s|0)}roundClean(){sm.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const lm=Nr((()=>new cm));let um=!1;const dm=function(e){return lm(e)};let pm=dm;function hm(e){const t=ln(e,"data");return fn(pm(t))}hm._=dm,hm.lock=function(){um=!0},hm.register=function(e){if(um)throw new TypeError("ripemd160 is locked");pm=e},Object.freeze(hm);let fm=!1;const gm=function(e,t,r,n,i){return function(e,t,r,n,i){const a={sha256:Dg,sha512:$g}[i];return rn(null!=a,"invalid pbkdf2 algorithm","algorithm",i),Ig(a,e,t,{c:r,dkLen:n})}(e,t,r,n,i)};let mm=gm;function ym(e,t,r,n,i){const a=ln(e,"password"),o=ln(t,"salt");return fn(mm(a,o,r,n,i))}ym._=gm,ym.lock=function(){fm=!0},ym.register=function(e){if(fm)throw new Error("pbkdf2 is locked");mm=e},Object.freeze(ym);let bm=!1;const vm=function(e){return new Uint8Array(function(e){tn(null!=Hg,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),rn(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return Hg.getRandomValues(t),t}(e))};let wm=vm;function Am(e){return wm(e)}Am._=vm,Am.lock=function(){bm=!0},Am.register=function(e){if(bm)throw new Error("randomBytes is locked");wm=e},Object.freeze(Am);const Sm=(e,t)=>e<<t|e>>>32-t;function Em(e,t,r,n,i,a){let o=e[t++]^r[n++],s=e[t++]^r[n++],c=e[t++]^r[n++],l=e[t++]^r[n++],u=e[t++]^r[n++],d=e[t++]^r[n++],p=e[t++]^r[n++],h=e[t++]^r[n++],f=e[t++]^r[n++],g=e[t++]^r[n++],m=e[t++]^r[n++],y=e[t++]^r[n++],b=e[t++]^r[n++],v=e[t++]^r[n++],w=e[t++]^r[n++],A=e[t++]^r[n++],S=o,E=s,T=c,R=l,k=u,x=d,I=p,O=h,M=f,N=g,_=m,P=y,C=b,L=v,D=w,V=A;for(let e=0;e<8;e+=2)k^=Sm(S+C|0,7),M^=Sm(k+S|0,9),C^=Sm(M+k|0,13),S^=Sm(C+M|0,18),N^=Sm(x+E|0,7),L^=Sm(N+x|0,9),E^=Sm(L+N|0,13),x^=Sm(E+L|0,18),D^=Sm(_+I|0,7),T^=Sm(D+_|0,9),I^=Sm(T+D|0,13),_^=Sm(I+T|0,18),R^=Sm(V+P|0,7),O^=Sm(R+V|0,9),P^=Sm(O+R|0,13),V^=Sm(P+O|0,18),E^=Sm(S+R|0,7),T^=Sm(E+S|0,9),R^=Sm(T+E|0,13),S^=Sm(R+T|0,18),I^=Sm(x+k|0,7),O^=Sm(I+x|0,9),k^=Sm(O+I|0,13),x^=Sm(k+O|0,18),P^=Sm(_+N|0,7),M^=Sm(P+_|0,9),N^=Sm(M+P|0,13),_^=Sm(N+M|0,18),C^=Sm(V+D|0,7),L^=Sm(C+V|0,9),D^=Sm(L+C|0,13),V^=Sm(D+L|0,18);i[a++]=o+S|0,i[a++]=s+E|0,i[a++]=c+T|0,i[a++]=l+R|0,i[a++]=u+k|0,i[a++]=d+x|0,i[a++]=p+I|0,i[a++]=h+O|0,i[a++]=f+M|0,i[a++]=g+N|0,i[a++]=m+_|0,i[a++]=y+P|0,i[a++]=b+C|0,i[a++]=v+L|0,i[a++]=w+D|0,i[a++]=A+V|0}function Tm(e,t,r,n,i){let a=n+0,o=n+16*i;for(let n=0;n<16;n++)r[o+n]=e[t+16*(2*i-1)+n];for(let n=0;n<i;n++,a+=16,t+=16)Em(r,o,e,t,r,a),n>0&&(o+=16),Em(r,a,e,t+=16,r,o)}function Rm(e,t,r){const n=Mr({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:a,p:o,dkLen:s,asyncTick:c,maxmem:l,onProgress:u}=n;if(sr(i),sr(a),sr(o),sr(s),sr(c),sr(l),void 0!==u&&"function"!=typeof u)throw new Error("progressCb should be function");const d=128*a,p=d/4;if(i<=1||0!=(i&i-1)||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>137438953440/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||s>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const h=d*(i+o);if(h>l)throw new Error(`Scrypt: parameters too large, ${h} (128 * r * (N + p)) > ${l} (maxmem)`);const f=Ig(Dg,e,t,{c:1,dkLen:d*o}),g=Sr(f),m=Sr(new Uint8Array(d*i)),y=Sr(new Uint8Array(d));let b=()=>{};if(u){const e=2*i*o,t=Math.max(Math.floor(e/1e4),1);let r=0;b=()=>{r++,!u||r%t&&r!==e||u(r/e)}}return{N:i,r:a,p:o,dkLen:s,blockSize32:p,V:m,B32:g,B:f,tmp:y,blockMixCb:b,asyncTick:c}}function km(e,t,r,n,i){const a=Ig(Dg,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),a}let xm=!1,Im=!1;const Om=async function(e,t,r,n,i,a,o){return await async function(e,t,r){const{N:n,r:i,p:a,dkLen:o,blockSize32:s,V:c,B32:l,B:u,tmp:d,blockMixCb:p,asyncTick:h}=Rm(e,t,r);for(let e=0;e<a;e++){const t=s*e;for(let e=0;e<s;e++)c[e]=l[t+e];let r=0;await kr(n-1,h,(()=>{Tm(c,r,c,r+=s,i),p()})),Tm(c,(n-1)*s,l,t,i),p(),await kr(n,h,(()=>{const e=l[t+s-16]%n;for(let r=0;r<s;r++)d[r]=l[t+r]^c[e*s+r];Tm(d,0,l,t,i),p()}))}return km(e,o,u,c,d)}(e,t,{N:r,r:n,p:i,dkLen:a,onProgress:o})},Mm=function(e,t,r,n,i,a){return function(e,t,r){const{N:n,r:i,p:a,dkLen:o,blockSize32:s,V:c,B32:l,B:u,tmp:d,blockMixCb:p}=Rm(e,t,r);for(let e=0;e<a;e++){const t=s*e;for(let e=0;e<s;e++)c[e]=l[t+e];for(let e=0,t=0;e<n-1;e++)Tm(c,t,c,t+=s,i),p();Tm(c,(n-1)*s,l,t,i),p();for(let e=0;e<n;e++){const e=l[t+s-16]%n;for(let r=0;r<s;r++)d[r]=l[t+r]^c[e*s+r];Tm(d,0,l,t,i),p()}}return km(e,o,u,c,d)}(e,t,{N:r,r:n,p:i,dkLen:a})};let Nm=Om,_m=Mm;async function Pm(e,t,r,n,i,a,o){const s=ln(e,"passwd"),c=ln(t,"salt");return fn(await Nm(s,c,r,n,i,a,o))}function Cm(e,t,r,n,i,a){const o=ln(e,"passwd"),s=ln(t,"salt");return fn(_m(o,s,r,n,i,a))}Pm._=Om,Pm.lock=function(){Im=!0},Pm.register=function(e){if(Im)throw new Error("scrypt is locked");Nm=e},Object.freeze(Pm),Cm._=Mm,Cm.lock=function(){xm=!0},Cm.register=function(e){if(xm)throw new Error("scryptSync is locked");_m=e},Object.freeze(Cm);const Lm=function(e){return Gg("sha256").update(e).digest()},Dm=function(e){return Gg("sha512").update(e).digest()};let Vm=Lm,Um=Dm,Bm=!1,jm=!1;function Fm(e){const t=ln(e,"data");return fn(Vm(t))}function $m(e){const t=ln(e,"data");return fn(Um(t))}function qm(){Qg.lock(),Rn.lock(),ym.lock(),Am.lock(),hm.lock(),Pm.lock(),Cm.lock(),Fm.lock(),$m.lock(),Am.lock()}function Hm(e){return"string"==typeof e&&(e=ti(e)),Rn(gn([ti(Tg),ti(String(e.length)),e]))}function Gm(e,t){return vd(Hm(e),t)}Fm._=Lm,Fm.lock=function(){Bm=!0},Fm.register=function(e){if(Bm)throw new Error("sha256 is locked");Vm=e},Object.freeze(Fm),$m._=Dm,$m.lock=function(){jm=!0},$m.register=function(e){if(jm)throw new Error("sha512 is locked");Um=e},Object.freeze(Fm);const Wm=new RegExp("^bytes([0-9]+)$"),zm=new RegExp("^(u?int)([0-9]*)$"),Jm=new RegExp("^(.*)\\[([0-9]*)\\]$");function Qm(e,t,r){switch(e){case"address":return ln(r?wn(t,32):Pn(t));case"string":return ti(t);case"bytes":return ln(t);case"bool":return t=t?"0x01":"0x00",ln(r?wn(t,32):t)}let n=e.match(zm);if(n){let i="int"===n[1],a=parseInt(n[2]||"256");return rn((!n[2]||n[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",e),r&&(a=256),i&&(t=li(t,a)),ln(wn(bi(t),a/8))}if(n=e.match(Wm),n){const i=parseInt(n[1]);return rn(String(i)===n[1]&&0!==i&&i<=32,"invalid bytes type","type",e),rn(mn(t)===i,`invalid value for ${e}`,"value",t),r?ln(An(t,32)):t}if(n=e.match(Jm),n&&Array.isArray(t)){const r=n[1];rn(parseInt(n[2]||String(t.length))===t.length,`invalid array length for ${e}`,"value",t);const i=[];return t.forEach((function(e){i.push(Qm(r,e,!0))})),ln(gn(i))}rn(!1,"invalid type","type",e)}function Km(e,t){rn(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(Qm(e,t[n]))})),fn(gn(r))}function Ym(e,t){return Rn(Km(e,t))}function Zm(e,t){return Fm(Km(e,t))}const Xm=new Set;function ey(e){Xm.has(e)||(Xm.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}const ty="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class ry extends hg{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=Tf.from(e);null==t&&(t=ty);const n={polling:!0,staticNetwork:r};super(ry.getRequest(r,t),r,n),Kr(this,{apiKey:t})}_getProvider(e){try{return new ry(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=ty);const r=new Qd(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"matic":return"rpc.ankr.com/polygon";case"arbitrum":return"rpc.ankr.com/arbitrum"}rn(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===ty&&(r.retryFunc=async(e,t,r)=>(ey("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===ty}}const ny="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class iy extends hg{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=Tf.from(e);null==t&&(t=ny),super(iy.getRequest(r,t),r,{staticNetwork:r}),Kr(this,{apiKey:t})}_getProvider(e){try{return new iy(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){const{trace:t,tx:r}=await Qr({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==t||null==r)return null;let n,i=!1;try{n=t[0].result.output,i="Reverted"===t[0].error}catch(e){}if(n)return tn(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:n,reason:null,transaction:r,invocation:null,revert:null}),n;tn(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===ny}static getRequest(e,t){null==t&&(t=ny);const r=new Qd(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com"}rn(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===ny&&(r.retryFunc=async(e,t,r)=>(ey("alchemy"),!0)),r}}class ay extends hg{constructor(e){null==e&&(e="mainnet");const t=Tf.from(e);rn("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}const oy="org.ethers.plugins.provider.Etherscan";class sy extends bf{baseUrl;constructor(e){super(oy),Kr(this,{baseUrl:e})}clone(){return new sy(this.baseUrl)}}const cy=["enableCcipRead"];let ly=1;class uy extends qf{network;apiKey;#vt;constructor(e,t){const r=null!=t?t:null;super();const n=Tf.from(e);this.#vt=n.getPlugin(oy),Kr(this,{apiKey:r,network:n}),this.getBaseUrl()}getBaseUrl(){if(this.#vt)return this.#vt.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"matic":return"https://api.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";case"bnb":return"http://api.bscscan.com";case"bnbt":return"http://api-testnet.bscscan.com"}rn(!1,"unsupported network","network",this.network)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}async detectNetwork(){return this.network}async fetch(e,t,r){const n=ly++,i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:n,url:i,payload:a});const o=new Qd(i);o.setThrottleParams({slotInterval:1e3}),o.retryFunc=(e,t,r)=>(this.isCommunityResource()&&ey("Etherscan"),Promise.resolve(!0)),o.processFunc=async(t,r)=>{const i=r.hasBody()?JSON.parse(ri(r.body)):{},a=("string"==typeof i.result?i.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?i&&0==i.status&&"NOTOK"==i.message&&a&&(this.emit("debug",{action:"receiveError",id:n,reason:"proxy-NOTOK",error:i}),r.throwThrottleError(i.result,2e3)):a&&(this.emit("debug",{action:"receiveError",id:n,reason:"null result",error:i.result}),r.throwThrottleError(i.result,2e3)),r},a&&(o.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),o.body=Object.keys(a).map((e=>`${e}=${a[e]}`)).join("&"));const s=await o.send();try{s.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:n,error:e,reason:"assertOk"}),tn(!1,"response error","SERVER_ERROR",{request:o,response:s})}s.hasBody()||(this.emit("debug",{action:"receiveError",id:n,error:"missing body",reason:"null body"}),tn(!1,"missing response","SERVER_ERROR",{request:o,response:s}));const c=JSON.parse(ri(s.body));return"proxy"===e?("2.0"!=c.jsonrpc&&(this.emit("debug",{action:"receiveError",id:n,result:c,reason:"invalid JSON-RPC"}),tn(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:o,response:s,info:{result:c}})),c.error&&(this.emit("debug",{action:"receiveError",id:n,result:c,reason:"JSON-RPC error"}),tn(!1,"error response","SERVER_ERROR",{request:o,response:s,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:n,result:c}),c.result):0!=c.status||"No records found"!==c.message&&"No transactions found"!==c.message?((1!=c.status||"string"==typeof c.message&&!c.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:n,result:c}),tn(!1,"error response","SERVER_ERROR",{request:o,response:s,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:n,result:c}),c.result):(this.emit("debug",{action:"receiveRequest",id:n,result:c}),c.result)}_getTransactionPostData(e){const t={};for(let r in e){if(cy.indexOf(r)>=0)continue;if(null==e[r])continue;let n=e[r];"type"===r&&0===n||"blockTag"===r&&"latest"===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?vi(n):"accessList"===r?"["+ro(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":fn(n),t[r]=n)}return t}_checkError(e,t,r){let n="";if(Zr(t,"SERVER_ERROR")){try{n=t.info.result.error.message}catch(e){}if(!n)try{n=t.info.message}catch(e){}}if("estimateGas"===e.method&&!n.match(/revert/i)&&n.match(/insufficient funds/i)&&tn(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&n.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(t){}const n=qa.getBuiltinCallException(e.method,e.transaction,r);throw n.info={request:e,error:t},n}if(n&&"broadcastTransaction"===e.method){const t=Gh.from(e.signedTransaction);n.match(/replacement/i)&&n.match(/underpriced/i)&&tn(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),n.match(/insufficient funds/)&&tn(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&tn(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>this._checkError(e,t,e.signedTransaction)));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});tn(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);var r;(r=t)&&"function"==typeof r.then&&(t=await t);try{const e=await this.fetch("contract",{action:"getabi",address:t}),r=JSON.parse(e);return new Ho(t,r,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}const dy=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}().WebSocket;class py{#Pe;#O;get filter(){return JSON.parse(this.#O)}#wt;#At;#St;constructor(e,t){this.#Pe=e,this.#O=JSON.stringify(t),this.#wt=null,this.#At=null,this.#St=null}start(){this.#wt=this.#Pe.send("eth_subscribe",this.filter).then((e=>(this.#Pe._register(e,this),e)))}stop(){this.#wt.then((e=>{this.#Pe.send("eth_unsubscribe",[e])})),this.#wt=null}pause(e){tn(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#At=!!e}resume(){this.#At=null}_handleMessage(e){if(null!=this.#wt&&null===this.#At){let t=this.#St;t=null==t?this._emit(this.#Pe,e):t.then((async()=>{await this._emit(this.#Pe,e)})),this.#St=t.then((()=>{this.#St===t&&(this.#St=null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}}class hy extends py{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class fy extends py{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class gy extends py{#Et;get logFilter(){return JSON.parse(this.#Et)}constructor(e,t){super(e,["logs",t]),this.#Et=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class my extends dg{#Tt;#$e;#Rt;constructor(e,t){const r=Object.assign({},null!=t?t:{});rn(null==r.batchMaxCount||1===r.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,null==r.staticNetwork&&(r.staticNetwork=!0),super(e,r),this.#Tt=new Map,this.#$e=new Map,this.#Rt=new Map}_getSubscriber(e){switch(e.type){case"close":return new Uf("close");case"block":return new hy(this);case"pending":return new fy(this);case"event":return new gy(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new Uf("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#$e.set(e,t);const r=this.#Rt.get(e);if(r){for(const e of r)t._handleMessage(e);this.#Rt.delete(e)}}async _send(e){rn(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const t=new Promise(((t,r)=>{this.#Tt.set(e.id,{payload:e,resolve:t,reject:r})}));return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){const t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){const e=this.#Tt.get(t.id);if(null==e)return void this.emit("error",en("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#Tt.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",en("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));{const e=t.params.subscription,r=this.#$e.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#Rt.get(e);null==r&&(r=[],this.#Rt.set(e,r)),r.push(t.params.result)}}}}async _write(e){throw new Error("sub-classes must override this")}}class yy extends my{#bt;#kt;get websocket(){if(null==this.#kt)throw new Error("websocket closed");return this.#kt}constructor(e,t,r){super(t,r),"string"==typeof e?(this.#bt=()=>new dy(e),this.#kt=this.#bt()):"function"==typeof e?(this.#bt=e,this.#kt=e()):(this.#bt=null,this.#kt=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#kt&&(this.#kt.close(),this.#kt=null),super.destroy()}}const by="84842078b09946638c03157f83405213";class vy extends yy{projectId;projectSecret;constructor(e,t){const r=new wy(e,t),n=r._getConnection();tn(!n.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),Kr(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===by}}class wy extends hg{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=Tf.from(e);null==t&&(t=by),null==r&&(r=null),super(wy.getRequest(n,t,r),n,{staticNetwork:n}),Kr(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new wy(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===by}static getWebSocketProvider(e,t){return new vy(e,t)}static getRequest(e,t,r){null==t&&(t=by),null==r&&(r=null);const n=new Qd(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io"}rn(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===by&&(n.retryFunc=async(e,t,r)=>(ey("InfuraProvider"),!0)),n}}const Ay="919b412a057b5e9c9b6dce193c5a60242d6efadb";class Sy extends hg{token;constructor(e,t){null==e&&(e="mainnet");const r=Tf.from(e);null==t&&(t=Ay),super(Sy.getRequest(r,t),r,{staticNetwork:r}),Kr(this,{token:t})}_getProvider(e){try{return new Sy(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===Ay}static getRequest(e,t){null==t&&(t=Ay);const r=new Qd(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro"}rn(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===Ay&&(r.retryFunc=async(e,t,r)=>(ey("QuickNodeProvider"),!0)),r}}const Ey=BigInt("1"),Ty=BigInt("2");function Ry(){return(new Date).getTime()}function ky(e){return JSON.stringify(e,((e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t))}const xy={stallTimeout:400,priority:1,weight:1},Iy={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};function Oy(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(Oy).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return Oy(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{"+t.map((t=>`${JSON.stringify(t)}:${Oy(e[t])}`)).join(",")+"}"}}throw console.log("Could not serialize",e),new Error("Hmm...")}function My(e){if("error"in e){const t=e.error;return{tag:Oy(t),value:t}}const t=e.result;return{tag:Oy(t),value:t}}function Ny(e,t){const r=new Map;for(const{value:e,tag:n,weight:i}of t){const t=r.get(n)||{value:e,weight:0};t.weight+=i,r.set(n,t)}let n=null;for(const t of r.values())t.weight>=e&&(!n||t.weight>n.weight)&&(n=t);if(n)return n.value}function _y(e,t){let r=0;const n=new Map;let i=null;const a=[];for(const{value:e,tag:o,weight:s}of t)if(e instanceof Error){const t=n.get(o)||{value:e,weight:0};t.weight+=s,n.set(o,t),(null==i||t.weight>i.weight)&&(i=t)}else a.push(BigInt(e)),r+=s;if(r<e)return i&&i.weight>=e?i.value:void 0;a.sort(((e,t)=>e<t?-1:t>e?1:0));const o=Math.floor(a.length/2);return a.length%2?a[o]:(a[o-1]+a[o]+Ey)/Ty}function Py(e,t){const r=Ny(e,t);if(void 0!==r)return r;for(const e of t)if(e.value)return e.value}class Cy extends qf{quorum;eventQuorum;eventWorkers;#xt;#It;#Ot;constructor(e,t,r){super(t,r),this.#xt=e.map((e=>e instanceof qf?Object.assign({provider:e},xy,Iy):Object.assign({},xy,e,Iy))),this.#It=-2,this.#Ot=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#xt.reduce(((e,t)=>e+t.weight),0)/2),this.eventQuorum=1,this.eventWorkers=1,rn(this.quorum<=this.#xt.reduce(((e,t)=>e+t.weight),0),"quorum exceed provider wieght","quorum",this.quorum)}get providerConfigs(){return this.#xt.map((e=>{const t=Object.assign({},e);for(const e in t)"_"===e[0]&&delete t[e];return t}))}async _detectNetwork(){return Tf.from(di(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{const r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#Mt(e){const t=Array.from(e).map((e=>e.config)),r=this.#xt.slice();!function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}}(r),r.sort(((e,t)=>e.priority-t.priority));for(const e of r)if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#Nt(e,t){const r=this.#Mt(e);if(null==r)return null;const n={config:r,result:null,didBump:!1,perform:null,staller:null},i=Ry();return n.perform=(async()=>{try{r.requests++;const e=await this._translatePerform(r.provider,t);n.result={result:e}}catch(e){r.errorResponses++,n.result={error:e}}const e=Ry()-i;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,n.perform=null})(),n.staller=(async()=>{var e;await(e=r.stallTimeout,new Promise((t=>{setTimeout(t,e)}))),n.staller=null})(),e.add(n),n}async#_t(){let e=this.#Ot;if(!e){const t=[];this.#xt.forEach((e=>{t.push((async()=>{await async function(e,t){for(;(e.blockNumber<0||e.blockNumber<0)&&(e._updateNumber||(e._updateNumber=(async()=>{try{const t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=Ry()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}(e),e._lastFatalError||(e._network=await e.provider.getNetwork())})())})),this.#Ot=e=(async()=>{await Promise.all(t);let e=null;for(const t of this.#xt){if(t._lastFatalError)continue;const r=t._network;null==e?e=r.chainId:r.chainId!==e&&tn(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#Pt(e,t){const r=[];for(const t of e)if(null!=t.result){const{tag:e,value:n}=My(t.result);r.push({tag:e,value:n,weight:t.config.weight})}if(!(r.reduce(((e,t)=>e+t.weight),0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#It&&(this.#It=Math.ceil(gi(_y(this.quorum,this.#xt.filter((e=>!e._lastFatalError)).map((e=>({value:e.blockNumber,tag:gi(e.blockNumber).toString(),weight:e.weight})))))));const e=function(e,t){if(1===e)return gi(_y(e,t),"%internal");const r=new Map,n=(e,t)=>{const n=r.get(e)||{result:e,weight:0};n.weight+=t,r.set(e,n)};for(const{weight:e,value:r}of t){const t=gi(r);n(t-1,e),n(t,e),n(t+1,e)}let i,a=0;for(const{weight:t,result:n}of r.values())t>=e&&(t>a||null!=i&&t===a&&n>i)&&(a=t,i=n);return i}(this.quorum,r);if(void 0===e)return;return e>this.#It&&(this.#It=e),this.#It}case"getGasPrice":case"getPriorityFee":case"estimateGas":return _y(this.quorum,r);case"getBlock":return"blockTag"in t&&"pending"===t.blockTag?Py(this.quorum,r):Ny(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return Ny(this.quorum,r);case"broadcastTransaction":return Py(this.quorum,r)}tn(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${ky(t.method)})`})}}async#Ct(e,t){if(0===e.size)throw new Error("no runners?!");const r=[];let n=0;for(const t of e)t.perform&&r.push(t.perform),t.staller?r.push(t.staller):t.didBump||(t.didBump=!0,n++);const i=await this.#Pt(e,t);if(void 0!==i){if(i instanceof Error)throw i;return i}for(let r=0;r<n;r++)this.#Nt(e,t);return tn(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map((e=>ky(e.result)))}}),await Promise.race(r),await this.#Ct(e,t)}async _perform(e){if("broadcastTransaction"===e.method){const t=this.#xt.map((e=>null)),r=this.#xt.map((async({provider:r,weight:n},i)=>{try{const a=await r._perform(e);t[i]=Object.assign(My({result:a}),{weight:n})}catch(e){t[i]=Object.assign(My({error:e}),{weight:n})}}));for(;;){const e=t.filter((e=>null!=e));for(const{value:t}of e)if(!(t instanceof Error))return t;const n=Ny(this.quorum,t.filter((e=>null!=e)));if(Zr(n,"INSUFFICIENT_FUNDS"))throw n;const i=r.filter(((e,r)=>null==t[r]));if(0===i.length)break;await Promise.race(i)}const n=Py(this.quorum,t);if(tn(void 0!==n,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(ky)}}),n instanceof Error)throw n;return n}await this.#_t();const t=new Set;let r=0;for(;;){const n=this.#Nt(t,e);if(null==n)break;if(r+=n.config.weight,r>=this.quorum)break}const n=await this.#Ct(t,e);for(const e of t)e.perform&&null==e.result&&e.config.lateResponses++;return n}async destroy(){for(const{provider:e}of this.#xt)e.destroy();super.destroy()}}const Ly="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Dy(e,t){null==t&&(t={});const r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new hg(e);if("string"==typeof e&&e.match(/^wss?:/)||(n=e)&&"function"==typeof n.send&&"function"==typeof n.close)return new yy(e);var n;let i=null;try{i=Tf.from(e)}catch(e){}const a=[];if(r("publicPolygon")&&i&&"matic"===i.name&&a.push(new hg("https://polygon-rpc.com/",i,{staticNetwork:i})),r("alchemy"))try{a.push(new iy(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{a.push(new ry(e,t.ankr))}catch(e){}if(r("cloudflare"))try{a.push(new ay(e))}catch(e){}if(r("etherscan"))try{a.push(new uy(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,n=t.infura;"object"==typeof n&&(r=n.projectSecret,n=n.projectId),a.push(new wy(e,n,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;a.push(new Sy(e,r))}catch(e){}if(tn(a.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===a.length)return a[0];let o=Math.floor(a.length/2);return o>2&&(o=2),i&&-1!==Ly.indexOf(i.name)&&(o=1),t&&t.quorum&&(o=t.quorum),new Cy(a,void 0,{quorum:o})}class Vy extends Xf{signer;#Lt;#Dt;constructor(e){super(e.provider),Kr(this,{signer:e}),this.#Lt=null,this.#Dt=0}async getAddress(){return this.signer.getAddress()}connect(e){return new Vy(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#Lt&&(this.#Lt=super.getNonce("pending"));const e=this.#Dt;return await this.#Lt+e}return super.getNonce(e)}increment(){this.#Dt++}reset(){this.#Dt=0,this.#Lt=null}async sendTransaction(e){const t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}class Uy extends pg{#fe;constructor(e,t){super(t,{batchMaxCount:1}),this.#fe=async(t,r)=>{const n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){rn(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#fe(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#fe("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}const By="62e1ad51b37b8e00394bda3b";class jy extends hg{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=Tf.from(e);null==t&&(t=By),null==r&&(r=null);const i={staticNetwork:n};super(jy.getRequest(n,t,r),n,i),Kr(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new jy(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=By);const n=new Qd(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}rn(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===By&&(n.retryFunc=async(e,t,r)=>(ey("PocketProvider"),!0)),n}isCommunityResource(){return this.applicationId===By}}const Fy=void 0;function $y(e){const t=ln(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=fn(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const qy=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Hy=/^[a-z]*$/i;function Gy(e,t){let r=97;return e.reduce(((e,n)=>(n===t?r++:n.match(Hy)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e)),[])}function Wy(e){return rn("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let r=qy.length-1;r>=0;r--)e=e.split(qy[r]).join(t.substring(2*r,2*r+2));const r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,((e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""}));if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return Gy(Gy(r,";"),":")}(e.substring(1+2*qy.length),e.substring(1,1+2*qy.length))}class zy{locale;constructor(e){Kr(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class Jy extends zy{#l;#Vt;constructor(e,t,r){super(e),this.#l=t,this.#Vt=r,this.#Ut=null}get _data(){return this.#l}_decodeWords(){return Wy(this.#l)}#Ut;#Bt(){if(null==this.#Ut){const e=this._decodeWords();if(ii(e.join("\n")+"\n")!==this.#Vt)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#Ut=e}return this.#Ut}getWord(e){const t=this.#Bt();return rn(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#Bt().indexOf(e)}}let Qy=null;class Ky extends Jy{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==Qy&&(Qy=new Ky),Qy}}function Yy(e){return(1<<e)-1<<8-e&255}function Zy(e,t){on("NFKD"),null==t&&(t=Ky.wordlist());const r=t.split(e);rn(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*r.length/8));let i=0;for(let e=0;e<r.length;e++){let a=t.getWordIndex(r[e].normalize("NFKD"));rn(a>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)a&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}const a=32*r.length/3,o=Yy(r.length/3);return rn((ln(Fm(n.slice(0,a/8)))[0]&o)==(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),fn(n.slice(0,a/8))}function Xy(e,t){rn(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=Ky.wordlist());const r=[0];let n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&(1<<8-n)-1&255),n+=3);const i=e.length/4,a=parseInt(Fm(e).substring(2,4),16)&Yy(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,t.join(r.map((e=>t.getWord(e))))}const eb={};class tb{phrase;password;wordlist;entropy;constructor(e,t,r,n,i){null==n&&(n=""),null==i&&(i=Ky.wordlist()),sn(e,eb,"Mnemonic"),Kr(this,{phrase:r,password:n,wordlist:i,entropy:t})}computeSeed(){const e=ti("mnemonic"+this.password,"NFKD");return ym(ti(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const n=Zy(e,r);return e=Xy(ln(n),r),new tb(eb,n,e,t,r)}static fromEntropy(e,t,r){const n=ln(e,"entropy"),i=Xy(n,r);return new tb(eb,fn(n),i,t,r)}static entropyToPhrase(e,t){return Xy(ln(e,"entropy"),t)}static phraseToEntropy(e,t){return Zy(e,t)}static isValidMnemonic(e,t){try{return Zy(e,t),!0}catch(e){}return!1}}class rb extends Xf{address;#jt;constructor(e,t){super(t),rn(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#jt=e,Kr(this,{address:bd(this.signingKey.publicKey)})}get signingKey(){return this.#jt}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new rb(this.#jt,e)}async signTransaction(e){const{to:t,from:r}=await Qr({to:e.to?eo(e.to,this.provider):void 0,from:e.from?eo(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&(rn(Pn(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const n=Gh.from(e);return n.signature=this.signingKey.sign(n.unsignedHash),n.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(Hm(e)).serialized}async signTypedData(e,t,r){const n=await Pd.resolveNames(e,t,r,(async e=>{tn(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return tn(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t}));return this.signingKey.sign(Pd.hash(n.domain,t,n.value)).serialized}}var nb,ib,ab,ob=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},sb=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};const cb={16:10,24:12,32:14},lb=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],ub=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],db=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],pb=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],hb=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],fb=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],gb=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],mb=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],yb=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],bb=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],vb=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],wb=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Ab=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Sb=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Eb=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Tb(e){const t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class Rb{get key(){return ob(this,nb,"f").slice()}constructor(e){if(nb.set(this,void 0),ib.set(this,void 0),ab.set(this,void 0),!(this instanceof Rb))throw Error("AES must be instanitated with `new`");sb(this,nb,new Uint8Array(e),"f");const t=cb[this.key.length];if(null==t)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");sb(this,ab,[],"f"),sb(this,ib,[],"f");for(let e=0;e<=t;e++)ob(this,ab,"f").push([0,0,0,0]),ob(this,ib,"f").push([0,0,0,0]);const r=4*(t+1),n=this.key.length/4,i=Tb(this.key);let a;for(let e=0;e<n;e++)a=e>>2,ob(this,ab,"f")[a][e%4]=i[e],ob(this,ib,"f")[t-a][e%4]=i[e];let o,s=0,c=n;for(;c<r;){if(o=i[n-1],i[0]^=ub[o>>16&255]<<24^ub[o>>8&255]<<16^ub[255&o]<<8^ub[o>>24&255]^lb[s]<<24,s+=1,8!=n)for(let e=1;e<n;e++)i[e]^=i[e-1];else{for(let e=1;e<n/2;e++)i[e]^=i[e-1];o=i[n/2-1],i[n/2]^=ub[255&o]^ub[o>>8&255]<<8^ub[o>>16&255]<<16^ub[o>>24&255]<<24;for(let e=n/2+1;e<n;e++)i[e]^=i[e-1]}let e,a,l=0;for(;l<n&&c<r;)e=c>>2,a=c%4,ob(this,ab,"f")[e][a]=i[l],ob(this,ib,"f")[t-e][a]=i[l++],c++}for(let e=1;e<t;e++)for(let t=0;t<4;t++)o=ob(this,ib,"f")[e][t],ob(this,ib,"f")[e][t]=wb[o>>24&255]^Ab[o>>16&255]^Sb[o>>8&255]^Eb[255&o]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=ob(this,ab,"f").length-1,r=[0,0,0,0];let n=Tb(e);for(let e=0;e<4;e++)n[e]^=ob(this,ab,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=pb[n[t]>>24&255]^hb[n[(t+1)%4]>>16&255]^fb[n[(t+2)%4]>>8&255]^gb[255&n[(t+3)%4]]^ob(this,ab,"f")[e][t];n=r.slice()}const i=new Uint8Array(16);let a=0;for(let e=0;e<4;e++)a=ob(this,ab,"f")[t][e],i[4*e]=255&(ub[n[e]>>24&255]^a>>24),i[4*e+1]=255&(ub[n[(e+1)%4]>>16&255]^a>>16),i[4*e+2]=255&(ub[n[(e+2)%4]>>8&255]^a>>8),i[4*e+3]=255&(ub[255&n[(e+3)%4]]^a);return i}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=ob(this,ib,"f").length-1,r=[0,0,0,0];let n=Tb(e);for(let e=0;e<4;e++)n[e]^=ob(this,ib,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=mb[n[t]>>24&255]^yb[n[(t+3)%4]>>16&255]^bb[n[(t+2)%4]>>8&255]^vb[255&n[(t+1)%4]]^ob(this,ib,"f")[e][t];n=r.slice()}const i=new Uint8Array(16);let a=0;for(let e=0;e<4;e++)a=ob(this,ib,"f")[t][e],i[4*e]=255&(db[n[e]>>24&255]^a>>24),i[4*e+1]=255&(db[n[(e+3)%4]>>16&255]^a>>16),i[4*e+2]=255&(db[n[(e+2)%4]>>8&255]^a>>8),i[4*e+3]=255&(db[255&n[(e+1)%4]]^a);return i}}nb=new WeakMap,ib=new WeakMap,ab=new WeakMap;class kb{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Rb(t)},name:{enumerable:!0,value:e}})}}var xb,Ib,Ob=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},Mb=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class Nb extends kb{constructor(e,t){if(super("ECC",e,Nb),xb.set(this,void 0),Ib.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Ob(this,xb,new Uint8Array(t),"f")}else Ob(this,xb,new Uint8Array(16),"f");Ob(this,Ib,this.iv,"f")}get iv(){return new Uint8Array(Mb(this,xb,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)Mb(this,Ib,"f")[t]^=e[r+t];Ob(this,Ib,this.aes.encrypt(Mb(this,Ib,"f")),"f"),t.set(Mb(this,Ib,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const n=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=n[i]^Mb(this,Ib,"f")[i],Mb(this,Ib,"f")[i]=e[r+i]}return t}}xb=new WeakMap,Ib=new WeakMap;new WeakMap,new WeakMap,new WeakSet;var _b,Pb,Cb,Lb=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},Db=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class Vb extends kb{constructor(e,t){super("CTR",e,Vb),_b.set(this,void 0),Pb.set(this,void 0),Cb.set(this,void 0),Lb(this,Cb,new Uint8Array(16),"f"),Db(this,Cb,"f").fill(0),Lb(this,_b,Db(this,Cb,"f"),"f"),Lb(this,Pb,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Db(this,Cb,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Db(this,Cb,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");Db(this,Cb,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==Db(this,Cb,"f")[e]){Db(this,Cb,"f")[e]++;break}Db(this,Cb,"f")[e]=0}}encrypt(e){var t,r;const n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===Db(this,Pb,"f")&&(Lb(this,_b,this.aes.encrypt(Db(this,Cb,"f")),"f"),Lb(this,Pb,0,"f"),this.increment()),n[e]^=Db(this,_b,"f")[(Lb(this,Pb,(r=Db(this,Pb,"f"),t=r++,r),"f"),t)];return n}decrypt(e){return this.encrypt(e)}}function Ub(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),un(e)}function Bb(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function jb(e){return"string"==typeof e?ti(e,"NFKC"):un(e)}function Fb(e,t){const r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);rn(null!=r,"invalid path","path",t);const n=r[1],i=r[3],a="!"===r[4];let o=e;for(const e of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!e.match(/^[0-9]+$/))break;o=o[parseInt(e)]}else if("object"==typeof o){let t=null;for(const r in o)if(r.toLowerCase()===e){t=o[r];break}o=t}else o=null;if(null==o)break}if(rn(!a||null!=o,"missing required value","path",n),i&&null!=o){if("int"===i){if("string"==typeof o&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if("number"===i&&"string"==typeof o&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if("data"===i&&"string"==typeof o)return Ub(o);if("array"===i&&Array.isArray(o))return o;if(i===typeof o)return o;rn(!1,`wrong type found for ${i} `,"path",n)}return o}_b=new WeakMap,Pb=new WeakMap,Cb=new WeakMap,new WeakMap,new WeakMap,new WeakMap;const $b="m/44'/60'/0'/0/0";function qb(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(e){}return!1}function Hb(e,t){const r=ln(t),n=Fb(e,"crypto.ciphertext:data!");rn(fn(Rn(gn([r.slice(16,32),n]))).substring(2)===Fb(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=function(e,t,r){if("aes-128-ctr"===Fb(e,"crypto.cipher:string")){const n=Fb(e,"crypto.cipherparams.iv:data!");return fn(new Vb(t,n).decrypt(r))}tn(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),n),a=bd(i);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),rn(Pn(t)===a,"keystore address/privateKey mismatch","address",e.address)}const o={address:a,privateKey:i};if("0.1"===Fb(e,"x-ethers.version:string")){const t=r.slice(32,64),n=Fb(e,"x-ethers.mnemonicCiphertext:data!"),i=Fb(e,"x-ethers.mnemonicCounter:data!"),a=new Vb(t,i);o.mnemonic={path:Fb(e,"x-ethers.path:string")||$b,locale:Fb(e,"x-ethers.locale:string")||"en",entropy:fn(ln(a.decrypt(n)))}}return o}function Gb(e){const t=Fb(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){const r=Fb(e,"crypto.kdfparams.salt:data!"),n=Fb(e,"crypto.kdfparams.n:int!"),i=Fb(e,"crypto.kdfparams.r:int!"),a=Fb(e,"crypto.kdfparams.p:int!");rn(n>0&&0==(n&n-1),"invalid kdf.N","kdf.N",n),rn(i>0&&a>0,"invalid kdf","kdf",t);const o=Fb(e,"crypto.kdfparams.dklen:int!");return rn(32===o,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:r,N:n,r:i,p:a,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=Fb(e,"crypto.kdfparams.salt:data!"),r=Fb(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();rn("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);const i=Fb(e,"crypto.kdfparams.c:int!"),a=Fb(e,"crypto.kdfparams.dklen:int!");return rn(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:i,dkLen:a,algorithm:n}}}rn(!1,"unsupported key-derivation function","kdf",t)}function Wb(e,t){const r=JSON.parse(e),n=jb(t),i=Gb(r);if("pbkdf2"===i.name){const{salt:e,count:t,dkLen:a,algorithm:o}=i;return Hb(r,ym(n,e,t,a,o))}tn("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:o,r:s,p:c,dkLen:l}=i;return Hb(r,Cm(n,a,o,s,c,l))}function zb(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}async function Jb(e,t,r){const n=JSON.parse(e),i=jb(t),a=Gb(n);if("pbkdf2"===a.name){r&&(r(0),await zb(0));const{salt:e,count:t,dkLen:o,algorithm:s}=a,c=ym(i,e,t,o,s);return r&&(r(1),await zb(0)),Hb(n,c)}tn("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:o,N:s,r:c,p:l,dkLen:u}=a;return Hb(n,await Pm(i,o,s,c,l,u,r))}function Qb(e){const t=null!=e.salt?ln(e.salt,"options.salt"):Am(32);let r=1<<17,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),rn("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),rn("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),rn("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function Kb(e,t,r,n){const i=ln(r.privateKey,"privateKey"),a=null!=n.iv?ln(n.iv,"options.iv"):Am(16);rn(16===a.length,"invalid options.iv length","options.iv",n.iv);const o=null!=n.uuid?ln(n.uuid,"options.uuid"):Am(16);rn(16===o.length,"invalid options.uuid length","options.uuid",n.iv);const s=e.slice(0,16),c=e.slice(16,32),l=ln(new Vb(s,a).encrypt(i)),u=Rn(gn([c,l])),d={address:r.address.substring(2).toLowerCase(),id:$y(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:fn(a).substring(2)},ciphertext:fn(l).substring(2),kdf:"scrypt",kdfparams:{salt:fn(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:u.substring(2)}};if(r.mnemonic){const t=null!=n.client?n.client:`ethers/${zr}`,i=r.mnemonic.path||$b,a=r.mnemonic.locale||"en",o=e.slice(32,64),s=ln(r.mnemonic.entropy,"account.mnemonic.entropy"),c=Am(16),l=ln(new Vb(o,c).encrypt(s)),u=new Date,p="UTC--"+u.getUTCFullYear()+"-"+Bb(u.getUTCMonth()+1,2)+"-"+Bb(u.getUTCDate(),2)+"T"+Bb(u.getUTCHours(),2)+"-"+Bb(u.getUTCMinutes(),2)+"-"+Bb(u.getUTCSeconds(),2)+".0Z--"+d.address;d["x-ethers"]={client:t,gethFilename:p,path:i,locale:a,mnemonicCounter:fn(c).substring(2),mnemonicCiphertext:fn(l).substring(2),version:"0.1"}}return JSON.stringify(d)}function Yb(e,t,r){null==r&&(r={});const n=jb(t),i=Qb(r);return Kb(ln(Cm(n,i.salt,i.N,i.r,i.p,64)),i,e,r)}async function Zb(e,t,r){null==r&&(r={});const n=jb(t),i=Qb(r);return Kb(ln(await Pm(n,i.salt,i.N,i.r,i.p,64,r.progressCallback)),i,e,r)}const Xb="m/44'/60'/0'/0/0",ev=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),tv=2147483648,rv=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function nv(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function iv(e){const t=ln(e);return Yh(gn([t,yn(Fm(Fm(t)),0,4)]))}const av={};function ov(e,t,r,n){const i=new Uint8Array(37);e&tv?(tn(null!=n,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(ln(n),1)):i.set(ln(r));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;const a=ln(Qg("sha512",t,i));return{IL:a.slice(0,32),IR:a.slice(32)}}function sv(e,t){const r=t.split("/");rn(r.length>0&&("m"===r[0]||e.depth>0),"invalid path","path",t),"m"===r[0]&&r.shift();let n=e;for(let e=0;e<r.length;e++){const t=r[e];if(t.match(/^[0-9]+'$/)){const r=parseInt(t.substring(0,t.length-1));rn(r<tv,"invalid path index",`path[${e}]`,t),n=n.deriveChild(tv+r)}else if(t.match(/^[0-9]+$/)){const r=parseInt(t);rn(r<tv,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else rn(!1,"invalid path component",`path[${e}]`,t)}return n}class cv extends rb{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,n,i,a,o,s,c){super(t,c),sn(e,av,"HDNodeWallet"),Kr(this,{publicKey:t.compressedPublicKey}),Kr(this,{parentFingerprint:r,fingerprint:yn(hm(Fm(this.publicKey)),0,4),chainCode:n,path:i,index:a,depth:o}),Kr(this,{mnemonic:s})}connect(e){return new cv(av,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#Ft(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await Zb(this.#Ft(),e,{progressCallback:t})}encryptSync(e){return Yb(this.#Ft(),e)}get extendedKey(){return tn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),iv(gn(["0x0488ADE4",nv(this.depth,1),this.parentFingerprint,nv(this.index,4),this.chainCode,gn(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new lv(av,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=gi(e,"index");rn(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~tv),t&tv&&(r+="'"));const{IR:n,IL:i}=ov(t,this.chainCode,this.publicKey,this.privateKey),a=new yd(yi((fi(i)+BigInt(this.privateKey))%rv,32));return new cv(av,a,this.fingerprint,fn(n),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return sv(this,e)}static#$t(e,t){rn(pn(e),"invalid seed","seed","[REDACTED]");const r=ln(e,"seed");rn(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");const n=ln(Qg("sha512",ev,r)),i=new yd(fn(n.slice(0,32)));return new cv(av,i,"0x00000000",fn(n.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=bi(Zh(e));rn(82===t.length||iv(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const r=t[4],n=fn(t.slice(5,9)),i=parseInt(fn(t.slice(9,13)).substring(2),16),a=fn(t.slice(13,45)),o=t.slice(45,78);switch(fn(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=fn(o);return new lv(av,bd(e),e,n,a,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new cv(av,new yd(o.slice(1)),n,a,null,i,r,null,null)}rn(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=Xb),null==r&&(r=Ky.wordlist());const n=tb.fromEntropy(Am(16),e,r);return cv.#$t(n.computeSeed(),n).derivePath(t)}static fromMnemonic(e,t){return t||(t=Xb),cv.#$t(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,n){null==t&&(t=""),null==r&&(r=Xb),null==n&&(n=Ky.wordlist());const i=tb.fromPhrase(e,t,n);return cv.#$t(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return cv.#$t(e,null)}}class lv extends eg{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,n,i,a,o,s,c){super(t,c),sn(e,av,"HDNodeVoidWallet"),Kr(this,{publicKey:r}),Kr(this,{publicKey:r,fingerprint:yn(hm(Fm(r)),0,4),parentFingerprint:n,chainCode:i,path:a,index:o,depth:s})}connect(e){return new lv(av,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return tn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),iv(gn(["0x0488B21E",nv(this.depth,1),this.parentFingerprint,nv(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const t=gi(e,"index");rn(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~tv),t&tv&&(r+="'"));const{IR:n,IL:i}=ov(t,this.chainCode,this.publicKey,null),a=yd.addPoints(i,this.publicKey,!0),o=bd(a);return new lv(av,o,a,this.fingerprint,fn(n),r,t,this.depth+1,this.provider)}derivePath(e){return sv(this,e)}}function uv(e){const t=gi(e,"index");return rn(t>=0&&t<tv,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function dv(e){const t=gi(e,"index");return rn(t>=0&&t<tv,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}function pv(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function hv(e,t){const r=JSON.parse(e),n=jb(t),i=Pn(Fb(r,"ethaddr:string!")),a=Ub(Fb(r,"encseed:string!"));rn(a&&a.length%16==0,"invalid encseed","json",e);const o=ln(ym(n,n,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),c=a.slice(16),l=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}(ln(new Nb(o,s).decrypt(c)));let u="";for(let e=0;e<l.length;e++)u+=String.fromCharCode(l[e]);return{address:i,privateKey:ii(u)}}function fv(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}class gv extends rb{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new yd(e):e,t)}connect(e){return new gv(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await Zb(r,e,{progressCallback:t})}encryptSync(e){return Yb({address:this.address,privateKey:this.privateKey},e)}static#qt(e){if(rn(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=tb.fromEntropy(e.mnemonic.entropy),r=cv.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new gv(e.privateKey);return rn(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let n=null;return qb(e)?n=await Jb(e,t,r):pv(e)&&(r&&(r(0),await fv(0)),n=hv(e,t),r&&(r(1),await fv(0))),gv.#qt(n)}static fromEncryptedJsonSync(e,t){let r=null;return qb(e)?r=Wb(e,t):pv(e)?r=hv(e,t):rn(!1,"invalid JSON wallet","json","[ REDACTED ]"),gv.#qt(r)}static createRandom(e){const t=cv.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=cv.fromPhrase(e);return t?r.connect(t):r}}class mv extends Jy{#Ht;constructor(e,t,r,n){super(e,t,n),this.#Ht=r}get _accent(){return this.#Ht}_decodeWords(){return function(e,t){let r=Wy(e).join(",");return t.split(/,/g).forEach((e=>{const n=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);rn(null!==n,"internal error parsing accents","accents",t);let i=0;const a=function(e,t){const r=(1<<e)-1,n=[];let i=0,a=0,o=0;for(let s=0;s<t.length;s++)for(i=i<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[s]),a+=6;a>=e;){const t=i>>a-e;i&=(1<<a-e)-1,a-=e,0===t?o+=r:(n.push(t+o),o=0)}return n}(parseInt(n[3]),n[4]),o=parseInt(n[2]),s=new RegExp(`([${n[1]}])`,"g");r=r.replace(s,((e,t)=>(0==--a[i]&&(t=String.fromCharCode(t.charCodeAt(0),o),i++),t)))})),r.split(",")}(this._data,this._accent)}}const yv={en:Ky.wordlist()},bv=r(import.meta.url)("path");var vv=a.n(bv);const wv='<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: it.staticPage.name,\r\n        title: it.staticPage.name,\r\n        url: `${it.staticPage.slug}.html`,\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: it.staticPage.contentHTML,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="static-page-<%=it.staticPage._id %>">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="<%=it.staticPage.name%>"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="fixed-width-content center">\r\n                        \r\n                        <div class="card">\r\n                            <div class="card-content card-content-padding">\r\n                                <%~ it.staticPage.contentHTML %>\r\n                            </div>\r\n                        </div>\r\n    \r\n                        <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">    \r\n\r\n        //pageInitScripts\r\n        \r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let owner\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel .channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "<%=it.staticPage.name%>"\r\n            }]\r\n            \r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n            })          \r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: it.staticPage.name,\r\n                    url: `${it.staticPage.slug}.html`,\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: it.staticPage.contentHTML,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "<%= it.staticPage.name %>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render;\r\n\r\n        }\r\n        \r\n        ///pageInitScripts\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>';var Av=function(e,t){return function(r,n){t(r,n,e)}};let Sv=class{itemService;itemWebService;staticPageService;itemRepository;staticPageRepository;convert;eta;jimp;constructor(e,t,r,n,i,a,o,s){this.itemService=e,this.itemWebService=t,this.staticPageService=r,this.itemRepository=n,this.staticPageRepository=i,this.convert=a,this.eta=o,this.jimp=s}async load(){await this.itemRepository.load(),await this.staticPageRepository.load()}async getGenerateViewModel(e,t){let r={itemViewModels:t,firstPageExploreItems:(await this.itemWebService.exploreList({},0,40)).items,routablePages:await this.staticPageService.listRoutablePages(),base64Version:Buffer.from(JSON.stringify(e.VERSION)).toString("base64"),bodyContents:"",headEndContents:""};return e.libraryURL?r.headEndContents=`\n          <script defer src="/large/library/browser/js/runtime.library.js?v=${e.VERSION}"><\/script>\n          <script defer src="/large/library/browser/js/vendors.library.js?v=${e.VERSION}"><\/script>\n          <script defer src="/large/library/browser/js/main.library.js?v=${e.VERSION}"><\/script>\n\n          <link rel="preload" href="/large/library/browser/css/vendors.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n          <link rel="preload" href="/large/library/browser/css/main.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n\n          `:r.headEndContents=`\n          <script defer src="${e.baseURL}large/reader/browser/js/runtime.reader.js?v=${e.VERSION}"><\/script>\n          <script defer src="${e.baseURL}large/reader/browser/js/vendors.reader.js?v=${e.VERSION}"><\/script>\n          <script defer src="${e.baseURL}large/reader/browser/js/main.reader.js?v=${e.VERSION}"><\/script>\n\n          <link rel="preload" href="${e.baseURL}large/reader/browser/css/vendors.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n          <link rel="preload" href="${e.baseURL}large/reader/browser/css/main.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n\n          `,r}async generateImages(e,t){if(i().mkdirSync(`${e.publicPath}/backup/generated/images/50x50`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/backup/generated/images/100x100`,{recursive:!0}),t.coverImage.generated)await this.generatePNGForItem(e,t);else{let r=`${e.publicPath}/backup/export/images/${t.coverImage._id}.jpg`;await this.generateWebp(e,r,t.coverImage._id,50)}}async generatePNGForItem(e,t){let r=`${e.publicPath}/backup/generated/images/${t.coverImage._id}.png`;return i().existsSync(r)||(console.log(`Converting SVG to PNG: ${r}`),await this.generatePNGFromSVG(t.coverImage.svg,r,1200,1200)),r}async generatePNGFromSVG(e,t,r,n){let a=await this.convert(e,{height:r,width:n,puppeteer:{args:["--no-sandbox","--disable-setuid-sandbox"]}});i().writeFileSync(t,a)}async generateWebp(e,t,r,n){let a=`${e.publicPath}/backup/generated/images${n?`/${n}x${n}/`:"/"}${r}.webp`;if(!i().existsSync(a))try{let e=await this.jimp.read(t);n?e.resize(n,n).write(a):e.write(a),console.log(`Created webp at: ${a} from ${t}`)}catch(e){console.log(`Error creating webp at: ${a} from ${t}`,e.message)}}async generateCollage(e,t){}async generateManifest(e,t){i().writeFileSync(`${e.publicPath}/manifest-icon.svg`,`<svg viewBox='0 0 1200 1200' xmlns='http://www.w3.org/2000/svg' version='1.1' style="background-color:rgb(28,28,29);">\n            \n            <style>\n              .logo { fill:#FCB827; font-size: 800px; font-weight:600; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }\n            </style>\n            \n            <g>\n              <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" class="logo">${t.channel.symbol.substring(0,1)}</text>    \n\n            </g>\n        </svg>`),i().writeFileSync(`${e.publicPath}/app.webmanifest`,JSON.stringify({name:t.channel.title,"short-name":t.channel.symbol,description:`Browse ${t.channel.title}`,display:"standalone",theme_color:"#FCB827","theme-color":"#FCB827",background_color:"#808080",icons:[{src:"manifest-icon.svg",sizes:"150x150",type:"image/svg+xml",purpose:"any"}],start_url:"index.html"}))}async generateAppleTouchIcon(e){let t=i().readFileSync(`${e.publicPath}/manifest-icon.svg`);await this.generatePNGFromSVG(t.toString(),`${e.publicPath}/apple-touch-icon.png`,180,180)}async writeAttributeRowItems(e,t,r,n){const a=e=>e.replace(/[^a-z0-9]/gi,"_").toLowerCase();let o=`${n}/${a(e)}/${a(t)}`;i().mkdirSync(o,{recursive:!0});let s=[];for(let e=0;e<r.length;e+=35){let t=r.slice(e,e+35);s.push(t)}let c=1;for(let e of s)i().writeFileSync(`${o}/${c}.json`,Buffer.from(JSON.stringify({items:e,totalMatches:r.length}))),c++}async generateAttributeItems(e,t){for(let r of t){let t=await this.itemService.getRowItemViewModelsByTokenIds(r.tokenIds);await this.writeAttributeRowItems(r.traitType,r.value,t,`${e.publicPath}/attributes/items`)}}async generateItemPages(e,t){let r=await this.itemWebService.buildItemPages(t,40),n=0;await i().mkdirSync(`${e.publicPath}/itemPages`,{recursive:!0});for(let t of r)i().writeFileSync(`${e.publicPath}/itemPages/${n}.json`,JSON.stringify(t)),n++}async generateAttributeTotals(e,t){let r=await this.itemWebService.buildAttributeTotals(t.channel);return i().writeFileSync(`${e.publicPath}/attributeTotals.json`,JSON.stringify(r)),r}async defineEtaTemplates(e,t){let r,n;this.eta.loadTemplate("@init","<% \n\n    let hostname = it.hostname\n    let baseURL = it.baseURL\n    let libraryURL = it.libraryURL\n    let routablePages = it.routablePages\n    let base64Version = it.base64Version\n    let channelId = it.channelId\n%>\n\n<% if (libraryURL) { %>\n\n    <script type=\"module\" id=\"page-scripts\">\n\n        let initLibrary = () => {\n\n            let baseURL = '<%= baseURL %>'\n\n            <% if (libraryURL) { %>\n            let libraryURL = '<%= libraryURL %>'\n            <% } %>\n\n            let hostname = '<%= hostname %>'\n            let version = atob('<%= base64Version %>').replace('\"', '').replace('\"', '')\n            let channelId = '<%= channelId ? channelId : \"\" %>'    \n\n            let app = library.initLibrary(libraryURL, baseURL, hostname, version, channelId)\n        }\n\n        initLibrary()\n\n        \n    <\/script>\n\n\n\n<% } else { %>\n\n    <script type=\"module\" id=\"page-scripts\">\n\n        let init = () => {\n\n            let baseURL = '<%= baseURL %>'\n            let hostname = '<%= hostname %>'\n            let version = atob('<%= base64Version %>').replace('\"', '').replace('\"', '')\n            let channelId = '<%= channelId %>'    \n\n            let app = reader.initReader(baseURL, hostname, version, channelId)\n        }\n\n        init()\n\n    \n        \n    <\/script>\n\n\n<% } %>    \n\n\n\n"),this.eta.loadTemplate("@meta_tags",'<%\n\n    const escapeExcerpt = (excerpt) => {\n\n        excerpt = excerpt?.replace(/<(?![br]\\s*\\/?)[^>]+>/g, \'\')\n\n        excerpt = excerpt?.replaceAll(\'<br />\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br/>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'"\', \'&quot;\')\n\n        return excerpt\n\n    }\n\n\n    let baseURL = it.baseURL\n\n%>\n\n        <style>\n        html {\n            visibility: hidden;\n            opacity: 0;\n        }\n        </style>\n\n\n        <title><%~ it.pageTitle %></title>\n\n\n        <link rel="manifest" href="<%~ baseURL %>app.webmanifest">\n        <link rel="icon" href="<%~ baseURL %>manifest-icon.svg">\n        <link rel="apple-touch-icon" href="<%~ baseURL %>apple-touch-icon.png">\n        <meta name="theme-color" content="#FCB827">\n\n\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=1, user-scalable=yes, minimal-ui, viewport-fit=cover">\n        <meta name="apple-mobile-web-app-capable" content="yes">\n\n        <meta name="description" content="<%~ escapeExcerpt(it.descriptionHTML) %>" >\n\n\n        <meta property="og:title" content="<%~it.title%>" />\n        <meta property="og:type" content="website" />\n        <meta property="og:url" content="<%= it.url %>" />\n        <meta property="og:image" content="<%= it.imageUrl %>" />\n        <meta property="og:description" content="<%~ escapeExcerpt(it.descriptionHTML) %>" />\n\n        <meta property="twitter:card" content="summary_large_image" />\n        <meta property="twitter:url" content="<%= it.url %>" />\n        <meta property="twitter:title" content="<%~it.title%>" />\n        <meta property="twitter:description" content="<%~ escapeExcerpt(it.descriptionHTML) %>" />\n        <meta property="twitter:image" content="<%= it.imageUrl %>" />'),this.eta.loadTemplate("@meta_tags_js",'<%\n\n    const escapeExcerpt = (excerpt) => {\n\n        excerpt = excerpt?.replace(/<(?![br]\\s*\\/?)[^>]+>/g, \'\')\n\n        excerpt = excerpt?.replaceAll(\'<br />\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br/>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'<br>\', \'&#x0A;\')\n        excerpt = excerpt?.replaceAll(\'"\', \'&quot;\')\n\n        return excerpt\n\n    }\n\n\n%>\n\n\ndocument.querySelector(\'meta[property="og:title"]\').setAttribute("content", "<%~it.title%>")\ndocument.querySelector(\'meta[property="og:url"]\').setAttribute("content", "<%= it.url %>")\ndocument.querySelector(\'meta[property="og:image"]\').setAttribute("content", "<%= it.imageUrl %>")\ndocument.querySelector(\'meta[property="og:description"]\').setAttribute("content", "<%~  escapeExcerpt(it.descriptionHTML) %>")\n\ndocument.querySelector(\'meta[property="twitter:url"]\').setAttribute("content", "<%= it.url %>")\ndocument.querySelector(\'meta[property="twitter:title"]\').setAttribute("content", "<%~it.title%>")\ndocument.querySelector(\'meta[property="twitter:image"]\').setAttribute("content", "<%= it.imageUrl %>")\ndocument.querySelector(\'meta[property="twitter:description"]\').setAttribute("content", "<%~  escapeExcerpt(it.descriptionHTML) %>" )\n');try{r=i().readFileSync(vv().resolve(t,e.headStart))}catch(e){}this.eta.loadTemplate("@headStart",r?r?.toString():"");try{n=i().readFileSync(vv().resolve(t,e.footer))}catch(e){}this.eta.loadTemplate("@footer",n?n?.toString():'<% \n  let baseURL = it.baseURL\n%>\n\n<div class="block block-strong inset">\n\n    <span class="footer-link">\n      <strong>Large NFT</strong> code licensed under <a href="https://github.com/LargeNFT/large-nft/blob/master/LICENSE.md" class="external">MIT</a>\n    </span>\n\n    <span class="footer-link">\n      <a href="https://github.com/LargeNFT/large-nft" class="external">GitHub</a>\n    </span>\n\n    <span class="footer-link">\n      <a href="https://twitter.com/large_nft" class="external">Twitter</a>\n    </span>\n\n</div>\n')}async generateLibraryPages(e,t){i().existsSync(`${t}${e.libraryURL}`)||i().mkdirSync(`${t}${e.libraryURL}`),await this.defineEtaTemplates(e,process.env.INIT_CWD);let r={routablePages:[],baseURL:e.baseURL,hostname:e.hostname,base64Version:Buffer.from(JSON.stringify(e.VERSION)).toString("base64"),logo:e.logo,libraryURL:e.libraryURL,largeURL:e.largeURL,headEndContents:`\n      <script defer src="${e.largeURL}/library/browser/js/runtime.library.js?v=${e.VERSION}"><\/script>\n      <script defer src="${e.largeURL}/library/browser/js/vendors.library.js?v=${e.VERSION}"><\/script>\n      <script defer src="${e.largeURL}/library/browser/js/main.library.js?v=${e.VERSION}"><\/script>\n\n      <link rel="preload" href="${e.largeURL}/library/browser/css/vendors.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n      <link rel="preload" href="${e.largeURL}/library/browser/css/main.css?v=${e.VERSION}" as="style" onload="this.onload=null;this.rel='stylesheet'">\n\n\n        `,bodyContents:""};await this.renderPage(e,'<!DOCTYPE html>\n<html lang="en">\n\n  <head>\n\n\n    <%~ \n      include("@meta_tags", {\n        pageTitle: it.title,\n        title: it.title,\n        url: \'index.html\',\n        imageUrl: \'\',\n        descriptionHTML: \'\',\n        hostname: it.baseViewModel.hostname,\n        baseURL: it.baseViewModel.baseURL,\n        excerptHtml: it.baseViewModel.excerptHtml,\n        he: it.baseViewModel.he\n      }) \n    %>\n\n\n    <%~ it.baseViewModel.headEndContents %>\n    \n\n  </head>\n\n  <body>\n\n    <div id="app">\n\n      <div class="view view-main">\n\n        \x3c!--pageContent--\x3e\n        <div class="page" data-name="library-home">\n\n          <nav-bar\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\n            title="<%= it.title %>"\n            show_mint_page="false"\n            show_activity_page="false"\n            hide_menu="true"\n          >\n          </nav-bar>\n\n          <div class="toolbar toolbar-bottom">\n            <div class="toolbar-inner">\n              <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\n            </div>\n          </div>\n\n\n\n          <div class="page-content hide-toolbar-on-scroll">\n\n            <div class="main-split">\n\n              <div class="left">\n                \n                <div class="hidden-on-load">\n\n                  <div class="card data-table">\n  \n                    <div class="card-header">Collections</div>\n\n                    <div class="card-content">\n  \n                        <table class="collections-table">\n  \n                          <thead>\n                            <tr>\n                              <th>Collection</th>\n                              <th class="value">24H</th>\n                              <th class="medium-only value">Month</th>\n                              <th class="medium-only value">Year</th>\n                              <th class="medium-only value">Total</th>\n                            </tr>\n                          </thead>\n  \n                          <tbody>\n    \n                            ${channels?.map( channelValue => $h`\n                              <tr>\n                                <td>\n                                  <a href="/r/${channelValue._id}/">\n                                    ${channelValue.coverImageId ? $h`\n                                      <img src="/r/${channelValue._id}/backup/generated/images/${channelValue.coverImageId}.webp" class="avatar" />\n                                    ` : $h`\n                                      <i class="material-icons avatar">image</i>\n                                    `}\n    \n                                    <span class="title">${channelValue.title}</span>\n                                  </a>\n  \n                                </td> \n                                <td class="value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.dayTotalsEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.dayTotalsUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                                <td class="medium-only value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.monthTotalsEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.monthTotalsUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                                <td class="medium-only value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.yearTotalsEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.yearTotalsUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                                <td class="medium-only value">\n  \n                                  <span class="eth-value">${parseFloat(channelValue.totalEthValue || 0).toFixed(3)} ETH</span>\n                                  <br />\n                                  <span class="dollar-value">$${homeWebService.abbreviateDollars(channelValue.totalUsdValue || 0, 2)}</span>\n  \n                                </td>\n  \n                              </tr>  \n                            `)}\n    \n                            </tbody>\n                        </table>\n    \n                    </div>\n                  \n                  </div>\n\n                </div>\n\n                <div class="hide-on-pageinit">\n\n                  <div class="card skeleton-text">\n                      <div class="card-header">Collections</div>\n                      <div class="card-content card-content-padding data-table">\n                          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\n                          lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\n                      </div>\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class="right">\n\n                <div class="card card-header-divider">\n                  <div class="card-header">Links</div>\n                  <div class="card-content card-content-padding">\n                    <div class="list">\n                      <ul>\n                        <li>\n                          <div class="item-content">\n                            <div class="item-inner">\n                              <div class="item-title">\n                                <a class="link external" href="https://discord.gg/yJtjqHvqXm">Discord</a>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                        <li>\n                          <div class="item-content">\n                            <div class="item-inner">\n                              <div class="item-title">\n                                <a class="link external" href="https://twitter.com/large_nft">Twitter</a>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n  \n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n\n\n          </div>\n\n        </div>\n        \x3c!--/pageContent--\x3e\n\n      </div>\n\n    </div>\n\n    <%~ it.baseViewModel.bodyContents %>\n    \n    <script type="module" id="page-init-scripts">\n\n      //pageInitScripts\n\n      const init = (props, { $, $f7, $h, $on, $update }) => {\n              \n            let channelWebService = globalThis.container.get("ChannelWebService")\n            let baseURI = globalThis.container.get("baseURI")\n            let hostname = globalThis.container.get("hostname")\n\n            let homeWebService = globalThis.container.get("HomeWebService")\n\n            let uiService = globalThis.container.get("UiService")\n\n            let breadcrumbs\n\n            let channels = []\n\n            const link = (href) => {\n              return baseURI() + href\n            }   \n\n            $on(\'pageAfterOut\', (e, page) => {\n            })\n\n            $on(\'pageInit\', async (e, page) => {\n\n              await channelWebService.loadChannel(\n                undefined,\n                undefined,\n                \'<%= it.baseViewModel.hostname %>\'\n              )\n\n\n              uiService.showSpinner("Loading...")\n\n              channelsShown = 0\n              pageCounter = 0\n              hasMoreChannels = true\n              loadingInProgress = false\n\n              channels = await homeWebService.get()\n\n              await $update()\n\n              $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\n              $(\'.hide-on-pageinit\').hide()\n\n              uiService.hideSpinner()\n\n            })\n\n            <%~ \n              include("@meta_tags_js", {\n                title: it.title,\n                url: \'index.html\',\n                imageUrl: \'\',\n                descriptionHTML: \'\',\n                hostname: it.baseViewModel.hostname,\n                baseURL: it.baseViewModel.baseURL,\n                excerptHtml: it.baseViewModel.excerptHtml,\n                he: it.baseViewModel.he\n              }) \n            %>\n\n\n\n            $f7.preloader.hide()\n\n            return $render\n\n      }\n\n      ///pageInitScripts\n\n    <\/script>\n\n    <%~ \n      include("@init", {\n        hostname: it.baseViewModel.hostname,\n        baseURL: it.baseViewModel.baseURL,\n        libraryURL: it.baseViewModel.libraryURL,\n        routablePages: it.baseViewModel.routablePages,\n        base64Version: it.baseViewModel.base64Version\n      }) \n    %>\n\n\n\n  </body>\n\n</html>',{baseViewModel:r,title:e.title},`${t}${e.libraryURL}/index.html`),await this.renderPage(e,'<% \n\n\n    let logo = it.baseViewModel.logo\n\n\n    const link = (href) => {\n        return `${it.baseViewModel.baseURL + href}`\n    }   \n\n\n    const absoluteLink = (href) => {\n      return `${it.baseViewModel.hostname + it.baseViewModel.baseURL + href}`\n    }   \n    \n%>\n\n<!DOCTYPE html>\n<html lang="en">\n\n  <head>\n\n    <style>\n      html {\n        visibility: hidden;\n        opacity: 0;\n      }\n    </style>\n\n\n    <title>\n      <%= it.title %>\n    </title>\n\n\n    <%~ it.baseViewModel.headEndContents %>\n    \n\n  </head>\n\n  <body>\n\n    <div id="app">\n\n      <div class="view view-main">\n\n        \x3c!--pageContent--\x3e\n        <div class="page" data-name="home">\n\n          <nav-bar\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\n            title="<%= it.title %>"\n            show_mint_page="false"\n            show_activity_page="false"\n            baseURI="${baseURI}"\n            hostname="${hostname}"\n          >\n          </nav-bar>\n\n\n          <div class="page-content">\n\n            <div class="main-split">\n\n              <div class="left">\n\n                <div class="card">\n\n                  <div class="card-content card-content-padding">\n                    404 Page Not Found.\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class="right">\n\n              </div>\n\n              <div class="left">\n                <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\n              </div>\n\n            </div>\n\n\n          </div>\n\n        </div>\n        \x3c!--/pageContent--\x3e\n\n      </div>\n\n    </div>\n\n    <%~ it.baseViewModel.bodyContents %>\n    \n    <script type="module" id="page-init-scripts">\n      //pageInitScripts\n      const init = (props, { $, $f7, $h, $on, $update }) => {\n              \n            let channelWebService = globalThis.container.get("ChannelWebService")\n            let baseURI = globalThis.container.get("baseURI")\n            let hostname = globalThis.container.get("hostname")\n\n            let breadcrumbs\n\n            const link = (href) => {\n              return baseURI + href\n            }   \n\n   \n            $on(\'pageInit\', async () => {\n\n              await channelWebService.loadChannel(\n                undefined,\n                \'/\',\n                \'<%= it.baseViewModel.hostname %>\'\n              )\n\n\n\n            })\n\n            $f7.preloader.hide()\n\n            return $render\n\n      }\n      ///pageInitScripts\n\n    <\/script>\n\n    <%~ \n      include("@init", {\n        hostname: it.baseViewModel.hostname,\n        baseURL: it.baseViewModel.baseURL,\n        libraryURL: it.baseViewModel.libraryURL,\n        routablePages: it.baseViewModel.routablePages,\n        base64Version: it.baseViewModel.base64Version\n      }) \n    %>\n\n\n\n  </body>\n\n</html>',{baseViewModel:r,title:"404 Page Not Found"},`${t}${e.libraryURL}/404.html`)}async generatePages(e,r,n,a){if(i().mkdirSync(`${e.publicPath}/attributes`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/attribute`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/activity`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/leaderboard`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/sales`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/u`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/u/activity`,{recursive:!0}),i().mkdirSync(`${e.publicPath}/transaction`,{recursive:!0}),await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: it.baseViewModel.channelViewModel.channel.title,\r\n        title: it.baseViewModel.channelViewModel.channel.title,\r\n        url: \'index.html\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: it.baseViewModel.channelViewModel.channel.descriptionHTML,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n\r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        \x3c!--pageContent--\x3e\r\n        <div class="page" data-name="reader-home">\r\n\r\n          <nav-bar\r\n            logo="${logo}"\r\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n            title="<%=it.baseViewModel.channelViewModel.channel.title%>"\r\n            show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n            show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n            breadcrumbs="${breadcrumbs}"\r\n          >\r\n          </nav-bar>\r\n\r\n\r\n          <token-toolbar\r\n            token_id="0"\r\n            item_count="<%= it.baseViewModel.channelViewModel.channel.itemCount %>" \r\n          >\r\n          </token-toolbar>\r\n\r\n\r\n          <div class="page-content">\r\n\r\n            <div class="main-split">\r\n\r\n              <div class="left">\r\n\r\n                <div class="card channel-card-show">\r\n\r\n                  <div class="card-header banner" id="banner" <% if(it.baseViewModel.channelViewModel?.channel.coverBannerId) { %>\r\n                        style="background-image: url(\'<%= it.baseViewModel.link(`backup/generated/images/${it.baseViewModel.channelViewModel.channel.coverBannerId}.webp`) %>\')"\r\n                      <% } else { %>\r\n                        style="background: #cccccc;"\r\n\r\n                      <% } %>\r\n                        >\r\n    \r\n                        <a href="<%= it.baseViewModel.link(\'index.html\') %>">\r\n                          <% if (it.baseViewModel.channelViewModel?.channel.coverImageId) { %>\r\n                            <img src="<%= it.baseViewModel.link(`backup/generated/images/100x100/${it.baseViewModel.channelViewModel.channel.coverImageId}.webp`) %>" alt="Primary avatar" class="avatar" />\r\n                          <% } else { %>\r\n                            <i class="f7-icons avatar">photo</i>\r\n                          <% } %>\r\n                        </a>\r\n    \r\n                  </div>\r\n    \r\n                  <div class="card-content card-content-padding">\r\n    \r\n                    <div class="title">\r\n                      <%= it.baseViewModel.channelViewModel.channel.title %>\r\n                    </div>\r\n    \r\n                    <% if(it.baseViewModel.channelViewModel?.authorDisplayName) { %>\r\n                      <div class="name">\r\n                        By <%= it.baseViewModel.channelViewModel?.authorDisplayName %>\r\n                      </div>\r\n                    <% } %>\r\n    \r\n                    <div class="description" id="channel-show-description-<%=it.baseViewModel.channelViewModel.channel._id%>">\r\n                      <%~ it.baseViewModel.channelViewModel.channel?.descriptionHTML %>\r\n                    </div>\r\n    \r\n    \r\n                    <div class="start-buttons">\r\n                      <a href="<%= it.baseViewModel.link(`t/${it.firstPost.item.tokenId}`) %>" class="button button-fill text-color-white ready-button" data-transition="f7-cover">Browse Collection</a>\r\n                      <a href="<%= it.baseViewModel.link(`explore.html`) %>" class="button button-outline ready-button" data-transition="f7-cover">Explore</a>\r\n\r\n                    </div>\r\n    \r\n    \r\n                  </div>\r\n    \r\n                </div>\r\n    \r\n                <div class="hidden-on-load">\r\n    \r\n                  <% if (it.baseViewModel.showMintPage) { %>\r\n                    <mint-info\r\n                      baseurl="<%= it.baseViewModel.baseURL %>"\r\n                    ></mint-info>\r\n                  <% } %>\r\n\r\n\r\n                  <% if(it.baseViewModel.channelViewModel.channel?.contractAddress) { %>\r\n\r\n                    <div class="card card-header-divider">\r\n                      <div class="card-header">Overall Stats</div>\r\n                      <div class="card-content card-content-padding">\r\n\r\n                        <div class="block block-strong inset stats">\r\n      \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Number of Sales (Lifetime)\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.totals?.events ? homeViewModel?.salesReport?.totals?.events : 0)}</strong>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Average Sale\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.totals?.averageEthValue ? homeViewModel?.salesReport?.totals?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.totals?.averageUsdValue ? homeViewModel?.salesReport?.totals?.averageUsdValue : 0, 2)}</span>\r\n                            </div>\r\n                            \r\n        \r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Total Value of All Sales (Lifetime)\r\n                            </div>\r\n                            \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.totals?.ethValue ? homeViewModel?.salesReport?.totals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.totals?.usdValue ? homeViewModel?.salesReport?.totals?.usdValue : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n                              \r\n                            <div>\r\n                              Value of Sales (24 Hours)\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.dayTotals?.ethValue ? homeViewModel?.salesReport?.dayTotals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.dayTotals?.usdValue ? homeViewModel?.salesReport?.dayTotals?.usdValue?.toFixed(2) : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n        \r\n                            <div>\r\n                              Value of Sales (Month)\r\n                            </div>\r\n        \r\n                            \r\n                            <div class="col-50 large-100 price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.monthTotals?.ethValue ? homeViewModel?.salesReport?.monthTotals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.monthTotals?.usdValue ? homeViewModel?.salesReport?.monthTotals?.usdValue?.toFixed(2) : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n        \r\n                          <div class="stats-row margin-bottom">\r\n                            \r\n                            <div>\r\n                              Value of Sales (Year)\r\n                            </div>\r\n        \r\n                            <div class="price">\r\n                              <strong>${new Intl.NumberFormat(\'en-US\').format(homeViewModel?.salesReport?.yearTotals?.ethValue ? homeViewModel?.salesReport?.yearTotals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(homeViewModel?.salesReport?.yearTotals?.usdValue ? homeViewModel?.salesReport?.yearTotals?.usdValue?.toFixed(2) : 0, 2)}</span>\r\n                            </div>\r\n                          </div>\r\n          \r\n        \r\n                        </div>\r\n        \r\n                        <div class="block split-row-both">\r\n                          <a class="button button-outline margin-bottom" href="${link(\'leaderboard\')}">Top Owners</a>\r\n                          <a class="button button-outline margin-bottom" href="${link(\'attributes\')}">All Attributes</a>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  <% } %>\r\n  \r\n  \r\n                  \r\n  \r\n  \r\n  \r\n                  ${homeViewModel?.largestSales && homeViewModel.largestSales?.sales?.length > 0 ? $h`\r\n\r\n                    <div class="card card-header-divider data-table">\r\n                      <div class="card-header">Largest Sales</div>\r\n                      <div class="card-content card-content-padding">\r\n                        <largest-sales largest_sales="${homeViewModel?.largestSales}"></largest-sales>\r\n                      </div>\r\n                    </div>\r\n  \r\n  \r\n                    <div class="block save-row">\r\n                      <div class="large-only"></div>\r\n                      <a href="${link(\'sales\')}" class="button button-fill">View Top 100</a>\r\n                    </div>\r\n  \r\n                  ` : $h` `}\r\n  \r\n  \r\n                  ${homeViewModel?.recent?.transactions?.length > 0 ? $h`\r\n    \r\n                    <transaction-row transactions="${homeViewModel.recent}" items="${homeViewModel?.recent.rowItemViewModels}">\r\n\r\n                      <div class="card-header">\r\n                        Recent Activity\r\n                        <div class="last-updated">Updated: ${dayjs(homeViewModel?.recent.lastUpdated).fromNow()}</div>\r\n                      </div>\r\n\r\n                    </transaction-row>\r\n  \r\n                    <div class="block save-row">\r\n                      <div class="large-only"></div>\r\n                      <a href="${link(\'activity\')}" class="button button-fill">View All</a>\r\n                    </div>\r\n              \r\n                  ` : $h`<span />`}\r\n    \r\n    \r\n                </div>\r\n                \r\n               \r\n  \r\n                <% \r\n                  if (it.baseViewModel.channelViewModel.staticPagesViewModel.index?.length > 0) {\r\n    \r\n                    for (let staticPage of it.baseViewModel.channelViewModel.staticPagesViewModel.index) {\r\n                 %>\r\n    \r\n                  <div class="card static-page-card">   \r\n                    <div class="card-content card-content-padding">\r\n                      <%~ staticPage.contentHTML %>\r\n                    </div>               \r\n                  </div>\r\n    \r\n                <%\r\n                    }\r\n                  }                  \r\n                %>\r\n    \r\n    \r\n  \r\n  \r\n                <% if (it.baseViewModel.channelViewModel?.channel.licenseHTML?.length > 13) { %>\r\n    \r\n                  <div class="card">\r\n                    <div class="card-content card-content-padding license">\r\n                      <%~ it.baseViewModel.channelViewModel?.channel.licenseHTML %>\r\n                    </div>\r\n                  </div>\r\n    \r\n                <% } %>\r\n  \r\n\r\n              </div>\r\n\r\n              <div class="right">\r\n\r\n                <div class="hidden-on-load">\r\n      \r\n                  <% if(it.baseViewModel.channelViewModel.channel?.contractAddress) { %>\r\n\r\n                    <div class="card card-header-divider">\r\n                      <div class="card-header">Links</div>\r\n                      <div class="card-content card-content-padding">\r\n                        <div class="list">\r\n                          <ul>\r\n              \r\n                            <% if(it.baseViewModel.channelViewModel.channel?.contractAddress) { %>\r\n      \r\n                              <li>\r\n                                <div class="item-content">\r\n                                  <div class="item-inner">\r\n                                    <div class="item-title">\r\n                                      <a class="link external" href="https://etherscan.io/address/<%=it.baseViewModel.channelViewModel.channel?.contractAddress%>">Etherscan</a>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </li>\r\n                            <% } %>\r\n        \r\n                            <% for (let externalLink of it.baseViewModel.externalLinks) { %>\r\n      \r\n                              <li>\r\n                                <div class="item-content">\r\n                                  <div class="item-inner">\r\n                                    <div class="item-title">\r\n                                      <a class="link external" href="<%= externalLink.link %>"><%= externalLink.name %></a>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </li>\r\n      \r\n                            <% } %>\r\n    \r\n    \r\n                            <%\r\n                            if (it.baseViewModel.channelViewModel?.staticPagesViewModel?.links?.length > 0) {\r\n                            %>\r\n                              \r\n                              <%\r\n                                  for (let staticPage of it.baseViewModel.channelViewModel.staticPagesViewModel.links) {\r\n                              %>\r\n        \r\n                                    <li>\r\n                                      <div class="item-content">\r\n                                        <div class="item-inner">\r\n                                          <div class="item-title">\r\n                                            <a class="link" href="<%= it.baseViewModel.link(`s/${staticPage.slug}.html`) %>"><%= staticPage.name %></a>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </li>\r\n        \r\n                              <%\r\n                                  }\r\n                              %> \r\n        \r\n                            <%\r\n                            }\r\n                            %> \r\n      \r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  <% } %>\r\n\r\n\r\n                  <% \r\n                    if (it.baseViewModel.marketplaces?.length > 0) {\r\n                  %>\r\n\r\n                    <div class="card card-header-divider">\r\n                      <div class="card-header">Marketplaces</div>\r\n                      <div class="card-content card-content-padding">\r\n                        <div class="list">           \r\n                          <ul>\r\n                              <% \r\n                              for (let marketplace of it.baseViewModel.marketplaces) { \r\n                              %>  \r\n        \r\n                                <li>\r\n                                  <div class="item-content">\r\n                                    <div class="item-inner">\r\n                                      <div class="item-title">\r\n                                        <a class="link external" href="<%= it.baseViewModel.marketplaceLink(marketplace) %>"><%= marketplace.name %></a>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </li>\r\n                              <%\r\n                              }\r\n                              %>\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  <% } %>\r\n  \r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="left">\r\n                <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n        \x3c!--/pageContent--\x3e\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n          let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n          let baseURI = globalThis.container.get("baseURI")\r\n          let hostname = globalThis.container.get("hostname")\r\n\r\n          let transactionWebService = globalThis.container.get("TransactionWebService")\r\n          let itemWebService = globalThis.container.get("ItemWebService")\r\n          let tokenOwnerPageService = globalThis.container.get("TokenOwnerPageService")\r\n          let readerSettingsService = globalThis.container.get("ReaderSettingsService")\r\n\r\n          let walletService = globalThis.container.get("WalletService")\r\n          let mintWebService = globalThis.container.get("MintWebService")\r\n\r\n          let breadcrumbs\r\n\r\n          let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n          const PER_PAGE = 35\r\n\r\n          let homeViewModel\r\n          let mintingViewModel \r\n\r\n          let loading = true\r\n\r\n          let firstPageExploreItems \r\n\r\n          const link = (href) => {\r\n            return baseURI() + href\r\n          }   \r\n\r\n          const loadActivity = async () => {\r\n\r\n            loading = true\r\n\r\n            try  {\r\n\r\n              homeViewModel = await transactionWebService.getHomeViewModel()\r\n\r\n              //Last updated won\'t be right because this only gets written when it actually changes.\r\n              let latest = await transactionWebService.getLatest()\r\n              \r\n              if (homeViewModel?.largestSales) {\r\n                homeViewModel.largestSales.lastUpdated = latest?.lastUpdated\r\n              }\r\n  \r\n              await $update()\r\n\r\n            } catch(ex) { console.log(ex) }\r\n\r\n            $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n            loading = false\r\n\r\n            await $update()\r\n\r\n\r\n          }\r\n\r\n          const loadMintingViewModel = async () => {\r\n      \r\n            try  {\r\n\r\n              if (!walletService.provider) {\r\n                await walletService.initProvider()\r\n              }\r\n\r\n              //Might still not have a provider. \r\n              if (walletService.provider) {\r\n                hasProvider = true\r\n                mintingViewModel = await mintWebService.getHomeMintingViewModel()\r\n              } \r\n\r\n            } catch(ex) {\r\n              console.log(ex)\r\n            }\r\n            \r\n            $f7.emit(\'minting-view-model-updated\', mintingViewModel)\r\n\r\n\r\n          }\r\n\r\n          $on(\'pageInit\', async () => {\r\n\r\n            console.log("Loading channel")\r\n            await channelWebService.loadChannel(\r\n                    "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                    \'<%= it.baseViewModel.baseURL %>\',\r\n                    \'<%= it.baseViewModel.hostname %>\'\r\n            )\r\n\r\n            let readerSettings = await readerSettingsService.get()\r\n            $f7.emit(\'current-page-updated\', readerSettings.currentPage)\r\n\r\n            \r\n            <% if (it.baseViewModel.showMintPage) { %>\r\n              console.log("Loading mint view model")\r\n              await loadMintingViewModel()\r\n              await $update()\r\n            <% } %>\r\n\r\n            console.log("Loading activity")\r\n            await loadActivity()\r\n            $update()\r\n\r\n            //Set empty alt for any decorative image tags that are missing it. \r\n            $("img:not([alt])").attr("alt", "")\r\n          })\r\n\r\n          $on(\'pageBeforeOut\', async () => {\r\n          })\r\n\r\n          <%~ \r\n            include("@meta_tags_js", {\r\n              title: it.baseViewModel.channelViewModel.channel.title,\r\n              url: \'index.html\',\r\n              imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n              descriptionHTML: it.baseViewModel.channelViewModel.channel.descriptionHTML,\r\n              hostname: it.baseViewModel.hostname,\r\n              baseURL: it.baseViewModel.baseURL,\r\n              excerptHtml: it.baseViewModel.excerptHtml,\r\n              he: it.baseViewModel.he\r\n            }) \r\n          %>\r\n\r\n          document.querySelector(\'title\').innerHTML = "<%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n          $f7.preloader.hide()\r\n\r\n          return $render\r\n\r\n          \r\n\r\n      }\r\n\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("@init", {\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: it.baseViewModel.routablePages,\r\n        base64Version: it.baseViewModel.base64Version,\r\n        channelId: it.baseViewModel.channelId\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n  </body>\r\n\r\n</html>',{title:r.channel.title,firstPost:n.itemViewModels[0],baseViewModel:a},`${e.publicPath}/index.html`),e.showMintPage&&await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Mint ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        title: it.baseViewModel.channelViewModel.channel.title,\r\n        url: \'mint.html\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Mint \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he,\r\n      }) \r\n    %>\r\n\r\n    \r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        \x3c!--pageContent--\x3e\r\n        <div class="page" data-name="mint">\r\n\r\n          <nav-bar\r\n              logo="${logo}"\r\n              library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n              large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n              title="Mint"\r\n              active="Mint"\r\n              show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n              show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n              breadcrumbs="${breadcrumbs}"\r\n              base_uri="${baseURI}"\r\n              hostname="${hostname}"\r\n          >\r\n          </nav-bar>\r\n\r\n          <div class="page-content infinite-scroll-content" id="mint-list-infinite-scroll">\r\n\r\n            <div class="fixed-width-content center">\r\n\r\n              <div class="block-title block-title-large">Mint</div>\r\n              \r\n              <div class="hidden-on-load">\r\n\r\n                ${mintingViewModel ? $h`\r\n\r\n                  ${mintingViewModel.minting ? $h`\r\n                      \r\n                      <div class="block block-strong inset">\r\n                        <p>\r\n                          <strong>Total Minted:</strong> ${mintingViewModel.totalMinted} of ${mintingViewModel.totalSupply}\r\n                        </p>              \r\n                      </div>\r\n\r\n                      <form class="list" @submit="${mintOnSubmit}">\r\n                        <ul>  \r\n                        \r\n                          <li>\r\n                            <div class="item-content">\r\n                                <div class="item-inner">\r\n                                    <div class="item-title mint-detail">\r\n\r\n                                      <p>\r\n                                        <strong>Quantity:</strong>\r\n                                        <div class="stepper stepper-init">\r\n                                          <div class="stepper-button-minus"></div>\r\n                                          <div class="stepper-input-wrap">\r\n                                            <input type="text" readonly min="1" max="10" step="1" value="1" />\r\n                                          </div>\r\n                                          <div class="stepper-button-plus"></div>\r\n                                        </div>\r\n                                      </p>\r\n\r\n                                      <p>\r\n                                        <strong>Mint Fee:</strong> ${mintingViewModel.mintPrice} ETH\r\n                                      </p>\r\n                                      <p>\r\n                                        <strong>Total:</strong> ${total} ETH\r\n                                      </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                          </li>\r\n            \r\n                          <li>\r\n                            <label class="item-checkbox item-content">\r\n            \r\n                                <input type="checkbox" checked="${exactTokensOnly}" @change=${exactTokensOnChange}/>\r\n                                \r\n                                <i class="icon icon-checkbox"></i>\r\n                                <div class="item-inner">\r\n            \r\n                                    <div class="item-title">\r\n                                      <div class="item-header"></div>\r\n                                      Exact Tokens Only\r\n                                      <div class="item-footer">If this box is checked the transaction will immediately fail if another user mints *any* of the selected tokens. </div>\r\n                                    </div>\r\n            \r\n                                </div>\r\n                            </label>\r\n                          </li>\r\n            \r\n                          <li>\r\n                            <div class="item-content">\r\n                                <div class="item-inner">\r\n                                  <button class="button button-fill ${quantity < 1 ? \'disabled\': \'\'}" id="mint-button">Mint</button>\r\n                                </div>\r\n                            </div>\r\n                          </li>\r\n                          \r\n                        </ul>\r\n            \r\n                      </form>\r\n            \r\n                      <div class="card mint-list-card">\r\n                        <div class="card-header">Next Up</div>\r\n                        <div class="card-content">\r\n            \r\n                          <div class="list cards-list virtual-list" id="mint-list">\r\n                            <ul class="item-flex"></ul>\r\n                          </div>\r\n                    \r\n                          <div class="preloader infinite-scroll-preloader"></div>\r\n            \r\n                        </div>\r\n                      </div>\r\n                      \r\n                  ` : $h`\r\n                    <div class="card">\r\n                      <div class="card-header">Minting Complete</div>\r\n                      <div class="card-content card-content-padding">\r\n                        Minting is complete. Thank you!\r\n                      </div>\r\n                    </div>\r\n                  \r\n                  `}\r\n                \r\n                ` : $h`\r\n                  <li class="card skeleton-text skeleton-effect-wave">\r\n                    <div class="card-header">Loading Loading Loading</div>\r\n                    <div class="card-content card-content-padding">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis et massa ac\r\n                        interdum. Cras consequat felis at consequat hendrerit. Aliquam vestibulum vitae lorem ac iaculis.\r\n                        Praesent nec pharetra massa, at blandit lectus. Sed tincidunt, lectus eu convallis elementum, nibh nisi\r\n                        aliquet urna, nec imperdiet felis sapien at enim.</div>\r\n                  </li>\r\n                `}\r\n\r\n\r\n              </div>\r\n\r\n              <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n          </div>\r\n    \r\n          </div>\r\n\r\n        </div>\r\n        \x3c!--/pageContent--\x3e\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {  \r\n\r\n        let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n        let baseURI = globalThis.container.get("baseURI")()\r\n        let hostname = globalThis.container.get("hostname")\r\n\r\n        let itemWebService = globalThis.container.get("ItemWebService")\r\n        let mintWebService = globalThis.container.get("MintWebService")\r\n        let walletService = globalThis.container.get("WalletService")\r\n        let queueService = globalThis.container.get("QueueService")\r\n\r\n        let totalItemCount = parseInt(\'<%= it.baseViewModel.channelViewModel.itemCount %>\')\r\n\r\n        const PER_PAGE = 40\r\n\r\n        let hasMoreItems = true\r\n        let loadingInProgress = false\r\n        let pageCounter=0\r\n        let lastPage = parseInt(totalItemCount / PER_PAGE)\r\n\r\n        let virtualList\r\n        let items = []\r\n\r\n        let mintingViewModel\r\n\r\n        let total = 0 \r\n        let quantity = 1\r\n        let mintPriceWei\r\n        let exactTokensOnly = true\r\n\r\n        let lastMinted \r\n\r\n        let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n        let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI\r\n            }, {\r\n                text: "Mint"\r\n        }]\r\n\r\n        const mintFetcher = {\r\n\r\n          intervalId: null,\r\n\r\n          start: (callback) => {\r\n            if (mintFetcher.intervalId === null) {\r\n              console.log(\'Starting mint fetcher\')\r\n              mintFetcher.intervalId = setInterval(callback, 5000)\r\n            } \r\n          },\r\n\r\n          stop: () => {\r\n            if (mintFetcher.intervalId !== null) {\r\n              clearInterval(mintFetcher.intervalId)\r\n              mintFetcher.intervalId = null\r\n              console.log(\'Stopping mint fetcher\')\r\n            } \r\n          }\r\n\r\n        }\r\n\r\n\r\n        const resizeListener = (e) => {\r\n          const viewPortWidth = getWidth()\r\n\r\n          if (virtualList) {\r\n            virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n            virtualList.update()\r\n          }\r\n\r\n          // if (swiper) {\r\n          //   swiper.params.slidesPerView = viewPortWidth >= 1024 ? 5 : 2\r\n          //   swiper.update()\r\n          // }\r\n\r\n\r\n          console.log("Resized...")\r\n\r\n        }\r\n\r\n        const getWidth = () => {\r\n          return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n        }\r\n\r\n        const startMintFetcher = () => {\r\n\r\n          mintFetcher.start( async () => {\r\n\r\n            console.log("Grabbing mints...")\r\n\r\n            //Grab latest view model and remove any that have been minted.\r\n            mintingViewModel = await mintWebService.getMintingViewModel()\r\n\r\n            await removeMinted()\r\n\r\n            //Reselect the right quantity\r\n            selectPreviews(quantity)\r\n\r\n            await $update()\r\n\r\n          })\r\n\r\n        }\r\n\r\n\r\n        $on(\'pageInit\', async () => {\r\n\r\n          $f7.preloader.show()\r\n\r\n          await channelWebService.loadChannel(\r\n                  "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                  \'<%= it.baseViewModel.baseURL %>\',\r\n                  \'<%= it.baseViewModel.hostname %>\'\r\n          )\r\n\r\n\r\n          await populate()\r\n\r\n          //Reselect the right quantity\r\n          selectPreviews(quantity)\r\n\r\n          startMintFetcher()\r\n\r\n          $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n          $(\'.hide-on-pageinit\').hide()\r\n\r\n          window.addEventListener(\'resize\', resizeListener)\r\n\r\n\r\n\r\n        })\r\n\r\n        $on(\'stepper:change\', async (e) => {\r\n          quantity = parseInt(e.detail)\r\n          await updateTotal()\r\n          selectPreviews(quantity)\r\n        })\r\n\r\n        $on(\'pageBeforeOut\', async () => {\r\n          window.removeEventListener(\'resize\', resizeListener)\r\n          mintFetcher.stop()\r\n        })        \r\n\r\n        const quantityChange = async (e) => {\r\n          quantity = parseInt($(e.currentTarget).val())\r\n          await updateTotal()\r\n          selectPreviews(quantity)\r\n        }\r\n\r\n        const createVirtualList = () => {\r\n          \r\n          if (virtualList) return\r\n\r\n          virtualList = $f7.virtualList.create({\r\n            el: \'#mint-list\',\r\n            createUl: false,\r\n            renderItem(item) {\r\n                return getTemplate(item)\r\n            },\r\n            height: 300,\r\n            items: items,                    \r\n            cols: getWidth() >= 1024 ? 5 : 2,\r\n            emptyTemplate: `\r\n                <li class="item-content">\r\n                    <div class="item-inner">\r\n                        Loading...\r\n                    </div>\r\n                </li>\r\n                `\r\n          })\r\n\r\n          if (virtualList.items?.length <= totalItemCount) {\r\n              document.getElementById("mint-list-infinite-scroll").addEventListener( \'infinite\', infiniteScroll )\r\n          } else {\r\n              $(\'.infinite-scroll-preloader\').hide()\r\n          }\r\n\r\n        }\r\n\r\n        function unloadInfiniteScroll() {\r\n\r\n          console.log("Unload infinite scroll")\r\n\r\n          // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n          $f7.infiniteScroll.destroy(\'#mint-list-infinite-scroll\')\r\n          // $f7.virtualList.destroy(\'#mint-list\')\r\n          // virtualList = undefined\r\n\r\n          $(\'.infinite-scroll-preloader\').hide()\r\n        \r\n        }\r\n\r\n        async function infiniteScroll(e) {\r\n\r\n          // Exit, if loading in progress\r\n          if (loadingInProgress || !hasMoreItems) return\r\n\r\n          console.log(`Infinite scrolling...`)\r\n\r\n          // Set loading flag\r\n          loadingInProgress = true\r\n\r\n          try {\r\n              \r\n              let itemPage = await itemWebService.itemPage(pageCounter)\r\n\r\n              if (pageCounter >= lastPage) {\r\n                  hasMoreItems = false\r\n              }\r\n\r\n              virtualList.appendItems(itemPage.items)\r\n              pageCounter++\r\n\r\n          } catch (ex) {\r\n              console.log(ex)\r\n          }\r\n\r\n          $f7.preloader.hide()\r\n\r\n          if (!hasMoreItems) {\r\n              unloadInfiniteScroll()\r\n          }\r\n\r\n          loadingInProgress = false\r\n\r\n\r\n        }\r\n\r\n        function getTemplate(rowItemViewModel) {\r\n          \r\n          let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n          let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n          let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n          let title = rowItemViewModel.title\r\n\r\n          return `<li class="flex-card">\r\n                      <a href="${tokenLink}" class="item-link">\r\n                          <div class="card" >\r\n                              <div class="card-content">\r\n                                  <div class="square">\r\n                                      <img src="${imageLink}"/>\r\n                                  </div>\r\n                              </div>\r\n\r\n                              <div class="card-footer">\r\n                                  ${title}\r\n                              </div>\r\n                          </div>\r\n                      </a>\r\n                  </li>\r\n          `\r\n        }\r\n\r\n        const countItems = (itemRows) => {\r\n          //Count actual items\r\n          let itemCount = 0\r\n\r\n          for (let itemRow of itemRows) {\r\n              itemCount += itemRow.items?.length\r\n          }\r\n\r\n          return itemCount\r\n        }\r\n\r\n        const selectPreviews = (amount) => {\r\n\r\n          let selected = 0\r\n\r\n          $(\'.flex-card\').each( (ele) => {\r\n            \r\n            //Remove selected from all\r\n            $(ele).removeClass(\'selected\')\r\n\r\n            if (selected < amount ) {\r\n              $(ele).addClass(\'selected\')\r\n              selected++\r\n              // console.log(ele)\r\n            }\r\n\r\n          })\r\n\r\n        }\r\n\r\n        const link = (href) => {\r\n          return `${baseURI + href}`\r\n        } \r\n\r\n        const updateTotal = async () => {\r\n          total = await mintWebService.updateTotal(mintPriceWei, quantity)\r\n          await $update()\r\n        }\r\n\r\n        const mintOnSubmit = async (e) => {\r\n\r\n          e.preventDefault()\r\n\r\n          //Make sure we are connected\r\n          await walletService.connect()\r\n\r\n\r\n          let mintFunction\r\n\r\n          if (exactTokensOnly) {\r\n            let start = parseInt(mintingViewModel.totalMinted + 1)\r\n            mintFunction = mintWebService.mintFromStartOrFail(quantity, start)\r\n          } else {\r\n            mintFunction = mintWebService.mint(quantity)\r\n          }\r\n\r\n\r\n          let promiseView = {\r\n            title: `Minting token(s). Approve transaction and wait for it to be mined.`,\r\n            promise: mintFunction\r\n          }\r\n\r\n          //Wait for it to be mined\r\n          try {\r\n            await queueService.queuePromiseView(promiseView)\r\n          } catch(ex) {\r\n\r\n            if (ex.message.indexOf("Token is past start") > -1) {\r\n              $f7.dialog.alert("Selected tokens have already been minted please try again.", "There was an error")\r\n            } else {\r\n              $f7.dialog.alert(ex.message, "There was an error")\r\n            }\r\n\r\n          }\r\n\r\n          await populate()\r\n\r\n          await removeMinted()\r\n\r\n          //Reselect the right quantity\r\n          selectPreviews(quantity)\r\n\r\n        }\r\n\r\n        const exactTokensOnChange = async (e) => {\r\n          exactTokensOnly = e.currentTarget.checked\r\n        \r\n          await $update()\r\n        }\r\n\r\n        const populate = async () => {\r\n\r\n          console.log("Populating...")\r\n\r\n          await walletService.connect()\r\n\r\n          try {\r\n\r\n            mintingViewModel = await mintWebService.getMintingViewModel()\r\n\r\n            if (mintingViewModel.mintPrice?.length > 0) {\r\n              mintPriceWei = await mintWebService.parseUnits(mintingViewModel.mintPrice, \'ether\')\r\n            } else {\r\n              mintPriceWei = await mintWebService.parseUnits(\'0\', \'ether\')\r\n            }\r\n\r\n\r\n            await updateTotal()\r\n\r\n            await mintViewModelLoaded()\r\n\r\n            await $update()\r\n\r\n          } catch(ex) {\r\n\r\n            $f7.dialog.confirm("Problem connecting to contract on Ethereum Mainnet. Is your wallet connected to the right network?", "Problem connecting to network", populate, () => {\r\n              $f7.views.main.router.navigate(baseURI)\r\n            })\r\n\r\n          }\r\n\r\n          $f7.preloader.hide()\r\n\r\n        }\r\n\r\n        const mintViewModelLoaded = async (e) => {\r\n\r\n          console.log("Loaded...")\r\n\r\n          if (mintingViewModel) {\r\n\r\n            //Get the total minted \r\n            let totalMinted = mintingViewModel.totalMinted\r\n\r\n            //Get the start page\r\n            let startPage = parseInt(totalMinted / PER_PAGE)\r\n\r\n            items = []\r\n            pageCounter = 0\r\n\r\n            while (items.length < PER_PAGE && pageCounter <= lastPage) {\r\n              \r\n              let itemPage = await itemWebService.itemPage(pageCounter)\r\n\r\n              let unminted = itemPage.items.filter( item => parseInt(item.tokenId) > totalMinted)\r\n\r\n              //Remove any that are below totalMinted\r\n              items.push(...unminted)\r\n\r\n              pageCounter++\r\n\r\n            }\r\n\r\n            createVirtualList()\r\n\r\n            if (items?.length > 0) {\r\n\r\n              if (pageCounter >= lastPage) {\r\n                  hasMoreItems = false\r\n              }\r\n\r\n              if (!hasMoreItems) {\r\n                unloadInfiniteScroll()\r\n              }\r\n\r\n            }\r\n\r\n\r\n          }\r\n\r\n        }\r\n\r\n        const removeMinted = async (e) => {\r\n\r\n          if (!virtualList) return\r\n\r\n          let totalMinted = mintingViewModel.totalMinted\r\n\r\n          let toRemove = []\r\n\r\n          //Loop through virtual list items and get the index to remove\r\n          for (let i=0; i < virtualList.items?.length; i++) {\r\n            \r\n            // console.log(`${totalMinted} / ${virtualList.items[i].tokenId}`)\r\n\r\n            if (virtualList.items[i].tokenId <= totalMinted) {\r\n              // console.log(`Deleting item ${virtualList.items[i].tokenId}`)\r\n              toRemove.push(i)\r\n            }\r\n\r\n          }\r\n\r\n          toRemove.sort((a, b) => b - a)\r\n\r\n          for (let r of toRemove) {\r\n            virtualList.deleteItem(r)\r\n          }\r\n\r\n\r\n        }\r\n\r\n        <%~ \r\n          include("@meta_tags_js", {\r\n            title: it.baseViewModel.channelViewModel.channel.title,\r\n            url: \'mint.html\',\r\n            imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n            descriptionHTML: `Mint \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            excerptHtml: it.baseViewModel.excerptHtml,\r\n            he: it.baseViewModel.he\r\n          }) \r\n        %>\r\n\r\n        document.querySelector(\'title\').innerHTML = "Mint \'<%=it.baseViewModel.channelViewModel.channel.title%>\' NFTs."\r\n\r\n        $f7.preloader.hide()\r\n    \r\n        return $render\r\n\r\n\r\n      }\r\n\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("@init", {\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: it.baseViewModel.routablePages,\r\n        base64Version: it.baseViewModel.base64Version,\r\n        channelId: it.baseViewModel.channelId\r\n      }) \r\n    %>\r\n\r\n\r\n  </body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/mint.html`),await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: "Search",\r\n        title: it.baseViewModel.channelViewModel.channel.title,\r\n        url: \'search.html\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Search \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n\r\n    \r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        <div class="page" data-name="mint">\r\n\r\n          <nav-bar\r\n              logo="${logo}"\r\n              library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n              large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n              title="Search"\r\n              show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n              show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n              breadcrumbs="${breadcrumbs}"\r\n              base_uri="${baseURI}"\r\n              hostname="${hostname}"\r\n          >\r\n          </nav-bar>\r\n\r\n          <div class="page-content">\r\n\r\n            <div class="row">\r\n\r\n              <div class="col-100 large-66 center">\r\n\r\n                <search-list></search-list>\r\n\r\n              </div>\r\n\r\n              <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {   \r\n\r\n        let channelWebService = globalThis.container.get("ChannelWebService")\r\n        let baseURI = globalThis.container.get("baseURI")\r\n        let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n\r\n        let itemWebService = globalThis.container.get("ItemWebService")\r\n\r\n        let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n        let searching = false\r\n\r\n        let results = []\r\n\r\n        let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: "index.html"\r\n            }, {\r\n                text: "Search"\r\n        }]\r\n\r\n        $on(\'pageInit\', async () => {\r\n\r\n\r\n          await channelWebService.loadChannel(\r\n              "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n              \'<%= it.baseViewModel.baseURL %>\',\r\n              \'<%= it.baseViewModel.hostname %>\'\r\n          )\r\n\r\n          await $update()\r\n\r\n\r\n          // const params = new Proxy(new URLSearchParams(window.location.search), {\r\n          //   get: (searchParams, prop) => searchParams.get(prop),\r\n          // })\r\n\r\n          // $f7.preloader.showIn(\'.cards-list\')\r\n          \r\n          // searching = true\r\n          // $update()\r\n\r\n          // results = await itemWebService.query(params.query)\r\n\r\n          // searching = false\r\n          // $update()\r\n\r\n          // $f7.preloader.hideIn(\'.cards-list\')\r\n\r\n        })\r\n\r\n        $on(\'pageBeforeOut\', async () => {\r\n        })\r\n\r\n        const searchbarSubmit = (e) => {\r\n          e.preventDefault()\r\n        }\r\n\r\n\r\n        <%~ \r\n          include("@meta_tags_js", {\r\n            title: it.baseViewModel.channelViewModel.channel.title,\r\n            url: \'search.html\',\r\n            imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n            descriptionHTML: `Search \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            excerptHtml: it.baseViewModel.excerptHtml,\r\n            he: it.baseViewModel.he\r\n          }) \r\n        %>\r\n\r\n        document.querySelector(\'title\').innerHTML = "Search \'<%=it.baseViewModel.channelViewModel.channel.title%>\' NFTs."\r\n\r\n        $f7.preloader.hide()\r\n    \r\n\r\n        return $render\r\n\r\n\r\n      }\r\n\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("@init", {\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: it.baseViewModel.routablePages,\r\n        base64Version: it.baseViewModel.base64Version,\r\n        channelId: it.baseViewModel.channelId\r\n      }) \r\n    %>\r\n\r\n  </body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/search.html`),await this.renderPage(e,'<% \r\n    let traitTypes = Array.from(new Set(it.baseViewModel.attributeReport?.map( at => at.traitType)))\r\n%>\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n  <head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        title: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        url: \'attributes.html\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n\r\n  </head>\r\n\r\n  <body>\r\n\r\n    <div id="app">\r\n\r\n      <div class="view view-main">\r\n\r\n        \x3c!--pageContent--\x3e\r\n        <div class="page" data-name="home">\r\n\r\n          <nav-bar\r\n              logo="${logo}"\r\n              library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n              large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n              title="Attributes"\r\n              show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n              show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n              breadcrumbs="${breadcrumbs}"\r\n          >\r\n          </nav-bar>\r\n\r\n\r\n          <div class="page-content">\r\n\r\n            <div class="fixed-width-content center">\r\n\r\n              <div class="hidden-on-load">\r\n\r\n                <div class="block-title block-title-medium large-only">Attributes</div>\r\n                <div class="card scarcity-report-card data-table margin-top">\r\n  \r\n                  <div class="card-content">\r\n\r\n                      <table class="attributes-table">\r\n\r\n                        <% for (let traitType of traitTypes) { \r\n                          let attributeTotals = it.baseViewModel.attributeReport.filter( at => at.traitType == traitType)\r\n                        %>      \r\n                          <thead>\r\n                            <tr>\r\n                              <th class="label-cell"><%= traitType %></th>\r\n                              <th class="numeric-cell">Count</th>\r\n                              <th class="numeric-cell">Percent</th>\r\n                              <th class="numeric-cell">Sales</th>\r\n                              <th>Total Sales</th>\r\n                              <th>Average</th>\r\n                            </tr>\r\n                          </thead>\r\n  \r\n                          <tbody>\r\n  \r\n                          <%\r\n                          for (let at of attributeTotals) {    \r\n                          %>      \r\n                            <tr>\r\n                              <td class="label-cell"><a href="<%= it.baseViewModel.baseURL %>attribute/?attributeKey=<%= encodeURIComponent(`${traitType}::::${at.value}`) %>"><%= at.value %></a></td> \r\n                              <td class="numeric-cell"><%= at.count %></td>\r\n                              <td class="numeric-cell"><%= at.categoryPercent %></td>\r\n                              <td class="numeric-cell">${attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.events  || 0}</td>\r\n                              <td>\r\n\r\n                                <span class="eth-value">${attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.ethValue.toFixed(3) || 0} ETH</span>\r\n                                <br />\r\n                                <span class="dollar-value">${transactionWebService.abbreviateDollars(attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.usdValue, 2)}</span>\r\n\r\n                              </td>\r\n                              <td>\r\n\r\n\r\n                                <span class="eth-value">${attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.averageEthValue.toFixed(3) || 0} ETH</span>\r\n                                <br />\r\n                                <span class="dollar-value">${transactionWebService.abbreviateDollars(attributesOverall?.find( row => row.traitType == `<%= traitType %>` && row.value == `<%= at.value %>`)?.averageUsdValue, 2)}</span>\r\n\r\n                              </td>\r\n                            </tr>\r\n                          <% \r\n                          }\r\n                          %>\r\n  \r\n                          </tbody>\r\n                        \r\n  \r\n                        <%\r\n                          } \r\n                        %>\r\n                      </table>\r\n  \r\n                  </div>\r\n                </div>\r\n  \r\n            \r\n                <div class="block">\r\n                  <br />\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="hide-on-pageinit">\r\n\r\n                  <div class="card skeleton-text">\r\n                      <div class="card-header">Attributes</div>\r\n                      <div class="card-content card-content-padding data-table">\r\n                          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                          lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                      </div>\r\n\r\n                  </div>\r\n\r\n              </div>\r\n\r\n              <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n        \x3c!--/pageContent--\x3e\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n    \r\n    <script type="module" id="page-init-scripts">\r\n\r\n      //pageInitScripts\r\n      const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let loading\r\n            let attributesOverall\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Attributes"\r\n            }]\r\n\r\n            const loadOverallSales = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    attributesOverall = await transactionWebService.getAttributesOverall()\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n                    lastUpdated = latest.lastUpdated\r\n    \r\n                } catch(ex) { \r\n                    console.log(ex) \r\n                }\r\n                \r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n              await channelWebService.loadChannel(\r\n                      "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                      \'<%= it.baseViewModel.baseURL %>\',\r\n                      \'<%= it.baseViewModel.hostname %>\'\r\n              )\r\n\r\n              await $update()\r\n\r\n              $(\'.infinite-scroll-preloader\').show()\r\n\r\n              await loadOverallSales()\r\n\r\n              $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n              $(\'.hide-on-pageinit\').hide()\r\n\r\n              await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n              await channelWebService.loadChannel(\r\n                      "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                      \'<%= it.baseViewModel.baseURL %>\',\r\n                      \'<%= it.baseViewModel.hostname %>\'\r\n              )\r\n\r\n              await $update()\r\n\r\n              await loadOverallSales()\r\n\r\n              $(\'.hide-on-pageinit\').hide()\r\n\r\n              await $update()\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                  title: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                  url: \'attributes.html\',\r\n                  imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                  descriptionHTML: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                  hostname: it.baseViewModel.hostname,\r\n                  baseURL: it.baseViewModel.baseURL,\r\n                  excerptHtml: it.baseViewModel.excerptHtml,\r\n                  he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n          \r\n\r\n            document.querySelector(\'title\').innerHTML = "<%=it.baseViewModel.channelViewModel.channel.title%> Attribute Report"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render;\r\n\r\n          \r\n\r\n      }\r\n      ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n      include("@init", {\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        libraryURL: it.baseViewModel.libraryURL,\r\n        routablePages: it.baseViewModel.routablePages,\r\n        base64Version: it.baseViewModel.base64Version,\r\n        channelId: it.baseViewModel.channelId\r\n      }) \r\n    %>\r\n\r\n  </body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/attributes/index.html`),await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        title: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        url: \'attribute\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="attribute">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Attribute Report"\r\n                    active="Attribute Report"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="attribute-tokens-infinite-scroll">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n\r\n                            <div class="hidden-on-load">\r\n\r\n                                <div class="block-title block-title-large">${traitType} / ${value}</div>\r\n                            \r\n                                ${totalTokens > 0 ? $h`\r\n                                    \r\n                                    <div class="block block-strong inset stats">\r\n                            \r\n    \r\n                                        <div class="stats-row margin-bottom">\r\n    \r\n                                            <div>\r\n                                                Number of Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(salesReport?.totals?.events ? salesReport?.totals?.events : 0)}</strong>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Average Sale\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(salesReport?.totals?.averageEthValue ? salesReport?.totals?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(salesReport?.totals?.averageUsdValue ? salesReport?.totals?.averageUsdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Total Value of All Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(salesReport?.totals?.ethValue ? salesReport?.totals?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(salesReport?.totals?.usdValue ? salesReport?.totals?.usdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    \r\n                                    </div>\r\n    \r\n                                    ${largestSales && largestSales?.sales?.length > 0 ? $h`\r\n    \r\n                                        <div class="block-title block-title-medium">Largest Sales</div>\r\n                                        <largest-sales largest_sales="${largestSales}"></largest-sales>\r\n                                        \r\n                                    ` : $h` `}\r\n    \r\n                                    <div class="card data-table">\r\n                                        <div class="card-header">\r\n                                            Leaderboard <span class="last-updated">Last updated: ${dayjs(lastUpdated).fromNow()}</span>\r\n    \r\n                                        </div>\r\n                                        <div class="card-content">\r\n                  \r\n                                            <table class="leaderboard-table">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>Rank</th>\r\n                                                        <th class="label-cell">Address</th>\r\n                                                        <th>Last Active</th>\r\n                                                        <th class="numeric-cell">Owned</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                        \r\n                                                <tbody>\r\n                                        \r\n                                                ${owners?.map(u => $h`\r\n                                                    <tr>\r\n                                                        <th>${u.rank}</th>\r\n                                                        <td class="label-cell">\r\n        \r\n                                                            ${u.ensName ? $h`\r\n                                                                <a href="<%= it.baseViewModel.baseURL %>u/?address=${u._id}">${u.ensName}</a>\r\n                                                            ` : $h`\r\n                                                                <a href="<%= it.baseViewModel.baseURL %>u/?address=${u._id}">${u._id ? walletService.truncateEthAddress(u._id) : \' \'}</a>\r\n                                                            `} \r\n        \r\n                                                        </td>\r\n                                            \r\n                                                        <td>\r\n                                                            ${u.lastActive ? dayjs(u.lastActive).fromNow() : ""}\r\n                                                        </td>\r\n                                            \r\n                                                        <td class="numeric-cell">\r\n                                                            ${u.count}\r\n                                                        </td>\r\n                                            \r\n                                                    </tr>\r\n                                                \r\n                                                `)}\r\n                                                </tbody>\r\n                                    \r\n                                            </table>\r\n    \r\n    \r\n                                        </div>\r\n                                    </div>\r\n    \r\n                                    <div class="block-title block-title-medium">Minted Tokens (${totalTokens})</div>\r\n                                    <div class="block list cards-list virtual-list" id="attribute-tokens-list">\r\n                                        <ul class="item-flex"></ul>\r\n                                    </div>\r\n                                  \r\n                                    <div class="preloader infinite-scroll-preloader"></div>\r\n\r\n\r\n                                ` : $h`\r\n                                    <div class="block block-strong inset">\r\n                                        No tokens minted yet.\r\n                                    </div>\r\n                                `}\r\n\r\n                            \r\n                            </div>\r\n\r\n                            <div class="hide-on-pageinit">\r\n\r\n                                <div class="card skeleton-text">\r\n                                    <div class="card-header">User Info</div>\r\n                                    <div class="card-content card-content-padding data-table">\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                    </div>\r\n\r\n                                  </div>\r\n\r\n                            </div>\r\n\r\n                            <br /><br />\r\n\r\n                            <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n            \r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n            let processedTransactionService = globalThis.container.get("ProcessedTransactionService")\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n\r\n            let traitType\r\n            let value \r\n\r\n            let salesReport\r\n            let largestSales\r\n            let owners\r\n\r\n\r\n\r\n            let virtualList\r\n\r\n            let page = 1\r\n\r\n            let hasMoreItems = true\r\n            let loadingInProgress = false\r\n            let firstPageItems\r\n\r\n            let totalTokens\r\n            let attributeParams = {}\r\n\r\n\r\n            let lastUpdated\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Attributes",\r\n                path: `${baseURI()}attributes`\r\n            }]\r\n\r\n\r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n            const loadSalesReport = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    let keyValue = attributeKey.split("::::")\r\n                    traitType = keyValue[0]\r\n                    value = keyValue[1]\r\n\r\n                    salesReport = await transactionWebService.getAttributeSalesReport(traitType, value)\r\n\r\n                    largestSales = {\r\n                        sales: salesReport?.largestSales,\r\n                        rowItemViewModels: salesReport.rowItemViewModels\r\n                    }\r\n\r\n\r\n\r\n                    owners = salesReport?.owners\r\n\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n                    lastUpdated = latest.lastUpdated\r\n\r\n\r\n                    attributeParams[traitType] = value\r\n\r\n                    breadcrumbs.push({\r\n                        text: `${traitType} / ${value}`\r\n                    })\r\n\r\n                    let result = await itemWebService.attributeItemPage(traitType, value, page)\r\n\r\n                    firstPageItems = result.items\r\n                    totalTokens = result.totalMatches\r\n\r\n                    await $update()\r\n\r\n                    createVirtualList()\r\n\r\n\r\n                } catch(ex) { \r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                    console.log(ex) \r\n                }\r\n                \r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n            const createVirtualList = () => {\r\n\r\n                virtualList = $f7.virtualList.create({\r\n                    el: \'#attribute-tokens-list\',\r\n                    createUl: false,\r\n                    renderItem(item) {\r\n                        return getTemplate(item)\r\n                    },\r\n                    height: 287,\r\n                    items: firstPageItems,                    \r\n                    cols: getWidth() >= 1024 ? 5 : 2,\r\n                    emptyTemplate: `\r\n                        <li class="item-content">\r\n                            <div class="item-inner">\r\n                                No results found.\r\n                            </div>\r\n                        </li>\r\n                        `\r\n                })\r\n\r\n                if (virtualList.items?.length < totalTokens) {\r\n                    hasMoreItems = true\r\n                    document.getElementById("attribute-tokens-infinite-scroll").addEventListener( \'infinite\', infiniteScroll )\r\n                } else {\r\n                    hasMoreItems = false\r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                }\r\n\r\n            }\r\n\r\n            const resizeListener = (e) => {\r\n\r\n                const viewPortWidth = getWidth()\r\n\r\n                if (virtualList) {\r\n                    virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n                    virtualList?.update()\r\n                }\r\n\r\n                console.log("Resized...")\r\n\r\n            }\r\n\r\n            const getWidth = () => {\r\n                return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            }\r\n\r\n            const getTemplate = (rowItemViewModel) => {\r\n\r\n                let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n                let title = rowItemViewModel.title\r\n\r\n                return `<li class="flex-card">\r\n                        <a href="${tokenLink}" class="item-link">\r\n                            <div class="card" >\r\n                                <div class="card-content">\r\n                                    <div class="square">\r\n                                        <img src="${imageLink}"/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="card-footer">\r\n                                    ${title}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                    </li>\r\n            `\r\n            \r\n            }\r\n\r\n            async function infiniteScroll(e) {\r\n\r\n                // Exit, if loading in progress\r\n                if (loadingInProgress || !hasMoreItems) return\r\n\r\n                console.log(`Infinite scrolling...`)\r\n\r\n                // Set loading flag\r\n                loadingInProgress = true\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n\r\n                try {\r\n                    \r\n                    page++\r\n\r\n                    let result = await itemWebService.attributeItemPage(traitType, value, page)\r\n\r\n                    // firstPageItems = result.items\r\n\r\n                    // let result = await itemWebService.exploreList(attributeParams, virtualList.items?.length, PER_PAGE)\r\n\r\n\r\n                    let items = result.items\r\n\r\n                    virtualList.appendItems(items)\r\n\r\n                    if (virtualList.items?.length >= totalTokens) {\r\n                        hasMoreItems = false\r\n                    }\r\n\r\n                } catch (ex) {\r\n                    hasMoreItems = false\r\n                    console.log(ex)\r\n                }\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n\r\n                loadingInProgress = false\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                window.addEventListener(\'resize\', resizeListener)\r\n\r\n\r\n                attributeKey = $f7.views.main.router.currentRoute?.query?.attributeKey\r\n\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n                await loadSalesReport()\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n                \r\n                address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                await loadSalesReport()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'attribute\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `Attribute Report for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "Attribute Report <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/attribute/index.html`),await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Explore \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        title: `Explore \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        url: \'explore.html\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: it.baseViewModel.channelViewModel.channel.descriptionHTML,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="explore">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Explore"\r\n                    active="Explore"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="explore-infinite-scroll">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n \r\n                            <div class="block">\r\n                                <attribute-filter \r\n                                    baseurl="<%= it.baseViewModel.baseURL %>"\r\n                                >\r\n                                </attribute-filter>\r\n                            </div>\r\n\r\n                            <explore-total-info \r\n                                baseurl="<%= it.baseViewModel.baseURL %>"\r\n                            >\r\n                            </explore-total-info>\r\n\r\n                            <div class="list cards-list virtual-list" id="explore-list">\r\n                                <ul class="item-flex"></ul>\r\n                            </div>\r\n                          \r\n                            <div class="preloader infinite-scroll-preloader"></div>\r\n  \r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let componentStateService = globalThis.container.get("ComponentStateService")\r\n\r\n            const ComponentState = globalThis.ComponentState\r\n\r\n            let totalItemCount = parseInt(\'<%= it.baseViewModel.channelViewModel.itemCount %>\')\r\n\r\n            let firstPageExploreItems = JSON.parse(\'<%~ JSON.stringify(it.firstPageExploreItems) %>\')\r\n\r\n            const PER_PAGE = firstPageExploreItems.length //35\r\n            const COMPONENT_NAME = "explore"\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Explore"\r\n            }]\r\n\r\n            let state\r\n\r\n            let attributeOptions\r\n\r\n\r\n\r\n            let virtualList\r\n\r\n\r\n            const resizeListener = (e) => {\r\n                const viewPortWidth = getWidth()\r\n\r\n                if (virtualList) {\r\n                    virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n                    virtualList?.update()\r\n                }\r\n\r\n\r\n                console.log("Resized...")\r\n\r\n            }\r\n\r\n            const getWidth = () => {\r\n                return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            }\r\n\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                    "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                    \'<%= it.baseViewModel.baseURL %>\',\r\n                    \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await channelWebService.loadChannelData("<%= it.baseViewModel.channelViewModel.channel._id %>")\r\n\r\n                await $update()\r\n\r\n\r\n                window.addEventListener(\'resize\', resizeListener)\r\n\r\n                //Check for existing component state\r\n                try {\r\n                    state = await componentStateService.get(COMPONENT_NAME)\r\n                } catch(ex) {}\r\n\r\n                //Initialize state\r\n                if (!state) {\r\n\r\n                    state = Object.assign(new ComponentState(), {\r\n                        _id: COMPONENT_NAME,\r\n                        data: {\r\n                            hasMoreItems: firstPageExploreItems.length < totalItemCount,\r\n                            loadingInProgress: false,\r\n                            itemResults: {\r\n                                items: firstPageExploreItems,\r\n                                totalMatches: totalItemCount,\r\n                                limit: PER_PAGE,\r\n                                skip: 0\r\n                            },\r\n                            virtualListItems: firstPageExploreItems,\r\n                            attributeParams: undefined,\r\n                        }\r\n                    })\r\n\r\n                }\r\n\r\n                attributeOptions = await itemWebService.getExploreAttributeOptions(state.data.attributeParams ? state.data.attributeParams : {})\r\n\r\n                await initMain()\r\n\r\n                //Save new state\r\n                try {\r\n                    await componentStateService.put(state)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n\r\n                //Dispatch event so we can update attributes\r\n                let e = new CustomEvent(\'attribute-options-loaded\')\r\n                e.attributeOptions = attributeOptions\r\n                e.attributeParams = state.data.attributeParams\r\n                document.dispatchEvent(e)\r\n\r\n\r\n                let e2 = new CustomEvent(\'explore-total-info-changed\')\r\n                e2.totalItems = totalItemCount\r\n                e2.totalMatches = state.data.itemResults.totalMatches\r\n                document.dispatchEvent(e2)\r\n            })\r\n\r\n\r\n            const initMain = async () => {\r\n\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n                virtualList = $f7.virtualList.create({\r\n                    el: \'#explore-list\',\r\n                    createUl: false,\r\n                    renderItem(item) {\r\n                        return getTemplate(item)\r\n                    },\r\n                    height: 287,\r\n                    items: state.data?.virtualListItems,                    \r\n                    cols: getWidth() >= 1024 ? 5 : 2,\r\n                    emptyTemplate: `\r\n                        <li class="item-content">\r\n                            <div class="item-inner">\r\n                                No results found.\r\n                            </div>\r\n                        </li>\r\n                        `\r\n                })\r\n\r\n                // $f7.infiniteScroll.create(\'#explore-infinite-scroll\')\r\n\r\n                if (virtualList.items?.length < state.data.itemResults.totalMatches) {\r\n\r\n                    state.data.hasMoreItems = true\r\n                    $(\'#explore-infinite-scroll\').on( \'infinite\', infiniteScroll )\r\n\r\n                } else {\r\n\r\n                    state.data.hasMoreItems = false\r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n\r\n                }\r\n\r\n\r\n\r\n                await $update()\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n            }\r\n\r\n\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n\r\n                window.removeEventListener(\'resize\', resizeListener)\r\n                \r\n            })\r\n\r\n\r\n\r\n            async function infiniteScroll(e) {\r\n\r\n                // Exit, if loading in progress\r\n                if (state.data.loadingInProgress || !state.data.hasMoreItems) return\r\n\r\n                console.log(`Infinite scrolling...`)\r\n\r\n                // Set loading flag\r\n                state.data.loadingInProgress = true\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n\r\n                try {\r\n                    \r\n                    state.data.itemResults = await itemWebService.exploreList(state.data.attributeParams, state.data.virtualListItems?.length, PER_PAGE)\r\n\r\n                    virtualList.appendItems(state.data.itemResults.items)\r\n\r\n                    //Save a reference in the state\r\n                    state.data.virtualListItems = virtualList.items\r\n\r\n                    if (state.data.virtualListItems?.length >= state.data.itemResults.totalMatches) {\r\n                        state.data.hasMoreItems = false\r\n                    }\r\n\r\n\r\n                } catch (ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n\r\n                state.data.loadingInProgress = false\r\n                \r\n                //Save new state\r\n                try {\r\n                    await componentStateService.put(state)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n            }\r\n\r\n            function getTemplate(rowItemViewModel) {\r\n                \r\n                let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n                let title = rowItemViewModel.title\r\n\r\n                return `<li class="flex-card">\r\n                            <a href="${tokenLink}" class="item-link">\r\n                                <div class="card" >\r\n                                    <div class="card-content">\r\n                                        <div class="square">\r\n                                            <img src="${imageLink}"/>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class="card-footer">\r\n                                        ${title}\r\n                                    </div>\r\n                                </div>\r\n                            </a>\r\n                        </li>\r\n                `\r\n            }\r\n\r\n            const link = (href) => {\r\n                return `${baseURI() + href}`\r\n            } \r\n\r\n \r\n            document.addEventListener(\'explore-attribute-filter-changed\', async (e) => {\r\n\r\n                //Reset\r\n                state.data.hasMoreItems = true\r\n                state.data.loadingInProgress = false\r\n                state.data.itemResults = undefined\r\n                state.data.attributeParams = e.attributeParams\r\n                state.data.virtualListItems = undefined\r\n\r\n                //Kill existing list\r\n                virtualList.destroy()\r\n\r\n                //Get first page with \r\n                $f7.preloader.show()\r\n\r\n                state.data.itemResults = await itemWebService.exploreList(state.data.attributeParams, 0, PER_PAGE)\r\n                state.data.virtualListItems = state.data.itemResults.items\r\n\r\n                //Reset options/counts\r\n                attributeOptions = await itemWebService.getExploreAttributeOptions(state.data.attributeParams)\r\n\r\n\r\n                //Dispatch event so we can update the explore info\r\n                let e2 = new CustomEvent(\'explore-total-info-changed\')\r\n                e2.totalItems = totalItemCount\r\n                e2.totalMatches = state.data.itemResults.totalMatches\r\n                document.dispatchEvent(e2)\r\n\r\n                //Dispatch event so we can update attribute counts\r\n                let e3 = new CustomEvent(\'attribute-options-loaded\')\r\n                e3.attributeOptions = attributeOptions\r\n                e3.attributeParams = state.data.attributeParams\r\n                document.dispatchEvent(e3)\r\n\r\n                //Add to items\r\n                await initMain()\r\n\r\n                \r\n                //Save new state\r\n                try {\r\n                    await componentStateService.put(state)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `Explore \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'explore.html\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: it.baseViewModel.channelViewModel.channel.descriptionHTML,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "Explore <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,firstPageExploreItems:n.firstPageExploreItems,baseViewModel:a},`${e.publicPath}/explore.html`),await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Activity for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        title: `Activity for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        url: \'activity\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Activity for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="explore">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Activity"\r\n                    active="Activity"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="explore-infinite-scroll">\r\n\r\n                    <div class="fixed-width-content center">\r\n            \r\n                        <div class="hidden-on-load">\r\n\r\n\r\n                            ${transactionsViewModel?.transactions?.length > 0 ? $h`\r\n\r\n                                <transaction-row transactions="${transactionsViewModel}" items="${transactionsViewModel.rowItemViewModels}">\r\n                                    <div class="card-header">\r\n                                        Activity\r\n                                        <div class="last-updated">Last updated: ${dayjs(transactionsViewModel.lastUpdated).fromNow()}</div>\r\n                                    </div>\r\n                                </transaction-row>\r\n\r\n\r\n\r\n                                <div class="block split-row-both">\r\n                                    <div>\r\n                                        ${previousPage ? $h`\r\n                                        <a href="${baseURI()}activity/?page=${previousPage}" class="button button-outline color-gray">Previous</a>\r\n                                        ` : $h` `}\r\n                                    </div>\r\n                                    <div>\r\n                                        ${nextPage ? $h`\r\n                                        <a href="${baseURI()}activity/?page=${nextPage}" class="button button-fill">Next</a>\r\n                                        ` : $h` `}\r\n                                    </div>\r\n                            \r\n                                </div>\r\n\r\n                        \r\n                            ` : $h`\r\n                            \r\n                              <div class="block">\r\n                                No more transactions\r\n                              </div>\r\n                            \r\n                            `}\r\n          \r\n                        </div>\r\n\r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">Activity</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                              </div>\r\n\r\n                        </div>\r\n\r\n                        <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let display = 25\r\n\r\n            let page = 1\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Activity",\r\n                path: `${baseURI()}activity`\r\n            }]\r\n\r\n            let nextPage\r\n            let previousPage\r\n\r\n            let transactionsViewModel \r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n\r\n            const loadActivity = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    nextPage = undefined\r\n                    previousPage = undefined\r\n\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.page) {\r\n                        page = $f7.views.main.router.currentRoute?.query?.page\r\n\r\n                        if (page) {\r\n                            page = parseInt(page)\r\n                        } \r\n                    }\r\n\r\n                    if (!page) {\r\n                        page = 1\r\n                    }\r\n\r\n\r\n                    breadcrumbs.push({\r\n                        text: `Page ${page}`\r\n                    })\r\n\r\n                    if (page > 1) {\r\n                        previousPage = page - 1\r\n                    } \r\n\r\n                    if (page <= 10) {\r\n                        nextPage = page + 1\r\n                    } else {\r\n                        nextPage = undefined //don\'t go past page 10\r\n                    }\r\n\r\n\r\n\r\n                    try {\r\n                        transactionsViewModel = await transactionWebService.list(page)\r\n\r\n                        // if (transactionsViewModel.transactions?.length < display) {\r\n                        //     previousPage = undefined\r\n                        // }\r\n\r\n                    } catch(ex) {   }\r\n                    \r\n\r\n                } catch(ex) { console.log(ex) }\r\n\r\n               \r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadActivity()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `Activity for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'activity\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `Activity for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "Activity <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/activity/index.html`),await this.renderPage(e,'<% \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        excerpt = it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        title: `Leaderboard for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        title: `Leaderboard for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        url: \'leaderboard\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Leaderboard for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="leaderboard">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Leaderboard"\r\n                    active="Leaderboard"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="explore-infinite-scroll">\r\n\r\n                    <div class="fixed-width-content center">\r\n                            \r\n                        <div class="hidden-on-load">\r\n                        \r\n\r\n                            <div class="card data-table">\r\n                                <div class="card-header">\r\n                                    Leaderboard\r\n                                    <div class="last-updated">Last updated: ${dayjs(lastUpdated).fromNow()}</div>\r\n                                </div>\r\n                                <div class="card-content card-content-padding">\r\n\r\n                                    ${tokenOwners?.length > 0 ? $h`\r\n                                        \r\n                                        <table class="leaderboard-table">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th class="label-cell">Rank</th>\r\n                                                    <th class="address-cell">Address</th>\r\n                                                    <th class="numeric-cell">Owned</th>\r\n                                                    <th class="numeric-cell">Buys</th>\r\n                                                    <th class="numeric-cell">Sales</th>\r\n                                                    <th class="text-cell">Last Active</th>\r\n\r\n                                                </tr>\r\n                                            </thead>\r\n                                    \r\n                                            <leaderboard-rows token_owners="${tokenOwners}"></leaderboard-rows>\r\n\r\n                                \r\n                                        </table>\r\n                                \r\n                                        \r\n                                    ` : $h`<span  />`}\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                            <div class="block split-row-both">\r\n                                <div>\r\n                                    ${showPrevious ? $h`\r\n                                        <a href="<%= it.baseViewModel.baseURL %>leaderboard/?pageNumber=${pageNumber - 1}" class="button button-outline color-gray">Previous</a>\r\n                                        ` : $h` `}\r\n                                </div>\r\n                                <div>\r\n                                    ${showNext ? $h`\r\n                                        <a href="<%= it.baseViewModel.baseURL %>leaderboard/?pageNumber=${pageNumber + 1}" class="button button-fill">Next</a>\r\n                                        ` : $h` `}\r\n                                </div>\r\n                        \r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">Leaderboard</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n\r\n            let tokenOwnerPageService = globalThis.container.get("TokenOwnerPageService")\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Leaderboard",\r\n                path: `${baseURI()}leaderboard`\r\n            }]\r\n\r\n\r\n            let tokenOwners\r\n            let pageNumber = 0\r\n            let totals = {}\r\n            let lastUpdated\r\n\r\n            let showNext\r\n            let showPrevious\r\n\r\n            const loadLeaderboard = async () => {\r\n            \r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.pageNumber) {\r\n                        pageNumber = parseInt($f7.views.main.router.currentRoute?.query?.pageNumber)\r\n                    }\r\n\r\n                    breadcrumbs.push({\r\n                        text: `Page ${pageNumber + 1}`\r\n                    })\r\n\r\n                    totals = await tokenOwnerPageService.getTotals()\r\n                    let page = await tokenOwnerPageService.get(pageNumber)\r\n\r\n                    tokenOwners = page.tokenOwners\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n\r\n                    lastUpdated = latest.lastUpdated\r\n\r\n                    showNext = pageNumber < totals.totalPages - 1 \r\n                    showPrevious = pageNumber > 0\r\n\r\n                } catch(ex) { console.log(ex) }\r\n                \r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadLeaderboard()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `Leaderboard for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'leaderboard\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `Leaderboard for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "Leaderboard <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/leaderboard/index.html`),await this.renderPage(e,'<% \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        excerpt = it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Largest Sales for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        title: `Largest Sales for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        url: \'largest-sales\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Largest Sales for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="largest-sales">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Largest Sales"\r\n                    active="Largest Sales"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n                            \r\n                            <div class="hidden-on-load">\r\n\r\n                                ${largestSales?.sales?.length > 0 ? $h`\r\n                                    <div class="block-title block-title-medium">Largest Sales</div>\r\n                                    <div class="block block-strong inset largest-sales">\r\n                                      \r\n                                        ${largestSales?.sales?.map( (sale, index) => $h`\r\n                                            <div class="margin-bottom">\r\n                    \r\n                                              <div class="rank">#${index+1}</div>\r\n                    \r\n                                              <div class="square">\r\n                                                <a href="${link(`t/${sale.tokenId}`)}" class="item-link">\r\n                                                  <img src="${link(`backup/export/images/${largestSales.rowItemViewModels[sale.tokenId].coverImageId}.${largestSales.rowItemViewModels[sale.tokenId].coverImageGenerated ? \'svg\' : \'jpg\'}`)}" alt="${sale.tokenId}" height="125" width="125"/>\r\n                                                </a>\r\n                                              </div>\r\n                    \r\n                                              <div class="sale-info margin-top">\r\n                                                <a href="${link(`t/${sale.tokenId}`)}" class="item-link">${largestSales.rowItemViewModels[sale.tokenId].title}</a><br />\r\n                                                ${new Intl.NumberFormat(\'en-US\').format(sale.ethValue)} ETH (${transactionWebService.abbreviateDollars(sale.usdValue, 2)})\r\n                                                <div class="date">${dayjs(sale.date).format(\'LL\')}</div>\r\n                    \r\n                    \r\n                                              </div>\r\n                    \r\n                                            </div>\r\n                                          `)}\r\n                  \r\n                                    </div>\r\n                                ` : $h` `}\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class="hide-on-pageinit">\r\n\r\n                                <div class="card skeleton-text">\r\n                                    <div class="card-header">Leaderboard</div>\r\n                                    <div class="card-content card-content-padding data-table">\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Largest Sales",\r\n                path: `${baseURI()}sales`\r\n            }]\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n\r\n            let largestSales\r\n\r\n            let lastUpdated\r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n\r\n            const loadLargestSales = async () => {\r\n            \r\n                loading = true\r\n\r\n                try  {\r\n                    largestSales = await transactionWebService.getLargestSales(100)\r\n\r\n                    let latest = await transactionWebService.getLatest()\r\n\r\n                    lastUpdated = latest.lastUpdated\r\n\r\n                } catch(ex) { console.log(ex) }\r\n                \r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadLargestSales()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `Largest Sales for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    url: \'largest-sales\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `Largest Sales for \'${it.baseViewModel.channelViewModel.channel.title}\' NFTs`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "Largest Sales <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/sales/index.html`),await this.renderPage(e,'<% \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        return it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        \r\n        //return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n    \r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `User Profile for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        title: `User Profile for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        url: \'u\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `User Profile for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="user-activity">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="User"\r\n                    active="User"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content infinite-scroll-content" id="user-tokens-infinite-scroll">\r\n\r\n                    <div class="fixed-width-content center">\r\n\r\n                        <div class="hidden-on-load">\r\n\r\n                            <div class="block-title block-title-large">Account Details</div>\r\n                            <div class="block-header">${address}</div>\r\n                        \r\n                            <div class="block">\r\n                        \r\n                                <div class="user-info">\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Etherscan</div>\r\n                                        <div >\r\n                                            <a href="https://etherscan.io/address/${address}" class="item-link external">${address ? walletService.truncateEthAddress(address) : \' \'}</a>\r\n                                        </div>\r\n                                    </div>\r\n                            \r\n                                    ${tokenOwner?.ensName ? $h`\r\n                                        <div class="row">\r\n                                            <div>ENS Name</div>\r\n                                            <div>${tokenOwner?.ensName}</div>\r\n                                        </div>  \r\n                                    ` : $h` `}\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Tokens Owned</div>\r\n                                        <div><strong>${tokenOwner?.count ? tokenOwner.count : 0}</strong></div>\r\n                                    </div>\r\n\r\n                                    <div class="row">\r\n                                        <div>Transactions</div>\r\n                                        <div><strong>${tokenOwner?.transactionCount}</strong></div>\r\n                                    </div>\r\n\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Rank</div>\r\n                                        <div><strong>#${tokenOwner?.rank}</strong> (#${tokenOwner?.overallRank} overall)</div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            \r\n                            </div>\r\n\r\n\r\n                            ${tokenOwner ? $h`\r\n                            \r\n                                <% if(it.baseViewModel.channelViewModel.channel?.contractAddress) { %>\r\n\r\n                                    <div class="block-title block-title-medium">Sales</div>\r\n                                    <div class="block block-strong inset stats">\r\n                            \r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Number of Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.sales?.events ? tokenOwner.salesReport?.sales?.events : 0)}</strong>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Average Sale\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.sales?.averageEthValue ? tokenOwner.salesReport?.sales?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.sales?.averageUsdValue ? tokenOwner.salesReport?.sales?.averageUsdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Total Value of All Sales\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.sales?.ethValue ? tokenOwner.salesReport?.sales?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.sales?.usdValue ? tokenOwner.salesReport?.sales?.usdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>                                     \r\n                                    \r\n                                    </div>\r\n\r\n\r\n                                    <div class="block-title block-title-medium">Buys</div>\r\n                                    <div class="block block-strong inset stats">\r\n                            \r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Number of Buys\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.buys?.events ? tokenOwner.salesReport?.buys?.events : 0)}</strong>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Average Buy\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.buys?.averageEthValue ? tokenOwner.salesReport?.buys?.averageEthValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.buys?.averageUsdValue ? tokenOwner.salesReport?.buys?.averageUsdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div class="stats-row margin-bottom">\r\n\r\n                                            <div>\r\n                                                Total Value of All Buys\r\n                                            </div>\r\n                    \r\n                                            <div class="price">\r\n                                                <strong>${new Intl.NumberFormat(\'en-US\').format(tokenOwner.salesReport?.buys?.ethValue ? tokenOwner.salesReport?.buys?.ethValue : 0)}</strong> ETH <span class="dollars">${transactionWebService.abbreviateDollars(tokenOwner.salesReport?.buys?.usdValue ? tokenOwner.salesReport?.buys?.usdValue : 0, 2)}</span>\r\n                                            </div>\r\n\r\n                                        </div>                                     \r\n                                    \r\n                                    </div>\r\n\r\n                                <% } %>\r\n\r\n                                <div class="block">\r\n                                    <p class="segmented">\r\n                                        <a class="button button-outline button-active" href="#">Owned</a>\r\n                                        <a class="button button-outline" href="${baseURI()}u/activity?address=${address}">Activity</a>\r\n                                    </p>\r\n                                </div>\r\n                            \r\n                            ` : $h`\r\n                                \r\n                            `}\r\n                          \r\n                            <div class="list cards-list virtual-list" id="user-tokens-list">\r\n                                <ul class="item-flex"></ul>\r\n                            </div>\r\n                          \r\n                            <div class="preloader infinite-scroll-preloader"></div>\r\n\r\n                            \r\n                        </div>\r\n\r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">User Info</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                              </div>\r\n\r\n                        </div>\r\n\r\n                        <br /><br />\r\n\r\n\r\n                        <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let tokenOwnerService = globalThis.container.get("TokenOwnerService")\r\n            let itemWebService = globalThis.container.get("ItemWebService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n            let uiService = globalThis.container.get("UiService")\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n\r\n            let address\r\n            let tokenOwner\r\n\r\n            let virtualList\r\n\r\n            let hasMoreItems = true\r\n            let loadingInProgress = false\r\n\r\n            let page = 1\r\n\r\n            let firstPageItems\r\n            let totalTokens\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Leaderboard",\r\n                path: `${baseURI()}leaderboard`\r\n            }]\r\n\r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n            const imageLink = (rowItemViewModel) => {\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                return link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n            }\r\n\r\n            const loadUser = async () => {\r\n                \r\n                loading = true\r\n\r\n                try  {\r\n                    tokenOwner = await tokenOwnerService.get(address)\r\n\r\n                    if (tokenOwner) {\r\n\r\n                        let result = await itemWebService.ownerItemPage(address, page)\r\n\r\n                        firstPageItems = result.items\r\n                        totalTokens = result.totalMatches\r\n\r\n                    }\r\n\r\n\r\n                    createVirtualList()\r\n\r\n                    \r\n                } catch(ex) { \r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                    console.log(ex) \r\n                }\r\n                \r\n                loading = false\r\n\r\n                await $update()\r\n\r\n            }\r\n\r\n            const createVirtualList = () => {\r\n\r\n                virtualList = $f7.virtualList.create({\r\n                    el: \'#user-tokens-list\',\r\n                    createUl: false,\r\n                    renderItem(item) {\r\n                        return getTemplate(item)\r\n                    },\r\n                    height: 287,\r\n                    items: firstPageItems,                    \r\n                    cols: getWidth() >= 1024 ? 5 : 2,\r\n                    emptyTemplate: `\r\n                        <li class="item-content">\r\n                            <div class="item-inner">\r\n                                No results found.\r\n                            </div>\r\n                        </li>\r\n                        `\r\n                })\r\n\r\n\r\n                if (virtualList.items?.length < totalTokens) {\r\n                    hasMoreItems = true\r\n                    document.getElementById("user-tokens-infinite-scroll").addEventListener( \'infinite\', infiniteScroll )\r\n                } else {\r\n                    hasMoreItems = false\r\n                    $(\'.infinite-scroll-preloader\').hide()\r\n                }\r\n\r\n            }\r\n\r\n            const resizeListener = (e) => {\r\n                const viewPortWidth = getWidth()\r\n\r\n                if (virtualList) {\r\n                    virtualList.params.cols = viewPortWidth >= 1024 ? 5 : 2\r\n                    virtualList?.update()\r\n                }\r\n\r\n\r\n                console.log("Resized...")\r\n\r\n            }\r\n\r\n            const getWidth = () => {\r\n                return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            }\r\n\r\n            const getTemplate = (rowItemViewModel) => {\r\n                \r\n                let tokenLink = link(\'t/\' + rowItemViewModel.tokenId)\r\n                let imgExt = rowItemViewModel.coverImageGenerated ? \'svg\' : \'jpg\'\r\n                let imageLink = link(\'backup/export/images/\' + rowItemViewModel.coverImageId + "." + imgExt)\r\n                let title = rowItemViewModel.title\r\n\r\n                return `<li class="flex-card">\r\n                            <a href="${tokenLink}" class="item-link">\r\n                                <div class="card" >\r\n                                    <div class="card-content">\r\n                                        <div class="square">\r\n                                            <img src="${imageLink}"/>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class="card-footer">\r\n                                        ${title}\r\n                                    </div>\r\n                                </div>\r\n                            </a>\r\n                        </li>\r\n                `\r\n            }\r\n\r\n            async function infiniteScroll(e) {\r\n\r\n                // Exit, if loading in progress\r\n                if (loadingInProgress || !hasMoreItems) return\r\n\r\n                console.log(`Infinite scrolling...`)\r\n\r\n                // Set loading flag\r\n                loadingInProgress = true\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n\r\n                try {\r\n                    \r\n                    page++\r\n\r\n                    let result = await itemWebService.ownerItemPage(address, page)\r\n\r\n                    let items = result.items\r\n                    virtualList.appendItems(items)\r\n\r\n                    if (virtualList.items?.length == tokenOwner.tokenIds?.length) {\r\n                        hasMoreItems = false\r\n                    }\r\n\r\n                } catch (ex) {\r\n                    console.log(ex)\r\n                }\r\n\r\n                $f7.preloader.hide()\r\n                $(\'.infinite-scroll-preloader\').hide()\r\n\r\n\r\n                loadingInProgress = false\r\n\r\n\r\n            }\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                window.addEventListener(\'resize\', resizeListener)\r\n\r\n                address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                breadcrumbs.push({\r\n                    text: address\r\n                })\r\n\r\n                $(\'.infinite-scroll-preloader\').show()\r\n\r\n                await loadUser()\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                breadcrumbs.push({\r\n                    text: address\r\n                })\r\n\r\n                await loadUser()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n\r\n            })\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n                window.removeEventListener(\'resize\', resizeListener)\r\n                $f7.infiniteScroll.destroy(\'#user-tokens-infinite-scroll\')\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `User Profile for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n                    url: \'u\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `User Profile for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "User Activity <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/u/index.html`),await this.renderPage(e,'<% \r\n\r\n    const escapeExcerpt = (excerpt) => {\r\n        excerpt = it.baseViewModel.excerptHtml(excerpt, { pruneLength: 500 })\r\n        return it.baseViewModel.he.encode(excerpt.toString())\r\n    }\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n    \r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `User Activity for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        title: `User Activity for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        url: \'u/activity\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `User Activity for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="user-activity">\r\n\r\n                <nav-bar \r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="User" \r\n                    active="User" \r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="fixed-width-content center">\r\n\r\n                        <div class="hidden-on-load">\r\n\r\n                            <div class="block-title block-title-large">Account Details</div>\r\n                            <div class="block-header">\r\n                                ${address}\r\n                            </div>\r\n\r\n                            <div class="block">\r\n\r\n                                <div class="user-info">\r\n\r\n                                    <div class="row">\r\n                                        <div>Etherscan</div>\r\n                                        <div >\r\n                                            <a href="https://etherscan.io/address/${address}" class="item-link external">${address ? walletService.truncateEthAddress(address) : \' \'}</a>\r\n                                        </div>\r\n                                    </div>\r\n                            \r\n                                    ${tokenOwner?.ensName ? $h`\r\n                                        <div class="row">\r\n                                            <div>ENS Name</div>\r\n                                            <div>${tokenOwner?.ensName}</div>\r\n                                        </div>  \r\n                                    ` : $h` `}\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Tokens Owned</div>\r\n                                        <div><strong>${tokenOwner?.count ? tokenOwner.count : 0}</strong></div>\r\n                                    </div>\r\n\r\n                                    <div class="row">\r\n                                        <div>Transactions</div>\r\n                                        <div><strong>${tokenOwner?.transactionCount}</strong></div>\r\n                                    </div>\r\n\r\n                            \r\n                                    <div class="row">\r\n                                        <div>Rank</div>\r\n                                        <div><strong>#${tokenOwner?.rank}</strong> (#${tokenOwner?.overallRank} overall)</div>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class="block">\r\n                                <p class="segmented">\r\n                                    <a class="button button-outline"\r\n                                        href="<%= it.baseViewModel.baseURL %>u/?address=${address}">Owned</a>\r\n                                    <a class="button button-outline button-active" href="#">Activity</a>\r\n                                </p>\r\n                            </div>\r\n\r\n                            ${transactionsViewModel?.transactions?.length > 0 ? $h`\r\n                \r\n                                <transaction-row transactions="${transactionsViewModel}" items="${transactionsViewModel.rowItemViewModels}">\r\n\r\n                                    <div class="card-header">\r\n                                        Activity\r\n                                        <div class="last-updated">Last updated: ${dayjs(transactionsViewModel.lastUpdated).fromNow()}</div>\r\n                                    </div>\r\n\r\n                                </transaction-row>\r\n                         \r\n                                <div class="block split-row-both">\r\n                                    <div>\r\n                                        ${previousPage ? $h`\r\n                                            <a href="${baseURI()}u/activity?page=${previousPage}&address=${address}" class="button button-outline color-gray">Previous</a>\r\n                                            ` : $h` `}\r\n                                    </div>\r\n                                    <div>\r\n                                        ${nextPage ? $h`\r\n                                            <a href="${baseURI()}u/activity?page=${nextPage}&address=${address}" class="button button-fill">Next</a>\r\n                                            ` : $h` `}\r\n                                    </div>\r\n                            \r\n                                </div>\r\n\r\n    \r\n                            ` : $h`<span />`}\r\n\r\n                        </div>\r\n\r\n                        \r\n                        <div class="hide-on-pageinit">\r\n\r\n                            <div class="card skeleton-text">\r\n                                <div class="card-header">Activity</div>\r\n                                <div class="card-content card-content-padding data-table">\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                    lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n            \r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n            let tokenOwnerService = globalThis.container.get("TokenOwnerService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n\r\n            let tokenOwner\r\n            let transactionsViewModel\r\n\r\n            let display = 25\r\n            let address \r\n            let page\r\n\r\n            let nextPage\r\n            let previousPage\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Leaderboard",\r\n                path: `${baseURI()}leaderboard`\r\n            }]\r\n            \r\n\r\n            const loadActivity = async () => {\r\n\r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    nextPage = undefined\r\n                    previousPage = undefined\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.address) {\r\n                        address = $f7.views.main.router.currentRoute?.query?.address\r\n                    }\r\n\r\n                    if ($f7.views.main.router.currentRoute?.query?.page) {\r\n                        page = $f7.views.main.router.currentRoute?.query?.page\r\n\r\n                        if (page) {\r\n                            page = parseInt(page)\r\n                        } \r\n                    }\r\n\r\n                    if (!page) {\r\n                        page = 1\r\n                    }\r\n\r\n\r\n\r\n\r\n                    tokenOwner = await tokenOwnerService.get(address)\r\n\r\n                    transactionsViewModel = await transactionWebService.listByAddress(address, page)\r\n\r\n\r\n                    breadcrumbs.push({\r\n                        text: address,\r\n                        path: `${baseURI()}u?address=${address}`\r\n                    })\r\n\r\n                    breadcrumbs.push({\r\n                        text: `Page ${page}`\r\n                    })\r\n\r\n                    if (page > 1) {\r\n                        previousPage = page - 1\r\n                    } \r\n\r\n                    if (page < tokenOwner.totalTransactionPages) {\r\n                        nextPage = page + 1\r\n                    }\r\n\r\n\r\n\r\n                } catch(ex) { console.log(ex) }\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n\r\n            }\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n                await loadActivity()\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n                await $update()\r\n\r\n            })\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                await $update()\r\n\r\n\r\n                await loadActivity()\r\n\r\n                //Dispatch event so we can refresh list\r\n                let ev = new CustomEvent(\'transactions-updated\')\r\n                ev.transactionsViewModel = transactionsViewModel\r\n                document.dispatchEvent(ev)\r\n\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `User Activity for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n                    url: \'u/activity\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `User Activity for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n            document.querySelector(\'title\').innerHTML = "User Activity <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/u/activity/index.html`),await this.renderPage(e,'<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `Transaction for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        title: `Transaction for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        url: \'transaction\',\r\n        imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n        descriptionHTML: `Transaction for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <meta property="og:title" content="Transaction for <%=it.baseViewModel.channelViewModel.channel.title%>" />\r\n    <meta property="og:type" content="website" />\r\n    <meta property="og:url" content="<%= it.baseViewModel.link(`transaction`) %>" />\r\n    <meta property="og:image" content="<%= it.baseViewModel.absoluteLink(`backup/export/images/${it.baseViewModel.channelViewModel.channel.coverImageId}.jpg`) %>" />\r\n    <meta property="og:description" content="Transaction for <%=it.baseViewModel.channelViewModel.channel.title%>" />\r\n\r\n    <meta property="twitter:card" content="summary_large_image" />\r\n    <meta property="twitter:url" content="<%= it.baseViewModel.link(`transaction`) %>" />\r\n    <meta property="twitter:title" content="Transaction for <%=it.baseViewModel.channelViewModel.channel.title%>" />\r\n    <meta property="twitter:description" content="Transaction for <%=it.baseViewModel.channelViewModel.channel.title%>" />\r\n    <meta property="twitter:image" content="<%= it.baseViewModel.absoluteLink(`backup/export/images/${it.baseViewModel.channelViewModel.channel.coverImageId}.jpg`) %>" />\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n    \r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="transaction">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="Transaction"\r\n                    active="Transaction"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                >\r\n                </nav-bar>\r\n\r\n\r\n                <div class="page-content">\r\n\r\n                    <div class="row">\r\n            \r\n                        <div class="fixed-width-content center">\r\n                            <transaction-viewer></transaction-viewer> \r\n                        </div>\r\n                    </div>\r\n            \r\n                </div>\r\n              \r\n            \r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    <script type="module" id="page-init-scripts">\r\n\r\n        //pageInitScripts\r\n        \r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n\r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n\r\n            \r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n\r\n            // let eventWebService = globalThis.container.get("EventWebService")\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                // let activityStartChangedEvent = new CustomEvent(\'user-address-changed\')\r\n                // activityStartChangedEvent.address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                // document.dispatchEvent(activityStartChangedEvent)\r\n\r\n                // await $update()\r\n\r\n            })\r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                // let activityStartChangedEvent = new CustomEvent(\'user-address-changed\')\r\n                // activityStartChangedEvent.address = $f7.views.main.router.currentRoute?.query?.address\r\n\r\n                // document.dispatchEvent(activityStartChangedEvent)\r\n\r\n                // await $update()\r\n\r\n            })\r\n\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n\r\n            })\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `Transaction for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n                    url: \'transaction\',\r\n                    imageUrl: it.baseViewModel.channelCoverImageLink(),\r\n                    descriptionHTML: `Transaction for ${it.baseViewModel.channelViewModel.channel.title}`,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "Transaction <%=it.baseViewModel.channelViewModel.channel.title%>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n            include("@init", {\r\n                hostname: it.baseViewModel.hostname,\r\n                baseURL: it.baseViewModel.baseURL,\r\n                libraryURL: it.baseViewModel.libraryURL,\r\n                routablePages: it.baseViewModel.routablePages,\r\n                base64Version: it.baseViewModel.base64Version,\r\n                channelId: it.baseViewModel.channelId\r\n            }) \r\n    %>\r\n\r\n</body>\r\n\r\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/transaction/index.html`),await this.renderPage(e,'<!DOCTYPE html>\n<html>\n\n  <head>\n\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\n\n\n    <style>\n      html {\n        visibility: hidden;\n        opacity: 0;\n      }\n    </style>\n\n    \x3c!-- Required meta tags--\x3e\n    <meta charset="utf-8">\n    <meta name="viewport"\n      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">\n    <meta name="apple-mobile-web-app-capable" content="yes">\n    \x3c!-- Color theme for statusbar --\x3e\n    <title>\n      404 Page Not Found\n    </title>\n\n\n    <%~ it.baseViewModel.headEndContents %>\n    \n\n  </head>\n\n  <body>\n\n    <div id="app">\n\n      <div class="view view-main">\n\n        \x3c!--pageContent--\x3e\n        <div class="page" data-name="home">\n\n          <nav-bar\n            logo="${logo}"\n            library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\n            large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\n            title="<%=it.baseViewModel.channelViewModel.channel.title%>"\n            show_mint_page="<%=it.baseViewModel.showMintPage%>"\n            show_activity_page="<%=it.baseViewModel.showActivityPage%>"\n          >\n          </nav-bar>\n\n          \n\n\n          <div class="page-content">\n\n            <div class="row">\n\n              <div class="col-100 large-75">\n\n\n                <div class="block block-strong inset col-100 no-margin-bottom">\n                  <div class="breadcrumbs ">\n                    <div class="breadcrumbs-item breadcrumbs-item-active">\n                      Home\n                    </div> \n                  </div>\n                </div>\n\n\n                <div class="card">\n\n                  <div class="card-content card-content-padding">\n                    404 Page not found.\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class="col-100 large-25">                \n\n\n\n              </div>\n              \n            </div>\n\n          </div>\n\n        </div>\n        \x3c!--/pageContent--\x3e\n\n      </div>\n\n    </div>\n\n    <%~ it.baseViewModel.bodyContents %>\n    \n    <script type="module" id="page-init-scripts">\n\n      //pageInitScripts\n\n      const init = (props, { $, $f7, $h, $on, $update }) => {\n              \n\n            let channelWebService = globalThis.container.get("ChannelWebService")\n            let baseURI = globalThis.container.get("baseURI")\n            let hostname = globalThis.container.get("hostname")\n\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\n\n\n            $on(\'pageInit\', async () => {\n\n              await channelWebService.loadChannel(\n                      "<%= it.baseViewModel.channelViewModel.channel._id %>",\n                      \'<%= it.baseViewModel.baseURL %>\',\n                      \'<%= it.baseViewModel.hostname %>\'\n              )\n\n\n            })\n\n            $f7.preloader.hide()\n\n            return $render;\n      }\n\n      ///pageInitScripts\n      \n    <\/script>\n\n    <%~ \n      include("@init", {\n        hostname: it.baseViewModel.hostname,\n        baseURL: it.baseViewModel.baseURL,\n        libraryURL: it.baseViewModel.libraryURL,\n        routablePages: it.baseViewModel.routablePages,\n        base64Version: it.baseViewModel.base64Version,\n        channelId: it.baseViewModel.channelId\n      }) \n    %>\n\n  </body>\n\n</html>',{title:r.channel.title,baseViewModel:a},`${e.publicPath}/404.html`),r.staticPagesViewModel?.links?.length>0)for(let t of r.staticPagesViewModel?.links)await this.renderPage(e,wv,{title:r.channel.title,staticPage:t,baseViewModel:a},`${e.publicPath}/s/${t.slug}.html`);if(r.staticPagesViewModel?.none?.length>0)for(let t of r.staticPagesViewModel?.none)await this.renderPage(e,wv,{title:r.channel.title,staticPage:t,baseViewModel:a},`${e.publicPath}/s/${t.slug}.html`);let o=Math.min(...n.itemViewModels.map((e=>e.item.tokenId))),s=Math.max(...n.itemViewModels.map((e=>e.item.tokenId))),c=[];for(let e of n.itemViewModels)c.push(this.itemWebService.translateRowItemViewModel(e.item,e.coverImage));i().writeFileSync(`${e.publicPath}/t/all.json`,Buffer.from(JSON.stringify(c)));for(let r of n.itemViewModels){let c,l,u=this.itemWebService.translateRowItemViewModel(r.item,r.coverImage);u.tokenId!=o&&(c=n.itemViewModels.filter((e=>e.item.tokenId==u.tokenId-1))[0]),u.tokenId!=s&&(l=n.itemViewModels.filter((e=>e.item.tokenId==u.tokenId+1))[0]),console.time(`Generating /t/${u.tokenId}`),i().mkdirSync(`${e.publicPath}/t/${u.tokenId}`,{recursive:!0}),await this.renderPage(e,'<% \r\n\r\n    let itemViewModel = it.itemViewModel\r\n    let previous = it.previous\r\n    let next = it.next\r\n    \r\n    const truncateEthAddress = (address) => {\r\n        // Captures 0x + 4 characters, then the last 4 characters.\r\n        const truncateRegex = /^(0x[a-zA-Z0-9]{4})[a-zA-Z0-9]+([a-zA-Z0-9]{4})$/\r\n        const match = address.match(truncateRegex)\r\n        if (!match) return address\r\n        return `${match[1]}…${match[2]}`\r\n    }\r\n\r\n\r\n    let coverImageLink = itemViewModel.coverImage ? it.baseViewModel.absoluteLink(`backup/${itemViewModel.coverImage.generated ? \'generated\' : \'export\'}/images/${itemViewModel.coverImage._id}.${itemViewModel.coverImage.generated ? \'png\' : \'jpg\'}`)  : \'\'\r\n\r\n    const getAttributeKey = (as) => {\r\n        return encodeURIComponent(`${as.traitType}::::${as.value}`)\r\n    }\r\n\r\n\r\n%>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n\r\n    <%~ include("@headStart", {baseURL: it.baseViewModel.baseURL}) %>\r\n\r\n\r\n    <%~ \r\n      include("@meta_tags", {\r\n        pageTitle: `${itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\'}${itemViewModel.channel.title} #${itemViewModel.item.tokenId}`,\r\n        title: `${itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\'}${itemViewModel.channel.title} #${itemViewModel.item.tokenId}`,\r\n        url: `t/${itemViewModel.item.tokenId}`,\r\n        imageUrl: coverImageLink,\r\n        descriptionHTML: itemViewModel.contentHTML,\r\n        hostname: it.baseViewModel.hostname,\r\n        baseURL: it.baseViewModel.baseURL,\r\n        excerptHtml: it.baseViewModel.excerptHtml,\r\n        he: it.baseViewModel.he\r\n      }) \r\n    %>\r\n\r\n    <%~ it.baseViewModel.headEndContents %>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n    <div id="app">\r\n\r\n        <div class="view view-main">\r\n\r\n            \x3c!--pageContent--\x3e\r\n            <div class="page" data-name="token-<%=itemViewModel.item.tokenId %>">\r\n\r\n                <nav-bar\r\n                    logo="${logo}"\r\n                    library_url="<%=it.baseViewModel.libraryURL ? it.baseViewModel.libraryURL : \'\'%>"\r\n                    large_url="<%=it.baseViewModel.largeURL ? it.baseViewModel.largeURL : \'\'%>"\r\n                    title="<%=it.baseViewModel.channelViewModel.channel.title%>"\r\n                    show_mint_page="<%=it.baseViewModel.showMintPage%>"\r\n                    show_activity_page="<%=it.baseViewModel.showActivityPage%>"\r\n                    breadcrumbs="${breadcrumbs}"\r\n                >\r\n                </nav-bar>\r\n\r\n                <token-toolbar\r\n                    token_id="<%= itemViewModel.item.tokenId %>"\r\n                    item_count="<%= it.baseViewModel.channelViewModel.channel.itemCount %>" \r\n                >\r\n                </token-toolbar>\r\n           \r\n                <div class="page-content">\r\n\r\n\r\n                    <div class="main-split">\r\n                                \r\n                        <div class="left">\r\n                    \r\n                            <div class="block animation-card ">\r\n                    \r\n                                <div class="animation-content <%= itemViewModel.item.coverImageAsAnimation ? \'animation-image\' : \'\'%>">\r\n                    \r\n                                    <% if (itemViewModel.item.coverImageAsAnimation) { %>\r\n                                        <img src="<%= it.baseViewModel.link(`backup/export/images/${itemViewModel.coverImage._id}.${itemViewModel.coverImage.generated ? \'svg\' : \'jpg\'}`) %>"  />\r\n                                    <% } else { %>\r\n                                        <%~itemViewModel.animationContentHTML %>\r\n                                    <% } %>\r\n                    \r\n                                </div>\r\n                    \r\n\r\n                                <div class="block split-row-both">\r\n                                    <div>\r\n                                        <a class="button button-outline back-token-button margin-bottom color-gray" href="#" >\r\n                                            <i class="icon f7-icons color-blue">arrow_left</i>\r\n                                        </a>\r\n                                    </div>\r\n                                    <div>\r\n                                        <% if (next) { %>\r\n                                            <a class="button button-fill continue-button margin-bottom" href="#">\r\n                                                Continue <i class="f7-icons">arrow_right</i>\r\n                                            </a>\r\n                                        <% } %>\r\n                                    </div>\r\n                            \r\n                                </div>\r\n                    \r\n                            </div> \r\n                    \r\n                            <div class="hidden-on-load">\r\n\r\n                                ${transactionsViewModel?.transactions?.length > 0 ? $h`\r\n              \r\n                                    <transaction-row transactions="${transactionsViewModel}" items="${transactionsViewModel?.rowItemViewModels}" token="<%= itemViewModel.item.tokenId %>">\r\n                                        <div class="card-header">\r\n                                            Activity\r\n                                            <div class="last-updated">Last updated: ${dayjs(transactionsViewModel.lastUpdated).fromNow()}</div>\r\n                                        </div>\r\n                                    </transaction-row>\r\n\r\n                           \r\n                                ` : $h` `}\r\n              \r\n                            </div>\r\n\r\n                            <div class="hide-on-pageinit">\r\n\r\n                                <div class="card skeleton-text">\r\n                                    <div class="card-header">Activity</div>\r\n                                    <div class="card-content card-content-padding data-table">\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi\r\n                                        lobortis et massa ac interdum. Cras consequat felis at consequat hendrerit.\r\n                                    </div>\r\n\r\n                                  </div>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    \r\n                        <div class="right">\r\n                            \r\n                            <div class="card" >\r\n                                <form class="card-content card-content-padding" id="token_navigator_form">\r\n                                  <input type="number" class="goto-input" style="width: 60px; border: 1px solid #cccccc; display: inline-block;" value="<%= itemViewModel?.item?.tokenId %>" min="0"  />\r\n                                  <span class="paging-label">Enter Token ID</span>\r\n                                  <button class="goto-button button button-small button-fill">Go</button>\r\n                                </form>\r\n                            </div>\r\n                    \r\n                            <% if (previous || next) { %>\r\n                    \r\n                                <div class="card large-only">\r\n                                  <div class="card-content card-content-padding">\r\n                                    <div class="segmented">\r\n                    \r\n                                      <% if (previous) { %>\r\n                                        <a class="button button-outline back-token-button" data-transition="none">\r\n                                            <i class="icon f7-icons">arrow_left</i>\r\n                                          </a>\r\n                                      <% } else { %>\r\n                                        <a class="button button-outline" href="#"></a>\r\n                                      <% } %>\r\n                    \r\n                    \r\n                                      <% if (next) { %>\r\n                                        <a class="button button-outline continue-button" data-transition="none">\r\n                                            <i class="f7-icons">arrow_right</i>\r\n                                          </a>\r\n                                      <% } else { %>\r\n                                        <a class="button button-outline" href="#"></a>\r\n                                      <% } %>\r\n                    \r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                    \r\n                            <% } %>\r\n                    \r\n                    \r\n                    \r\n                     \r\n                            <% if (itemViewModel.channel.contractAddress) { %>\r\n\r\n                                <div class="hidden-on-load">\r\n                                    <div class="card">\r\n                                        <div class="card-content card-content-padding">\r\n                                            ${token?.currentOwnerId ? $h`\r\n                                                Owned by <a href="${link(`u/?address=${token?.currentOwnerId}`)}">${tokenOwnerDisplay}</a>\r\n                                            ` : $h`\r\n                                                NFT has not been <a href="${link(`mint.html`)}">minted</a> yet.\r\n                                            `}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                              \r\n                                <div class="data-table card">\r\n                            \r\n                                    <div class="card-header">\r\n                                        Token Info\r\n                                    </div>\r\n                                \r\n                                    <div class="card-content">\r\n                                        <table>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td class="label-cell">Contract Address</td>\r\n                                                    <td><a href="https://etherscan.io/token/<%= itemViewModel.channel.contractAddress %>" class="external">${contractAddress}</a></td>\r\n                                                </tr>\r\n                                        \r\n                                                <tr>\r\n                                                    <td class="label-cell">Token ID</td>\r\n                                                    <td>#<%= itemViewModel?.item?.tokenId %></td>\r\n                                                </tr>\r\n                                    \r\n                                                <tr>\r\n                                                    <td class="label-cell">Metadata</td>\r\n                                                    <td><a href="${metadataURL}" class="external">View</a></td>\r\n                                                </tr>                                        \r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            <% } %>\r\n                    \r\n\r\n                    \r\n                            <div class="card">\r\n                                \r\n                                <div class="card-header">\r\n                                    Attributes\r\n                                </div>\r\n                    \r\n                                <div class="card-content data-table">\r\n                    \r\n                                    <% itemViewModel.attributeSelections?.map( (as)=> { %>\r\n                    \r\n                                        <% if (as.attributeTotal?.categoryPercent) { %>\r\n                                            <div class="button-outline attribute-value">\r\n                                                <div class="trait-type"><%= as.traitType %></div>\r\n                                                <div class="value"><a href="${link(`attribute/?attributeKey=<%= getAttributeKey(as) %>`)}"><%= as.value %></a></div>\r\n                                                <div class="category-percent"><%= as.attributeTotal?.categoryPercent  %> have this trait</div>\r\n                                            </div>                                                \r\n                                        <% } %>\r\n                    \r\n                    \r\n                                    <% }) %>\r\n                    \r\n                                </div>\r\n                    \r\n                            </div>\r\n                    \r\n                    \r\n                            <% \r\n                            if (it.baseViewModel.marketplaces?.length > 0) {\r\n                            %>\r\n                                <div class="card">\r\n                                    <div class="card-header">\r\n                                        View on Marketplaces\r\n                                    </div>\r\n                                    <div class="card-content">\r\n                                        <div class="list simple-list">\r\n                                            <ul>\r\n                                            \r\n                                            <% \r\n                                                for (let marketplace of it.baseViewModel.marketplaces) { \r\n                                            %>  \r\n                                                <li><a href="<%= it.baseViewModel.marketplaceAssetLink(marketplace, itemViewModel.item.tokenId) %>" class="external"><%= marketplace.name %></a></li>     \r\n                                            <%\r\n                                                }\r\n                                            %>\r\n                        \r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            <%\r\n                                }\r\n                            %>                                \r\n                    \r\n                            <% if (!itemViewModel.item.coverImageAsAnimation) { %>\r\n                                <div class="card">\r\n                                    <div class="card-header">Cover Image</div>\r\n                                    <div class="card-content">\r\n                                        <img src="<%= it.baseViewModel.link(`backup/export/images/${itemViewModel.coverImage._id}.${itemViewModel.coverImage.generated ? \'svg\' : \'jpg\'}`) %>" class="cover-image-preview" />\r\n                                    </div>\r\n                                </div>\r\n                            <% } %>\r\n                    \r\n                    \r\n                    \r\n                        </div>\r\n                    \r\n                        <div class="left">\r\n                            <%~ include("@footer", {baseURL: it.baseViewModel.baseURL}) %>          \r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\x3c!--                     \r\n                    <div class="swiper" id="swiper-<%= itemViewModel.item.tokenId  %>" style="display:none;">\r\n                        <div class="swiper-wrapper">\r\n                            <div class="swiper-slide" data-url="<%= itemViewModel.item.previous ? it.baseViewModel.link(`t/${itemViewModel.item.previous.tokenId}`) : it.baseViewModel.link(`index.html`) %>">\r\n                            </div> \r\n\r\n                            <div class="swiper-slide">   \r\n\r\n\r\n\r\n\r\n                                \r\n                            </div>\r\n\r\n                            <% if (itemViewModel.item.next) { %>\r\n                                <div class="swiper-slide" data-url="<%= it.baseViewModel.link(`t/${itemViewModel.item.next.tokenId}`) %>">\r\n                                </div> \r\n                            <% } %>\r\n\r\n                        </div>\r\n                    </div> --\x3e\r\n\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!--/pageContent--\x3e\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <%~ it.baseViewModel.bodyContents %>\r\n\r\n    \r\n    <script type="module" id="page-init-scripts">    \r\n\r\n        //pageInitScripts\r\n\r\n        const init = (props, { $, $f7, $h, $on, $update }) => {\r\n            \r\n\r\n            let channelWebService = globalThis.container.get("ChannelWebService")\r\n            let baseURI = globalThis.container.get("baseURI")\r\n            let hostname = globalThis.container.get("hostname")\r\n\r\n            let transactionWebService = globalThis.container.get("TransactionWebService")\r\n            let walletService = globalThis.container.get("WalletService")\r\n            \r\n            let uiService = globalThis.container.get("UiService")\r\n\r\n            let readerSettingsService = globalThis.container.get("ReaderSettingsService")\r\n            let tokenService = globalThis.container.get("TokenService")\r\n            let tokenOwnerService = globalThis.container.get("TokenOwnerService")\r\n\r\n            let logo = JSON.parse(`<%~ JSON.stringify(it.baseViewModel.logo ? it.baseViewModel.logo : {})  %>`)\r\n\r\n\r\n            let title = `<%~ itemViewModel.item.title %>`\r\n            let tokenId = parseInt(`<%~ itemViewModel.item.tokenId %>`)\r\n            \r\n\r\n            let breadcrumbs = [{\r\n                text: JSON.parse(`<%~ JSON.stringify(it.baseViewModel.channelViewModel.channel.symbol)  %>`),\r\n                path: baseURI()\r\n            }, {\r\n                text: "Explore",\r\n                path: `${baseURI()}explore.html`\r\n            },{\r\n                text: title ? title : `#${tokenId}`\r\n            }]\r\n\r\n\r\n            let hasPrevious = JSON.parse(`<%~ JSON.stringify(previous?.item.tokenId != undefined) %>`)\r\n            let hasNext = JSON.parse(`<%~ JSON.stringify(next?.item.tokenId != undefined) %>`)\r\n\r\n            let swiper\r\n\r\n            let transactionsViewModel\r\n            let latest\r\n\r\n            let token\r\n            let tokenOwnerDisplay\r\n\r\n            let metadataURL = `${baseURI()}backup/export/metadata/<%= itemViewModel.item.tokenId  %>.json`\r\n\r\n\r\n            let contractAddress = walletService.truncateEthAddress(\'<%= itemViewModel.channel.contractAddress %>\')\r\n\r\n            \r\n\r\n            const link = (href) => {\r\n              return baseURI() + href\r\n            }   \r\n\r\n\r\n            const initSwiper = () => {\r\n\r\n                // swiper = $f7.swiper.create(\'#swiper-<%= itemViewModel.item.tokenId  %>\', {\r\n                //     initialSlide: 1,\r\n                //     effect: \'fade\',\r\n                //     on: {\r\n                //         slideChange() {\r\n\r\n                //             const swiper = this\r\n\r\n                //             let slide = $(swiper.wrapperEl).children(\'.swiper-slide\').eq(swiper.activeIndex)\r\n\r\n                //             let url = $(slide).data(\'url\')\r\n\r\n\r\n                //             if (url) {\r\n                //                 $f7.views.main.router.navigate(url, {\r\n                //                     transition: \'none\',\r\n                //                     history: true,\r\n                //                     reloadAll: true\r\n                //                 })\r\n                //             }\r\n                //         }\r\n                //     }\r\n                // })\r\n\r\n                // $(\'#swiper-<%= itemViewModel.item.tokenId  %>\').show()\r\n\r\n                const prev = (e) => {\r\n\r\n                    let link = "<%= previous ? it.baseViewModel.link(`t/${previous.item.tokenId}`) : it.baseViewModel.link(`index.html`) %>"\r\n                    \r\n                    $f7.views.main.router.navigate(link, {\r\n                        transition: \'none\',\r\n                        history: true,\r\n                        reloadAll: true\r\n                    })\r\n\r\n                    // swiper.slidePrev(0)\r\n                }\r\n\r\n                const next = (e) => {\r\n\r\n                    let link = "<%= next ? it.baseViewModel.link(`t/${next.item.tokenId}`) : \'\' %>"\r\n\r\n\r\n                    if (link?.length > 0) {\r\n                        $f7.views.main.router.navigate(link, {\r\n                            transition: \'none\',\r\n                            history: true,\r\n                            reloadAll: true\r\n                        })\r\n                    }\r\n\r\n\r\n                    // swiper.slideNext(0)\r\n                }\r\n\r\n                $(\'.fab-left-center\').on(\'click\', prev)\r\n                $(\'.fab-right-center\').on(\'click\', next)\r\n\r\n                $(\'.back-token-button\').on(\'click\', prev)\r\n                $(\'.continue-button\').on(\'click\', next)\r\n\r\n            }\r\n\r\n            const loadActivity = async () => {\r\n\r\n                loading = true\r\n\r\n                try  {\r\n\r\n                    latest = await transactionWebService.getLatest()\r\n\r\n                    if (latest?.latestToken && tokenId <= latest.latestToken) {\r\n\r\n                        token = await tokenService.get(tokenId)\r\n\r\n                        if (token) {\r\n                            tokenOwnerDisplay = await tokenOwnerService.getDisplayName(token.currentOwnerId)\r\n                            transactionsViewModel = token.transactionsViewModel\r\n                        }\r\n\r\n                    }\r\n\r\n                    if (!transactionsViewModel) {\r\n                        transactionsViewModel = {}\r\n                    }\r\n\r\n                    transactionsViewModel.lastUpdated = latest.lastUpdated\r\n\r\n                } catch(ex) { console.log(ex) }\r\n\r\n                $(\'.hidden-on-load\').removeClass(\'hidden-on-load\')\r\n\r\n                loading = false\r\n\r\n                await $update()\r\n\r\n\r\n            }\r\n\r\n\r\n            $on(\'pageInit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                let readerSettings = await readerSettingsService.get()\r\n                $f7.emit(\'current-page-updated\', readerSettings.currentPage)\r\n\r\n                await $update()\r\n\r\n                await readerSettingsService.updateCurrentPage(parseInt(props.tokenId))\r\n                $(\'#token_navigator_form\').on(\'submit\', goTokenFormSubmit)\r\n\r\n                initSwiper()\r\n\r\n                await loadActivity()\r\n\r\n                // $(\'.swiper\').show()\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n            })          \r\n\r\n            $on(\'pageReinit\', async () => {\r\n\r\n                await channelWebService.loadChannel(\r\n                        "<%= it.baseViewModel.channelViewModel.channel._id %>",\r\n                        \'<%= it.baseViewModel.baseURL %>\',\r\n                        \'<%= it.baseViewModel.hostname %>\'\r\n                )\r\n\r\n                let readerSettings = await readerSettingsService.get()\r\n                currentPage = readerSettings.currentPage\r\n\r\n                await $update()\r\n\r\n                initSwiper()\r\n\r\n                await loadActivity()\r\n\r\n                //Dispatch event so we can refresh list\r\n                let ev = new CustomEvent(\'transactions-updated\')\r\n                ev.transactionsViewModel = transactionsViewModel\r\n                document.dispatchEvent(ev)\r\n\r\n\r\n                // $(\'.swiper\').show()\r\n                $(\'.hide-on-pageinit\').hide()\r\n\r\n            })\r\n\r\n            $on(\'pageBeforeOut\', async () => {\r\n                // $(\'.swiper\').hide()\r\n                // console.log(\'Destroying swiper #swiper-<%= itemViewModel.item.tokenId  %>\')\r\n                // $f7.swiper.destroy(\'#swiper-<%= itemViewModel.item.tokenId  %>\')\r\n            })\r\n\r\n            const goTokenFormSubmit = async (e) => {\r\n          \r\n                e.preventDefault()\r\n\r\n                const val = $(e.currentTarget).children(\'.goto-input\').val()\r\n\r\n                try {\r\n                    $f7.views.main.router.navigate(`${baseURI()}t/${parseInt(val.toString())}`)\r\n                } catch(ex) {\r\n                    console.log(ex)\r\n                    $f7.dialog.alert("Invalid Page")\r\n                }\r\n\r\n            }\r\n\r\n            <%~ \r\n                include("@meta_tags_js", {\r\n                    title: `${itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\'}${itemViewModel.channel.title} #${itemViewModel.item.tokenId}`,\r\n                    url: `t/${itemViewModel.item.tokenId}`,\r\n                    imageUrl: coverImageLink,\r\n                    descriptionHTML: itemViewModel.contentHTML,\r\n                    hostname: it.baseViewModel.hostname,\r\n                    baseURL: it.baseViewModel.baseURL,\r\n                    excerptHtml: it.baseViewModel.excerptHtml,\r\n                    he: it.baseViewModel.he\r\n                }) \r\n            %>\r\n\r\n\r\n            document.querySelector(\'title\').innerHTML = "<%= itemViewModel.item.title ? itemViewModel.item.title + \' / \' : \'\' %><%= itemViewModel.channel.title %> #<%= itemViewModel.item.tokenId %>"\r\n\r\n            $f7.preloader.hide()\r\n\r\n            return $render;\r\n\r\n        }\r\n\r\n        ///pageInitScripts\r\n\r\n    <\/script>\r\n\r\n    <%~ \r\n        include("@init", {\r\n            hostname: it.baseViewModel.hostname,\r\n            baseURL: it.baseViewModel.baseURL,\r\n            libraryURL: it.baseViewModel.libraryURL,\r\n            routablePages: it.baseViewModel.routablePages,\r\n            base64Version: it.baseViewModel.base64Version,\r\n            channelId: it.baseViewModel.channelId\r\n        }) \r\n    %>\r\n\r\n    \r\n\r\n</body>\r\n\r\n</html>',{title:u.title,itemViewModel:r,baseViewModel:a,previous:c,next:l,ethers:t},`${e.publicPath}/t/${u.tokenId}/index.html`),i().writeFileSync(`${e.publicPath}/t/${u.tokenId}/rowItemViewModel.json`,Buffer.from(JSON.stringify(u))),await this.generateImages(e,r),console.timeEnd(`Generating /t/${u.tokenId}`)}}async renderPage(e,t,r,n){const a=this.eta.renderString(t,r),o=a.substring(a.indexOf("\x3c!--pageContent--\x3e")+19,a.lastIndexOf("\x3c!--/pageContent--\x3e")),s=a.substring(a.indexOf("//pageInitScripts")+18,a.lastIndexOf("///pageInitScripts"));let c=`\n          <template>\n              ${Dl().unescape(o)}\n          </template>\n\n          <script>\n\n              ${s}\n\n              export default init\n          <\/script>\n      `;i().writeFileSync(n,a.replace(s,"").replace(o,""));let l=n.replace(e.publicPath,`${e.publicPath}/partial`);e.libraryURL&&(l=l.replace(e.libraryURL,`${e.libraryURL}/partial`));const u=vv().dirname(l);i().existsSync(u)||i().mkdirSync(u,{recursive:!0}),i().writeFileSync(l,c)}};Sv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),Av(0,et("ItemService")),Av(1,et("ItemWebService")),Av(2,et("StaticPageService")),Av(3,et("ItemRepository")),Av(4,et("StaticPageRepository")),Av(5,et("convert-svg-to-png")),Av(6,et("eta")),Av(7,et("jimp")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[bc,Fl,Il,Object,Object,Object,Object,Object])],Sv);let Ev=class{async get(e){return ws.findByPk(e)}async put(e,t){return await e.save(t),e}};Ev=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke()],Ev);var Tv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Rv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Op:kv}=a(58210);let xv=class{sequelize;constructor(){}async get(e,t){return Ns.findByPk(e,t)}async getByIds(e,t){let r={where:{_id:{[kv.in]:e}},order:[["count","DESC"]]};return Ns.findAll(Object.assign(r,t))}async put(e,t){return e.changed()&&await e.save(t),e}async putAll(e,t){for(let r of e)await this.put(r,t)}async list(e,t,r){let n={limit:e,offset:t,order:[["count","DESC"]]};return Ns.findAll(Object.assign(n,r))}async rerank(e){let t=await this.sequelize();const[r,n]=await t.query("\n            WITH ranks AS (\n                select \n                    _id,\n                    RANK() OVER(ORDER BY count DESC) as overallRank,\n                    DENSE_RANK() OVER(ORDER BY count DESC) as rank\n                from token_owner\n            )\n            \n            UPDATE 'token_owner'\n            SET ('overallRank', 'rank')  = (\n                select \n                    overallRank, rank\n                from ranks WHERE ranks._id = token_owner._id\n            )\n        ",Object.assign({raw:!0,nest:!1,plain:!1},e))}};Tv([et("sequelize"),Rv("design:type",Function)],xv.prototype,"sequelize",void 0),xv=Tv([Ke(),Rv("design:paramtypes",[])],xv);const{Op:Iv}=a(58210);let Ov=class{async get(e){return Jc.findByPk(e)}async put(e,t){return await e.save(t),e}async putAll(e,t){for(let r of e)await this.put(r,t)}async remove(e,t){await e.destroy(t)}async list(e,t,r){let n={limit:e,offset:t,order:[["blockNumber","DESC"],["transactionIndex","DESC"]]};return n=Object.assign(n,r),Jc.findAll(n)}async findBetweenBlocks(e,t,r){let n={where:{blockNumber:{[Iv.and]:{[Iv.gte]:e,[Iv.lte]:t}}}};return n=Object.assign(n,r),Jc.findAll(n)}};Ov=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke()],Ov);var Mv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Nv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let _v=class{processedTransactionService;constructor(){}async buildTokenOwnerPages(e,t){let r=[],n=[];for(let t of e)n.push({_id:t._id,ensName:t.ensName,lastActive:t.lastActive,count:t.count,rank:t.rank,salesReport:t.salesReport});for(let e=0;e<n.length;e+=t)r.push({tokenOwners:n.slice(e,e+t)});return r}};Mv([et("ProcessedTransactionService"),Nv("design:type",cl)],_v.prototype,"processedTransactionService",void 0),_v=Mv([Ke(),Nv("design:paramtypes",[])],_v);var Pv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};let Cv=class{sequelize;async get(e,t){return zs.findByPk(e,t)}async put(e,t){return e.changed()&&await e.save(t),e}async putAll(e,t){for(let r of e)await this.put(r,t)}async getTokenIdsByAttribute(e,t,r){let n=await this.sequelize(),i={type:n.QueryTypes.RAW,plain:!1,mapToModel:!1,replacements:{traitType:e,value:t}};const[a,o]=await n.query("\n            select \n                t._id,\n                JSON_EXTRACT(a.value, '$.traitType') traitType, \n                JSON_EXTRACT(a.value, '$.value') v\n            FROM 'token' t, JSON_EACH(attributeSelections) a \n            WHERE traitType = :traitType AND v = :value\n        ",Object.assign(i,r));return a.map((e=>parseInt(e._id)))}async getLatest(e){let t=await this.sequelize();const r=await zs.findOne({attributes:[[t.fn("max",t.col("_id")),"max_id"]]},e);return this.get(r?.get("max_id",e))}};Pv([et("sequelize"),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Function)],Cv.prototype,"sequelize",void 0),Cv=Pv([Ke()],Cv);var Lv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Dv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Op:Vv}=a(58210);let Uv=class{sequelize;dayjs;async get(e,t){return lc.findByPk(e,t)}async getEvent(e,t){return uc.findByPk(e,t)}async getByIds(e,t){let r={where:{_id:{[Vv.in]:e}},order:[["blockNumber","DESC"],["transactionIndex","DESC"]]};return r=Object.assign(r,t),lc.findAll(r)}async put(e,t){if(e.changed()){if(await e.save(t),e.tokens)for(let r of e.tokens)await e.addToken(r,Object.assign({through:dc},t));if(e.tokenTraders)for(let r of e.tokenTraders)await e.addTokenTrader(r,Object.assign({through:pc},t))}return e}async putAll(e,t){for(let r of e)await this.put(r,t)}async findBetweenBlocks(e,t,r){let n={where:{blockNumber:{[Vv.and]:{[Vv.gte]:e,[Vv.lte]:t}}}};return n=Object.assign(n,r),lc.findAll(n)}async findEventsBetweenBlocks(e,t,r){let n={where:{blockNumber:{[Vv.and]:{[Vv.gte]:e,[Vv.lte]:t}}}};return n=Object.assign(n,r),uc.findAll(n)}async remove(e,t){const r=await this.getEventsByTransaction(e,t);for(let e of r)await e.destroy(t);if(e.tokens)for(let r of e.tokens)await e.removeToken(r,t);if(e.tokenTraders)for(let r of e.tokenTraders)await e.removeTokenTrader(r,t);await e.destroy(t)}async getEventsByTransaction(e,t){return uc.findAll({where:{processedTransactionId:{[Vv.eq]:e._id}}},t)}async getEventsByTokens(e,t){let r=await this.sequelize(),n={type:r.QueryTypes.RAW,plain:!1,model:lc,mapToModel:!0,replacements:{tokenIds:e}};const[i,a]=await r.query("\n            select \n                pe._id\n            FROM \n                'processed_event' pe\n            WHERE \n                pe.tokenId IN (:tokenIds)\n            ORDER BY pe.blockNumber desc, pe.transactionIndex desc\n        ",Object.assign(n,t));let o=[];for(let e of i)o.push(await this.getEvent(e._id,t));return o}async putEvent(e,t){return await e.save(t),e}async putEvents(e,t){for(let r of e)await this.putEvent(r,t)}async getLatest(e,t){let r={order:[["blockNumber","DESC"],["transactionIndex","DESC"]]};return e&&(r.where={blockNumber:{[Vv.lt]:e}}),r=Object.assign(r,t),lc.findOne(r)}async list(e,t,r){let n={limit:e,offset:t,order:[["blockNumber","DESC"],["transactionIndex","DESC"]]};return lc.findAll(Object.assign(n,r))}async listByToken(e,t){let r=await this.sequelize(),n={type:r.QueryTypes.RAW,plain:!1,model:lc,mapToModel:!0,replacements:{tokenId:e}};const[i,a]=await r.query("\n            select \n                *\n            FROM \n                'processed_transaction' t\n            INNER JOIN 'processed_transaction_token' ptt on t._id = ptt.processedTransactionId\n            WHERE \n                ptt.tokenId = :tokenId \n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n        ",Object.assign(n,t));let o=[];for(let e of i)o.push(await this.get(e._id,t));return o}async listByTokens(e,t){let r=await this.sequelize(),n={type:r.QueryTypes.RAW,plain:!1,model:lc,mapToModel:!0,replacements:{tokenIds:e}};const[i,a]=await r.query("\n            select \n                *\n            FROM \n                'processed_transaction' t\n            INNER JOIN 'processed_transaction_token' ptt on t._id = ptt.processedTransactionId\n            WHERE \n                ptt.tokenId IN (:tokenIds)\n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n        ",Object.assign(n,t));let o=[];for(let e of i)o.push(await this.get(e._id,t));return o}async listByTrader(e,t){let r=await this.sequelize(),n={type:r.QueryTypes.RAW,plain:!1,model:lc,mapToModel:!0,replacements:{owner:e}};const[i,a]=await r.query("\n            select \n                *\n            FROM \n                'processed_transaction' t\n            INNER JOIN 'processed_transaction_trader' ptt on t._id = ptt.processedTransactionId\n            WHERE \n                ptt.tokenOwnerId = :owner \n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n        ",Object.assign(n,t));let o=[];for(let e of i)o.push(await this.get(e._id,t));return o}async listIds(e,t){let r=await this.sequelize(),n={type:r.QueryTypes.RAW,plain:!1,mapToModel:!1,replacements:{limit:e}};const[i,a]=await r.query("\n            select \n                t._id\n            FROM \n                'processed_transaction' t\n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n            LIMIT :limit\n        ",Object.assign(n,t));return i.map((e=>e._id))}async getSalesReport(){let e={},t=this.dayjs().subtract(1,"years").toDate(),r=this.dayjs().subtract(1,"month").toDate(),n=this.dayjs().subtract(1,"day").toDate();return e.totals=await this.getSalesRow(),e.yearTotals=await this.getSalesRow(Math.floor(t.getTime()/1e3)),e.monthTotals=await this.getSalesRow(Math.floor(r.getTime()/1e3)),e.dayTotals=await this.getSalesRow(Math.floor(n.getTime()/1e3)),e}async getTokenOwnerSalesReport(e){let t={};return t.buys=await this.getTokenOwnerBuysSalesRow(e),t.sales=await this.getTokenOwnerSalesSalesRow(e),t}async getAddressSalesReport(e){throw new Error("Method not implemented.")}async getTokenSalesReport(e){throw new Error("Method not implemented.")}async getSalesRow(e){let t={};e||(e=0);let r=await this.sequelize();const[n,i]=await r.query("\n            select \n\n            COUNT(_id) as events, \n        \n            SUM(JSON_EXTRACT(transactionValue, '$.totalPrice')) as ethValue, \n            AVG(JSON_EXTRACT(transactionValue, '$.totalPrice')) as averageEthValue,\n        \n            SUM(JSON_EXTRACT(transactionValue, '$.usdValue')) as usdValue, \n            AVG(JSON_EXTRACT(transactionValue, '$.usdValue')) as averageUsdValue\n\n            FROM 'processed_transaction' t \n            \n            WHERE \n                JSON_EXTRACT(transactionValue, '$.totalPrice') > 0 AND\n                t.timestamp >= :timestamp\n                \n        ",{replacements:{timestamp:e}});return n?.length>0&&(t.ethValue=n[0].ethValue,t.averageEthValue=n[0].averageEthValue,t.events=n[0].events,t.usdValue=n[0].usdValue,t.averageUsdValue=n[0].averageUsdValue),t}async getAttributeSalesRows(e,t){let r=[],n=await this.sequelize();const[i,a]=await n.query("\n\n            select \n\n                JSON_EXTRACT(transactionValue, '$.tokenPrice') as tokenPrice,\n                \n                COUNT(t._id) as events,\n                SUM(JSON_EXTRACT(m.value, '$.price')) as ethValue,\n                SUM(JSON_EXTRACT(m.value, '$.usdValue')) as usdValue,\n                \n                AVG(JSON_EXTRACT(m.value, '$.price')) as averageEthValue,\n                AVG(JSON_EXTRACT(m.value, '$.usdValue')) as averageUsdValue,\n            \n                tok.traitType,\n                tok.v\n                \n            FROM (\n                select \n                    DISTINCT JSON_EXTRACT(a.value, '$.traitType') traitType, JSON_EXTRACT(a.value, '$.value') v\n                FROM 'token' t, JSON_EACH(attributeSelections) a ORDER BY traitType asc, v asc\n            ) attr\n            INNER JOIN (\n                select \n                    t.tokenId as tokenId,\n                    JSON_EXTRACT(a.value, '$.traitType') as traitType,\n                    JSON_EXTRACT(a.value, '$.value') as v\n                FROM 'token' t, JSON_EACH(attributeSelections) a\n            ) tok on tok.traitType = attr.traitType AND tok.v = attr.v\n            INNER JOIN 'processed_transaction' t, JSON_EACH(tokenPrice) m  on tok.tokenId = m.key\n            WHERE \n                JSON_EXTRACT(transactionValue, '$.totalPrice') > 0 AND\n                t.timestamp >= :timestamp\n            GROUP BY tok.traitType, tok.v\n            order by usdValue desc \n             \n        ",{raw:!0,nest:!1,plain:!1,replacements:{timestamp:e}});if(i?.length>0)for(let e of i){let t={};t.traitType=e.traitType,t.value=e.v,t.ethValue=e.ethValue,t.averageEthValue=e.averageEthValue,t.events=e.events,t.usdValue=e.usdValue,t.averageUsdValue=e.averageUsdValue,r.push(t)}return r}async getTokenOwnerBuysSalesRow(e){let t={},r=await this.sequelize();const[n,i]=await r.query("\n            select \n\n            COUNT(_id) as events, \n        \n            SUM(price) as ethValue, \n            AVG(price) as averageEthValue,\n        \n            SUM(usdValue) as usdValue, \n            AVG(usdValue) as averageUsdValue\n\n            FROM 'processed_event' pe \n            \n            WHERE \n                price > 0 AND\n                toAddress = :_id\n                \n        ",{replacements:{_id:e}});return n?.length>0&&(t.ethValue=n[0].ethValue||0,t.averageEthValue=n[0].averageEthValue||0,t.events=n[0].events||0,t.usdValue=n[0].usdValue||0,t.averageUsdValue=n[0].averageUsdValue||0),t}async getTokenOwnerSalesSalesRow(e){let t={},r=await this.sequelize();const[n,i]=await r.query("\n            select \n\n            COUNT(_id) as events, \n        \n            SUM(price) as ethValue, \n            AVG(price) as averageEthValue,\n        \n            SUM(usdValue) as usdValue, \n            AVG(usdValue) as averageUsdValue\n\n            FROM 'processed_event' pe \n            \n            WHERE \n                price > 0 AND\n                fromAddress = :_id\n                \n        ",{replacements:{_id:e}});return n?.length>0&&(t.ethValue=n[0].ethValue||0,t.averageEthValue=n[0].averageEthValue||0,t.events=n[0].events||0,t.usdValue=n[0].usdValue||0,t.averageUsdValue=n[0].averageUsdValue||0),t}async getOwnersByAttribute(e,t,r){let n=await this.sequelize();const[i,a]=await n.query('\n            SELECT \n                JSON_EXTRACT(a.value, "$.traitType") as traitType,\n                JSON_EXTRACT(a.value, "$.value") as v,\n                t.currentOwnerId,\n                COUNT (t.tokenId) as c,\n                toko.ensName,\n                toko.lastActive\n            FROM token t, JSON_EACH(attributeSelections) a\n            INNER JOIN token_owner toko on t.currentOwnerId = toko._id\n            WHERE traitType = :traitType AND v = :value\n            GROUP BY currentOwnerId\n            ORDER BY c desc\n            LIMIT 15 \n        ',Object.assign({raw:!0,nest:!1,plain:!1,replacements:{traitType:e,value:t}},r));let o,s=i?.map((e=>({_id:e.currentOwnerId,count:e.c,lastActive:e.lastActive,ensName:e.ensName}))),c=0;for(let e=0;e<s.length;e++){let t=s[e];(!o||t.count<o)&&c++,t.rank==c&&t.overallRank==e+1||(t.rank=c,t.overallRank=e+1),o=t.count}return s}async getAttributes(e){let t=await this.sequelize();const[r,n]=await t.query("\n            select \n                DISTINCT JSON_EXTRACT(a.value, '$.traitType') traitType, JSON_EXTRACT(a.value, '$.value') v\n            FROM 'token' t, JSON_EACH(attributeSelections) a \n            ORDER BY traitType asc, v asc\n        ");return r}async getLargestSales(e){let t=await this.sequelize();const[r,n]=await t.query("\n            select \n                JSON_EXTRACT(transactionValue, '$.tokenPrice') as tokenPrice,\n                m.key as tokenId,\n                datetime(t.timestamp, 'unixepoch') as date,\n                JSON_EXTRACT(m.value, '$.price') as ethValue,\n                JSON_EXTRACT(m.value, '$.currency') as currency,\n                MAX(JSON_EXTRACT(m.value, '$.usdValue')) as usdValue\n            FROM 'processed_transaction' t, JSON_EACH(tokenPrice) m  \n            WHERE \n                tokenPrice IS NOT NULL\n            GROUP BY tokenId\n            ORDER BY usdValue desc \n            LIMIT :limit ;\n        ",{replacements:{limit:e}});return r.forEach((e=>{delete e.tokenPrice})),r}async getLargestSalesByAttribute(e,t,r,n){let i=await this.sequelize();const[a,o]=await i.query("\n            select \n                JSON_EXTRACT(transactionValue, '$.tokenPrice') as tokenPrice,\n                m.key as tokenId,\n                datetime(t.timestamp, 'unixepoch') as date,\n                JSON_EXTRACT(m.value, '$.price') as ethValue,\n                JSON_EXTRACT(m.value, '$.currency') as currency,\n                MAX(JSON_EXTRACT(m.value, '$.usdValue')) as usdValue\n            FROM 'processed_transaction' t, JSON_EACH(tokenPrice) m  \n            WHERE \n                tokenPrice IS NOT NULL AND\n                tokenId IN (select \n                    t.tokenId\n                FROM 'token' t, JSON_EACH(attributeSelections) a\n                WHERE\n                    JSON_EXTRACT(a.value, '$.traitType') = :traitType AND JSON_EXTRACT(a.value, '$.value') = :value\n            )\n            GROUP BY tokenId\n            ORDER BY usdValue desc \n            LIMIT :limit ;\n        ",Object.assign({replacements:{limit:r,traitType:e,value:t}},n));return a.forEach((e=>{delete e.tokenPrice})),a}async getSalesByAttribute(e,t){let r=await this.sequelize();const[n,i]=await r.query("\n            select \n                JSON_EXTRACT(transactionValue, '$.tokenPrice') as tokenPrice,\n                m.key as tokenId,\n                datetime(pt.timestamp, 'unixepoch') as date,\n                JSON_EXTRACT(m.value, '$.price') as ethValue,\n                JSON_EXTRACT(m.value, '$.currency') as currency,\n                JSON_EXTRACT(m.value, '$.usdValue') as usdValue\n            FROM 'processed_transaction' pt, JSON_EACH(tokenPrice) m  \n            WHERE \n                JSON_EXTRACT(transactionValue, '$.totalPrice') > 0 AND \n                tokenId IN (select \n                                t.tokenId as tokenId\n                            FROM 'token' t, JSON_EACH(attributeSelections) a\n                            WHERE\n                                JSON_EXTRACT(a.value, '$.traitType') = :traitType AND JSON_EXTRACT(a.value, '$.value') = :val\n                )\n            ORDER BY usdValue desc\n        ",{replacements:{traitType:e,val:t}});return n.forEach((e=>{delete e.tokenPrice})),n}async getPreviousByTokenId(e,t,r,n){let i=await this.sequelize();n=Object.assign({},n);const a=await i.query("\n            select \n                t.*\n            FROM 'processed_transaction' t, json_each(t.tokenIds) tok\n            WHERE \n                tok.value IS NOT NULL AND\n                tok.value = :tokenId AND\n                (t.blockNumber,t.transactionIndex) < (:blockNumber, :transactionIndex)\n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n            LIMIT 1;\n        ",Object.assign(n,{type:i.QueryTypes.SELECT,model:lc,mapToModel:!0,plain:!0,replacements:{tokenId:e,blockNumber:t,transactionIndex:r}}));if(a?._id)return lc.findByPk(a._id,n)}async getPreviousByInitiator(e,t,r,n){let i=await this.sequelize();n=Object.assign({},n);const a=await i.query("\n            select \n                t.*\n            FROM 'processed_transaction' t\n            WHERE \n                t.transactionFrom = :address AND\n                (t.blockNumber,t.transactionIndex) < (:blockNumber, :transactionIndex)\n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n            LIMIT 1;\n        ",Object.assign(n,{type:i.QueryTypes.SELECT,model:lc,mapToModel:!0,plain:!0,replacements:{address:e,blockNumber:t,transactionIndex:r}}));if(a?._id)return lc.findByPk(a._id,n)}async getPreviousByTrader(e,t,r,n){let i=await this.sequelize();n=Object.assign({},n);const a=await i.query("\n            select \n                t.*\n            FROM 'processed_transaction' t, json_each(t.tokenTraders) tr\n            WHERE\n                tr.value IS NOT NULL AND\n                tr.value = :address AND \n                (t.blockNumber,t.transactionIndex) < (:blockNumber, :transactionIndex)\n            ORDER BY t.blockNumber desc, t.transactionIndex desc\n            LIMIT 1;\n        ",Object.assign(n,{type:i.QueryTypes.SELECT,model:lc,mapToModel:!0,plain:!0,replacements:{address:e,blockNumber:t,transactionIndex:r}}));if(a?._id)return lc.findByPk(a._id,n)}};Lv([et("sequelize"),Dv("design:type",Function)],Uv.prototype,"sequelize",void 0),Lv([et("dayjs"),Dv("design:type",Object)],Uv.prototype,"dayjs",void 0),Uv=Lv([Ke()],Uv);let Bv=class{async get(e,t){return await os.findByPk(e,t)}async put(e,t){return await e.save(t),e}};Bv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke()],Bv);const{Op:jv}=a(58210);let Fv=class{async get(e,t){return Gn.findByPk(e,t)}async put(e,t){return await e.save(t),e}async putAll(e,t){for(let r of e)await this.put(r,t)}async remove(e,t){await e.destroy(t)}async findBetweenBlocks(e,t,r){let n={where:{_id:{[jv.and]:{[jv.gte]:e,[jv.lte]:t}}}};return n=Object.assign(n,r),Gn.findAll(n)}};Fv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke()],Fv);let $v=class{channelDir;constructor(e){this.channelDir=e}async getHome(){return JSON.parse(i().readFileSync(`${this.channelDir}/public/sync/tokenOwner/pages/home.json`,"utf8"))}async getTotals(){return JSON.parse(i().readFileSync(`${this.channelDir}/public/sync/tokenOwner/pages/total.json`,"utf8"))}async get(e){return JSON.parse(i().readFileSync(`${this.channelDir}/public/sync/tokenOwner/pages/${e}.json`,"utf8"))}};$v=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){return function(r,n){t(r,n,e)}}(0,et("channelDir")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],$v);const qv=r(import.meta.url)("child_process");let Hv=class{constructor(){}async runProcess(e){return new Promise((function(t,r){e.stdout.on("data",(e=>{process.stdout.write(e.toString())})),e.stderr.on("data",(e=>{process.stderr.write(e.toString())})),e.on("close",(r=>{t(e)}))}))}async spawnGenerateScript(e){let t=["--"];t.push(...process.argv?.slice(2)),await this.runProcess((0,qv.spawn)("npm run generate",t,{shell:!0,cwd:e}))}async spawnSyncScript(e){let t=["--"];t.push(...process.argv?.slice(2)),await this.runProcess((0,qv.spawn)("npm run sync",t,{shell:!0,cwd:e}))}async spawnGenerate(e,t,r){r.push("--channel-dir"),r.push(t),await this.runProcess((0,qv.spawn)(`node ${e}/node_modules/large-nft/public/large/generate/index.js`,r,{shell:!0,cwd:e}))}async spawnSync(e,t,r){r.push("--channel-dir"),r.push(t),await this.runProcess((0,qv.spawn)(`node ${e}/node_modules/large-nft/public/large/sync/index.js`,r,{shell:!0,cwd:e}))}async spawnGenerateAndSyncScripts(e){await this.spawnGenerateScript(e),await this.spawnSyncScript(e)}};Hv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],Hv);var Gv=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Wv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{Table:zv,Column:Jv,Model:Qv,HasMany:Kv,CreatedAt:Yv,UpdatedAt:Zv,DataType:Xv,PrimaryKey:ew}=a(10326);let tw=class extends Qv{};Gv([ew,Jv(Xv.STRING),Wv("design:type",String)],tw.prototype,"_id",void 0),Gv([Jv(Xv.DATE),Wv("design:type",Date)],tw.prototype,"lastModified",void 0),Gv([Jv(Xv.DATE),Wv("design:type",Date)],tw.prototype,"lastUpdated",void 0),Gv([Jv(Xv.DATE),Wv("design:type",Date)],tw.prototype,"dateCreated",void 0),tw=Gv([zv({tableName:"sync-status",createdAt:"dateCreated",updatedAt:"lastUpdated",paranoid:!1})],tw);var rw=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},nw=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let iw=class{syncStatusRepository;pluginModules;constructor(){}async get(e,t){return this.syncStatusRepository.get(e,t)}async put(e,t){return this.syncStatusRepository.put(e,t)}async remove(e,t){return this.syncStatusRepository.remove(e,t)}async getFilepaths(e,t){t||(t=[]);let r=i().readdirSync(e);for(let n of r)if(i().statSync(e+"/"+n).isDirectory())t=await this.getFilepaths(e+"/"+n,t);else{let r=vv().join("/",e,"/",n);t.push(r)}return t}async getFileStatus(e){let t=await this.getFilepaths(e),r={};for(let e of t){let t=i().statSync(e);r[e]={path:e,lastModified:t.mtime}}return r}async getOrCreate(e,t){let r=await this.syncStatusRepository.get(e,t);return r||(r=Object.assign(new tw,{_id:e})),r}async getChangedFiles(e,t){let r=await this.getFileStatus(e),n=[];for(let e of Object.keys(r)){let i=r[e].lastModified;(!t||i>t)&&n.push(e)}return n}async handleChangedFiles(e,t,r){let n=await this.getChangedFiles(t,r);for(let r of this.pluginModules)await r.handledChangedFiles({slug:e,publicPath:t,changedFiles:n})}};rw([et("SyncStatusRepository"),nw("design:type",Object)],iw.prototype,"syncStatusRepository",void 0),rw([et("pluginModules"),nw("design:type",Array)],iw.prototype,"pluginModules",void 0),iw=rw([Ke(),nw("design:paramtypes",[])],iw);let aw=class{async get(e,t){return tw.findByPk(e,t)}async put(e,t){return await e.save(t),e}async remove(e,t){await e.destroy(t)}};aw=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([Ke()],aw);var ow=a(33763),sw=a(27484),cw=a.n(sw),lw=a(84110),uw=a.n(lw),dw=a(56176),pw=a.n(dw);cw().extend(uw()),cw().extend(pw()),globalThis.Headers=ow.Z;const{Sequelize:hw}=a(10326);let fw;async function gw(e){if(fw)return fw;let r;return fw=e.customContainer,fw.bind("pluginModules").toConstantValue([]),fw.bind("PouchDB").toConstantValue({}),fw.bind("framework7").toConstantValue({}),fw.bind("baseURI").toConstantValue(e.baseURI),fw.bind("hostname").toConstantValue(e.hostname),fw.bind("channelDir").toConstantValue(e.channelDir),fw.bind("provider").toConstantValue((()=>{if(e.alchemy)return new hg(`https://eth-mainnet.g.alchemy.com/v2/${e.alchemy}`,Tf.from(1),{staticNetwork:Tf.from(1)})})),fw.bind("ethers").toConstantValue((async()=>t)),fw.bind("sequelize").toConstantValue((async(e,t)=>r||(r=new hw({logging:!1,database:t,dialect:"sqlite",storage:`${e}/sync/data.sqlite`,transactionType:"IMMEDIATE",models:[Gn,ws,lc,uc,dc,pc,Ns,zs,Jc,os]}),await r.sync(),await r.authenticate(),r))),fw.bind("dayjs").toConstantValue(cw()),fw.bind("WalletService").to(fl).inSingletonScope(),fw.bind("ChannelRepository").to(ot).inSingletonScope(),fw.bind("ItemRepository").to(lt).inSingletonScope(),fw.bind("AuthorRepository").to(at).inSingletonScope(),fw.bind("ImageRepository").to(st).inSingletonScope(),fw.bind("AnimationRepository").to(tt).inSingletonScope(),fw.bind("StaticPageRepository").to(ut).inSingletonScope(),fw.bind("ItemPageRepository").to(ct).inSingletonScope(),fw.bind("AttributeTotalRepository").to(it).inSingletonScope(),fw.bind("TokenOwnerRepository").to(xv).inSingletonScope(),fw.bind("TransactionRepository").to(Ov).inSingletonScope(),fw.bind("ProcessedTransactionRepository").to(Uv).inSingletonScope(),fw.bind("BlockRepository").to(Fv).inSingletonScope(),fw.bind("TokenOwnerPageRepository").to($v).inSingletonScope(),fw.bind("TokenRepository").to(Cv).inSingletonScope(),fw.bind("ENSRepository").to(Bv).inSingletonScope(),fw.bind("SyncStatusRepository").to(aw).inSingletonScope(),fw.bind("ReaderSettingsRepository").toConstantValue({get:function(){throw new Error("Function not implemented.")},put:function(e){throw new Error("Function not implemented.")}}),fw.bind("ContractStateRepository").to(Ev).inSingletonScope(),fw.bind("ComponentStateRepository").toConstantValue({get:function(e){throw new Error("Function not implemented.")},put:function(e){throw new Error("Function not implemented.")}}),fw.bind("RowItemViewModelRepository").toConstantValue({load:function(){throw new Error("Function not implemented.")},get:function(e){throw new Error("Function not implemented.")},put:function(e){throw new Error("Function not implemented.")},getByTokenIds:function(e){throw new Error("Function not implemented.")}}),fw.bind("SchemaService").to(or).inSingletonScope(),fw.bind("DatabaseService").to(Qt).inSingletonScope(),fw.bind("ChannelWebService").to(Cl).inSingletonScope(),fw.bind("ItemWebService").to(Fl).inSingletonScope(),fw.bind("AuthorWebService").to(Nl).inSingletonScope(),fw.bind("StaticPageService").to(Il).inSingletonScope(),fw.bind("ItemPageService").to(Sl).inSingletonScope(),fw.bind("PagingService").to(Yt).inSingletonScope(),fw.bind("AnimationService").to(ht).inSingletonScope(),fw.bind("ImageService").to(vl).inSingletonScope(),fw.bind("ItemService").to(bc).inSingletonScope(),fw.bind("ChannelService").to(St).inSingletonScope(),fw.bind("AuthorService").to(vt).inSingletonScope(),fw.bind("UiService").to(pl).inSingletonScope(),fw.bind("QueueService").to(Xt).inSingletonScope(),fw.bind("ImageGeneratorService").to(Kt).inSingletonScope(),fw.bind("ReaderSettingsService").to(Rl).inSingletonScope(),fw.bind("TransactionIndexerService").to(dl).inSingletonScope(),fw.bind("ContractStateService").to(Rt).inSingletonScope(),fw.bind("ERCEventService").to(Qo).inSingletonScope(),fw.bind("AttributeTotalService").to(mt).inSingletonScope(),fw.bind("ComponentStateService").to(Wt).inSingletonScope(),fw.bind("ReaderSettingsService").to(Rl).inSingletonScope(),fw.bind("QuillService").to(nr).inSingletonScope(),fw.bind("GenerateService").to(Sv).inSingletonScope(),fw.bind("TokenOwnerService").to(gc).inSingletonScope(),fw.bind("TransactionService").to(Yc).inSingletonScope(),fw.bind("ProcessedTransactionService").to(cl).inSingletonScope(),fw.bind("BlockService").to(zo).inSingletonScope(),fw.bind("TokenOwnerPageService").to(_v).inSingletonScope(),fw.bind("TokenService").to(Ac).inSingletonScope(),fw.bind("ENSService").to(ls).inSingletonScope(),fw.bind("SpawnService").to(Hv).inSingletonScope(),fw.bind("SyncStatusService").to(iw).inSingletonScope(),fw}const mw="0.24.3",yw=JSON.parse('{"Kn":"http://localhost:8081","v2":"/","pY":100000,"_p":[{"name":"OpenSea","assetLink":"https://opensea.io/assets/ethereum/{contractId}/{tokenId}"},{"name":"Blur","assetLink":"https://blur.io/asset/{contractIdLowercase}/{tokenId}"},{"name":"LooksRare","link":"https://looksrare.org/collections/{contractId}","assetLink":"https://looksrare.org/collections/{contractId}/{tokenId}"}]}');var bw=a(86021),vw=a.n(bw);class ww{static getLocalDirectories(){let e=ww.parseArgumentsIntoOptions(process.argv);return{runDir:process.env.INIT_CWD?process.env.INIT_CWD:e.channelDir,publicPath:`${e.channelDir}/public`,channelDir:e.channelDir}}static async getConfig(e){let t=ww.parseArgumentsIntoOptions(process.argv);if(e||(e=JSON.parse(i().readFileSync(`${t.channelDir?t.channelDir:"."}/large-config.json`,"utf8"))),e.channelDir=t.channelDir,e.runDir=process.env.INIT_CWD?process.env.INIT_CWD:e.channelDir,e.publicPath=`${e.channelDir}/public`,e.VERSION=mw,"dev"==t.env?(e.hostname=e?.env?.dev?.hostname||yw.Kn,e.baseURL=e?.env?.dev?.baseURL||yw.v2,e.libraryURL=e?.env?.dev?.libraryURL||e?.libraryURL,e.largeURL=e?.env?.dev?.largeURL||e?.largeURL,e.maxItems=yw.pY):(e.baseURL||(e.baseURL=yw.v2),e.hostname||(e.hostname=yw.Kn),e.maxItems||(e.maxItems=yw.pY)),e.marketplaces?.length>0)for(let t of e.marketplaces){let e=yw._p.filter((e=>e.name==t.name));e?.length>0&&(t.assetLink||(t.assetLink=e[0].assetLink),t.link||(t.link=e[0].link))}return e.alchemy=t.alchemy,e.syncRate=t.syncRate,e.syncDir=t.syncDir,e.env=t.env,e.clear=t.clear,e}static getSyncLibraryConfig(e){let t=ww.parseSyncLibraryArgsIntoOptions(process.argv),r=t.syncDir?t.syncDir:process.env.INIT_CWD;if(r||(r="."),!r)throw new Error("No base directory configured. Use --sync-dir flag on CLI.");return e||(e=JSON.parse(i().readFileSync(`${r}/large-config.json`,"utf8"))),"dev"==t.env&&(e.hostname=e?.env?.dev?.hostname||e?.hostname),e.VERSION=mw,e.baseDir=r,e.generate=t.generate,e.env=t.env,e.clear=t.clear,e.syncPushRate=t.syncPushRate,e}static getImportConfig(){let e=ww.parseImportArgsIntoOptions(process.argv),t=process.env.INIT_CWD,r={};return r.VERSION=mw,r.baseDir=t,r.env=e.env,r.forkType=e.forkType,r.contract=e.contract,r.alchemy=e.alchemy,r}static getPublishConfig(e){let t=process.env.INIT_CWD;return e||(e=i().existsSync(`${t}/large-publish.json`)?JSON.parse(i().readFileSync(`${t}/large-publish.json`,"utf8")):{}),e.VERSION=mw,e.baseDir=t,e}static getExportConfig(e){let t=ww.parseExportArgsIntoOptions(process.argv),r=process.env.INIT_CWD;return e||(e=JSON.parse(i().readFileSync(`${r}/large-config.json`,"utf8"))),e.VERSION=mw,e.baseDir=r,e.env=t.env,e.channel=t.channel,e}static parseArgumentsIntoOptions(e){const t=vw()({"--env":String,"--alchemy":String,"--sync-rate":String,"--sync-dir":String,"--channel-dir":String,"--clear":String,"--generate":String},{argv:e.slice(2)});return{env:t["--env"]||"production",alchemy:t["--alchemy"]||"",syncRate:t["--sync-rate"]?parseInt(t["--sync-rate"]):3e4,syncDir:t["--sync-dir"]||"",channelDir:t["--channel-dir"]||".",clear:"true"==t["--clear"]}}static parseSyncLibraryArgsIntoOptions(e){const t=vw()({"--sync-dir":String,"--env":String,"--alchemy":String,"--clear":String,"--generate":String,"--sync-push-rate":String},{argv:e.slice(2)});return{syncDir:t["--sync-dir"]||"",env:t["--env"]||"production",alchemy:t["--alchemy"]||"",clear:"true"==t["--clear"],generate:"true"==t["--generate"],syncPushRate:t["--sync-push-rate"]?parseInt(t["--sync-push-rate"]):3e4}}static parseImportArgsIntoOptions(e){const t=vw()({"--env":String,"--fork-type":String,"--contract":String,"--alchemy":String},{argv:e.slice(2)});return{env:t["--env"]||"production",forkType:t["--fork-type"]||"existing",contract:t["--contract"]||void 0,alchemy:t["--alchemy"]||""}}static parsePublishArgsIntoOptions(e){return{import:"true"==vw()({"--import":String},{argv:e.slice(2)})["--import"]}}static parseExportArgsIntoOptions(e){const t=vw()({"--env":String,"--channel":String},{argv:e.slice(2)});return{env:t["--env"]||"production",channel:t["--fork-type"]||void 0}}}let Aw,Sw,Ew,Tw=async()=>{let e=await ww.getConfig();if(e.alchemy){let n=new Qe;n.bind("channelId").toConstantValue((()=>Aw)),n.bind("contracts").toConstantValue((async()=>{let t=JSON.parse(i().readFileSync(`${e.channelDir}/public/backup/contract/contract.json`,"utf8")),r=JSON.parse(i().readFileSync(`${e.channelDir}/public/backup/contract/contract-abi.json`,"utf8"));return t.contractAddress?(r.Channel.address=t.contractAddress,r):[]}));let a={customContainer:n,channelDir:e.channelDir,runDir:e.runDir,baseURI:e.baseURI,hostname:e.hostname,alchemy:e.alchemy};n=await gw(a);let o=n.get("SchemaService");await o.load(["items"]);let s=n.get("WalletService");await s.initProvider();let c=n.get("ChannelWebService"),l=await c.get(0);Aw=l.channel._id;let u=n.get("sequelize"),d=await u(e.channelDir,Aw);await d.query("PRAGMA busy_timeout=5000;"),await d.query("PRAGMA journal_mode=WAL;"),e.clear&&(console.time("Clearing processed transaction data..."),await ws.drop(),await dc.drop(),await pc.drop(),await uc.drop(),await lc.drop(),await zs.drop(),await Ns.drop(),i().existsSync(`${e.publicPath}/sync`)&&i().rmSync(`${e.publicPath}/sync`,{recursive:!0}),console.timeEnd("Clearing processed transaction data...")),await d.sync(),Sw=n.get("TransactionService"),Ew=n.get("BlockService");let p=n.get("TransactionIndexerService"),h=n.get("TokenService"),f=n.get("TokenOwnerService"),g=n.get("ProcessedTransactionService"),m=n.get("TokenOwnerPageService"),y=n.get("ContractStateService"),b=n.get("ItemService"),v=await s.getContract("Channel"),w={processedTransactionViewModels:{},ownersToUpdate:{},tokensToUpdate:{}};async function t(e,t){i().mkdirSync(t,{recursive:!0});let r=[];for(let t=0;t<e.length;t+=35){let n=e.slice(t,t+35);r.push(n)}let n=1;for(let a of r)i().writeFileSync(`${t}/${n}.json`,Buffer.from(JSON.stringify({items:a,totalMatches:e.length}))),n++}async function r(t){console.log(`Updating latest info: ${t?.mostRecentTransaction?.transaction._id} / ${(new Date).toJSON()}`),i().existsSync(`${e.publicPath}/sync/transactions`)||i().mkdirSync(`${e.publicPath}/sync/transactions`,{recursive:!0});let r=await h.getLatest();i().writeFileSync(`${e.publicPath}/sync/transactions/latest.json`,Buffer.from(JSON.stringify({_id:t?.mostRecentTransaction?.transaction._id,latestToken:r?.tokenId,lastUpdated:(new Date).toJSON()})))}await d.transaction((async e=>{await p.init(v,{transaction:e})})),async function n(){try{await d.transaction((async e=>{w||(w={processedTransactionViewModels:{},ownersToUpdate:{},tokensToUpdate:{}}),w=await p.index(w,{transaction:e})})),w?.isCurrent?(w?.processedTransactionViewModels&&Object.keys(w?.processedTransactionViewModels).length>0?(await d.transaction((async r=>{await async function(r,n){await async function(e){i().existsSync(`${e.publicPath}/sync/transactions/activity`)||i().mkdirSync(`${e.publicPath}/sync/transactions/activity`,{recursive:!0}),i().existsSync(`${e.publicPath}/sync/tokens`)||i().mkdirSync(`${e.publicPath}/sync/tokens`,{recursive:!0}),i().existsSync(`${e.publicPath}/sync/sales`)||i().mkdirSync(`${e.publicPath}/sync/sales`,{recursive:!0}),i().existsSync(`${e.publicPath}/sync/attributes`)||i().mkdirSync(`${e.publicPath}/sync/attributes`,{recursive:!0})}(e),await async function(t){console.time(`Writing ${Object.keys(t.processedTransactionViewModels).length} transactions to disk.`);for(let r of Object.keys(t.processedTransactionViewModels)){let n=t.processedTransactionViewModels[r];i().writeFileSync(`${e.publicPath}/sync/transactions/${n.transaction._id}.json`,Buffer.from(JSON.stringify(n)))}console.timeEnd(`Writing ${Object.keys(t.processedTransactionViewModels).length} transactions to disk.`)}(r),await async function(t,r){console.time(`Writing ${Object.keys(t.tokensToUpdate).length} updated tokens to disk.`);for(let n of Object.keys(t.tokensToUpdate)){i().existsSync(`${e.publicPath}/sync/tokens/${n}`)||i().mkdirSync(`${e.publicPath}/sync/tokens/${n}`,{recursive:!0});let a=[];t.tokensToUpdate[n].transactionsViewModel.transactions.map((e=>a.push(...e.events))),t.tokensToUpdate[n].transactionsViewModel.ens=await g.getEnsFromEvents(a,r),i().writeFileSync(`${e.publicPath}/sync/tokens/${n}/token.json`,Buffer.from(JSON.stringify(t.tokensToUpdate[n])))}console.timeEnd(`Writing ${Object.keys(t.tokensToUpdate).length} updated tokens to disk.`)}(r,n),await async function(r,n){console.time(`Writing ${Object.keys(r.ownersToUpdate).length} updated token owners to disk.`);for(let a of Object.keys(r.ownersToUpdate)){let o=r.ownersToUpdate[a],s=await f.get(r.ownersToUpdate[a]._id);o.rank=s.rank,o.overallRank=s.overallRank;let c=JSON.parse(JSON.stringify(o));i().existsSync(`${e.publicPath}/sync/tokenOwner/${a}/activity`)||i().mkdirSync(`${e.publicPath}/sync/tokenOwner/${a}/activity`,{recursive:!0}),i().existsSync(`${e.publicPath}/sync/tokenOwner/${a}/tokens`)||i().mkdirSync(`${e.publicPath}/sync/tokenOwner/${a}/tokens`,{recursive:!0}),c.transactionsViewModel?.transactions?.reverse();let l=await g.buildTransactionPages(c.transactionsViewModel,25,n);delete c.transactionsViewModel,c.salesReport=await g.getTokenOwnerSalesReport(c._id);let u=1;for(let t of l)i().writeFileSync(`${e.publicPath}/sync/tokenOwner/${a}/activity/${u}.json`,Buffer.from(JSON.stringify(t))),u++;c.totalTransactionPages=l?.length,i().writeFileSync(`${e.publicPath}/sync/tokenOwner/${a}/tokenOwner.json`,Buffer.from(JSON.stringify(c))),i().writeFileSync(`${e.publicPath}/sync/tokenOwner/${a}/ens.json`,Buffer.from(JSON.stringify({name:c.ensName})));let d=c.tokenIds.map((e=>parseInt(e)));d.sort(((e,t)=>e-t));let p=await b.getRowItemViewModelsByTokenIds(d);await t(p,`${e.publicPath}/sync/tokenOwner/${a}/tokens`),s.salesReport=c.salesReport,await f.put(s,n)}console.timeEnd(`Writing ${Object.keys(r.ownersToUpdate).length} updated token owners to disk.`)}(r,n),await async function(t,r){console.time("Writing activity feed to disk.");let n=await g.list(250,0,r),a=await g.translateTransactionsToViewModels(n),o=await g.buildTransactionPages(a,25),s=1;for(let t of o)i().writeFileSync(`${e.publicPath}/sync/transactions/activity/${s}.json`,Buffer.from(JSON.stringify(t))),s++;console.timeEnd("Writing activity feed to disk.")}(0,n),await async function(t){console.time("Writing token owner pages to disk.");let r=await f.list(1e5,0,t),n=await m.buildTokenOwnerPages(r,100),a=0;await i().promises.mkdir(`${e.publicPath}/sync/tokenOwner/pages`,{recursive:!0});for(let t of n)await i().promises.writeFile(`${e.publicPath}/sync/tokenOwner/pages/${a}.json`,JSON.stringify(t)),a++;await i().promises.writeFile(`${e.publicPath}/sync/tokenOwner/pages/total.json`,JSON.stringify({totalPages:n.length,totalRecords:r.length})),console.timeEnd("Writing token owner pages to disk.")}(n),await async function(){console.time("Generating sales report...");let t=await g.getSalesReport();i().writeFileSync(`${e.publicPath}/sync/sales/overall.json`,Buffer.from(JSON.stringify(t))),console.timeEnd("Generating sales report..."),console.time("Generating largest sales...");let r=await g.getLargestSales(100);i().writeFileSync(`${e.publicPath}/sync/sales/largest-100.json`,Buffer.from(JSON.stringify(r))),console.timeEnd("Generating largest sales..."),console.time("Generating attribute stats...");let n=await g.getAttributeSalesReport();for(let t of Object.keys(n.owners)){let r=n.totals.filter((e=>`${e.traitType}::::${e.value}`==t));i().existsSync(`${e.publicPath}/sync/attributes/${g.attributeKeyToInteger(t)}`)||i().mkdirSync(`${e.publicPath}/sync/attributes/${g.attributeKeyToInteger(t)}`),i().writeFileSync(`${e.publicPath}/sync/attributes/${g.attributeKeyToInteger(t)}/attribute.json`,Buffer.from(JSON.stringify({key:t,totals:r?.length>0?r[0]:void 0,owners:n.owners[t],largestSales:n.largestSales[t],rowItemViewModels:n.rowItemViewModels[t]})))}i().writeFileSync(`${e.publicPath}/sync/attributes/totals.json`,Buffer.from(JSON.stringify(n.totals))),console.timeEnd("Generating attribute stats...")}(),await async function(t){let r={};r.recent=await g.translateTransactionsToViewModels(await g.list(5,0,t),(new Date).toJSON()),r.largestSales=await g.getLargestSales(15),r.salesReport=await g.getSalesReport(),await i().promises.writeFile(`${e.publicPath}/sync/home.json`,Buffer.from(JSON.stringify(r)))}(n)}(w,{transaction:r})})),await r(w),w={processedTransactionViewModels:{},ownersToUpdate:{},tokensToUpdate:{}}):(await r(w),console.log("No results to process.")),await y.put(p.contractState),e.syncRate>0?(setTimeout(n,e.syncRate),console.log("Complete...waiting...")):console.log("Sync complete.")):(w?console.log(`Batch complete. Indexed to block #${w.endBlock} of #${w.blockNumber}`):console.log("Batch complete."),n())}catch(e){console.log(e.message)}}()}else console.log("No ethereum connection configured.")};Tw()})();var s=o.Z;export{s as sync};
//# sourceMappingURL=index.js.map