<!--suppress JSAnnotator -->
<template>

    <div class="page" data-name="publish">
  
      <${Navbar} />
  
      <div class="page-content">
        <div class="row">
  
          <div class="col-100 large-50 center">

            <ul class="breadcrumb">
                <li><a href="/admin/channel/show/${channelViewModel.channel._id}">${channelViewModel.channel.title}</a></li>
                <li>Publish</li>
              </ul>

            <div class="block-title">Verify Collection Details</div>
            <div class="card channel-card">

              <a href="/admin/channel/show/${channelViewModel.channel._id}">
                <div class="card-header banner" id="publish-preview-banner">

                      ${channelViewModel.coverImage ? $h`
                      <img src="${channelViewModel.coverImage.url}" class="avatar" />
                    ` : $h`
                      <i class="material-icons avatar">image</i>
                    `}

                </div>
              </a>

              <div class="card-content">
                  <div class="card-content card-content-padding">
                      <div class="title">
                        <a href="/admin/channel/show/${channelViewModel.channel._id}">
                          ${channelViewModel.channel.title}
                        </a>
                      </div>

                      ${channelViewModel.authorDisplayName ? $h`
                        <div class="name">
                          By <a href="/admin/author/show/${channelViewModel?.author._id}">${channelViewModel?.authorDisplayName}</a>
                        </div>
                      ` : $h``}

                      <div class="description" innerHTML="${channelViewModel.channel.descriptionHTML}"></div>
                     
                  </div>
              </div>
            </div>

            <div class="block-title">Verify NFT Details</div>
            <div class="block"></div>

            <div class="block-title">Verify Mint Info</div>
            <div class="block"></div>

            <div class="block-title">Deploy To IPFS</div>
            <div class="block"></div>

            <div class="block-title">Deploy To Pinata</div>
            <div class="block"></div>

            <div class="block-title">Deploy Contract</div>
            <div class="block"></div>

          </div>
  
        </div>
      </div>
  
    </div>
  
  </template>
  
  <style>
    
  </style>
  
  <script>
  
    import moment from "moment"
  
    import { ContainerService } from "../../../service/core/container-service"

    import Navbar from "../../admin/navbar.f7.html"
    
  
    export default (props, { $, $h, $on, $f7, $update }) => {
  
        let channelViewModel = props.channelViewModel

        $on('pageInit', async () => {

          //Set banner
          if (channelViewModel.coverBanner) {
            document.getElementById("publish-preview-banner").style = `background-image: url(${channelViewModel.coverBanner.url});`
          }

        })

        //Preview channel info

        //Preview item info

        //Preview mint info

        //Generate bundle and deploy to Pinata

        //Deploy contract

        //Update database with deployment info

        return $render
    }
  </script>